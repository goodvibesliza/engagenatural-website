var rae=Object.defineProperty;var iae=(t,e,n)=>e in t?rae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var rt=(t,e,n)=>iae(t,typeof e!="symbol"?e+"":e,n);function sae(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uE={exports:{}},sy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X3;function aae(){if(X3)return sy;X3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return sy.Fragment=e,sy.jsx=n,sy.jsxs=n,sy}var Q3;function oae(){return Q3||(Q3=1,uE.exports=aae()),uE.exports}var o=oae(),dE={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z3;function lae(){if(Z3)return It;Z3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function g(z){return z===null||typeof z!="object"?null:(z=m&&z[m]||z["@@iterator"],typeof z=="function"?z:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function x(z,Z,te){this.props=z,this.context=Z,this.refs=_,this.updater=te||v}x.prototype.isReactComponent={},x.prototype.setState=function(z,Z){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Z,"setState")},x.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=x.prototype;function A(z,Z,te){this.props=z,this.context=Z,this.refs=_,this.updater=te||v}var C=A.prototype=new j;C.constructor=A,b(C,x.prototype),C.isPureReactComponent=!0;var P=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function E(z,Z,te,ne,ge,Ce){return te=Ce.ref,{$$typeof:t,type:z,key:Z,ref:te!==void 0?te:null,props:Ce}}function k(z,Z){return E(z.type,Z,void 0,void 0,void 0,z.props)}function O(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function D(z){var Z={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(te){return Z[te]})}var M=/\/+/g;function V(z,Z){return typeof z=="object"&&z!==null&&z.key!=null?D(""+z.key):Z.toString(36)}function $(){}function X(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then($,$):(z.status="pending",z.then(function(Z){z.status==="pending"&&(z.status="fulfilled",z.value=Z)},function(Z){z.status==="pending"&&(z.status="rejected",z.reason=Z)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function H(z,Z,te,ne,ge){var Ce=typeof z;(Ce==="undefined"||Ce==="boolean")&&(z=null);var Te=!1;if(z===null)Te=!0;else switch(Ce){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(z.$$typeof){case t:case e:Te=!0;break;case h:return Te=z._init,H(Te(z._payload),Z,te,ne,ge)}}if(Te)return ge=ge(z),Te=ne===""?"."+V(z,0):ne,P(ge)?(te="",Te!=null&&(te=Te.replace(M,"$&/")+"/"),H(ge,Z,te,"",function(oe){return oe})):ge!=null&&(O(ge)&&(ge=k(ge,te+(ge.key==null||z&&z.key===ge.key?"":(""+ge.key).replace(M,"$&/")+"/")+Te)),Z.push(ge)),1;Te=0;var je=ne===""?".":ne+":";if(P(z))for(var ce=0;ce<z.length;ce++)ne=z[ce],Ce=je+V(ne,ce),Te+=H(ne,Z,te,Ce,ge);else if(ce=g(z),typeof ce=="function")for(z=ce.call(z),ce=0;!(ne=z.next()).done;)ne=ne.value,Ce=je+V(ne,ce++),Te+=H(ne,Z,te,Ce,ge);else if(Ce==="object"){if(typeof z.then=="function")return H(X(z),Z,te,ne,ge);throw Z=String(z),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Te}function U(z,Z,te){if(z==null)return z;var ne=[],ge=0;return H(z,ne,"","",function(Ce){return Z.call(te,Ce,ge++)}),ne}function q(z){if(z._status===-1){var Z=z._result;Z=Z(),Z.then(function(te){(z._status===0||z._status===-1)&&(z._status=1,z._result=te)},function(te){(z._status===0||z._status===-1)&&(z._status=2,z._result=te)}),z._status===-1&&(z._status=0,z._result=Z)}if(z._status===1)return z._result.default;throw z._result}var G=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function W(){}return It.Children={map:U,forEach:function(z,Z,te){U(z,function(){Z.apply(this,arguments)},te)},count:function(z){var Z=0;return U(z,function(){Z++}),Z},toArray:function(z){return U(z,function(Z){return Z})||[]},only:function(z){if(!O(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},It.Component=x,It.Fragment=n,It.Profiler=i,It.PureComponent=A,It.StrictMode=r,It.Suspense=u,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,It.__COMPILER_RUNTIME={__proto__:null,c:function(z){return T.H.useMemoCache(z)}},It.cache=function(z){return function(){return z.apply(null,arguments)}},It.cloneElement=function(z,Z,te){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ne=b({},z.props),ge=z.key,Ce=void 0;if(Z!=null)for(Te in Z.ref!==void 0&&(Ce=void 0),Z.key!==void 0&&(ge=""+Z.key),Z)!I.call(Z,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&Z.ref===void 0||(ne[Te]=Z[Te]);var Te=arguments.length-2;if(Te===1)ne.children=te;else if(1<Te){for(var je=Array(Te),ce=0;ce<Te;ce++)je[ce]=arguments[ce+2];ne.children=je}return E(z.type,ge,void 0,void 0,Ce,ne)},It.createContext=function(z){return z={$$typeof:a,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:s,_context:z},z},It.createElement=function(z,Z,te){var ne,ge={},Ce=null;if(Z!=null)for(ne in Z.key!==void 0&&(Ce=""+Z.key),Z)I.call(Z,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ge[ne]=Z[ne]);var Te=arguments.length-2;if(Te===1)ge.children=te;else if(1<Te){for(var je=Array(Te),ce=0;ce<Te;ce++)je[ce]=arguments[ce+2];ge.children=je}if(z&&z.defaultProps)for(ne in Te=z.defaultProps,Te)ge[ne]===void 0&&(ge[ne]=Te[ne]);return E(z,Ce,void 0,void 0,null,ge)},It.createRef=function(){return{current:null}},It.forwardRef=function(z){return{$$typeof:l,render:z}},It.isValidElement=O,It.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:q}},It.memo=function(z,Z){return{$$typeof:d,type:z,compare:Z===void 0?null:Z}},It.startTransition=function(z){var Z=T.T,te={};T.T=te;try{var ne=z(),ge=T.S;ge!==null&&ge(te,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(W,G)}catch(Ce){G(Ce)}finally{T.T=Z}},It.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},It.use=function(z){return T.H.use(z)},It.useActionState=function(z,Z,te){return T.H.useActionState(z,Z,te)},It.useCallback=function(z,Z){return T.H.useCallback(z,Z)},It.useContext=function(z){return T.H.useContext(z)},It.useDebugValue=function(){},It.useDeferredValue=function(z,Z){return T.H.useDeferredValue(z,Z)},It.useEffect=function(z,Z,te){var ne=T.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(z,Z)},It.useId=function(){return T.H.useId()},It.useImperativeHandle=function(z,Z,te){return T.H.useImperativeHandle(z,Z,te)},It.useInsertionEffect=function(z,Z){return T.H.useInsertionEffect(z,Z)},It.useLayoutEffect=function(z,Z){return T.H.useLayoutEffect(z,Z)},It.useMemo=function(z,Z){return T.H.useMemo(z,Z)},It.useOptimistic=function(z,Z){return T.H.useOptimistic(z,Z)},It.useReducer=function(z,Z,te){return T.H.useReducer(z,Z,te)},It.useRef=function(z){return T.H.useRef(z)},It.useState=function(z){return T.H.useState(z)},It.useSyncExternalStore=function(z,Z,te){return T.H.useSyncExternalStore(z,Z,te)},It.useTransition=function(){return T.H.useTransition()},It.version="19.1.0",It}var J3;function pS(){return J3||(J3=1,dE.exports=lae()),dE.exports}var N=pS();const Q=Sn(N),QH=sae({__proto__:null,default:Q},[N]);var fE={exports:{}},ay={},hE={exports:{}},mE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e6;function cae(){return e6||(e6=1,function(t){function e(U,q){var G=U.length;U.push(q);e:for(;0<G;){var W=G-1>>>1,z=U[W];if(0<i(z,q))U[W]=q,U[G]=z,G=W;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var q=U[0],G=U.pop();if(G!==q){U[0]=G;e:for(var W=0,z=U.length,Z=z>>>1;W<Z;){var te=2*(W+1)-1,ne=U[te],ge=te+1,Ce=U[ge];if(0>i(ne,G))ge<z&&0>i(Ce,ne)?(U[W]=Ce,U[ge]=G,W=ge):(U[W]=ne,U[te]=G,W=te);else if(ge<z&&0>i(Ce,G))U[W]=Ce,U[ge]=G,W=ge;else break e}}return q}function i(U,q){var G=U.sortIndex-q.sortIndex;return G!==0?G:U.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],h=1,m=null,g=3,v=!1,b=!1,_=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function P(U){for(var q=n(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=U)r(d),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(d)}}function T(U){if(_=!1,P(U),!b)if(n(u)!==null)b=!0,I||(I=!0,V());else{var q=n(d);q!==null&&H(T,q.startTime-U)}}var I=!1,E=-1,k=5,O=-1;function D(){return x?!0:!(t.unstable_now()-O<k)}function M(){if(x=!1,I){var U=t.unstable_now();O=U;var q=!0;try{e:{b=!1,_&&(_=!1,A(E),E=-1),v=!0;var G=g;try{t:{for(P(U),m=n(u);m!==null&&!(m.expirationTime>U&&D());){var W=m.callback;if(typeof W=="function"){m.callback=null,g=m.priorityLevel;var z=W(m.expirationTime<=U);if(U=t.unstable_now(),typeof z=="function"){m.callback=z,P(U),q=!0;break t}m===n(u)&&r(u),P(U)}else r(u);m=n(u)}if(m!==null)q=!0;else{var Z=n(d);Z!==null&&H(T,Z.startTime-U),q=!1}}break e}finally{m=null,g=G,v=!1}q=void 0}}finally{q?V():I=!1}}}var V;if(typeof C=="function")V=function(){C(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,X=$.port2;$.port1.onmessage=M,V=function(){X.postMessage(null)}}else V=function(){j(M,0)};function H(U,q){E=j(function(){U(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(U){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var G=g;g=q;try{return U()}finally{g=G}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(U,q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var G=g;g=U;try{return q()}finally{g=G}},t.unstable_scheduleCallback=function(U,q,G){var W=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?W+G:W):G=W,U){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=G+z,U={id:h++,callback:q,priorityLevel:U,startTime:G,expirationTime:z,sortIndex:-1},G>W?(U.sortIndex=G,e(d,U),n(u)===null&&U===n(d)&&(_?(A(E),E=-1):_=!0,H(T,G-W))):(U.sortIndex=z,e(u,U),b||v||(b=!0,I||(I=!0,V()))),U},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(U){var q=g;return function(){var G=g;g=q;try{return U.apply(this,arguments)}finally{g=G}}}}(mE)),mE}var t6;function uae(){return t6||(t6=1,hE.exports=cae()),hE.exports}var pE={exports:{}},Pi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n6;function dae(){if(n6)return Pi;n6=1;var t=pS();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:u,containerInfo:d,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Pi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pi.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,h)},Pi.flushSync=function(u){var d=a.T,h=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=h,r.d.f()}},Pi.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Pi.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Pi.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:v}):h==="script"&&r.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Pi.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Pi.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Pi.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Pi.requestFormReset=function(u){r.d.r(u)},Pi.unstable_batchedUpdates=function(u,d){return u(d)},Pi.useFormState=function(u,d,h){return a.H.useFormState(u,d,h)},Pi.useFormStatus=function(){return a.H.useHostTransitionStatus()},Pi.version="19.1.0",Pi}var r6;function ZH(){if(r6)return pE.exports;r6=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pE.exports=dae(),pE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i6;function fae(){if(i6)return ay;i6=1;var t=uae(),e=pS(),n=ZH();function r(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var f=c,p=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(p=f.return),c=f.return;while(c)}return f.tag===3?p:null}function a(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function l(c){if(s(c)!==c)throw Error(r(188))}function u(c){var f=c.alternate;if(!f){if(f=s(c),f===null)throw Error(r(188));return f!==c?null:c}for(var p=c,y=f;;){var S=p.return;if(S===null)break;var R=S.alternate;if(R===null){if(y=S.return,y!==null){p=y;continue}break}if(S.child===R.child){for(R=S.child;R;){if(R===p)return l(S),c;if(R===y)return l(S),f;R=R.sibling}throw Error(r(188))}if(p.return!==y.return)p=S,y=R;else{for(var B=!1,Y=S.child;Y;){if(Y===p){B=!0,p=S,y=R;break}if(Y===y){B=!0,y=S,p=R;break}Y=Y.sibling}if(!B){for(Y=R.child;Y;){if(Y===p){B=!0,p=R,y=S;break}if(Y===y){B=!0,y=R,p=S;break}Y=Y.sibling}if(!B)throw Error(r(189))}}if(p.alternate!==y)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?c:f}function d(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=d(c),f!==null)return f;c=c.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function V(c){return c===null||typeof c!="object"?null:(c=M&&c[M]||c["@@iterator"],typeof c=="function"?c:null)}var $=Symbol.for("react.client.reference");function X(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===$?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case b:return"Fragment";case x:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList";case O:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case v:return"Portal";case C:return(c.displayName||"Context")+".Provider";case A:return(c._context.displayName||"Context")+".Consumer";case P:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case E:return f=c.displayName||null,f!==null?f:X(c.type)||"Memo";case k:f=c._payload,c=c._init;try{return X(c(f))}catch{}}return null}var H=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},W=[],z=-1;function Z(c){return{current:c}}function te(c){0>z||(c.current=W[z],W[z]=null,z--)}function ne(c,f){z++,W[z]=c.current,c.current=f}var ge=Z(null),Ce=Z(null),Te=Z(null),je=Z(null);function ce(c,f){switch(ne(Te,f),ne(Ce,c),ne(ge,null),f.nodeType){case 9:case 11:c=(c=f.documentElement)&&(c=c.namespaceURI)?j3(c):0;break;default:if(c=f.tagName,f=f.namespaceURI)f=j3(f),c=N3(f,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}te(ge),ne(ge,c)}function oe(){te(ge),te(Ce),te(Te)}function we(c){c.memoizedState!==null&&ne(je,c);var f=ge.current,p=N3(f,c.type);f!==p&&(ne(Ce,c),ne(ge,p))}function Ne(c){Ce.current===c&&(te(ge),te(Ce)),je.current===c&&(te(je),ey._currentValue=G)}var ue=Object.prototype.hasOwnProperty,Ue=t.unstable_scheduleCallback,We=t.unstable_cancelCallback,jt=t.unstable_shouldYield,ht=t.unstable_requestPaint,At=t.unstable_now,Ur=t.unstable_getCurrentPriorityLevel,Qn=t.unstable_ImmediatePriority,ee=t.unstable_UserBlockingPriority,se=t.unstable_NormalPriority,pe=t.unstable_LowPriority,Le=t.unstable_IdlePriority,Ie=t.log,ke=t.unstable_setDisableYieldValue,Ve=null,tt=null;function Ct(c){if(typeof Ie=="function"&&ke(c),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(Ve,c)}catch{}}var ve=Math.clz32?Math.clz32:nn,zt=Math.log,gn=Math.LN2;function nn(c){return c>>>=0,c===0?32:31-(zt(c)/gn|0)|0}var Wt=256,tn=4194304;function ar(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function or(c,f,p){var y=c.pendingLanes;if(y===0)return 0;var S=0,R=c.suspendedLanes,B=c.pingedLanes;c=c.warmLanes;var Y=y&134217727;return Y!==0?(y=Y&~R,y!==0?S=ar(y):(B&=Y,B!==0?S=ar(B):p||(p=Y&~c,p!==0&&(S=ar(p))))):(Y=y&~R,Y!==0?S=ar(Y):B!==0?S=ar(B):p||(p=y&~c,p!==0&&(S=ar(p)))),S===0?0:f!==0&&f!==S&&(f&R)===0&&(R=S&-S,p=f&-f,R>=p||R===32&&(p&4194048)!==0)?f:S}function Fn(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function bi(c,f){switch(c){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ja(){var c=Wt;return Wt<<=1,(Wt&4194048)===0&&(Wt=256),c}function rl(){var c=tn;return tn<<=1,(tn&62914560)===0&&(tn=4194304),c}function Na(c){for(var f=[],p=0;31>p;p++)f.push(c);return f}function Ws(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function ot(c,f,p,y,S,R){var B=c.pendingLanes;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=p,c.entangledLanes&=p,c.errorRecoveryDisabledLanes&=p,c.shellSuspendCounter=0;var Y=c.entanglements,J=c.expirationTimes,de=c.hiddenUpdates;for(p=B&~p;0<p;){var _e=31-ve(p),Ae=1<<_e;Y[_e]=0,J[_e]=-1;var fe=de[_e];if(fe!==null)for(de[_e]=null,_e=0;_e<fe.length;_e++){var he=fe[_e];he!==null&&(he.lane&=-536870913)}p&=~Ae}y!==0&&Pt(c,y,0),R!==0&&S===0&&c.tag!==0&&(c.suspendedLanes|=R&~(B&~f))}function Pt(c,f,p){c.pendingLanes|=f,c.suspendedLanes&=~f;var y=31-ve(f);c.entangledLanes|=f,c.entanglements[y]=c.entanglements[y]|1073741824|p&4194090}function Ar(c,f){var p=c.entangledLanes|=f;for(c=c.entanglements;p;){var y=31-ve(p),S=1<<y;S&f|c[y]&f&&(c[y]|=f),p&=~S}}function Bn(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function _i(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function jn(){var c=q.p;return c!==0?c:(c=window.event,c===void 0?32:q3(c.type))}function zr(c,f){var p=q.p;try{return q.p=c,f()}finally{q.p=p}}var rn=Math.random().toString(36).slice(2),hr="__reactFiber$"+rn,Er="__reactProps$"+rn,Gs="__reactContainer$"+rn,sg="__reactEvents$"+rn,hN="__reactListeners$"+rn,wc="__reactHandles$"+rn,Sb="__reactResources$"+rn,Ju="__reactMarker$"+rn;function Sc(c){delete c[hr],delete c[Er],delete c[sg],delete c[hN],delete c[wc]}function il(c){var f=c[hr];if(f)return f;for(var p=c.parentNode;p;){if(f=p[Gs]||p[hr]){if(p=f.alternate,f.child!==null||p!==null&&p.child!==null)for(c=C3(c);c!==null;){if(p=c[hr])return p;c=C3(c)}return f}c=p,p=c.parentNode}return null}function no(c){if(c=c[hr]||c[Gs]){var f=c.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return c}return null}function ro(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c.stateNode;throw Error(r(33))}function qi(c){var f=c[Sb];return f||(f=c[Sb]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function yr(c){c[Ju]=!0}var ag=new Set,sh={};function Aa(c,f){sl(c,f),sl(c+"Capture",f)}function sl(c,f){for(sh[c]=f,c=0;c<f.length;c++)ag.add(f[c])}var jb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nb={},ed={};function Ab(c){return ue.call(ed,c)?!0:ue.call(Nb,c)?!1:jb.test(c)?ed[c]=!0:(Nb[c]=!0,!1)}function jc(c,f,p){if(Ab(f))if(p===null)c.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":c.removeAttribute(f);return;case"boolean":var y=f.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(f);return}}c.setAttribute(f,""+p)}}function io(c,f,p){if(p===null)c.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttribute(f,""+p)}}function wi(c,f,p,y){if(y===null)c.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttributeNS(f,p,""+y)}}var td,Eb;function al(c){if(td===void 0)try{throw Error()}catch(p){var f=p.stack.trim().match(/\n( *(at )?)/);td=f&&f[1]||"",Eb=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+td+c+Eb}var ah=!1;function oh(c,f){if(!c||ah)return"";ah=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(f){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(he){var fe=he}Reflect.construct(c,[],Ae)}else{try{Ae.call()}catch(he){fe=he}c.call(Ae.prototype)}}else{try{throw Error()}catch(he){fe=he}(Ae=c())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(he){if(he&&fe&&typeof he.stack=="string")return[he.stack,fe.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=y.DetermineComponentFrameRoot(),B=R[0],Y=R[1];if(B&&Y){var J=B.split(`
`),de=Y.split(`
`);for(S=y=0;y<J.length&&!J[y].includes("DetermineComponentFrameRoot");)y++;for(;S<de.length&&!de[S].includes("DetermineComponentFrameRoot");)S++;if(y===J.length||S===de.length)for(y=J.length-1,S=de.length-1;1<=y&&0<=S&&J[y]!==de[S];)S--;for(;1<=y&&0<=S;y--,S--)if(J[y]!==de[S]){if(y!==1||S!==1)do if(y--,S--,0>S||J[y]!==de[S]){var _e=`
`+J[y].replace(" at new "," at ");return c.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",c.displayName)),_e}while(1<=y&&0<=S);break}}}finally{ah=!1,Error.prepareStackTrace=p}return(p=c?c.displayName||c.name:"")?al(p):""}function og(c){switch(c.tag){case 26:case 27:case 5:return al(c.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 15:return oh(c.type,!1);case 11:return oh(c.type.render,!1);case 1:return oh(c.type,!0);case 31:return al("Activity");default:return""}}function lh(c){try{var f="";do f+=og(c),c=c.return;while(c);return f}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Hi(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function lg(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function mN(c){var f=lg(c)?"checked":"value",p=Object.getOwnPropertyDescriptor(c.constructor.prototype,f),y=""+c[f];if(!c.hasOwnProperty(f)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var S=p.get,R=p.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return S.call(this)},set:function(B){y=""+B,R.call(this,B)}}),Object.defineProperty(c,f,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(B){y=""+B},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function ch(c){c._valueTracker||(c._valueTracker=mN(c))}function cg(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var p=f.getValue(),y="";return c&&(y=lg(c)?c.checked?"true":"false":c.value),c=y,c!==p?(f.setValue(c),!0):!1}function nd(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var pN=/[\n"\\]/g;function Tr(c){return c.replace(pN,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function ys(c,f,p,y,S,R,B,Y){c.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?c.type=B:c.removeAttribute("type"),f!=null?B==="number"?(f===0&&c.value===""||c.value!=f)&&(c.value=""+Hi(f)):c.value!==""+Hi(f)&&(c.value=""+Hi(f)):B!=="submit"&&B!=="reset"||c.removeAttribute("value"),f!=null?Nc(c,B,Hi(f)):p!=null?Nc(c,B,Hi(p)):y!=null&&c.removeAttribute("value"),S==null&&R!=null&&(c.defaultChecked=!!R),S!=null&&(c.checked=S&&typeof S!="function"&&typeof S!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?c.name=""+Hi(Y):c.removeAttribute("name")}function rd(c,f,p,y,S,R,B,Y){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(c.type=R),f!=null||p!=null){if(!(R!=="submit"&&R!=="reset"||f!=null))return;p=p!=null?""+Hi(p):"",f=f!=null?""+Hi(f):p,Y||f===c.value||(c.value=f),c.defaultValue=f}y=y??S,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=Y?c.checked:!!y,c.defaultChecked=!!y,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(c.name=B)}function Nc(c,f,p){f==="number"&&nd(c.ownerDocument)===c||c.defaultValue===""+p||(c.defaultValue=""+p)}function ol(c,f,p,y){if(c=c.options,f){f={};for(var S=0;S<p.length;S++)f["$"+p[S]]=!0;for(p=0;p<c.length;p++)S=f.hasOwnProperty("$"+c[p].value),c[p].selected!==S&&(c[p].selected=S),S&&y&&(c[p].defaultSelected=!0)}else{for(p=""+Hi(p),f=null,S=0;S<c.length;S++){if(c[S].value===p){c[S].selected=!0,y&&(c[S].defaultSelected=!0);return}f!==null||c[S].disabled||(f=c[S])}f!==null&&(f.selected=!0)}}function Pn(c,f,p){if(f!=null&&(f=""+Hi(f),f!==c.value&&(c.value=f),p==null)){c.defaultValue!==f&&(c.defaultValue=f);return}c.defaultValue=p!=null?""+Hi(p):""}function id(c,f,p,y){if(f==null){if(y!=null){if(p!=null)throw Error(r(92));if(H(y)){if(1<y.length)throw Error(r(93));y=y[0]}p=y}p==null&&(p=""),f=p}p=Hi(f),c.defaultValue=p,y=c.textContent,y===p&&y!==""&&y!==null&&(c.value=y)}function Ys(c,f){if(f){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=f;return}}c.textContent=f}var sd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tb(c,f,p){var y=f.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?c.setProperty(f,""):f==="float"?c.cssFloat="":c[f]="":y?c.setProperty(f,p):typeof p!="number"||p===0||sd.has(f)?f==="float"?c.cssFloat=p:c[f]=(""+p).trim():c[f]=p+"px"}function ug(c,f,p){if(f!=null&&typeof f!="object")throw Error(r(62));if(c=c.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||f!=null&&f.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var S in f)y=f[S],f.hasOwnProperty(S)&&p[S]!==y&&Tb(c,S,y)}else for(var R in f)f.hasOwnProperty(R)&&Tb(c,R,f[R])}function dg(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uh(c){return yN.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var ll=null;function Ks(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var cl=null,ul=null;function fg(c){var f=no(c);if(f&&(c=f.stateNode)){var p=c[Er]||null;e:switch(c=f.stateNode,f.type){case"input":if(ys(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),f=p.name,p.type==="radio"&&f!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Tr(""+f)+'"][type="radio"]'),f=0;f<p.length;f++){var y=p[f];if(y!==c&&y.form===c.form){var S=y[Er]||null;if(!S)throw Error(r(90));ys(y,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(f=0;f<p.length;f++)y=p[f],y.form===c.form&&cg(y)}break e;case"textarea":Pn(c,p.value,p.defaultValue);break e;case"select":f=p.value,f!=null&&ol(c,!!p.multiple,f,!1)}}}var so=!1;function Cb(c,f,p){if(so)return c(f,p);so=!0;try{var y=c(f);return y}finally{if(so=!1,(cl!==null||ul!==null)&&(w0(),cl&&(f=cl,c=ul,ul=cl=null,fg(f),c)))for(f=0;f<c.length;f++)fg(c[f])}}function ad(c,f){var p=c.stateNode;if(p===null)return null;var y=p[Er]||null;if(y===null)return null;p=y[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(r(231,f,typeof p));return p}var Ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=!1;if(Ea)try{var od={};Object.defineProperty(od,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",od,od),window.removeEventListener("test",od,od)}catch{Xs=!1}var ao=null,Ac=null,dl=null;function hg(){if(dl)return dl;var c,f=Ac,p=f.length,y,S="value"in ao?ao.value:ao.textContent,R=S.length;for(c=0;c<p&&f[c]===S[c];c++);var B=p-c;for(y=1;y<=B&&f[p-y]===S[R-y];y++);return dl=S.slice(c,1<y?1-y:void 0)}function oo(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function lo(){return!0}function mg(){return!1}function si(c){function f(p,y,S,R,B){this._reactName=p,this._targetInst=S,this.type=y,this.nativeEvent=R,this.target=B,this.currentTarget=null;for(var Y in c)c.hasOwnProperty(Y)&&(p=c[Y],this[Y]=p?p(R):R[Y]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?lo:mg,this.isPropagationStopped=mg,this}return h(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=lo)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=lo)},persist:function(){},isPersistent:lo}),f}var yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dh=si(yn),ld=h({},yn,{view:0,detail:0}),kb=si(ld),fh,hh,co,cd=h({},ld,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fd,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==co&&(co&&c.type==="mousemove"?(fh=c.screenX-co.screenX,hh=c.screenY-co.screenY):hh=fh=0,co=c),fh)},movementY:function(c){return"movementY"in c?c.movementY:hh}}),Qs=si(cd),Ob=h({},cd,{dataTransfer:0}),vN=si(Ob),ud=h({},ld,{relatedTarget:0}),mh=si(ud),pg=h({},yn,{animationName:0,elapsedTime:0,pseudoElement:0}),ph=si(pg),Rb=h({},yn,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),gh=si(Rb),xN=h({},yn,{data:0}),gg=si(xN),dd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ib={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yg(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=Ib[c])?!!f[c]:!1}function fd(){return yg}var Mb=h({},ld,{key:function(c){if(c.key){var f=dd[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=oo(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Pb[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fd,charCode:function(c){return c.type==="keypress"?oo(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?oo(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),yh=si(Mb),Db=h({},cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vg=si(Db),fl=h({},ld,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fd}),Lb=si(fl),$b=h({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vb=si($b),Fb=h({},cd,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),vh=si(Fb),Wi=h({},yn,{newState:0,oldState:0}),Bb=si(Wi),Ub=[9,13,27,32],uo=Ea&&"CompositionEvent"in window,w=null;Ea&&"documentMode"in document&&(w=document.documentMode);var L=Ea&&"TextEvent"in window&&!w,F=Ea&&(!uo||w&&8<w&&11>=w),K=" ",ae=!1;function me(c,f){switch(c){case"keyup":return Ub.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $e(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var sn=!1;function qr(c,f){switch(c){case"compositionend":return $e(f);case"keypress":return f.which!==32?null:(ae=!0,K);case"textInput":return c=f.data,c===K&&ae?null:c;default:return null}}function an(c,f){if(sn)return c==="compositionend"||!uo&&me(c,f)?(c=hg(),dl=Ac=ao=null,sn=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return F&&f.locale!=="ko"?null:f.data;default:return null}}var ai={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!ai[c.type]:f==="textarea"}function hl(c,f,p,y){cl?ul?ul.push(y):ul=[y]:cl=y,f=T0(f,"onChange"),0<f.length&&(p=new dh("onChange","change",null,p,y),c.push({event:p,listeners:f}))}var Si=null,fo=null;function xg(c){x3(c,0)}function zb(c){var f=ro(c);if(cg(f))return c}function F4(c,f){if(c==="change")return f}var B4=!1;if(Ea){var bN;if(Ea){var _N="oninput"in document;if(!_N){var U4=document.createElement("div");U4.setAttribute("oninput","return;"),_N=typeof U4.oninput=="function"}bN=_N}else bN=!1;B4=bN&&(!document.documentMode||9<document.documentMode)}function z4(){Si&&(Si.detachEvent("onpropertychange",q4),fo=Si=null)}function q4(c){if(c.propertyName==="value"&&zb(fo)){var f=[];hl(f,fo,c,Ks(c)),Cb(xg,f)}}function Pie(c,f,p){c==="focusin"?(z4(),Si=f,fo=p,Si.attachEvent("onpropertychange",q4)):c==="focusout"&&z4()}function Iie(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return zb(fo)}function Mie(c,f){if(c==="click")return zb(f)}function Die(c,f){if(c==="input"||c==="change")return zb(f)}function Lie(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var vs=typeof Object.is=="function"?Object.is:Lie;function bg(c,f){if(vs(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var p=Object.keys(c),y=Object.keys(f);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var S=p[y];if(!ue.call(f,S)||!vs(c[S],f[S]))return!1}return!0}function H4(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function W4(c,f){var p=H4(c);c=0;for(var y;p;){if(p.nodeType===3){if(y=c+p.textContent.length,c<=f&&y>=f)return{node:p,offset:f-c};c=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=H4(p)}}function G4(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?G4(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function Y4(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var f=nd(c.document);f instanceof c.HTMLIFrameElement;){try{var p=typeof f.contentWindow.location.href=="string"}catch{p=!1}if(p)c=f.contentWindow;else break;f=nd(c.document)}return f}function wN(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}var $ie=Ea&&"documentMode"in document&&11>=document.documentMode,xh=null,SN=null,_g=null,jN=!1;function K4(c,f,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;jN||xh==null||xh!==nd(y)||(y=xh,"selectionStart"in y&&wN(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),_g&&bg(_g,y)||(_g=y,y=T0(SN,"onSelect"),0<y.length&&(f=new dh("onSelect","select",null,f,p),c.push({event:f,listeners:y}),f.target=xh)))}function hd(c,f){var p={};return p[c.toLowerCase()]=f.toLowerCase(),p["Webkit"+c]="webkit"+f,p["Moz"+c]="moz"+f,p}var bh={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionrun:hd("Transition","TransitionRun"),transitionstart:hd("Transition","TransitionStart"),transitioncancel:hd("Transition","TransitionCancel"),transitionend:hd("Transition","TransitionEnd")},NN={},X4={};Ea&&(X4=document.createElement("div").style,"AnimationEvent"in window||(delete bh.animationend.animation,delete bh.animationiteration.animation,delete bh.animationstart.animation),"TransitionEvent"in window||delete bh.transitionend.transition);function md(c){if(NN[c])return NN[c];if(!bh[c])return c;var f=bh[c],p;for(p in f)if(f.hasOwnProperty(p)&&p in X4)return NN[c]=f[p];return c}var Q4=md("animationend"),Z4=md("animationiteration"),J4=md("animationstart"),Vie=md("transitionrun"),Fie=md("transitionstart"),Bie=md("transitioncancel"),eL=md("transitionend"),tL=new Map,AN="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");AN.push("scrollEnd");function Ta(c,f){tL.set(c,f),Aa(f,[c])}var nL=new WeakMap;function Zs(c,f){if(typeof c=="object"&&c!==null){var p=nL.get(c);return p!==void 0?p:(f={value:c,source:f,stack:lh(f)},nL.set(c,f),f)}return{value:c,source:f,stack:lh(f)}}var Js=[],_h=0,EN=0;function qb(){for(var c=_h,f=EN=_h=0;f<c;){var p=Js[f];Js[f++]=null;var y=Js[f];Js[f++]=null;var S=Js[f];Js[f++]=null;var R=Js[f];if(Js[f++]=null,y!==null&&S!==null){var B=y.pending;B===null?S.next=S:(S.next=B.next,B.next=S),y.pending=S}R!==0&&rL(p,S,R)}}function Hb(c,f,p,y){Js[_h++]=c,Js[_h++]=f,Js[_h++]=p,Js[_h++]=y,EN|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function TN(c,f,p,y){return Hb(c,f,p,y),Wb(c)}function wh(c,f){return Hb(c,null,null,f),Wb(c)}function rL(c,f,p){c.lanes|=p;var y=c.alternate;y!==null&&(y.lanes|=p);for(var S=!1,R=c.return;R!==null;)R.childLanes|=p,y=R.alternate,y!==null&&(y.childLanes|=p),R.tag===22&&(c=R.stateNode,c===null||c._visibility&1||(S=!0)),c=R,R=R.return;return c.tag===3?(R=c.stateNode,S&&f!==null&&(S=31-ve(p),c=R.hiddenUpdates,y=c[S],y===null?c[S]=[f]:y.push(f),f.lane=p|536870912),R):null}function Wb(c){if(50<Wg)throw Wg=0,IA=null,Error(r(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}var Sh={};function Uie(c,f,p,y){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(c,f,p,y){return new Uie(c,f,p,y)}function CN(c){return c=c.prototype,!(!c||!c.isReactComponent)}function ml(c,f){var p=c.alternate;return p===null?(p=xs(c.tag,f,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=f,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&65011712,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,f=c.dependencies,p.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p.refCleanup=c.refCleanup,p}function iL(c,f){c.flags&=65011714;var p=c.alternate;return p===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,f=p.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function Gb(c,f,p,y,S,R){var B=0;if(y=c,typeof c=="function")CN(c)&&(B=1);else if(typeof c=="string")B=qse(c,p,ge.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case O:return c=xs(31,p,f,S),c.elementType=O,c.lanes=R,c;case b:return pd(p.children,S,R,f);case _:B=8,S|=24;break;case x:return c=xs(12,p,f,S|2),c.elementType=x,c.lanes=R,c;case T:return c=xs(13,p,f,S),c.elementType=T,c.lanes=R,c;case I:return c=xs(19,p,f,S),c.elementType=I,c.lanes=R,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case j:case C:B=10;break e;case A:B=9;break e;case P:B=11;break e;case E:B=14;break e;case k:B=16,y=null;break e}B=29,p=Error(r(130,c===null?"null":typeof c,"")),y=null}return f=xs(B,p,f,S),f.elementType=c,f.type=y,f.lanes=R,f}function pd(c,f,p,y){return c=xs(7,c,y,f),c.lanes=p,c}function kN(c,f,p){return c=xs(6,c,null,f),c.lanes=p,c}function ON(c,f,p){return f=xs(4,c.children!==null?c.children:[],c.key,f),f.lanes=p,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}var jh=[],Nh=0,Yb=null,Kb=0,ea=[],ta=0,gd=null,pl=1,gl="";function yd(c,f){jh[Nh++]=Kb,jh[Nh++]=Yb,Yb=c,Kb=f}function sL(c,f,p){ea[ta++]=pl,ea[ta++]=gl,ea[ta++]=gd,gd=c;var y=pl;c=gl;var S=32-ve(y)-1;y&=~(1<<S),p+=1;var R=32-ve(f)+S;if(30<R){var B=S-S%5;R=(y&(1<<B)-1).toString(32),y>>=B,S-=B,pl=1<<32-ve(f)+S|p<<S|y,gl=R+c}else pl=1<<R|p<<S|y,gl=c}function RN(c){c.return!==null&&(yd(c,1),sL(c,1,0))}function PN(c){for(;c===Yb;)Yb=jh[--Nh],jh[Nh]=null,Kb=jh[--Nh],jh[Nh]=null;for(;c===gd;)gd=ea[--ta],ea[ta]=null,gl=ea[--ta],ea[ta]=null,pl=ea[--ta],ea[ta]=null}var Gi=null,mr=null,pn=!1,vd=null,ho=!1,IN=Error(r(519));function xd(c){var f=Error(r(418,""));throw jg(Zs(f,c)),IN}function aL(c){var f=c.stateNode,p=c.type,y=c.memoizedProps;switch(f[hr]=c,f[Er]=y,p){case"dialog":Yt("cancel",f),Yt("close",f);break;case"iframe":case"object":case"embed":Yt("load",f);break;case"video":case"audio":for(p=0;p<Yg.length;p++)Yt(Yg[p],f);break;case"source":Yt("error",f);break;case"img":case"image":case"link":Yt("error",f),Yt("load",f);break;case"details":Yt("toggle",f);break;case"input":Yt("invalid",f),rd(f,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),ch(f);break;case"select":Yt("invalid",f);break;case"textarea":Yt("invalid",f),id(f,y.value,y.defaultValue,y.children),ch(f)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||f.textContent===""+p||y.suppressHydrationWarning===!0||S3(f.textContent,p)?(y.popover!=null&&(Yt("beforetoggle",f),Yt("toggle",f)),y.onScroll!=null&&Yt("scroll",f),y.onScrollEnd!=null&&Yt("scrollend",f),y.onClick!=null&&(f.onclick=C0),f=!0):f=!1,f||xd(c)}function oL(c){for(Gi=c.return;Gi;)switch(Gi.tag){case 5:case 13:ho=!1;return;case 27:case 3:ho=!0;return;default:Gi=Gi.return}}function wg(c){if(c!==Gi)return!1;if(!pn)return oL(c),pn=!0,!1;var f=c.tag,p;if((p=f!==3&&f!==27)&&((p=f===5)&&(p=c.type,p=!(p!=="form"&&p!=="button")||XA(c.type,c.memoizedProps)),p=!p),p&&mr&&xd(c),oL(c),f===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,f=0;c;){if(c.nodeType===8)if(p=c.data,p==="/$"){if(f===0){mr=ka(c.nextSibling);break e}f--}else p!=="$"&&p!=="$!"&&p!=="$?"||f++;c=c.nextSibling}mr=null}}else f===27?(f=mr,Uc(c.type)?(c=eE,eE=null,mr=c):mr=f):mr=Gi?ka(c.stateNode.nextSibling):null;return!0}function Sg(){mr=Gi=null,pn=!1}function lL(){var c=vd;return c!==null&&(is===null?is=c:is.push.apply(is,c),vd=null),c}function jg(c){vd===null?vd=[c]:vd.push(c)}var MN=Z(null),bd=null,yl=null;function Ec(c,f,p){ne(MN,f._currentValue),f._currentValue=p}function vl(c){c._currentValue=MN.current,te(MN)}function DN(c,f,p){for(;c!==null;){var y=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,y!==null&&(y.childLanes|=f)):y!==null&&(y.childLanes&f)!==f&&(y.childLanes|=f),c===p)break;c=c.return}}function LN(c,f,p,y){var S=c.child;for(S!==null&&(S.return=c);S!==null;){var R=S.dependencies;if(R!==null){var B=S.child;R=R.firstContext;e:for(;R!==null;){var Y=R;R=S;for(var J=0;J<f.length;J++)if(Y.context===f[J]){R.lanes|=p,Y=R.alternate,Y!==null&&(Y.lanes|=p),DN(R.return,p,c),y||(B=null);break e}R=Y.next}}else if(S.tag===18){if(B=S.return,B===null)throw Error(r(341));B.lanes|=p,R=B.alternate,R!==null&&(R.lanes|=p),DN(B,p,c),B=null}else B=S.child;if(B!==null)B.return=S;else for(B=S;B!==null;){if(B===c){B=null;break}if(S=B.sibling,S!==null){S.return=B.return,B=S;break}B=B.return}S=B}}function Ng(c,f,p,y){c=null;for(var S=f,R=!1;S!==null;){if(!R){if((S.flags&524288)!==0)R=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var B=S.alternate;if(B===null)throw Error(r(387));if(B=B.memoizedProps,B!==null){var Y=S.type;vs(S.pendingProps.value,B.value)||(c!==null?c.push(Y):c=[Y])}}else if(S===je.current){if(B=S.alternate,B===null)throw Error(r(387));B.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(c!==null?c.push(ey):c=[ey])}S=S.return}c!==null&&LN(f,c,p,y),f.flags|=262144}function Xb(c){for(c=c.firstContext;c!==null;){if(!vs(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function _d(c){bd=c,yl=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Ri(c){return cL(bd,c)}function Qb(c,f){return bd===null&&_d(c),cL(c,f)}function cL(c,f){var p=f._currentValue;if(f={context:f,memoizedValue:p,next:null},yl===null){if(c===null)throw Error(r(308));yl=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else yl=yl.next=f;return p}var zie=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(p,y){c.push(y)}};this.abort=function(){f.aborted=!0,c.forEach(function(p){return p()})}},qie=t.unstable_scheduleCallback,Hie=t.unstable_NormalPriority,Wr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $N(){return{controller:new zie,data:new Map,refCount:0}}function Ag(c){c.refCount--,c.refCount===0&&qie(Hie,function(){c.controller.abort()})}var Eg=null,VN=0,Ah=0,Eh=null;function Wie(c,f){if(Eg===null){var p=Eg=[];VN=0,Ah=BA(),Eh={status:"pending",value:void 0,then:function(y){p.push(y)}}}return VN++,f.then(uL,uL),f}function uL(){if(--VN===0&&Eg!==null){Eh!==null&&(Eh.status="fulfilled");var c=Eg;Eg=null,Ah=0,Eh=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function Gie(c,f){var p=[],y={status:"pending",value:null,reason:null,then:function(S){p.push(S)}};return c.then(function(){y.status="fulfilled",y.value=f;for(var S=0;S<p.length;S++)(0,p[S])(f)},function(S){for(y.status="rejected",y.reason=S,S=0;S<p.length;S++)(0,p[S])(void 0)}),y}var dL=U.S;U.S=function(c,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&Wie(c,f),dL!==null&&dL(c,f)};var wd=Z(null);function FN(){var c=wd.current;return c!==null?c:Wn.pooledCache}function Zb(c,f){f===null?ne(wd,wd.current):ne(wd,f.pool)}function fL(){var c=FN();return c===null?null:{parent:Wr._currentValue,pool:c}}var Tg=Error(r(460)),hL=Error(r(474)),Jb=Error(r(542)),BN={then:function(){}};function mL(c){return c=c.status,c==="fulfilled"||c==="rejected"}function e0(){}function pL(c,f,p){switch(p=c[p],p===void 0?c.push(f):p!==f&&(f.then(e0,e0),f=p),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,yL(c),c;default:if(typeof f.status=="string")f.then(e0,e0);else{if(c=Wn,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=f,c.status="pending",c.then(function(y){if(f.status==="pending"){var S=f;S.status="fulfilled",S.value=y}},function(y){if(f.status==="pending"){var S=f;S.status="rejected",S.reason=y}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,yL(c),c}throw Cg=f,Tg}}var Cg=null;function gL(){if(Cg===null)throw Error(r(459));var c=Cg;return Cg=null,c}function yL(c){if(c===Tg||c===Jb)throw Error(r(483))}var Tc=!1;function UN(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zN(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Cc(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function kc(c,f,p){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(Nn&2)!==0){var S=y.pending;return S===null?f.next=f:(f.next=S.next,S.next=f),y.pending=f,f=Wb(c),rL(c,null,p),f}return Hb(c,y,f,p),Wb(c)}function kg(c,f,p){if(f=f.updateQueue,f!==null&&(f=f.shared,(p&4194048)!==0)){var y=f.lanes;y&=c.pendingLanes,p|=y,f.lanes=p,Ar(c,p)}}function qN(c,f){var p=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var S=null,R=null;if(p=p.firstBaseUpdate,p!==null){do{var B={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};R===null?S=R=B:R=R.next=B,p=p.next}while(p!==null);R===null?S=R=f:R=R.next=f}else S=R=f;p={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:R,shared:y.shared,callbacks:y.callbacks},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=f:c.next=f,p.lastBaseUpdate=f}var HN=!1;function Og(){if(HN){var c=Eh;if(c!==null)throw c}}function Rg(c,f,p,y){HN=!1;var S=c.updateQueue;Tc=!1;var R=S.firstBaseUpdate,B=S.lastBaseUpdate,Y=S.shared.pending;if(Y!==null){S.shared.pending=null;var J=Y,de=J.next;J.next=null,B===null?R=de:B.next=de,B=J;var _e=c.alternate;_e!==null&&(_e=_e.updateQueue,Y=_e.lastBaseUpdate,Y!==B&&(Y===null?_e.firstBaseUpdate=de:Y.next=de,_e.lastBaseUpdate=J))}if(R!==null){var Ae=S.baseState;B=0,_e=de=J=null,Y=R;do{var fe=Y.lane&-536870913,he=fe!==Y.lane;if(he?(on&fe)===fe:(y&fe)===fe){fe!==0&&fe===Ah&&(HN=!0),_e!==null&&(_e=_e.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var Nt=c,gt=Y;fe=f;var Dn=p;switch(gt.tag){case 1:if(Nt=gt.payload,typeof Nt=="function"){Ae=Nt.call(Dn,Ae,fe);break e}Ae=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=gt.payload,fe=typeof Nt=="function"?Nt.call(Dn,Ae,fe):Nt,fe==null)break e;Ae=h({},Ae,fe);break e;case 2:Tc=!0}}fe=Y.callback,fe!==null&&(c.flags|=64,he&&(c.flags|=8192),he=S.callbacks,he===null?S.callbacks=[fe]:he.push(fe))}else he={lane:fe,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},_e===null?(de=_e=he,J=Ae):_e=_e.next=he,B|=fe;if(Y=Y.next,Y===null){if(Y=S.shared.pending,Y===null)break;he=Y,Y=he.next,he.next=null,S.lastBaseUpdate=he,S.shared.pending=null}}while(!0);_e===null&&(J=Ae),S.baseState=J,S.firstBaseUpdate=de,S.lastBaseUpdate=_e,R===null&&(S.shared.lanes=0),$c|=B,c.lanes=B,c.memoizedState=Ae}}function vL(c,f){if(typeof c!="function")throw Error(r(191,c));c.call(f)}function xL(c,f){var p=c.callbacks;if(p!==null)for(c.callbacks=null,c=0;c<p.length;c++)vL(p[c],f)}var Th=Z(null),t0=Z(0);function bL(c,f){c=Nl,ne(t0,c),ne(Th,f),Nl=c|f.baseLanes}function WN(){ne(t0,Nl),ne(Th,Th.current)}function GN(){Nl=t0.current,te(Th),te(t0)}var Oc=0,Ft=null,In=null,Cr=null,n0=!1,Ch=!1,Sd=!1,r0=0,Pg=0,kh=null,Yie=0;function vr(){throw Error(r(321))}function YN(c,f){if(f===null)return!1;for(var p=0;p<f.length&&p<c.length;p++)if(!vs(c[p],f[p]))return!1;return!0}function KN(c,f,p,y,S,R){return Oc=R,Ft=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,U.H=c===null||c.memoizedState===null?r5:i5,Sd=!1,R=p(y,S),Sd=!1,Ch&&(R=wL(f,p,y,S)),_L(c),R}function _L(c){U.H=c0;var f=In!==null&&In.next!==null;if(Oc=0,Cr=In=Ft=null,n0=!1,Pg=0,kh=null,f)throw Error(r(300));c===null||oi||(c=c.dependencies,c!==null&&Xb(c)&&(oi=!0))}function wL(c,f,p,y){Ft=c;var S=0;do{if(Ch&&(kh=null),Pg=0,Ch=!1,25<=S)throw Error(r(301));if(S+=1,Cr=In=null,c.updateQueue!=null){var R=c.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}U.H=tse,R=f(p,y)}while(Ch);return R}function Kie(){var c=U.H,f=c.useState()[0];return f=typeof f.then=="function"?Ig(f):f,c=c.useState()[0],(In!==null?In.memoizedState:null)!==c&&(Ft.flags|=1024),f}function XN(){var c=r0!==0;return r0=0,c}function QN(c,f,p){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~p}function ZN(c){if(n0){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}n0=!1}Oc=0,Cr=In=Ft=null,Ch=!1,Pg=r0=0,kh=null}function ns(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?Ft.memoizedState=Cr=c:Cr=Cr.next=c,Cr}function kr(){if(In===null){var c=Ft.alternate;c=c!==null?c.memoizedState:null}else c=In.next;var f=Cr===null?Ft.memoizedState:Cr.next;if(f!==null)Cr=f,In=c;else{if(c===null)throw Ft.alternate===null?Error(r(467)):Error(r(310));In=c,c={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Cr===null?Ft.memoizedState=Cr=c:Cr=Cr.next=c}return Cr}function JN(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ig(c){var f=Pg;return Pg+=1,kh===null&&(kh=[]),c=pL(kh,c,f),f=Ft,(Cr===null?f.memoizedState:Cr.next)===null&&(f=f.alternate,U.H=f===null||f.memoizedState===null?r5:i5),c}function i0(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Ig(c);if(c.$$typeof===C)return Ri(c)}throw Error(r(438,String(c)))}function eA(c){var f=null,p=Ft.updateQueue;if(p!==null&&(f=p.memoCache),f==null){var y=Ft.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(f={data:y.data.map(function(S){return S.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),p===null&&(p=JN(),Ft.updateQueue=p),p.memoCache=f,p=f.data[f.index],p===void 0)for(p=f.data[f.index]=Array(c),y=0;y<c;y++)p[y]=D;return f.index++,p}function xl(c,f){return typeof f=="function"?f(c):f}function s0(c){var f=kr();return tA(f,In,c)}function tA(c,f,p){var y=c.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=p;var S=c.baseQueue,R=y.pending;if(R!==null){if(S!==null){var B=S.next;S.next=R.next,R.next=B}f.baseQueue=S=R,y.pending=null}if(R=c.baseState,S===null)c.memoizedState=R;else{f=S.next;var Y=B=null,J=null,de=f,_e=!1;do{var Ae=de.lane&-536870913;if(Ae!==de.lane?(on&Ae)===Ae:(Oc&Ae)===Ae){var fe=de.revertLane;if(fe===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Ae===Ah&&(_e=!0);else if((Oc&fe)===fe){de=de.next,fe===Ah&&(_e=!0);continue}else Ae={lane:0,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},J===null?(Y=J=Ae,B=R):J=J.next=Ae,Ft.lanes|=fe,$c|=fe;Ae=de.action,Sd&&p(R,Ae),R=de.hasEagerState?de.eagerState:p(R,Ae)}else fe={lane:Ae,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},J===null?(Y=J=fe,B=R):J=J.next=fe,Ft.lanes|=Ae,$c|=Ae;de=de.next}while(de!==null&&de!==f);if(J===null?B=R:J.next=Y,!vs(R,c.memoizedState)&&(oi=!0,_e&&(p=Eh,p!==null)))throw p;c.memoizedState=R,c.baseState=B,c.baseQueue=J,y.lastRenderedState=R}return S===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function nA(c){var f=kr(),p=f.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var y=p.dispatch,S=p.pending,R=f.memoizedState;if(S!==null){p.pending=null;var B=S=S.next;do R=c(R,B.action),B=B.next;while(B!==S);vs(R,f.memoizedState)||(oi=!0),f.memoizedState=R,f.baseQueue===null&&(f.baseState=R),p.lastRenderedState=R}return[R,y]}function SL(c,f,p){var y=Ft,S=kr(),R=pn;if(R){if(p===void 0)throw Error(r(407));p=p()}else p=f();var B=!vs((In||S).memoizedState,p);B&&(S.memoizedState=p,oi=!0),S=S.queue;var Y=AL.bind(null,y,S,c);if(Mg(2048,8,Y,[c]),S.getSnapshot!==f||B||Cr!==null&&Cr.memoizedState.tag&1){if(y.flags|=2048,Oh(9,a0(),NL.bind(null,y,S,p,f),null),Wn===null)throw Error(r(349));R||(Oc&124)!==0||jL(y,f,p)}return p}function jL(c,f,p){c.flags|=16384,c={getSnapshot:f,value:p},f=Ft.updateQueue,f===null?(f=JN(),Ft.updateQueue=f,f.stores=[c]):(p=f.stores,p===null?f.stores=[c]:p.push(c))}function NL(c,f,p,y){f.value=p,f.getSnapshot=y,EL(f)&&TL(c)}function AL(c,f,p){return p(function(){EL(f)&&TL(c)})}function EL(c){var f=c.getSnapshot;c=c.value;try{var p=f();return!vs(c,p)}catch{return!0}}function TL(c){var f=wh(c,2);f!==null&&js(f,c,2)}function rA(c){var f=ns();if(typeof c=="function"){var p=c;if(c=p(),Sd){Ct(!0);try{p()}finally{Ct(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:c},f}function CL(c,f,p,y){return c.baseState=p,tA(c,In,typeof y=="function"?y:xl)}function Xie(c,f,p,y,S){if(l0(c))throw Error(r(485));if(c=f.action,c!==null){var R={payload:S,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){R.listeners.push(B)}};U.T!==null?p(!0):R.isTransition=!1,y(R),p=f.pending,p===null?(R.next=f.pending=R,kL(f,R)):(R.next=p.next,f.pending=p.next=R)}}function kL(c,f){var p=f.action,y=f.payload,S=c.state;if(f.isTransition){var R=U.T,B={};U.T=B;try{var Y=p(S,y),J=U.S;J!==null&&J(B,Y),OL(c,f,Y)}catch(de){iA(c,f,de)}finally{U.T=R}}else try{R=p(S,y),OL(c,f,R)}catch(de){iA(c,f,de)}}function OL(c,f,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){RL(c,f,y)},function(y){return iA(c,f,y)}):RL(c,f,p)}function RL(c,f,p){f.status="fulfilled",f.value=p,PL(f),c.state=p,f=c.pending,f!==null&&(p=f.next,p===f?c.pending=null:(p=p.next,f.next=p,kL(c,p)))}function iA(c,f,p){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do f.status="rejected",f.reason=p,PL(f),f=f.next;while(f!==y)}c.action=null}function PL(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function IL(c,f){return f}function ML(c,f){if(pn){var p=Wn.formState;if(p!==null){e:{var y=Ft;if(pn){if(mr){t:{for(var S=mr,R=ho;S.nodeType!==8;){if(!R){S=null;break t}if(S=ka(S.nextSibling),S===null){S=null;break t}}R=S.data,S=R==="F!"||R==="F"?S:null}if(S){mr=ka(S.nextSibling),y=S.data==="F!";break e}}xd(y)}y=!1}y&&(f=p[0])}}return p=ns(),p.memoizedState=p.baseState=f,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:IL,lastRenderedState:f},p.queue=y,p=e5.bind(null,Ft,y),y.dispatch=p,y=rA(!1),R=cA.bind(null,Ft,!1,y.queue),y=ns(),S={state:f,dispatch:null,action:c,pending:null},y.queue=S,p=Xie.bind(null,Ft,S,R,p),S.dispatch=p,y.memoizedState=c,[f,p,!1]}function DL(c){var f=kr();return LL(f,In,c)}function LL(c,f,p){if(f=tA(c,f,IL)[0],c=s0(xl)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var y=Ig(f)}catch(B){throw B===Tg?Jb:B}else y=f;f=kr();var S=f.queue,R=S.dispatch;return p!==f.memoizedState&&(Ft.flags|=2048,Oh(9,a0(),Qie.bind(null,S,p),null)),[y,R,c]}function Qie(c,f){c.action=f}function $L(c){var f=kr(),p=In;if(p!==null)return LL(f,p,c);kr(),f=f.memoizedState,p=kr();var y=p.queue.dispatch;return p.memoizedState=c,[f,y,!1]}function Oh(c,f,p,y){return c={tag:c,create:p,deps:y,inst:f,next:null},f=Ft.updateQueue,f===null&&(f=JN(),Ft.updateQueue=f),p=f.lastEffect,p===null?f.lastEffect=c.next=c:(y=p.next,p.next=c,c.next=y,f.lastEffect=c),c}function a0(){return{destroy:void 0,resource:void 0}}function VL(){return kr().memoizedState}function o0(c,f,p,y){var S=ns();y=y===void 0?null:y,Ft.flags|=c,S.memoizedState=Oh(1|f,a0(),p,y)}function Mg(c,f,p,y){var S=kr();y=y===void 0?null:y;var R=S.memoizedState.inst;In!==null&&y!==null&&YN(y,In.memoizedState.deps)?S.memoizedState=Oh(f,R,p,y):(Ft.flags|=c,S.memoizedState=Oh(1|f,R,p,y))}function FL(c,f){o0(8390656,8,c,f)}function BL(c,f){Mg(2048,8,c,f)}function UL(c,f){return Mg(4,2,c,f)}function zL(c,f){return Mg(4,4,c,f)}function qL(c,f){if(typeof f=="function"){c=c();var p=f(c);return function(){typeof p=="function"?p():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function HL(c,f,p){p=p!=null?p.concat([c]):null,Mg(4,4,qL.bind(null,f,c),p)}function sA(){}function WL(c,f){var p=kr();f=f===void 0?null:f;var y=p.memoizedState;return f!==null&&YN(f,y[1])?y[0]:(p.memoizedState=[c,f],c)}function GL(c,f){var p=kr();f=f===void 0?null:f;var y=p.memoizedState;if(f!==null&&YN(f,y[1]))return y[0];if(y=c(),Sd){Ct(!0);try{c()}finally{Ct(!1)}}return p.memoizedState=[y,f],y}function aA(c,f,p){return p===void 0||(Oc&1073741824)!==0?c.memoizedState=f:(c.memoizedState=p,c=X5(),Ft.lanes|=c,$c|=c,p)}function YL(c,f,p,y){return vs(p,f)?p:Th.current!==null?(c=aA(c,p,y),vs(c,f)||(oi=!0),c):(Oc&42)===0?(oi=!0,c.memoizedState=p):(c=X5(),Ft.lanes|=c,$c|=c,f)}function KL(c,f,p,y,S){var R=q.p;q.p=R!==0&&8>R?R:8;var B=U.T,Y={};U.T=Y,cA(c,!1,f,p);try{var J=S(),de=U.S;if(de!==null&&de(Y,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var _e=Gie(J,y);Dg(c,f,_e,Ss(c))}else Dg(c,f,y,Ss(c))}catch(Ae){Dg(c,f,{then:function(){},status:"rejected",reason:Ae},Ss())}finally{q.p=R,U.T=B}}function Zie(){}function oA(c,f,p,y){if(c.tag!==5)throw Error(r(476));var S=XL(c).queue;KL(c,S,f,G,p===null?Zie:function(){return QL(c),p(y)})}function XL(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:G},next:null};var p={};return f.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:p},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function QL(c){var f=XL(c).next.queue;Dg(c,f,{},Ss())}function lA(){return Ri(ey)}function ZL(){return kr().memoizedState}function JL(){return kr().memoizedState}function Jie(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var p=Ss();c=Cc(p);var y=kc(f,c,p);y!==null&&(js(y,f,p),kg(y,f,p)),f={cache:$N()},c.payload=f;return}f=f.return}}function ese(c,f,p){var y=Ss();p={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},l0(c)?t5(f,p):(p=TN(c,f,p,y),p!==null&&(js(p,c,y),n5(p,f,y)))}function e5(c,f,p){var y=Ss();Dg(c,f,p,y)}function Dg(c,f,p,y){var S={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(l0(c))t5(f,S);else{var R=c.alternate;if(c.lanes===0&&(R===null||R.lanes===0)&&(R=f.lastRenderedReducer,R!==null))try{var B=f.lastRenderedState,Y=R(B,p);if(S.hasEagerState=!0,S.eagerState=Y,vs(Y,B))return Hb(c,f,S,0),Wn===null&&qb(),!1}catch{}finally{}if(p=TN(c,f,S,y),p!==null)return js(p,c,y),n5(p,f,y),!0}return!1}function cA(c,f,p,y){if(y={lane:2,revertLane:BA(),action:y,hasEagerState:!1,eagerState:null,next:null},l0(c)){if(f)throw Error(r(479))}else f=TN(c,p,y,2),f!==null&&js(f,c,2)}function l0(c){var f=c.alternate;return c===Ft||f!==null&&f===Ft}function t5(c,f){Ch=n0=!0;var p=c.pending;p===null?f.next=f:(f.next=p.next,p.next=f),c.pending=f}function n5(c,f,p){if((p&4194048)!==0){var y=f.lanes;y&=c.pendingLanes,p|=y,f.lanes=p,Ar(c,p)}}var c0={readContext:Ri,use:i0,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useLayoutEffect:vr,useInsertionEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useSyncExternalStore:vr,useId:vr,useHostTransitionStatus:vr,useFormState:vr,useActionState:vr,useOptimistic:vr,useMemoCache:vr,useCacheRefresh:vr},r5={readContext:Ri,use:i0,useCallback:function(c,f){return ns().memoizedState=[c,f===void 0?null:f],c},useContext:Ri,useEffect:FL,useImperativeHandle:function(c,f,p){p=p!=null?p.concat([c]):null,o0(4194308,4,qL.bind(null,f,c),p)},useLayoutEffect:function(c,f){return o0(4194308,4,c,f)},useInsertionEffect:function(c,f){o0(4,2,c,f)},useMemo:function(c,f){var p=ns();f=f===void 0?null:f;var y=c();if(Sd){Ct(!0);try{c()}finally{Ct(!1)}}return p.memoizedState=[y,f],y},useReducer:function(c,f,p){var y=ns();if(p!==void 0){var S=p(f);if(Sd){Ct(!0);try{p(f)}finally{Ct(!1)}}}else S=f;return y.memoizedState=y.baseState=S,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:S},y.queue=c,c=c.dispatch=ese.bind(null,Ft,c),[y.memoizedState,c]},useRef:function(c){var f=ns();return c={current:c},f.memoizedState=c},useState:function(c){c=rA(c);var f=c.queue,p=e5.bind(null,Ft,f);return f.dispatch=p,[c.memoizedState,p]},useDebugValue:sA,useDeferredValue:function(c,f){var p=ns();return aA(p,c,f)},useTransition:function(){var c=rA(!1);return c=KL.bind(null,Ft,c.queue,!0,!1),ns().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,p){var y=Ft,S=ns();if(pn){if(p===void 0)throw Error(r(407));p=p()}else{if(p=f(),Wn===null)throw Error(r(349));(on&124)!==0||jL(y,f,p)}S.memoizedState=p;var R={value:p,getSnapshot:f};return S.queue=R,FL(AL.bind(null,y,R,c),[c]),y.flags|=2048,Oh(9,a0(),NL.bind(null,y,R,p,f),null),p},useId:function(){var c=ns(),f=Wn.identifierPrefix;if(pn){var p=gl,y=pl;p=(y&~(1<<32-ve(y)-1)).toString(32)+p,f=""+f+"R"+p,p=r0++,0<p&&(f+="H"+p.toString(32)),f+=""}else p=Yie++,f=""+f+"r"+p.toString(32)+"";return c.memoizedState=f},useHostTransitionStatus:lA,useFormState:ML,useActionState:ML,useOptimistic:function(c){var f=ns();f.memoizedState=f.baseState=c;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=p,f=cA.bind(null,Ft,!0,p),p.dispatch=f,[c,f]},useMemoCache:eA,useCacheRefresh:function(){return ns().memoizedState=Jie.bind(null,Ft)}},i5={readContext:Ri,use:i0,useCallback:WL,useContext:Ri,useEffect:BL,useImperativeHandle:HL,useInsertionEffect:UL,useLayoutEffect:zL,useMemo:GL,useReducer:s0,useRef:VL,useState:function(){return s0(xl)},useDebugValue:sA,useDeferredValue:function(c,f){var p=kr();return YL(p,In.memoizedState,c,f)},useTransition:function(){var c=s0(xl)[0],f=kr().memoizedState;return[typeof c=="boolean"?c:Ig(c),f]},useSyncExternalStore:SL,useId:ZL,useHostTransitionStatus:lA,useFormState:DL,useActionState:DL,useOptimistic:function(c,f){var p=kr();return CL(p,In,c,f)},useMemoCache:eA,useCacheRefresh:JL},tse={readContext:Ri,use:i0,useCallback:WL,useContext:Ri,useEffect:BL,useImperativeHandle:HL,useInsertionEffect:UL,useLayoutEffect:zL,useMemo:GL,useReducer:nA,useRef:VL,useState:function(){return nA(xl)},useDebugValue:sA,useDeferredValue:function(c,f){var p=kr();return In===null?aA(p,c,f):YL(p,In.memoizedState,c,f)},useTransition:function(){var c=nA(xl)[0],f=kr().memoizedState;return[typeof c=="boolean"?c:Ig(c),f]},useSyncExternalStore:SL,useId:ZL,useHostTransitionStatus:lA,useFormState:$L,useActionState:$L,useOptimistic:function(c,f){var p=kr();return In!==null?CL(p,In,c,f):(p.baseState=c,[c,p.queue.dispatch])},useMemoCache:eA,useCacheRefresh:JL},Rh=null,Lg=0;function u0(c){var f=Lg;return Lg+=1,Rh===null&&(Rh=[]),pL(Rh,c,f)}function $g(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function d0(c,f){throw f.$$typeof===m?Error(r(525)):(c=Object.prototype.toString.call(f),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function s5(c){var f=c._init;return f(c._payload)}function a5(c){function f(ie,re){if(c){var le=ie.deletions;le===null?(ie.deletions=[re],ie.flags|=16):le.push(re)}}function p(ie,re){if(!c)return null;for(;re!==null;)f(ie,re),re=re.sibling;return null}function y(ie){for(var re=new Map;ie!==null;)ie.key!==null?re.set(ie.key,ie):re.set(ie.index,ie),ie=ie.sibling;return re}function S(ie,re){return ie=ml(ie,re),ie.index=0,ie.sibling=null,ie}function R(ie,re,le){return ie.index=le,c?(le=ie.alternate,le!==null?(le=le.index,le<re?(ie.flags|=67108866,re):le):(ie.flags|=67108866,re)):(ie.flags|=1048576,re)}function B(ie){return c&&ie.alternate===null&&(ie.flags|=67108866),ie}function Y(ie,re,le,Se){return re===null||re.tag!==6?(re=kN(le,ie.mode,Se),re.return=ie,re):(re=S(re,le),re.return=ie,re)}function J(ie,re,le,Se){var nt=le.type;return nt===b?_e(ie,re,le.props.children,Se,le.key):re!==null&&(re.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===k&&s5(nt)===re.type)?(re=S(re,le.props),$g(re,le),re.return=ie,re):(re=Gb(le.type,le.key,le.props,null,ie.mode,Se),$g(re,le),re.return=ie,re)}function de(ie,re,le,Se){return re===null||re.tag!==4||re.stateNode.containerInfo!==le.containerInfo||re.stateNode.implementation!==le.implementation?(re=ON(le,ie.mode,Se),re.return=ie,re):(re=S(re,le.children||[]),re.return=ie,re)}function _e(ie,re,le,Se,nt){return re===null||re.tag!==7?(re=pd(le,ie.mode,Se,nt),re.return=ie,re):(re=S(re,le),re.return=ie,re)}function Ae(ie,re,le){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=kN(""+re,ie.mode,le),re.return=ie,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case g:return le=Gb(re.type,re.key,re.props,null,ie.mode,le),$g(le,re),le.return=ie,le;case v:return re=ON(re,ie.mode,le),re.return=ie,re;case k:var Se=re._init;return re=Se(re._payload),Ae(ie,re,le)}if(H(re)||V(re))return re=pd(re,ie.mode,le,null),re.return=ie,re;if(typeof re.then=="function")return Ae(ie,u0(re),le);if(re.$$typeof===C)return Ae(ie,Qb(ie,re),le);d0(ie,re)}return null}function fe(ie,re,le,Se){var nt=re!==null?re.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return nt!==null?null:Y(ie,re,""+le,Se);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case g:return le.key===nt?J(ie,re,le,Se):null;case v:return le.key===nt?de(ie,re,le,Se):null;case k:return nt=le._init,le=nt(le._payload),fe(ie,re,le,Se)}if(H(le)||V(le))return nt!==null?null:_e(ie,re,le,Se,null);if(typeof le.then=="function")return fe(ie,re,u0(le),Se);if(le.$$typeof===C)return fe(ie,re,Qb(ie,le),Se);d0(ie,le)}return null}function he(ie,re,le,Se,nt){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return ie=ie.get(le)||null,Y(re,ie,""+Se,nt);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case g:return ie=ie.get(Se.key===null?le:Se.key)||null,J(re,ie,Se,nt);case v:return ie=ie.get(Se.key===null?le:Se.key)||null,de(re,ie,Se,nt);case k:var qt=Se._init;return Se=qt(Se._payload),he(ie,re,le,Se,nt)}if(H(Se)||V(Se))return ie=ie.get(le)||null,_e(re,ie,Se,nt,null);if(typeof Se.then=="function")return he(ie,re,le,u0(Se),nt);if(Se.$$typeof===C)return he(ie,re,le,Qb(re,Se),nt);d0(re,Se)}return null}function Nt(ie,re,le,Se){for(var nt=null,qt=null,dt=re,vt=re=0,ci=null;dt!==null&&vt<le.length;vt++){dt.index>vt?(ci=dt,dt=null):ci=dt.sibling;var fn=fe(ie,dt,le[vt],Se);if(fn===null){dt===null&&(dt=ci);break}c&&dt&&fn.alternate===null&&f(ie,dt),re=R(fn,re,vt),qt===null?nt=fn:qt.sibling=fn,qt=fn,dt=ci}if(vt===le.length)return p(ie,dt),pn&&yd(ie,vt),nt;if(dt===null){for(;vt<le.length;vt++)dt=Ae(ie,le[vt],Se),dt!==null&&(re=R(dt,re,vt),qt===null?nt=dt:qt.sibling=dt,qt=dt);return pn&&yd(ie,vt),nt}for(dt=y(dt);vt<le.length;vt++)ci=he(dt,ie,vt,le[vt],Se),ci!==null&&(c&&ci.alternate!==null&&dt.delete(ci.key===null?vt:ci.key),re=R(ci,re,vt),qt===null?nt=ci:qt.sibling=ci,qt=ci);return c&&dt.forEach(function(Gc){return f(ie,Gc)}),pn&&yd(ie,vt),nt}function gt(ie,re,le,Se){if(le==null)throw Error(r(151));for(var nt=null,qt=null,dt=re,vt=re=0,ci=null,fn=le.next();dt!==null&&!fn.done;vt++,fn=le.next()){dt.index>vt?(ci=dt,dt=null):ci=dt.sibling;var Gc=fe(ie,dt,fn.value,Se);if(Gc===null){dt===null&&(dt=ci);break}c&&dt&&Gc.alternate===null&&f(ie,dt),re=R(Gc,re,vt),qt===null?nt=Gc:qt.sibling=Gc,qt=Gc,dt=ci}if(fn.done)return p(ie,dt),pn&&yd(ie,vt),nt;if(dt===null){for(;!fn.done;vt++,fn=le.next())fn=Ae(ie,fn.value,Se),fn!==null&&(re=R(fn,re,vt),qt===null?nt=fn:qt.sibling=fn,qt=fn);return pn&&yd(ie,vt),nt}for(dt=y(dt);!fn.done;vt++,fn=le.next())fn=he(dt,ie,vt,fn.value,Se),fn!==null&&(c&&fn.alternate!==null&&dt.delete(fn.key===null?vt:fn.key),re=R(fn,re,vt),qt===null?nt=fn:qt.sibling=fn,qt=fn);return c&&dt.forEach(function(nae){return f(ie,nae)}),pn&&yd(ie,vt),nt}function Dn(ie,re,le,Se){if(typeof le=="object"&&le!==null&&le.type===b&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case g:e:{for(var nt=le.key;re!==null;){if(re.key===nt){if(nt=le.type,nt===b){if(re.tag===7){p(ie,re.sibling),Se=S(re,le.props.children),Se.return=ie,ie=Se;break e}}else if(re.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===k&&s5(nt)===re.type){p(ie,re.sibling),Se=S(re,le.props),$g(Se,le),Se.return=ie,ie=Se;break e}p(ie,re);break}else f(ie,re);re=re.sibling}le.type===b?(Se=pd(le.props.children,ie.mode,Se,le.key),Se.return=ie,ie=Se):(Se=Gb(le.type,le.key,le.props,null,ie.mode,Se),$g(Se,le),Se.return=ie,ie=Se)}return B(ie);case v:e:{for(nt=le.key;re!==null;){if(re.key===nt)if(re.tag===4&&re.stateNode.containerInfo===le.containerInfo&&re.stateNode.implementation===le.implementation){p(ie,re.sibling),Se=S(re,le.children||[]),Se.return=ie,ie=Se;break e}else{p(ie,re);break}else f(ie,re);re=re.sibling}Se=ON(le,ie.mode,Se),Se.return=ie,ie=Se}return B(ie);case k:return nt=le._init,le=nt(le._payload),Dn(ie,re,le,Se)}if(H(le))return Nt(ie,re,le,Se);if(V(le)){if(nt=V(le),typeof nt!="function")throw Error(r(150));return le=nt.call(le),gt(ie,re,le,Se)}if(typeof le.then=="function")return Dn(ie,re,u0(le),Se);if(le.$$typeof===C)return Dn(ie,re,Qb(ie,le),Se);d0(ie,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,re!==null&&re.tag===6?(p(ie,re.sibling),Se=S(re,le),Se.return=ie,ie=Se):(p(ie,re),Se=kN(le,ie.mode,Se),Se.return=ie,ie=Se),B(ie)):p(ie,re)}return function(ie,re,le,Se){try{Lg=0;var nt=Dn(ie,re,le,Se);return Rh=null,nt}catch(dt){if(dt===Tg||dt===Jb)throw dt;var qt=xs(29,dt,null,ie.mode);return qt.lanes=Se,qt.return=ie,qt}finally{}}}var Ph=a5(!0),o5=a5(!1),na=Z(null),mo=null;function Rc(c){var f=c.alternate;ne(Gr,Gr.current&1),ne(na,c),mo===null&&(f===null||Th.current!==null||f.memoizedState!==null)&&(mo=c)}function l5(c){if(c.tag===22){if(ne(Gr,Gr.current),ne(na,c),mo===null){var f=c.alternate;f!==null&&f.memoizedState!==null&&(mo=c)}}else Pc()}function Pc(){ne(Gr,Gr.current),ne(na,na.current)}function bl(c){te(na),mo===c&&(mo=null),te(Gr)}var Gr=Z(0);function f0(c){for(var f=c;f!==null;){if(f.tag===13){var p=f.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||JA(p)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function uA(c,f,p,y){f=c.memoizedState,p=p(y,f),p=p==null?f:h({},f,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var dA={enqueueSetState:function(c,f,p){c=c._reactInternals;var y=Ss(),S=Cc(y);S.payload=f,p!=null&&(S.callback=p),f=kc(c,S,y),f!==null&&(js(f,c,y),kg(f,c,y))},enqueueReplaceState:function(c,f,p){c=c._reactInternals;var y=Ss(),S=Cc(y);S.tag=1,S.payload=f,p!=null&&(S.callback=p),f=kc(c,S,y),f!==null&&(js(f,c,y),kg(f,c,y))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var p=Ss(),y=Cc(p);y.tag=2,f!=null&&(y.callback=f),f=kc(c,y,p),f!==null&&(js(f,c,p),kg(f,c,p))}};function c5(c,f,p,y,S,R,B){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,R,B):f.prototype&&f.prototype.isPureReactComponent?!bg(p,y)||!bg(S,R):!0}function u5(c,f,p,y){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(p,y),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(p,y),f.state!==c&&dA.enqueueReplaceState(f,f.state,null)}function jd(c,f){var p=f;if("ref"in f){p={};for(var y in f)y!=="ref"&&(p[y]=f[y])}if(c=c.defaultProps){p===f&&(p=h({},p));for(var S in c)p[S]===void 0&&(p[S]=c[S])}return p}var h0=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function d5(c){h0(c)}function f5(c){console.error(c)}function h5(c){h0(c)}function m0(c,f){try{var p=c.onUncaughtError;p(f.value,{componentStack:f.stack})}catch(y){setTimeout(function(){throw y})}}function m5(c,f,p){try{var y=c.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function fA(c,f,p){return p=Cc(p),p.tag=3,p.payload={element:null},p.callback=function(){m0(c,f)},p}function p5(c){return c=Cc(c),c.tag=3,c}function g5(c,f,p,y){var S=p.type.getDerivedStateFromError;if(typeof S=="function"){var R=y.value;c.payload=function(){return S(R)},c.callback=function(){m5(f,p,y)}}var B=p.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(c.callback=function(){m5(f,p,y),typeof S!="function"&&(Vc===null?Vc=new Set([this]):Vc.add(this));var Y=y.stack;this.componentDidCatch(y.value,{componentStack:Y!==null?Y:""})})}function nse(c,f,p,y,S){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(f=p.alternate,f!==null&&Ng(f,p,S,!0),p=na.current,p!==null){switch(p.tag){case 13:return mo===null?DA():p.alternate===null&&pr===0&&(pr=3),p.flags&=-257,p.flags|=65536,p.lanes=S,y===BN?p.flags|=16384:(f=p.updateQueue,f===null?p.updateQueue=new Set([y]):f.add(y),$A(c,y,S)),!1;case 22:return p.flags|=65536,y===BN?p.flags|=16384:(f=p.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=f):(p=f.retryQueue,p===null?f.retryQueue=new Set([y]):p.add(y)),$A(c,y,S)),!1}throw Error(r(435,p.tag))}return $A(c,y,S),DA(),!1}if(pn)return f=na.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=S,y!==IN&&(c=Error(r(422),{cause:y}),jg(Zs(c,p)))):(y!==IN&&(f=Error(r(423),{cause:y}),jg(Zs(f,p))),c=c.current.alternate,c.flags|=65536,S&=-S,c.lanes|=S,y=Zs(y,p),S=fA(c.stateNode,y,S),qN(c,S),pr!==4&&(pr=2)),!1;var R=Error(r(520),{cause:y});if(R=Zs(R,p),Hg===null?Hg=[R]:Hg.push(R),pr!==4&&(pr=2),f===null)return!0;y=Zs(y,p),p=f;do{switch(p.tag){case 3:return p.flags|=65536,c=S&-S,p.lanes|=c,c=fA(p.stateNode,y,c),qN(p,c),!1;case 1:if(f=p.type,R=p.stateNode,(p.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Vc===null||!Vc.has(R))))return p.flags|=65536,S&=-S,p.lanes|=S,S=p5(S),g5(S,c,p,y),qN(p,S),!1}p=p.return}while(p!==null);return!1}var y5=Error(r(461)),oi=!1;function ji(c,f,p,y){f.child=c===null?o5(f,null,p,y):Ph(f,c.child,p,y)}function v5(c,f,p,y,S){p=p.render;var R=f.ref;if("ref"in y){var B={};for(var Y in y)Y!=="ref"&&(B[Y]=y[Y])}else B=y;return _d(f),y=KN(c,f,p,B,R,S),Y=XN(),c!==null&&!oi?(QN(c,f,S),_l(c,f,S)):(pn&&Y&&RN(f),f.flags|=1,ji(c,f,y,S),f.child)}function x5(c,f,p,y,S){if(c===null){var R=p.type;return typeof R=="function"&&!CN(R)&&R.defaultProps===void 0&&p.compare===null?(f.tag=15,f.type=R,b5(c,f,R,y,S)):(c=Gb(p.type,null,y,f,f.mode,S),c.ref=f.ref,c.return=f,f.child=c)}if(R=c.child,!bA(c,S)){var B=R.memoizedProps;if(p=p.compare,p=p!==null?p:bg,p(B,y)&&c.ref===f.ref)return _l(c,f,S)}return f.flags|=1,c=ml(R,y),c.ref=f.ref,c.return=f,f.child=c}function b5(c,f,p,y,S){if(c!==null){var R=c.memoizedProps;if(bg(R,y)&&c.ref===f.ref)if(oi=!1,f.pendingProps=y=R,bA(c,S))(c.flags&131072)!==0&&(oi=!0);else return f.lanes=c.lanes,_l(c,f,S)}return hA(c,f,p,y,S)}function _5(c,f,p){var y=f.pendingProps,S=y.children,R=c!==null?c.memoizedState:null;if(y.mode==="hidden"){if((f.flags&128)!==0){if(y=R!==null?R.baseLanes|p:p,c!==null){for(S=f.child=c.child,R=0;S!==null;)R=R|S.lanes|S.childLanes,S=S.sibling;f.childLanes=R&~y}else f.childLanes=0,f.child=null;return w5(c,f,y,p)}if((p&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&Zb(f,R!==null?R.cachePool:null),R!==null?bL(f,R):WN(),l5(f);else return f.lanes=f.childLanes=536870912,w5(c,f,R!==null?R.baseLanes|p:p,p)}else R!==null?(Zb(f,R.cachePool),bL(f,R),Pc(),f.memoizedState=null):(c!==null&&Zb(f,null),WN(),Pc());return ji(c,f,S,p),f.child}function w5(c,f,p,y){var S=FN();return S=S===null?null:{parent:Wr._currentValue,pool:S},f.memoizedState={baseLanes:p,cachePool:S},c!==null&&Zb(f,null),WN(),l5(f),c!==null&&Ng(c,f,y,!0),null}function p0(c,f){var p=f.ref;if(p===null)c!==null&&c.ref!==null&&(f.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(c===null||c.ref!==p)&&(f.flags|=4194816)}}function hA(c,f,p,y,S){return _d(f),p=KN(c,f,p,y,void 0,S),y=XN(),c!==null&&!oi?(QN(c,f,S),_l(c,f,S)):(pn&&y&&RN(f),f.flags|=1,ji(c,f,p,S),f.child)}function S5(c,f,p,y,S,R){return _d(f),f.updateQueue=null,p=wL(f,y,p,S),_L(c),y=XN(),c!==null&&!oi?(QN(c,f,R),_l(c,f,R)):(pn&&y&&RN(f),f.flags|=1,ji(c,f,p,R),f.child)}function j5(c,f,p,y,S){if(_d(f),f.stateNode===null){var R=Sh,B=p.contextType;typeof B=="object"&&B!==null&&(R=Ri(B)),R=new p(y,R),f.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=dA,f.stateNode=R,R._reactInternals=f,R=f.stateNode,R.props=y,R.state=f.memoizedState,R.refs={},UN(f),B=p.contextType,R.context=typeof B=="object"&&B!==null?Ri(B):Sh,R.state=f.memoizedState,B=p.getDerivedStateFromProps,typeof B=="function"&&(uA(f,p,B,y),R.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(B=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),B!==R.state&&dA.enqueueReplaceState(R,R.state,null),Rg(f,y,R,S),Og(),R.state=f.memoizedState),typeof R.componentDidMount=="function"&&(f.flags|=4194308),y=!0}else if(c===null){R=f.stateNode;var Y=f.memoizedProps,J=jd(p,Y);R.props=J;var de=R.context,_e=p.contextType;B=Sh,typeof _e=="object"&&_e!==null&&(B=Ri(_e));var Ae=p.getDerivedStateFromProps;_e=typeof Ae=="function"||typeof R.getSnapshotBeforeUpdate=="function",Y=f.pendingProps!==Y,_e||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(Y||de!==B)&&u5(f,R,y,B),Tc=!1;var fe=f.memoizedState;R.state=fe,Rg(f,y,R,S),Og(),de=f.memoizedState,Y||fe!==de||Tc?(typeof Ae=="function"&&(uA(f,p,Ae,y),de=f.memoizedState),(J=Tc||c5(f,p,J,y,fe,de,B))?(_e||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(f.flags|=4194308)):(typeof R.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=y,f.memoizedState=de),R.props=y,R.state=de,R.context=B,y=J):(typeof R.componentDidMount=="function"&&(f.flags|=4194308),y=!1)}else{R=f.stateNode,zN(c,f),B=f.memoizedProps,_e=jd(p,B),R.props=_e,Ae=f.pendingProps,fe=R.context,de=p.contextType,J=Sh,typeof de=="object"&&de!==null&&(J=Ri(de)),Y=p.getDerivedStateFromProps,(de=typeof Y=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(B!==Ae||fe!==J)&&u5(f,R,y,J),Tc=!1,fe=f.memoizedState,R.state=fe,Rg(f,y,R,S),Og();var he=f.memoizedState;B!==Ae||fe!==he||Tc||c!==null&&c.dependencies!==null&&Xb(c.dependencies)?(typeof Y=="function"&&(uA(f,p,Y,y),he=f.memoizedState),(_e=Tc||c5(f,p,_e,y,fe,he,J)||c!==null&&c.dependencies!==null&&Xb(c.dependencies))?(de||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(y,he,J),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(y,he,J)),typeof R.componentDidUpdate=="function"&&(f.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof R.componentDidUpdate!="function"||B===c.memoizedProps&&fe===c.memoizedState||(f.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||B===c.memoizedProps&&fe===c.memoizedState||(f.flags|=1024),f.memoizedProps=y,f.memoizedState=he),R.props=y,R.state=he,R.context=J,y=_e):(typeof R.componentDidUpdate!="function"||B===c.memoizedProps&&fe===c.memoizedState||(f.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||B===c.memoizedProps&&fe===c.memoizedState||(f.flags|=1024),y=!1)}return R=y,p0(c,f),y=(f.flags&128)!==0,R||y?(R=f.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:R.render(),f.flags|=1,c!==null&&y?(f.child=Ph(f,c.child,null,S),f.child=Ph(f,null,p,S)):ji(c,f,p,S),f.memoizedState=R.state,c=f.child):c=_l(c,f,S),c}function N5(c,f,p,y){return Sg(),f.flags|=256,ji(c,f,p,y),f.child}var mA={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pA(c){return{baseLanes:c,cachePool:fL()}}function gA(c,f,p){return c=c!==null?c.childLanes&~p:0,f&&(c|=ra),c}function A5(c,f,p){var y=f.pendingProps,S=!1,R=(f.flags&128)!==0,B;if((B=R)||(B=c!==null&&c.memoizedState===null?!1:(Gr.current&2)!==0),B&&(S=!0,f.flags&=-129),B=(f.flags&32)!==0,f.flags&=-33,c===null){if(pn){if(S?Rc(f):Pc(),pn){var Y=mr,J;if(J=Y){e:{for(J=Y,Y=ho;J.nodeType!==8;){if(!Y){Y=null;break e}if(J=ka(J.nextSibling),J===null){Y=null;break e}}Y=J}Y!==null?(f.memoizedState={dehydrated:Y,treeContext:gd!==null?{id:pl,overflow:gl}:null,retryLane:536870912,hydrationErrors:null},J=xs(18,null,null,0),J.stateNode=Y,J.return=f,f.child=J,Gi=f,mr=null,J=!0):J=!1}J||xd(f)}if(Y=f.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))return JA(Y)?f.lanes=32:f.lanes=536870912,null;bl(f)}return Y=y.children,y=y.fallback,S?(Pc(),S=f.mode,Y=g0({mode:"hidden",children:Y},S),y=pd(y,S,p,null),Y.return=f,y.return=f,Y.sibling=y,f.child=Y,S=f.child,S.memoizedState=pA(p),S.childLanes=gA(c,B,p),f.memoizedState=mA,y):(Rc(f),yA(f,Y))}if(J=c.memoizedState,J!==null&&(Y=J.dehydrated,Y!==null)){if(R)f.flags&256?(Rc(f),f.flags&=-257,f=vA(c,f,p)):f.memoizedState!==null?(Pc(),f.child=c.child,f.flags|=128,f=null):(Pc(),S=y.fallback,Y=f.mode,y=g0({mode:"visible",children:y.children},Y),S=pd(S,Y,p,null),S.flags|=2,y.return=f,S.return=f,y.sibling=S,f.child=y,Ph(f,c.child,null,p),y=f.child,y.memoizedState=pA(p),y.childLanes=gA(c,B,p),f.memoizedState=mA,f=S);else if(Rc(f),JA(Y)){if(B=Y.nextSibling&&Y.nextSibling.dataset,B)var de=B.dgst;B=de,y=Error(r(419)),y.stack="",y.digest=B,jg({value:y,source:null,stack:null}),f=vA(c,f,p)}else if(oi||Ng(c,f,p,!1),B=(p&c.childLanes)!==0,oi||B){if(B=Wn,B!==null&&(y=p&-p,y=(y&42)!==0?1:Bn(y),y=(y&(B.suspendedLanes|p))!==0?0:y,y!==0&&y!==J.retryLane))throw J.retryLane=y,wh(c,y),js(B,c,y),y5;Y.data==="$?"||DA(),f=vA(c,f,p)}else Y.data==="$?"?(f.flags|=192,f.child=c.child,f=null):(c=J.treeContext,mr=ka(Y.nextSibling),Gi=f,pn=!0,vd=null,ho=!1,c!==null&&(ea[ta++]=pl,ea[ta++]=gl,ea[ta++]=gd,pl=c.id,gl=c.overflow,gd=f),f=yA(f,y.children),f.flags|=4096);return f}return S?(Pc(),S=y.fallback,Y=f.mode,J=c.child,de=J.sibling,y=ml(J,{mode:"hidden",children:y.children}),y.subtreeFlags=J.subtreeFlags&65011712,de!==null?S=ml(de,S):(S=pd(S,Y,p,null),S.flags|=2),S.return=f,y.return=f,y.sibling=S,f.child=y,y=S,S=f.child,Y=c.child.memoizedState,Y===null?Y=pA(p):(J=Y.cachePool,J!==null?(de=Wr._currentValue,J=J.parent!==de?{parent:de,pool:de}:J):J=fL(),Y={baseLanes:Y.baseLanes|p,cachePool:J}),S.memoizedState=Y,S.childLanes=gA(c,B,p),f.memoizedState=mA,y):(Rc(f),p=c.child,c=p.sibling,p=ml(p,{mode:"visible",children:y.children}),p.return=f,p.sibling=null,c!==null&&(B=f.deletions,B===null?(f.deletions=[c],f.flags|=16):B.push(c)),f.child=p,f.memoizedState=null,p)}function yA(c,f){return f=g0({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function g0(c,f){return c=xs(22,c,null,f),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function vA(c,f,p){return Ph(f,c.child,null,p),c=yA(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function E5(c,f,p){c.lanes|=f;var y=c.alternate;y!==null&&(y.lanes|=f),DN(c.return,f,p)}function xA(c,f,p,y,S){var R=c.memoizedState;R===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:S}:(R.isBackwards=f,R.rendering=null,R.renderingStartTime=0,R.last=y,R.tail=p,R.tailMode=S)}function T5(c,f,p){var y=f.pendingProps,S=y.revealOrder,R=y.tail;if(ji(c,f,y.children,p),y=Gr.current,(y&2)!==0)y=y&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&E5(c,p,f);else if(c.tag===19)E5(c,p,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}y&=1}switch(ne(Gr,y),S){case"forwards":for(p=f.child,S=null;p!==null;)c=p.alternate,c!==null&&f0(c)===null&&(S=p),p=p.sibling;p=S,p===null?(S=f.child,f.child=null):(S=p.sibling,p.sibling=null),xA(f,!1,S,p,R);break;case"backwards":for(p=null,S=f.child,f.child=null;S!==null;){if(c=S.alternate,c!==null&&f0(c)===null){f.child=S;break}c=S.sibling,S.sibling=p,p=S,S=c}xA(f,!0,p,null,R);break;case"together":xA(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function _l(c,f,p){if(c!==null&&(f.dependencies=c.dependencies),$c|=f.lanes,(p&f.childLanes)===0)if(c!==null){if(Ng(c,f,p,!1),(p&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(r(153));if(f.child!==null){for(c=f.child,p=ml(c,c.pendingProps),f.child=p,p.return=f;c.sibling!==null;)c=c.sibling,p=p.sibling=ml(c,c.pendingProps),p.return=f;p.sibling=null}return f.child}function bA(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&Xb(c)))}function rse(c,f,p){switch(f.tag){case 3:ce(f,f.stateNode.containerInfo),Ec(f,Wr,c.memoizedState.cache),Sg();break;case 27:case 5:we(f);break;case 4:ce(f,f.stateNode.containerInfo);break;case 10:Ec(f,f.type,f.memoizedProps.value);break;case 13:var y=f.memoizedState;if(y!==null)return y.dehydrated!==null?(Rc(f),f.flags|=128,null):(p&f.child.childLanes)!==0?A5(c,f,p):(Rc(f),c=_l(c,f,p),c!==null?c.sibling:null);Rc(f);break;case 19:var S=(c.flags&128)!==0;if(y=(p&f.childLanes)!==0,y||(Ng(c,f,p,!1),y=(p&f.childLanes)!==0),S){if(y)return T5(c,f,p);f.flags|=128}if(S=f.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ne(Gr,Gr.current),y)break;return null;case 22:case 23:return f.lanes=0,_5(c,f,p);case 24:Ec(f,Wr,c.memoizedState.cache)}return _l(c,f,p)}function C5(c,f,p){if(c!==null)if(c.memoizedProps!==f.pendingProps)oi=!0;else{if(!bA(c,p)&&(f.flags&128)===0)return oi=!1,rse(c,f,p);oi=(c.flags&131072)!==0}else oi=!1,pn&&(f.flags&1048576)!==0&&sL(f,Kb,f.index);switch(f.lanes=0,f.tag){case 16:e:{c=f.pendingProps;var y=f.elementType,S=y._init;if(y=S(y._payload),f.type=y,typeof y=="function")CN(y)?(c=jd(y,c),f.tag=1,f=j5(null,f,y,c,p)):(f.tag=0,f=hA(null,f,y,c,p));else{if(y!=null){if(S=y.$$typeof,S===P){f.tag=11,f=v5(null,f,y,c,p);break e}else if(S===E){f.tag=14,f=x5(null,f,y,c,p);break e}}throw f=X(y)||y,Error(r(306,f,""))}}return f;case 0:return hA(c,f,f.type,f.pendingProps,p);case 1:return y=f.type,S=jd(y,f.pendingProps),j5(c,f,y,S,p);case 3:e:{if(ce(f,f.stateNode.containerInfo),c===null)throw Error(r(387));y=f.pendingProps;var R=f.memoizedState;S=R.element,zN(c,f),Rg(f,y,null,p);var B=f.memoizedState;if(y=B.cache,Ec(f,Wr,y),y!==R.cache&&LN(f,[Wr],p,!0),Og(),y=B.element,R.isDehydrated)if(R={element:y,isDehydrated:!1,cache:B.cache},f.updateQueue.baseState=R,f.memoizedState=R,f.flags&256){f=N5(c,f,y,p);break e}else if(y!==S){S=Zs(Error(r(424)),f),jg(S),f=N5(c,f,y,p);break e}else{switch(c=f.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(mr=ka(c.firstChild),Gi=f,pn=!0,vd=null,ho=!0,p=o5(f,null,y,p),f.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Sg(),y===S){f=_l(c,f,p);break e}ji(c,f,y,p)}f=f.child}return f;case 26:return p0(c,f),c===null?(p=P3(f.type,null,f.pendingProps,null))?f.memoizedState=p:pn||(p=f.type,c=f.pendingProps,y=k0(Te.current).createElement(p),y[hr]=f,y[Er]=c,Ai(y,p,c),yr(y),f.stateNode=y):f.memoizedState=P3(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:return we(f),c===null&&pn&&(y=f.stateNode=k3(f.type,f.pendingProps,Te.current),Gi=f,ho=!0,S=mr,Uc(f.type)?(eE=S,mr=ka(y.firstChild)):mr=S),ji(c,f,f.pendingProps.children,p),p0(c,f),c===null&&(f.flags|=4194304),f.child;case 5:return c===null&&pn&&((S=y=mr)&&(y=Ose(y,f.type,f.pendingProps,ho),y!==null?(f.stateNode=y,Gi=f,mr=ka(y.firstChild),ho=!1,S=!0):S=!1),S||xd(f)),we(f),S=f.type,R=f.pendingProps,B=c!==null?c.memoizedProps:null,y=R.children,XA(S,R)?y=null:B!==null&&XA(S,B)&&(f.flags|=32),f.memoizedState!==null&&(S=KN(c,f,Kie,null,null,p),ey._currentValue=S),p0(c,f),ji(c,f,y,p),f.child;case 6:return c===null&&pn&&((c=p=mr)&&(p=Rse(p,f.pendingProps,ho),p!==null?(f.stateNode=p,Gi=f,mr=null,c=!0):c=!1),c||xd(f)),null;case 13:return A5(c,f,p);case 4:return ce(f,f.stateNode.containerInfo),y=f.pendingProps,c===null?f.child=Ph(f,null,y,p):ji(c,f,y,p),f.child;case 11:return v5(c,f,f.type,f.pendingProps,p);case 7:return ji(c,f,f.pendingProps,p),f.child;case 8:return ji(c,f,f.pendingProps.children,p),f.child;case 12:return ji(c,f,f.pendingProps.children,p),f.child;case 10:return y=f.pendingProps,Ec(f,f.type,y.value),ji(c,f,y.children,p),f.child;case 9:return S=f.type._context,y=f.pendingProps.children,_d(f),S=Ri(S),y=y(S),f.flags|=1,ji(c,f,y,p),f.child;case 14:return x5(c,f,f.type,f.pendingProps,p);case 15:return b5(c,f,f.type,f.pendingProps,p);case 19:return T5(c,f,p);case 31:return y=f.pendingProps,p=f.mode,y={mode:y.mode,children:y.children},c===null?(p=g0(y,p),p.ref=f.ref,f.child=p,p.return=f,f=p):(p=ml(c.child,y),p.ref=f.ref,f.child=p,p.return=f,f=p),f;case 22:return _5(c,f,p);case 24:return _d(f),y=Ri(Wr),c===null?(S=FN(),S===null&&(S=Wn,R=$N(),S.pooledCache=R,R.refCount++,R!==null&&(S.pooledCacheLanes|=p),S=R),f.memoizedState={parent:y,cache:S},UN(f),Ec(f,Wr,S)):((c.lanes&p)!==0&&(zN(c,f),Rg(f,null,null,p),Og()),S=c.memoizedState,R=f.memoizedState,S.parent!==y?(S={parent:y,cache:y},f.memoizedState=S,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=S),Ec(f,Wr,y)):(y=R.cache,Ec(f,Wr,y),y!==S.cache&&LN(f,[Wr],p,!0))),ji(c,f,f.pendingProps.children,p),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function wl(c){c.flags|=4}function k5(c,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!$3(f)){if(f=na.current,f!==null&&((on&4194048)===on?mo!==null:(on&62914560)!==on&&(on&536870912)===0||f!==mo))throw Cg=BN,hL;c.flags|=8192}}function y0(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?rl():536870912,c.lanes|=f,Lh|=f)}function Vg(c,f){if(!pn)switch(c.tailMode){case"hidden":f=c.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function lr(c){var f=c.alternate!==null&&c.alternate.child===c.child,p=0,y=0;if(f)for(var S=c.child;S!==null;)p|=S.lanes|S.childLanes,y|=S.subtreeFlags&65011712,y|=S.flags&65011712,S.return=c,S=S.sibling;else for(S=c.child;S!==null;)p|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=c,S=S.sibling;return c.subtreeFlags|=y,c.childLanes=p,f}function ise(c,f,p){var y=f.pendingProps;switch(PN(f),f.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(f),null;case 1:return lr(f),null;case 3:return p=f.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),vl(Wr),oe(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(c===null||c.child===null)&&(wg(f)?wl(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,lL())),lr(f),null;case 26:return p=f.memoizedState,c===null?(wl(f),p!==null?(lr(f),k5(f,p)):(lr(f),f.flags&=-16777217)):p?p!==c.memoizedState?(wl(f),lr(f),k5(f,p)):(lr(f),f.flags&=-16777217):(c.memoizedProps!==y&&wl(f),lr(f),f.flags&=-16777217),null;case 27:Ne(f),p=Te.current;var S=f.type;if(c!==null&&f.stateNode!=null)c.memoizedProps!==y&&wl(f);else{if(!y){if(f.stateNode===null)throw Error(r(166));return lr(f),null}c=ge.current,wg(f)?aL(f):(c=k3(S,y,p),f.stateNode=c,wl(f))}return lr(f),null;case 5:if(Ne(f),p=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==y&&wl(f);else{if(!y){if(f.stateNode===null)throw Error(r(166));return lr(f),null}if(c=ge.current,wg(f))aL(f);else{switch(S=k0(Te.current),c){case 1:c=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:c=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":c=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":c=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":c=S.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof y.is=="string"?S.createElement("select",{is:y.is}):S.createElement("select"),y.multiple?c.multiple=!0:y.size&&(c.size=y.size);break;default:c=typeof y.is=="string"?S.createElement(p,{is:y.is}):S.createElement(p)}}c[hr]=f,c[Er]=y;e:for(S=f.child;S!==null;){if(S.tag===5||S.tag===6)c.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===f)break e;for(;S.sibling===null;){if(S.return===null||S.return===f)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}f.stateNode=c;e:switch(Ai(c,p,y),p){case"button":case"input":case"select":case"textarea":c=!!y.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&wl(f)}}return lr(f),f.flags&=-16777217,null;case 6:if(c&&f.stateNode!=null)c.memoizedProps!==y&&wl(f);else{if(typeof y!="string"&&f.stateNode===null)throw Error(r(166));if(c=Te.current,wg(f)){if(c=f.stateNode,p=f.memoizedProps,y=null,S=Gi,S!==null)switch(S.tag){case 27:case 5:y=S.memoizedProps}c[hr]=f,c=!!(c.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||S3(c.nodeValue,p)),c||xd(f)}else c=k0(c).createTextNode(y),c[hr]=f,f.stateNode=c}return lr(f),null;case 13:if(y=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(S=wg(f),y!==null&&y.dehydrated!==null){if(c===null){if(!S)throw Error(r(318));if(S=f.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[hr]=f}else Sg(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;lr(f),S=!1}else S=lL(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=S),S=!0;if(!S)return f.flags&256?(bl(f),f):(bl(f),null)}if(bl(f),(f.flags&128)!==0)return f.lanes=p,f;if(p=y!==null,c=c!==null&&c.memoizedState!==null,p){y=f.child,S=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(S=y.alternate.memoizedState.cachePool.pool);var R=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(R=y.memoizedState.cachePool.pool),R!==S&&(y.flags|=2048)}return p!==c&&p&&(f.child.flags|=8192),y0(f,f.updateQueue),lr(f),null;case 4:return oe(),c===null&&HA(f.stateNode.containerInfo),lr(f),null;case 10:return vl(f.type),lr(f),null;case 19:if(te(Gr),S=f.memoizedState,S===null)return lr(f),null;if(y=(f.flags&128)!==0,R=S.rendering,R===null)if(y)Vg(S,!1);else{if(pr!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(R=f0(c),R!==null){for(f.flags|=128,Vg(S,!1),c=R.updateQueue,f.updateQueue=c,y0(f,c),f.subtreeFlags=0,c=p,p=f.child;p!==null;)iL(p,c),p=p.sibling;return ne(Gr,Gr.current&1|2),f.child}c=c.sibling}S.tail!==null&&At()>b0&&(f.flags|=128,y=!0,Vg(S,!1),f.lanes=4194304)}else{if(!y)if(c=f0(R),c!==null){if(f.flags|=128,y=!0,c=c.updateQueue,f.updateQueue=c,y0(f,c),Vg(S,!0),S.tail===null&&S.tailMode==="hidden"&&!R.alternate&&!pn)return lr(f),null}else 2*At()-S.renderingStartTime>b0&&p!==536870912&&(f.flags|=128,y=!0,Vg(S,!1),f.lanes=4194304);S.isBackwards?(R.sibling=f.child,f.child=R):(c=S.last,c!==null?c.sibling=R:f.child=R,S.last=R)}return S.tail!==null?(f=S.tail,S.rendering=f,S.tail=f.sibling,S.renderingStartTime=At(),f.sibling=null,c=Gr.current,ne(Gr,y?c&1|2:c&1),f):(lr(f),null);case 22:case 23:return bl(f),GN(),y=f.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(f.flags|=8192):y&&(f.flags|=8192),y?(p&536870912)!==0&&(f.flags&128)===0&&(lr(f),f.subtreeFlags&6&&(f.flags|=8192)):lr(f),p=f.updateQueue,p!==null&&y0(f,p.retryQueue),p=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),y=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==p&&(f.flags|=2048),c!==null&&te(wd),null;case 24:return p=null,c!==null&&(p=c.memoizedState.cache),f.memoizedState.cache!==p&&(f.flags|=2048),vl(Wr),lr(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function sse(c,f){switch(PN(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return vl(Wr),oe(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return Ne(f),null;case 13:if(bl(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Sg()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return te(Gr),null;case 4:return oe(),null;case 10:return vl(f.type),null;case 22:case 23:return bl(f),GN(),c!==null&&te(wd),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return vl(Wr),null;case 25:return null;default:return null}}function O5(c,f){switch(PN(f),f.tag){case 3:vl(Wr),oe();break;case 26:case 27:case 5:Ne(f);break;case 4:oe();break;case 13:bl(f);break;case 19:te(Gr);break;case 10:vl(f.type);break;case 22:case 23:bl(f),GN(),c!==null&&te(wd);break;case 24:vl(Wr)}}function Fg(c,f){try{var p=f.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var S=y.next;p=S;do{if((p.tag&c)===c){y=void 0;var R=p.create,B=p.inst;y=R(),B.destroy=y}p=p.next}while(p!==S)}}catch(Y){Un(f,f.return,Y)}}function Ic(c,f,p){try{var y=f.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var R=S.next;y=R;do{if((y.tag&c)===c){var B=y.inst,Y=B.destroy;if(Y!==void 0){B.destroy=void 0,S=f;var J=p,de=Y;try{de()}catch(_e){Un(S,J,_e)}}}y=y.next}while(y!==R)}}catch(_e){Un(f,f.return,_e)}}function R5(c){var f=c.updateQueue;if(f!==null){var p=c.stateNode;try{xL(f,p)}catch(y){Un(c,c.return,y)}}}function P5(c,f,p){p.props=jd(c.type,c.memoizedProps),p.state=c.memoizedState;try{p.componentWillUnmount()}catch(y){Un(c,f,y)}}function Bg(c,f){try{var p=c.ref;if(p!==null){switch(c.tag){case 26:case 27:case 5:var y=c.stateNode;break;case 30:y=c.stateNode;break;default:y=c.stateNode}typeof p=="function"?c.refCleanup=p(y):p.current=y}}catch(S){Un(c,f,S)}}function po(c,f){var p=c.ref,y=c.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(S){Un(c,f,S)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(S){Un(c,f,S)}else p.current=null}function I5(c){var f=c.type,p=c.memoizedProps,y=c.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(S){Un(c,c.return,S)}}function _A(c,f,p){try{var y=c.stateNode;Ase(y,c.type,p,f),y[Er]=f}catch(S){Un(c,c.return,S)}}function M5(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Uc(c.type)||c.tag===4}function wA(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||M5(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Uc(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function SA(c,f,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,f?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(c,f):(f=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,f.appendChild(c),p=p._reactRootContainer,p!=null||f.onclick!==null||(f.onclick=C0));else if(y!==4&&(y===27&&Uc(c.type)&&(p=c.stateNode,f=null),c=c.child,c!==null))for(SA(c,f,p),c=c.sibling;c!==null;)SA(c,f,p),c=c.sibling}function v0(c,f,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,f?p.insertBefore(c,f):p.appendChild(c);else if(y!==4&&(y===27&&Uc(c.type)&&(p=c.stateNode),c=c.child,c!==null))for(v0(c,f,p),c=c.sibling;c!==null;)v0(c,f,p),c=c.sibling}function D5(c){var f=c.stateNode,p=c.memoizedProps;try{for(var y=c.type,S=f.attributes;S.length;)f.removeAttributeNode(S[0]);Ai(f,y,p),f[hr]=c,f[Er]=p}catch(R){Un(c,c.return,R)}}var Sl=!1,xr=!1,jA=!1,L5=typeof WeakSet=="function"?WeakSet:Set,li=null;function ase(c,f){if(c=c.containerInfo,YA=D0,c=Y4(c),wN(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var S=y.anchorOffset,R=y.focusNode;y=y.focusOffset;try{p.nodeType,R.nodeType}catch{p=null;break e}var B=0,Y=-1,J=-1,de=0,_e=0,Ae=c,fe=null;t:for(;;){for(var he;Ae!==p||S!==0&&Ae.nodeType!==3||(Y=B+S),Ae!==R||y!==0&&Ae.nodeType!==3||(J=B+y),Ae.nodeType===3&&(B+=Ae.nodeValue.length),(he=Ae.firstChild)!==null;)fe=Ae,Ae=he;for(;;){if(Ae===c)break t;if(fe===p&&++de===S&&(Y=B),fe===R&&++_e===y&&(J=B),(he=Ae.nextSibling)!==null)break;Ae=fe,fe=Ae.parentNode}Ae=he}p=Y===-1||J===-1?null:{start:Y,end:J}}else p=null}p=p||{start:0,end:0}}else p=null;for(KA={focusedElem:c,selectionRange:p},D0=!1,li=f;li!==null;)if(f=li,c=f.child,(f.subtreeFlags&1024)!==0&&c!==null)c.return=f,li=c;else for(;li!==null;){switch(f=li,R=f.alternate,c=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&R!==null){c=void 0,p=f,S=R.memoizedProps,R=R.memoizedState,y=p.stateNode;try{var Nt=jd(p.type,S,p.elementType===p.type);c=y.getSnapshotBeforeUpdate(Nt,R),y.__reactInternalSnapshotBeforeUpdate=c}catch(gt){Un(p,p.return,gt)}}break;case 3:if((c&1024)!==0){if(c=f.stateNode.containerInfo,p=c.nodeType,p===9)ZA(c);else if(p===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":ZA(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=f.sibling,c!==null){c.return=f.return,li=c;break}li=f.return}}function $5(c,f,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:Mc(c,p),y&4&&Fg(5,p);break;case 1:if(Mc(c,p),y&4)if(c=p.stateNode,f===null)try{c.componentDidMount()}catch(B){Un(p,p.return,B)}else{var S=jd(p.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(S,f,c.__reactInternalSnapshotBeforeUpdate)}catch(B){Un(p,p.return,B)}}y&64&&R5(p),y&512&&Bg(p,p.return);break;case 3:if(Mc(c,p),y&64&&(c=p.updateQueue,c!==null)){if(f=null,p.child!==null)switch(p.child.tag){case 27:case 5:f=p.child.stateNode;break;case 1:f=p.child.stateNode}try{xL(c,f)}catch(B){Un(p,p.return,B)}}break;case 27:f===null&&y&4&&D5(p);case 26:case 5:Mc(c,p),f===null&&y&4&&I5(p),y&512&&Bg(p,p.return);break;case 12:Mc(c,p);break;case 13:Mc(c,p),y&4&&B5(c,p),y&64&&(c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(p=pse.bind(null,p),Pse(c,p))));break;case 22:if(y=p.memoizedState!==null||Sl,!y){f=f!==null&&f.memoizedState!==null||xr,S=Sl;var R=xr;Sl=y,(xr=f)&&!R?Dc(c,p,(p.subtreeFlags&8772)!==0):Mc(c,p),Sl=S,xr=R}break;case 30:break;default:Mc(c,p)}}function V5(c){var f=c.alternate;f!==null&&(c.alternate=null,V5(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&Sc(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var nr=null,rs=!1;function jl(c,f,p){for(p=p.child;p!==null;)F5(c,f,p),p=p.sibling}function F5(c,f,p){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Ve,p)}catch{}switch(p.tag){case 26:xr||po(p,f),jl(c,f,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:xr||po(p,f);var y=nr,S=rs;Uc(p.type)&&(nr=p.stateNode,rs=!1),jl(c,f,p),Xg(p.stateNode),nr=y,rs=S;break;case 5:xr||po(p,f);case 6:if(y=nr,S=rs,nr=null,jl(c,f,p),nr=y,rs=S,nr!==null)if(rs)try{(nr.nodeType===9?nr.body:nr.nodeName==="HTML"?nr.ownerDocument.body:nr).removeChild(p.stateNode)}catch(R){Un(p,f,R)}else try{nr.removeChild(p.stateNode)}catch(R){Un(p,f,R)}break;case 18:nr!==null&&(rs?(c=nr,T3(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,p.stateNode),iy(c)):T3(nr,p.stateNode));break;case 4:y=nr,S=rs,nr=p.stateNode.containerInfo,rs=!0,jl(c,f,p),nr=y,rs=S;break;case 0:case 11:case 14:case 15:xr||Ic(2,p,f),xr||Ic(4,p,f),jl(c,f,p);break;case 1:xr||(po(p,f),y=p.stateNode,typeof y.componentWillUnmount=="function"&&P5(p,f,y)),jl(c,f,p);break;case 21:jl(c,f,p);break;case 22:xr=(y=xr)||p.memoizedState!==null,jl(c,f,p),xr=y;break;default:jl(c,f,p)}}function B5(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{iy(c)}catch(p){Un(f,f.return,p)}}function ose(c){switch(c.tag){case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new L5),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new L5),f;default:throw Error(r(435,c.tag))}}function NA(c,f){var p=ose(c);f.forEach(function(y){var S=gse.bind(null,c,y);p.has(y)||(p.add(y),y.then(S,S))})}function bs(c,f){var p=f.deletions;if(p!==null)for(var y=0;y<p.length;y++){var S=p[y],R=c,B=f,Y=B;e:for(;Y!==null;){switch(Y.tag){case 27:if(Uc(Y.type)){nr=Y.stateNode,rs=!1;break e}break;case 5:nr=Y.stateNode,rs=!1;break e;case 3:case 4:nr=Y.stateNode.containerInfo,rs=!0;break e}Y=Y.return}if(nr===null)throw Error(r(160));F5(R,B,S),nr=null,rs=!1,R=S.alternate,R!==null&&(R.return=null),S.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)U5(f,c),f=f.sibling}var Ca=null;function U5(c,f){var p=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:bs(f,c),_s(c),y&4&&(Ic(3,c,c.return),Fg(3,c),Ic(5,c,c.return));break;case 1:bs(f,c),_s(c),y&512&&(xr||p===null||po(p,p.return)),y&64&&Sl&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(p=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var S=Ca;if(bs(f,c),_s(c),y&512&&(xr||p===null||po(p,p.return)),y&4){var R=p!==null?p.memoizedState:null;if(y=c.memoizedState,p===null)if(y===null)if(c.stateNode===null){e:{y=c.type,p=c.memoizedProps,S=S.ownerDocument||S;t:switch(y){case"title":R=S.getElementsByTagName("title")[0],(!R||R[Ju]||R[hr]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=S.createElement(y),S.head.insertBefore(R,S.querySelector("head > title"))),Ai(R,y,p),R[hr]=c,yr(R),y=R;break e;case"link":var B=D3("link","href",S).get(y+(p.href||""));if(B){for(var Y=0;Y<B.length;Y++)if(R=B[Y],R.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&R.getAttribute("rel")===(p.rel==null?null:p.rel)&&R.getAttribute("title")===(p.title==null?null:p.title)&&R.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){B.splice(Y,1);break t}}R=S.createElement(y),Ai(R,y,p),S.head.appendChild(R);break;case"meta":if(B=D3("meta","content",S).get(y+(p.content||""))){for(Y=0;Y<B.length;Y++)if(R=B[Y],R.getAttribute("content")===(p.content==null?null:""+p.content)&&R.getAttribute("name")===(p.name==null?null:p.name)&&R.getAttribute("property")===(p.property==null?null:p.property)&&R.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&R.getAttribute("charset")===(p.charSet==null?null:p.charSet)){B.splice(Y,1);break t}}R=S.createElement(y),Ai(R,y,p),S.head.appendChild(R);break;default:throw Error(r(468,y))}R[hr]=c,yr(R),y=R}c.stateNode=y}else L3(S,c.type,c.stateNode);else c.stateNode=M3(S,y,c.memoizedProps);else R!==y?(R===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):R.count--,y===null?L3(S,c.type,c.stateNode):M3(S,y,c.memoizedProps)):y===null&&c.stateNode!==null&&_A(c,c.memoizedProps,p.memoizedProps)}break;case 27:bs(f,c),_s(c),y&512&&(xr||p===null||po(p,p.return)),p!==null&&y&4&&_A(c,c.memoizedProps,p.memoizedProps);break;case 5:if(bs(f,c),_s(c),y&512&&(xr||p===null||po(p,p.return)),c.flags&32){S=c.stateNode;try{Ys(S,"")}catch(he){Un(c,c.return,he)}}y&4&&c.stateNode!=null&&(S=c.memoizedProps,_A(c,S,p!==null?p.memoizedProps:S)),y&1024&&(jA=!0);break;case 6:if(bs(f,c),_s(c),y&4){if(c.stateNode===null)throw Error(r(162));y=c.memoizedProps,p=c.stateNode;try{p.nodeValue=y}catch(he){Un(c,c.return,he)}}break;case 3:if(P0=null,S=Ca,Ca=O0(f.containerInfo),bs(f,c),Ca=S,_s(c),y&4&&p!==null&&p.memoizedState.isDehydrated)try{iy(f.containerInfo)}catch(he){Un(c,c.return,he)}jA&&(jA=!1,z5(c));break;case 4:y=Ca,Ca=O0(c.stateNode.containerInfo),bs(f,c),_s(c),Ca=y;break;case 12:bs(f,c),_s(c);break;case 13:bs(f,c),_s(c),c.child.flags&8192&&c.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(OA=At()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,NA(c,y)));break;case 22:S=c.memoizedState!==null;var J=p!==null&&p.memoizedState!==null,de=Sl,_e=xr;if(Sl=de||S,xr=_e||J,bs(f,c),xr=_e,Sl=de,_s(c),y&8192)e:for(f=c.stateNode,f._visibility=S?f._visibility&-2:f._visibility|1,S&&(p===null||J||Sl||xr||Nd(c)),p=null,f=c;;){if(f.tag===5||f.tag===26){if(p===null){J=p=f;try{if(R=J.stateNode,S)B=R.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{Y=J.stateNode;var Ae=J.memoizedProps.style,fe=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;Y.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(he){Un(J,J.return,he)}}}else if(f.tag===6){if(p===null){J=f;try{J.stateNode.nodeValue=S?"":J.memoizedProps}catch(he){Un(J,J.return,he)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}y&4&&(y=c.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,NA(c,p))));break;case 19:bs(f,c),_s(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,NA(c,y)));break;case 30:break;case 21:break;default:bs(f,c),_s(c)}}function _s(c){var f=c.flags;if(f&2){try{for(var p,y=c.return;y!==null;){if(M5(y)){p=y;break}y=y.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var S=p.stateNode,R=wA(c);v0(c,R,S);break;case 5:var B=p.stateNode;p.flags&32&&(Ys(B,""),p.flags&=-33);var Y=wA(c);v0(c,Y,B);break;case 3:case 4:var J=p.stateNode.containerInfo,de=wA(c);SA(c,de,J);break;default:throw Error(r(161))}}catch(_e){Un(c,c.return,_e)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function z5(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;z5(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),c=c.sibling}}function Mc(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)$5(c,f.alternate,f),f=f.sibling}function Nd(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:Ic(4,f,f.return),Nd(f);break;case 1:po(f,f.return);var p=f.stateNode;typeof p.componentWillUnmount=="function"&&P5(f,f.return,p),Nd(f);break;case 27:Xg(f.stateNode);case 26:case 5:po(f,f.return),Nd(f);break;case 22:f.memoizedState===null&&Nd(f);break;case 30:Nd(f);break;default:Nd(f)}c=c.sibling}}function Dc(c,f,p){for(p=p&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var y=f.alternate,S=c,R=f,B=R.flags;switch(R.tag){case 0:case 11:case 15:Dc(S,R,p),Fg(4,R);break;case 1:if(Dc(S,R,p),y=R,S=y.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(de){Un(y,y.return,de)}if(y=R,S=y.updateQueue,S!==null){var Y=y.stateNode;try{var J=S.shared.hiddenCallbacks;if(J!==null)for(S.shared.hiddenCallbacks=null,S=0;S<J.length;S++)vL(J[S],Y)}catch(de){Un(y,y.return,de)}}p&&B&64&&R5(R),Bg(R,R.return);break;case 27:D5(R);case 26:case 5:Dc(S,R,p),p&&y===null&&B&4&&I5(R),Bg(R,R.return);break;case 12:Dc(S,R,p);break;case 13:Dc(S,R,p),p&&B&4&&B5(S,R);break;case 22:R.memoizedState===null&&Dc(S,R,p),Bg(R,R.return);break;case 30:break;default:Dc(S,R,p)}f=f.sibling}}function AA(c,f){var p=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==p&&(c!=null&&c.refCount++,p!=null&&Ag(p))}function EA(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Ag(c))}function go(c,f,p,y){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)q5(c,f,p,y),f=f.sibling}function q5(c,f,p,y){var S=f.flags;switch(f.tag){case 0:case 11:case 15:go(c,f,p,y),S&2048&&Fg(9,f);break;case 1:go(c,f,p,y);break;case 3:go(c,f,p,y),S&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Ag(c)));break;case 12:if(S&2048){go(c,f,p,y),c=f.stateNode;try{var R=f.memoizedProps,B=R.id,Y=R.onPostCommit;typeof Y=="function"&&Y(B,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(J){Un(f,f.return,J)}}else go(c,f,p,y);break;case 13:go(c,f,p,y);break;case 23:break;case 22:R=f.stateNode,B=f.alternate,f.memoizedState!==null?R._visibility&2?go(c,f,p,y):Ug(c,f):R._visibility&2?go(c,f,p,y):(R._visibility|=2,Ih(c,f,p,y,(f.subtreeFlags&10256)!==0)),S&2048&&AA(B,f);break;case 24:go(c,f,p,y),S&2048&&EA(f.alternate,f);break;default:go(c,f,p,y)}}function Ih(c,f,p,y,S){for(S=S&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var R=c,B=f,Y=p,J=y,de=B.flags;switch(B.tag){case 0:case 11:case 15:Ih(R,B,Y,J,S),Fg(8,B);break;case 23:break;case 22:var _e=B.stateNode;B.memoizedState!==null?_e._visibility&2?Ih(R,B,Y,J,S):Ug(R,B):(_e._visibility|=2,Ih(R,B,Y,J,S)),S&&de&2048&&AA(B.alternate,B);break;case 24:Ih(R,B,Y,J,S),S&&de&2048&&EA(B.alternate,B);break;default:Ih(R,B,Y,J,S)}f=f.sibling}}function Ug(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var p=c,y=f,S=y.flags;switch(y.tag){case 22:Ug(p,y),S&2048&&AA(y.alternate,y);break;case 24:Ug(p,y),S&2048&&EA(y.alternate,y);break;default:Ug(p,y)}f=f.sibling}}var zg=8192;function Mh(c){if(c.subtreeFlags&zg)for(c=c.child;c!==null;)H5(c),c=c.sibling}function H5(c){switch(c.tag){case 26:Mh(c),c.flags&zg&&c.memoizedState!==null&&Wse(Ca,c.memoizedState,c.memoizedProps);break;case 5:Mh(c);break;case 3:case 4:var f=Ca;Ca=O0(c.stateNode.containerInfo),Mh(c),Ca=f;break;case 22:c.memoizedState===null&&(f=c.alternate,f!==null&&f.memoizedState!==null?(f=zg,zg=16777216,Mh(c),zg=f):Mh(c));break;default:Mh(c)}}function W5(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function qg(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var y=f[p];li=y,Y5(y,c)}W5(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)G5(c),c=c.sibling}function G5(c){switch(c.tag){case 0:case 11:case 15:qg(c),c.flags&2048&&Ic(9,c,c.return);break;case 3:qg(c);break;case 12:qg(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&2&&(c.return===null||c.return.tag!==13)?(f._visibility&=-3,x0(c)):qg(c);break;default:qg(c)}}function x0(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var y=f[p];li=y,Y5(y,c)}W5(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:Ic(8,f,f.return),x0(f);break;case 22:p=f.stateNode,p._visibility&2&&(p._visibility&=-3,x0(f));break;default:x0(f)}c=c.sibling}}function Y5(c,f){for(;li!==null;){var p=li;switch(p.tag){case 0:case 11:case 15:Ic(8,p,f);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Ag(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,li=y;else e:for(p=c;li!==null;){y=li;var S=y.sibling,R=y.return;if(V5(y),y===p){li=null;break e}if(S!==null){S.return=R,li=S;break e}li=R}}}var lse={getCacheForType:function(c){var f=Ri(Wr),p=f.data.get(c);return p===void 0&&(p=c(),f.data.set(c,p)),p}},cse=typeof WeakMap=="function"?WeakMap:Map,Nn=0,Wn=null,Gt=null,on=0,An=0,ws=null,Lc=!1,Dh=!1,TA=!1,Nl=0,pr=0,$c=0,Ad=0,CA=0,ra=0,Lh=0,Hg=null,is=null,kA=!1,OA=0,b0=1/0,_0=null,Vc=null,Ni=0,Fc=null,$h=null,Vh=0,RA=0,PA=null,K5=null,Wg=0,IA=null;function Ss(){if((Nn&2)!==0&&on!==0)return on&-on;if(U.T!==null){var c=Ah;return c!==0?c:BA()}return jn()}function X5(){ra===0&&(ra=(on&536870912)===0||pn?ja():536870912);var c=na.current;return c!==null&&(c.flags|=32),ra}function js(c,f,p){(c===Wn&&(An===2||An===9)||c.cancelPendingCommit!==null)&&(Fh(c,0),Bc(c,on,ra,!1)),Ws(c,p),((Nn&2)===0||c!==Wn)&&(c===Wn&&((Nn&2)===0&&(Ad|=p),pr===4&&Bc(c,on,ra,!1)),yo(c))}function Q5(c,f,p){if((Nn&6)!==0)throw Error(r(327));var y=!p&&(f&124)===0&&(f&c.expiredLanes)===0||Fn(c,f),S=y?fse(c,f):LA(c,f,!0),R=y;do{if(S===0){Dh&&!y&&Bc(c,f,0,!1);break}else{if(p=c.current.alternate,R&&!use(p)){S=LA(c,f,!1),R=!1;continue}if(S===2){if(R=f,c.errorRecoveryDisabledLanes&R)var B=0;else B=c.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){f=B;e:{var Y=c;S=Hg;var J=Y.current.memoizedState.isDehydrated;if(J&&(Fh(Y,B).flags|=256),B=LA(Y,B,!1),B!==2){if(TA&&!J){Y.errorRecoveryDisabledLanes|=R,Ad|=R,S=4;break e}R=is,is=S,R!==null&&(is===null?is=R:is.push.apply(is,R))}S=B}if(R=!1,S!==2)continue}}if(S===1){Fh(c,0),Bc(c,f,0,!0);break}e:{switch(y=c,R=S,R){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:Bc(y,f,ra,!Lc);break e;case 2:is=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(S=OA+300-At(),10<S)){if(Bc(y,f,ra,!Lc),or(y,0,!0)!==0)break e;y.timeoutHandle=A3(Z5.bind(null,y,p,is,_0,kA,f,ra,Ad,Lh,Lc,R,2,-0,0),S);break e}Z5(y,p,is,_0,kA,f,ra,Ad,Lh,Lc,R,0,-0,0)}}break}while(!0);yo(c)}function Z5(c,f,p,y,S,R,B,Y,J,de,_e,Ae,fe,he){if(c.timeoutHandle=-1,Ae=f.subtreeFlags,(Ae&8192||(Ae&16785408)===16785408)&&(Jg={stylesheets:null,count:0,unsuspend:Hse},H5(f),Ae=Gse(),Ae!==null)){c.cancelPendingCommit=Ae(s3.bind(null,c,f,R,p,y,S,B,Y,J,_e,1,fe,he)),Bc(c,R,B,!de);return}s3(c,f,R,p,y,S,B,Y,J)}function use(c){for(var f=c;;){var p=f.tag;if((p===0||p===11||p===15)&&f.flags&16384&&(p=f.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var S=p[y],R=S.getSnapshot;S=S.value;try{if(!vs(R(),S))return!1}catch{return!1}}if(p=f.child,f.subtreeFlags&16384&&p!==null)p.return=f,f=p;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Bc(c,f,p,y){f&=~CA,f&=~Ad,c.suspendedLanes|=f,c.pingedLanes&=~f,y&&(c.warmLanes|=f),y=c.expirationTimes;for(var S=f;0<S;){var R=31-ve(S),B=1<<R;y[R]=-1,S&=~B}p!==0&&Pt(c,p,f)}function w0(){return(Nn&6)===0?(Gg(0),!1):!0}function MA(){if(Gt!==null){if(An===0)var c=Gt.return;else c=Gt,yl=bd=null,ZN(c),Rh=null,Lg=0,c=Gt;for(;c!==null;)O5(c.alternate,c),c=c.return;Gt=null}}function Fh(c,f){var p=c.timeoutHandle;p!==-1&&(c.timeoutHandle=-1,Tse(p)),p=c.cancelPendingCommit,p!==null&&(c.cancelPendingCommit=null,p()),MA(),Wn=c,Gt=p=ml(c.current,null),on=f,An=0,ws=null,Lc=!1,Dh=Fn(c,f),TA=!1,Lh=ra=CA=Ad=$c=pr=0,is=Hg=null,kA=!1,(f&8)!==0&&(f|=f&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=f;0<y;){var S=31-ve(y),R=1<<S;f|=c[S],y&=~R}return Nl=f,qb(),p}function J5(c,f){Ft=null,U.H=c0,f===Tg||f===Jb?(f=gL(),An=3):f===hL?(f=gL(),An=4):An=f===y5?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,ws=f,Gt===null&&(pr=1,m0(c,Zs(f,c.current)))}function e3(){var c=U.H;return U.H=c0,c===null?c0:c}function t3(){var c=U.A;return U.A=lse,c}function DA(){pr=4,Lc||(on&4194048)!==on&&na.current!==null||(Dh=!0),($c&134217727)===0&&(Ad&134217727)===0||Wn===null||Bc(Wn,on,ra,!1)}function LA(c,f,p){var y=Nn;Nn|=2;var S=e3(),R=t3();(Wn!==c||on!==f)&&(_0=null,Fh(c,f)),f=!1;var B=pr;e:do try{if(An!==0&&Gt!==null){var Y=Gt,J=ws;switch(An){case 8:MA(),B=6;break e;case 3:case 2:case 9:case 6:na.current===null&&(f=!0);var de=An;if(An=0,ws=null,Bh(c,Y,J,de),p&&Dh){B=0;break e}break;default:de=An,An=0,ws=null,Bh(c,Y,J,de)}}dse(),B=pr;break}catch(_e){J5(c,_e)}while(!0);return f&&c.shellSuspendCounter++,yl=bd=null,Nn=y,U.H=S,U.A=R,Gt===null&&(Wn=null,on=0,qb()),B}function dse(){for(;Gt!==null;)n3(Gt)}function fse(c,f){var p=Nn;Nn|=2;var y=e3(),S=t3();Wn!==c||on!==f?(_0=null,b0=At()+500,Fh(c,f)):Dh=Fn(c,f);e:do try{if(An!==0&&Gt!==null){f=Gt;var R=ws;t:switch(An){case 1:An=0,ws=null,Bh(c,f,R,1);break;case 2:case 9:if(mL(R)){An=0,ws=null,r3(f);break}f=function(){An!==2&&An!==9||Wn!==c||(An=7),yo(c)},R.then(f,f);break e;case 3:An=7;break e;case 4:An=5;break e;case 7:mL(R)?(An=0,ws=null,r3(f)):(An=0,ws=null,Bh(c,f,R,7));break;case 5:var B=null;switch(Gt.tag){case 26:B=Gt.memoizedState;case 5:case 27:var Y=Gt;if(!B||$3(B)){An=0,ws=null;var J=Y.sibling;if(J!==null)Gt=J;else{var de=Y.return;de!==null?(Gt=de,S0(de)):Gt=null}break t}}An=0,ws=null,Bh(c,f,R,5);break;case 6:An=0,ws=null,Bh(c,f,R,6);break;case 8:MA(),pr=6;break e;default:throw Error(r(462))}}hse();break}catch(_e){J5(c,_e)}while(!0);return yl=bd=null,U.H=y,U.A=S,Nn=p,Gt!==null?0:(Wn=null,on=0,qb(),pr)}function hse(){for(;Gt!==null&&!jt();)n3(Gt)}function n3(c){var f=C5(c.alternate,c,Nl);c.memoizedProps=c.pendingProps,f===null?S0(c):Gt=f}function r3(c){var f=c,p=f.alternate;switch(f.tag){case 15:case 0:f=S5(p,f,f.pendingProps,f.type,void 0,on);break;case 11:f=S5(p,f,f.pendingProps,f.type.render,f.ref,on);break;case 5:ZN(f);default:O5(p,f),f=Gt=iL(f,Nl),f=C5(p,f,Nl)}c.memoizedProps=c.pendingProps,f===null?S0(c):Gt=f}function Bh(c,f,p,y){yl=bd=null,ZN(f),Rh=null,Lg=0;var S=f.return;try{if(nse(c,S,f,p,on)){pr=1,m0(c,Zs(p,c.current)),Gt=null;return}}catch(R){if(S!==null)throw Gt=S,R;pr=1,m0(c,Zs(p,c.current)),Gt=null;return}f.flags&32768?(pn||y===1?c=!0:Dh||(on&536870912)!==0?c=!1:(Lc=c=!0,(y===2||y===9||y===3||y===6)&&(y=na.current,y!==null&&y.tag===13&&(y.flags|=16384))),i3(f,c)):S0(f)}function S0(c){var f=c;do{if((f.flags&32768)!==0){i3(f,Lc);return}c=f.return;var p=ise(f.alternate,f,Nl);if(p!==null){Gt=p;return}if(f=f.sibling,f!==null){Gt=f;return}Gt=f=c}while(f!==null);pr===0&&(pr=5)}function i3(c,f){do{var p=sse(c.alternate,c);if(p!==null){p.flags&=32767,Gt=p;return}if(p=c.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!f&&(c=c.sibling,c!==null)){Gt=c;return}Gt=c=p}while(c!==null);pr=6,Gt=null}function s3(c,f,p,y,S,R,B,Y,J){c.cancelPendingCommit=null;do j0();while(Ni!==0);if((Nn&6)!==0)throw Error(r(327));if(f!==null){if(f===c.current)throw Error(r(177));if(R=f.lanes|f.childLanes,R|=EN,ot(c,p,R,B,Y,J),c===Wn&&(Gt=Wn=null,on=0),$h=f,Fc=c,Vh=p,RA=R,PA=S,K5=y,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,yse(se,function(){return u3(),null})):(c.callbackNode=null,c.callbackPriority=0),y=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||y){y=U.T,U.T=null,S=q.p,q.p=2,B=Nn,Nn|=4;try{ase(c,f,p)}finally{Nn=B,q.p=S,U.T=y}}Ni=1,a3(),o3(),l3()}}function a3(){if(Ni===1){Ni=0;var c=Fc,f=$h,p=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||p){p=U.T,U.T=null;var y=q.p;q.p=2;var S=Nn;Nn|=4;try{U5(f,c);var R=KA,B=Y4(c.containerInfo),Y=R.focusedElem,J=R.selectionRange;if(B!==Y&&Y&&Y.ownerDocument&&G4(Y.ownerDocument.documentElement,Y)){if(J!==null&&wN(Y)){var de=J.start,_e=J.end;if(_e===void 0&&(_e=de),"selectionStart"in Y)Y.selectionStart=de,Y.selectionEnd=Math.min(_e,Y.value.length);else{var Ae=Y.ownerDocument||document,fe=Ae&&Ae.defaultView||window;if(fe.getSelection){var he=fe.getSelection(),Nt=Y.textContent.length,gt=Math.min(J.start,Nt),Dn=J.end===void 0?gt:Math.min(J.end,Nt);!he.extend&&gt>Dn&&(B=Dn,Dn=gt,gt=B);var ie=W4(Y,gt),re=W4(Y,Dn);if(ie&&re&&(he.rangeCount!==1||he.anchorNode!==ie.node||he.anchorOffset!==ie.offset||he.focusNode!==re.node||he.focusOffset!==re.offset)){var le=Ae.createRange();le.setStart(ie.node,ie.offset),he.removeAllRanges(),gt>Dn?(he.addRange(le),he.extend(re.node,re.offset)):(le.setEnd(re.node,re.offset),he.addRange(le))}}}}for(Ae=[],he=Y;he=he.parentNode;)he.nodeType===1&&Ae.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Ae.length;Y++){var Se=Ae[Y];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}D0=!!YA,KA=YA=null}finally{Nn=S,q.p=y,U.T=p}}c.current=f,Ni=2}}function o3(){if(Ni===2){Ni=0;var c=Fc,f=$h,p=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||p){p=U.T,U.T=null;var y=q.p;q.p=2;var S=Nn;Nn|=4;try{$5(c,f.alternate,f)}finally{Nn=S,q.p=y,U.T=p}}Ni=3}}function l3(){if(Ni===4||Ni===3){Ni=0,ht();var c=Fc,f=$h,p=Vh,y=K5;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Ni=5:(Ni=0,$h=Fc=null,c3(c,c.pendingLanes));var S=c.pendingLanes;if(S===0&&(Vc=null),_i(p),f=f.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Ve,f,void 0,(f.current.flags&128)===128)}catch{}if(y!==null){f=U.T,S=q.p,q.p=2,U.T=null;try{for(var R=c.onRecoverableError,B=0;B<y.length;B++){var Y=y[B];R(Y.value,{componentStack:Y.stack})}}finally{U.T=f,q.p=S}}(Vh&3)!==0&&j0(),yo(c),S=c.pendingLanes,(p&4194090)!==0&&(S&42)!==0?c===IA?Wg++:(Wg=0,IA=c):Wg=0,Gg(0)}}function c3(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,Ag(f)))}function j0(c){return a3(),o3(),l3(),u3()}function u3(){if(Ni!==5)return!1;var c=Fc,f=RA;RA=0;var p=_i(Vh),y=U.T,S=q.p;try{q.p=32>p?32:p,U.T=null,p=PA,PA=null;var R=Fc,B=Vh;if(Ni=0,$h=Fc=null,Vh=0,(Nn&6)!==0)throw Error(r(331));var Y=Nn;if(Nn|=4,G5(R.current),q5(R,R.current,B,p),Nn=Y,Gg(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Ve,R)}catch{}return!0}finally{q.p=S,U.T=y,c3(c,f)}}function d3(c,f,p){f=Zs(p,f),f=fA(c.stateNode,f,2),c=kc(c,f,2),c!==null&&(Ws(c,2),yo(c))}function Un(c,f,p){if(c.tag===3)d3(c,c,p);else for(;f!==null;){if(f.tag===3){d3(f,c,p);break}else if(f.tag===1){var y=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Vc===null||!Vc.has(y))){c=Zs(p,c),p=p5(2),y=kc(f,p,2),y!==null&&(g5(p,y,f,c),Ws(y,2),yo(y));break}}f=f.return}}function $A(c,f,p){var y=c.pingCache;if(y===null){y=c.pingCache=new cse;var S=new Set;y.set(f,S)}else S=y.get(f),S===void 0&&(S=new Set,y.set(f,S));S.has(p)||(TA=!0,S.add(p),c=mse.bind(null,c,f,p),f.then(c,c))}function mse(c,f,p){var y=c.pingCache;y!==null&&y.delete(f),c.pingedLanes|=c.suspendedLanes&p,c.warmLanes&=~p,Wn===c&&(on&p)===p&&(pr===4||pr===3&&(on&62914560)===on&&300>At()-OA?(Nn&2)===0&&Fh(c,0):CA|=p,Lh===on&&(Lh=0)),yo(c)}function f3(c,f){f===0&&(f=rl()),c=wh(c,f),c!==null&&(Ws(c,f),yo(c))}function pse(c){var f=c.memoizedState,p=0;f!==null&&(p=f.retryLane),f3(c,p)}function gse(c,f){var p=0;switch(c.tag){case 13:var y=c.stateNode,S=c.memoizedState;S!==null&&(p=S.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(f),f3(c,p)}function yse(c,f){return Ue(c,f)}var N0=null,Uh=null,VA=!1,A0=!1,FA=!1,Ed=0;function yo(c){c!==Uh&&c.next===null&&(Uh===null?N0=Uh=c:Uh=Uh.next=c),A0=!0,VA||(VA=!0,xse())}function Gg(c,f){if(!FA&&A0){FA=!0;do for(var p=!1,y=N0;y!==null;){if(c!==0){var S=y.pendingLanes;if(S===0)var R=0;else{var B=y.suspendedLanes,Y=y.pingedLanes;R=(1<<31-ve(42|c)+1)-1,R&=S&~(B&~Y),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(p=!0,g3(y,R))}else R=on,R=or(y,y===Wn?R:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(R&3)===0||Fn(y,R)||(p=!0,g3(y,R));y=y.next}while(p);FA=!1}}function vse(){h3()}function h3(){A0=VA=!1;var c=0;Ed!==0&&(Ese()&&(c=Ed),Ed=0);for(var f=At(),p=null,y=N0;y!==null;){var S=y.next,R=m3(y,f);R===0?(y.next=null,p===null?N0=S:p.next=S,S===null&&(Uh=p)):(p=y,(c!==0||(R&3)!==0)&&(A0=!0)),y=S}Gg(c)}function m3(c,f){for(var p=c.suspendedLanes,y=c.pingedLanes,S=c.expirationTimes,R=c.pendingLanes&-62914561;0<R;){var B=31-ve(R),Y=1<<B,J=S[B];J===-1?((Y&p)===0||(Y&y)!==0)&&(S[B]=bi(Y,f)):J<=f&&(c.expiredLanes|=Y),R&=~Y}if(f=Wn,p=on,p=or(c,c===f?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y=c.callbackNode,p===0||c===f&&(An===2||An===9)||c.cancelPendingCommit!==null)return y!==null&&y!==null&&We(y),c.callbackNode=null,c.callbackPriority=0;if((p&3)===0||Fn(c,p)){if(f=p&-p,f===c.callbackPriority)return f;switch(y!==null&&We(y),_i(p)){case 2:case 8:p=ee;break;case 32:p=se;break;case 268435456:p=Le;break;default:p=se}return y=p3.bind(null,c),p=Ue(p,y),c.callbackPriority=f,c.callbackNode=p,f}return y!==null&&y!==null&&We(y),c.callbackPriority=2,c.callbackNode=null,2}function p3(c,f){if(Ni!==0&&Ni!==5)return c.callbackNode=null,c.callbackPriority=0,null;var p=c.callbackNode;if(j0()&&c.callbackNode!==p)return null;var y=on;return y=or(c,c===Wn?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y===0?null:(Q5(c,y,f),m3(c,At()),c.callbackNode!=null&&c.callbackNode===p?p3.bind(null,c):null)}function g3(c,f){if(j0())return null;Q5(c,f,!0)}function xse(){Cse(function(){(Nn&6)!==0?Ue(Qn,vse):h3()})}function BA(){return Ed===0&&(Ed=ja()),Ed}function y3(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:uh(""+c)}function v3(c,f){var p=f.ownerDocument.createElement("input");return p.name=f.name,p.value=f.value,c.id&&p.setAttribute("form",c.id),f.parentNode.insertBefore(p,f),c=new FormData(c),p.parentNode.removeChild(p),c}function bse(c,f,p,y,S){if(f==="submit"&&p&&p.stateNode===S){var R=y3((S[Er]||null).action),B=y.submitter;B&&(f=(f=B[Er]||null)?y3(f.formAction):B.getAttribute("formAction"),f!==null&&(R=f,B=null));var Y=new dh("action","action",null,y,S);c.push({event:Y,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Ed!==0){var J=B?v3(S,B):new FormData(S);oA(p,{pending:!0,data:J,method:S.method,action:R},null,J)}}else typeof R=="function"&&(Y.preventDefault(),J=B?v3(S,B):new FormData(S),oA(p,{pending:!0,data:J,method:S.method,action:R},R,J))},currentTarget:S}]})}}for(var UA=0;UA<AN.length;UA++){var zA=AN[UA],_se=zA.toLowerCase(),wse=zA[0].toUpperCase()+zA.slice(1);Ta(_se,"on"+wse)}Ta(Q4,"onAnimationEnd"),Ta(Z4,"onAnimationIteration"),Ta(J4,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(Vie,"onTransitionRun"),Ta(Fie,"onTransitionStart"),Ta(Bie,"onTransitionCancel"),Ta(eL,"onTransitionEnd"),sl("onMouseEnter",["mouseout","mouseover"]),sl("onMouseLeave",["mouseout","mouseover"]),sl("onPointerEnter",["pointerout","pointerover"]),sl("onPointerLeave",["pointerout","pointerover"]),Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sse=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yg));function x3(c,f){f=(f&4)!==0;for(var p=0;p<c.length;p++){var y=c[p],S=y.event;y=y.listeners;e:{var R=void 0;if(f)for(var B=y.length-1;0<=B;B--){var Y=y[B],J=Y.instance,de=Y.currentTarget;if(Y=Y.listener,J!==R&&S.isPropagationStopped())break e;R=Y,S.currentTarget=de;try{R(S)}catch(_e){h0(_e)}S.currentTarget=null,R=J}else for(B=0;B<y.length;B++){if(Y=y[B],J=Y.instance,de=Y.currentTarget,Y=Y.listener,J!==R&&S.isPropagationStopped())break e;R=Y,S.currentTarget=de;try{R(S)}catch(_e){h0(_e)}S.currentTarget=null,R=J}}}}function Yt(c,f){var p=f[sg];p===void 0&&(p=f[sg]=new Set);var y=c+"__bubble";p.has(y)||(b3(f,c,2,!1),p.add(y))}function qA(c,f,p){var y=0;f&&(y|=4),b3(p,c,y,f)}var E0="_reactListening"+Math.random().toString(36).slice(2);function HA(c){if(!c[E0]){c[E0]=!0,ag.forEach(function(p){p!=="selectionchange"&&(Sse.has(p)||qA(p,!1,c),qA(p,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[E0]||(f[E0]=!0,qA("selectionchange",!1,f))}}function b3(c,f,p,y){switch(q3(f)){case 2:var S=Xse;break;case 8:S=Qse;break;default:S=sE}p=S.bind(null,f,p,c),S=void 0,!Xs||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(S=!0),y?S!==void 0?c.addEventListener(f,p,{capture:!0,passive:S}):c.addEventListener(f,p,!0):S!==void 0?c.addEventListener(f,p,{passive:S}):c.addEventListener(f,p,!1)}function WA(c,f,p,y,S){var R=y;if((f&1)===0&&(f&2)===0&&y!==null)e:for(;;){if(y===null)return;var B=y.tag;if(B===3||B===4){var Y=y.stateNode.containerInfo;if(Y===S)break;if(B===4)for(B=y.return;B!==null;){var J=B.tag;if((J===3||J===4)&&B.stateNode.containerInfo===S)return;B=B.return}for(;Y!==null;){if(B=il(Y),B===null)return;if(J=B.tag,J===5||J===6||J===26||J===27){y=R=B;continue e}Y=Y.parentNode}}y=y.return}Cb(function(){var de=R,_e=Ks(p),Ae=[];e:{var fe=tL.get(c);if(fe!==void 0){var he=dh,Nt=c;switch(c){case"keypress":if(oo(p)===0)break e;case"keydown":case"keyup":he=yh;break;case"focusin":Nt="focus",he=mh;break;case"focusout":Nt="blur",he=mh;break;case"beforeblur":case"afterblur":he=mh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Qs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=vN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Lb;break;case Q4:case Z4:case J4:he=ph;break;case eL:he=Vb;break;case"scroll":case"scrollend":he=kb;break;case"wheel":he=vh;break;case"copy":case"cut":case"paste":he=gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=vg;break;case"toggle":case"beforetoggle":he=Bb}var gt=(f&4)!==0,Dn=!gt&&(c==="scroll"||c==="scrollend"),ie=gt?fe!==null?fe+"Capture":null:fe;gt=[];for(var re=de,le;re!==null;){var Se=re;if(le=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||le===null||ie===null||(Se=ad(re,ie),Se!=null&&gt.push(Kg(re,Se,le))),Dn)break;re=re.return}0<gt.length&&(fe=new he(fe,Nt,null,p,_e),Ae.push({event:fe,listeners:gt}))}}if((f&7)===0){e:{if(fe=c==="mouseover"||c==="pointerover",he=c==="mouseout"||c==="pointerout",fe&&p!==ll&&(Nt=p.relatedTarget||p.fromElement)&&(il(Nt)||Nt[Gs]))break e;if((he||fe)&&(fe=_e.window===_e?_e:(fe=_e.ownerDocument)?fe.defaultView||fe.parentWindow:window,he?(Nt=p.relatedTarget||p.toElement,he=de,Nt=Nt?il(Nt):null,Nt!==null&&(Dn=s(Nt),gt=Nt.tag,Nt!==Dn||gt!==5&&gt!==27&&gt!==6)&&(Nt=null)):(he=null,Nt=de),he!==Nt)){if(gt=Qs,Se="onMouseLeave",ie="onMouseEnter",re="mouse",(c==="pointerout"||c==="pointerover")&&(gt=vg,Se="onPointerLeave",ie="onPointerEnter",re="pointer"),Dn=he==null?fe:ro(he),le=Nt==null?fe:ro(Nt),fe=new gt(Se,re+"leave",he,p,_e),fe.target=Dn,fe.relatedTarget=le,Se=null,il(_e)===de&&(gt=new gt(ie,re+"enter",Nt,p,_e),gt.target=le,gt.relatedTarget=Dn,Se=gt),Dn=Se,he&&Nt)t:{for(gt=he,ie=Nt,re=0,le=gt;le;le=zh(le))re++;for(le=0,Se=ie;Se;Se=zh(Se))le++;for(;0<re-le;)gt=zh(gt),re--;for(;0<le-re;)ie=zh(ie),le--;for(;re--;){if(gt===ie||ie!==null&&gt===ie.alternate)break t;gt=zh(gt),ie=zh(ie)}gt=null}else gt=null;he!==null&&_3(Ae,fe,he,gt,!1),Nt!==null&&Dn!==null&&_3(Ae,Dn,Nt,gt,!0)}}e:{if(fe=de?ro(de):window,he=fe.nodeName&&fe.nodeName.toLowerCase(),he==="select"||he==="input"&&fe.type==="file")var nt=F4;else if(Hr(fe))if(B4)nt=Die;else{nt=Iie;var qt=Pie}else he=fe.nodeName,!he||he.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?de&&dg(de.elementType)&&(nt=F4):nt=Mie;if(nt&&(nt=nt(c,de))){hl(Ae,nt,p,_e);break e}qt&&qt(c,fe,de),c==="focusout"&&de&&fe.type==="number"&&de.memoizedProps.value!=null&&Nc(fe,"number",fe.value)}switch(qt=de?ro(de):window,c){case"focusin":(Hr(qt)||qt.contentEditable==="true")&&(xh=qt,SN=de,_g=null);break;case"focusout":_g=SN=xh=null;break;case"mousedown":jN=!0;break;case"contextmenu":case"mouseup":case"dragend":jN=!1,K4(Ae,p,_e);break;case"selectionchange":if($ie)break;case"keydown":case"keyup":K4(Ae,p,_e)}var dt;if(uo)e:{switch(c){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else sn?me(c,p)&&(vt="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(vt="onCompositionStart");vt&&(F&&p.locale!=="ko"&&(sn||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&sn&&(dt=hg()):(ao=_e,Ac="value"in ao?ao.value:ao.textContent,sn=!0)),qt=T0(de,vt),0<qt.length&&(vt=new gg(vt,c,null,p,_e),Ae.push({event:vt,listeners:qt}),dt?vt.data=dt:(dt=$e(p),dt!==null&&(vt.data=dt)))),(dt=L?qr(c,p):an(c,p))&&(vt=T0(de,"onBeforeInput"),0<vt.length&&(qt=new gg("onBeforeInput","beforeinput",null,p,_e),Ae.push({event:qt,listeners:vt}),qt.data=dt)),bse(Ae,c,de,p,_e)}x3(Ae,f)})}function Kg(c,f,p){return{instance:c,listener:f,currentTarget:p}}function T0(c,f){for(var p=f+"Capture",y=[];c!==null;){var S=c,R=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||R===null||(S=ad(c,p),S!=null&&y.unshift(Kg(c,S,R)),S=ad(c,f),S!=null&&y.push(Kg(c,S,R))),c.tag===3)return y;c=c.return}return[]}function zh(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function _3(c,f,p,y,S){for(var R=f._reactName,B=[];p!==null&&p!==y;){var Y=p,J=Y.alternate,de=Y.stateNode;if(Y=Y.tag,J!==null&&J===y)break;Y!==5&&Y!==26&&Y!==27||de===null||(J=de,S?(de=ad(p,R),de!=null&&B.unshift(Kg(p,de,J))):S||(de=ad(p,R),de!=null&&B.push(Kg(p,de,J)))),p=p.return}B.length!==0&&c.push({event:f,listeners:B})}var jse=/\r\n?/g,Nse=/\u0000|\uFFFD/g;function w3(c){return(typeof c=="string"?c:""+c).replace(jse,`
`).replace(Nse,"")}function S3(c,f){return f=w3(f),w3(c)===f}function C0(){}function Mn(c,f,p,y,S,R){switch(p){case"children":typeof y=="string"?f==="body"||f==="textarea"&&y===""||Ys(c,y):(typeof y=="number"||typeof y=="bigint")&&f!=="body"&&Ys(c,""+y);break;case"className":io(c,"class",y);break;case"tabIndex":io(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":io(c,p,y);break;case"style":ug(c,y,R);break;case"data":if(f!=="object"){io(c,"data",y);break}case"src":case"href":if(y===""&&(f!=="a"||p!=="href")){c.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=uh(""+y),c.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(p==="formAction"?(f!=="input"&&Mn(c,f,"name",S.name,S,null),Mn(c,f,"formEncType",S.formEncType,S,null),Mn(c,f,"formMethod",S.formMethod,S,null),Mn(c,f,"formTarget",S.formTarget,S,null)):(Mn(c,f,"encType",S.encType,S,null),Mn(c,f,"method",S.method,S,null),Mn(c,f,"target",S.target,S,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=uh(""+y),c.setAttribute(p,y);break;case"onClick":y!=null&&(c.onclick=C0);break;case"onScroll":y!=null&&Yt("scroll",c);break;case"onScrollEnd":y!=null&&Yt("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(S.children!=null)throw Error(r(60));c.innerHTML=p}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}p=uh(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""+y):c.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""):c.removeAttribute(p);break;case"capture":case"download":y===!0?c.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,y):c.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(p,y):c.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(p):c.setAttribute(p,y);break;case"popover":Yt("beforetoggle",c),Yt("toggle",c),jc(c,"popover",y);break;case"xlinkActuate":wi(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":wi(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":wi(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":wi(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":wi(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":wi(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":wi(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":wi(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":wi(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":jc(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=gN.get(p)||p,jc(c,p,y))}}function GA(c,f,p,y,S,R){switch(p){case"style":ug(c,y,R);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(S.children!=null)throw Error(r(60));c.innerHTML=p}}break;case"children":typeof y=="string"?Ys(c,y):(typeof y=="number"||typeof y=="bigint")&&Ys(c,""+y);break;case"onScroll":y!=null&&Yt("scroll",c);break;case"onScrollEnd":y!=null&&Yt("scrollend",c);break;case"onClick":y!=null&&(c.onclick=C0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sh.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(S=p.endsWith("Capture"),f=p.slice(2,S?p.length-7:void 0),R=c[Er]||null,R=R!=null?R[p]:null,typeof R=="function"&&c.removeEventListener(f,R,S),typeof y=="function")){typeof R!="function"&&R!==null&&(p in c?c[p]=null:c.hasAttribute(p)&&c.removeAttribute(p)),c.addEventListener(f,y,S);break e}p in c?c[p]=y:y===!0?c.setAttribute(p,""):jc(c,p,y)}}}function Ai(c,f,p){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",c),Yt("load",c);var y=!1,S=!1,R;for(R in p)if(p.hasOwnProperty(R)){var B=p[R];if(B!=null)switch(R){case"src":y=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Mn(c,f,R,B,p,null)}}S&&Mn(c,f,"srcSet",p.srcSet,p,null),y&&Mn(c,f,"src",p.src,p,null);return;case"input":Yt("invalid",c);var Y=R=B=S=null,J=null,de=null;for(y in p)if(p.hasOwnProperty(y)){var _e=p[y];if(_e!=null)switch(y){case"name":S=_e;break;case"type":B=_e;break;case"checked":J=_e;break;case"defaultChecked":de=_e;break;case"value":R=_e;break;case"defaultValue":Y=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,f));break;default:Mn(c,f,y,_e,p,null)}}rd(c,R,Y,J,de,B,S,!1),ch(c);return;case"select":Yt("invalid",c),y=B=R=null;for(S in p)if(p.hasOwnProperty(S)&&(Y=p[S],Y!=null))switch(S){case"value":R=Y;break;case"defaultValue":B=Y;break;case"multiple":y=Y;default:Mn(c,f,S,Y,p,null)}f=R,p=B,c.multiple=!!y,f!=null?ol(c,!!y,f,!1):p!=null&&ol(c,!!y,p,!0);return;case"textarea":Yt("invalid",c),R=S=y=null;for(B in p)if(p.hasOwnProperty(B)&&(Y=p[B],Y!=null))switch(B){case"value":y=Y;break;case"defaultValue":S=Y;break;case"children":R=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(91));break;default:Mn(c,f,B,Y,p,null)}id(c,y,S,R),ch(c);return;case"option":for(J in p)if(p.hasOwnProperty(J)&&(y=p[J],y!=null))switch(J){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Mn(c,f,J,y,p,null)}return;case"dialog":Yt("beforetoggle",c),Yt("toggle",c),Yt("cancel",c),Yt("close",c);break;case"iframe":case"object":Yt("load",c);break;case"video":case"audio":for(y=0;y<Yg.length;y++)Yt(Yg[y],c);break;case"image":Yt("error",c),Yt("load",c);break;case"details":Yt("toggle",c);break;case"embed":case"source":case"link":Yt("error",c),Yt("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in p)if(p.hasOwnProperty(de)&&(y=p[de],y!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Mn(c,f,de,y,p,null)}return;default:if(dg(f)){for(_e in p)p.hasOwnProperty(_e)&&(y=p[_e],y!==void 0&&GA(c,f,_e,y,p,void 0));return}}for(Y in p)p.hasOwnProperty(Y)&&(y=p[Y],y!=null&&Mn(c,f,Y,y,p,null))}function Ase(c,f,p,y){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,R=null,B=null,Y=null,J=null,de=null,_e=null;for(he in p){var Ae=p[he];if(p.hasOwnProperty(he)&&Ae!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":J=Ae;default:y.hasOwnProperty(he)||Mn(c,f,he,null,y,Ae)}}for(var fe in y){var he=y[fe];if(Ae=p[fe],y.hasOwnProperty(fe)&&(he!=null||Ae!=null))switch(fe){case"type":R=he;break;case"name":S=he;break;case"checked":de=he;break;case"defaultChecked":_e=he;break;case"value":B=he;break;case"defaultValue":Y=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,f));break;default:he!==Ae&&Mn(c,f,fe,he,y,Ae)}}ys(c,B,Y,J,de,_e,R,S);return;case"select":he=B=Y=fe=null;for(R in p)if(J=p[R],p.hasOwnProperty(R)&&J!=null)switch(R){case"value":break;case"multiple":he=J;default:y.hasOwnProperty(R)||Mn(c,f,R,null,y,J)}for(S in y)if(R=y[S],J=p[S],y.hasOwnProperty(S)&&(R!=null||J!=null))switch(S){case"value":fe=R;break;case"defaultValue":Y=R;break;case"multiple":B=R;default:R!==J&&Mn(c,f,S,R,y,J)}f=Y,p=B,y=he,fe!=null?ol(c,!!p,fe,!1):!!y!=!!p&&(f!=null?ol(c,!!p,f,!0):ol(c,!!p,p?[]:"",!1));return;case"textarea":he=fe=null;for(Y in p)if(S=p[Y],p.hasOwnProperty(Y)&&S!=null&&!y.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Mn(c,f,Y,null,y,S)}for(B in y)if(S=y[B],R=p[B],y.hasOwnProperty(B)&&(S!=null||R!=null))switch(B){case"value":fe=S;break;case"defaultValue":he=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==R&&Mn(c,f,B,S,y,R)}Pn(c,fe,he);return;case"option":for(var Nt in p)if(fe=p[Nt],p.hasOwnProperty(Nt)&&fe!=null&&!y.hasOwnProperty(Nt))switch(Nt){case"selected":c.selected=!1;break;default:Mn(c,f,Nt,null,y,fe)}for(J in y)if(fe=y[J],he=p[J],y.hasOwnProperty(J)&&fe!==he&&(fe!=null||he!=null))switch(J){case"selected":c.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Mn(c,f,J,fe,y,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in p)fe=p[gt],p.hasOwnProperty(gt)&&fe!=null&&!y.hasOwnProperty(gt)&&Mn(c,f,gt,null,y,fe);for(de in y)if(fe=y[de],he=p[de],y.hasOwnProperty(de)&&fe!==he&&(fe!=null||he!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,f));break;default:Mn(c,f,de,fe,y,he)}return;default:if(dg(f)){for(var Dn in p)fe=p[Dn],p.hasOwnProperty(Dn)&&fe!==void 0&&!y.hasOwnProperty(Dn)&&GA(c,f,Dn,void 0,y,fe);for(_e in y)fe=y[_e],he=p[_e],!y.hasOwnProperty(_e)||fe===he||fe===void 0&&he===void 0||GA(c,f,_e,fe,y,he);return}}for(var ie in p)fe=p[ie],p.hasOwnProperty(ie)&&fe!=null&&!y.hasOwnProperty(ie)&&Mn(c,f,ie,null,y,fe);for(Ae in y)fe=y[Ae],he=p[Ae],!y.hasOwnProperty(Ae)||fe===he||fe==null&&he==null||Mn(c,f,Ae,fe,y,he)}var YA=null,KA=null;function k0(c){return c.nodeType===9?c:c.ownerDocument}function j3(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N3(c,f){if(c===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&f==="foreignObject"?0:c}function XA(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var QA=null;function Ese(){var c=window.event;return c&&c.type==="popstate"?c===QA?!1:(QA=c,!0):(QA=null,!1)}var A3=typeof setTimeout=="function"?setTimeout:void 0,Tse=typeof clearTimeout=="function"?clearTimeout:void 0,E3=typeof Promise=="function"?Promise:void 0,Cse=typeof queueMicrotask=="function"?queueMicrotask:typeof E3<"u"?function(c){return E3.resolve(null).then(c).catch(kse)}:A3;function kse(c){setTimeout(function(){throw c})}function Uc(c){return c==="head"}function T3(c,f){var p=f,y=0,S=0;do{var R=p.nextSibling;if(c.removeChild(p),R&&R.nodeType===8)if(p=R.data,p==="/$"){if(0<y&&8>y){p=y;var B=c.ownerDocument;if(p&1&&Xg(B.documentElement),p&2&&Xg(B.body),p&4)for(p=B.head,Xg(p),B=p.firstChild;B;){var Y=B.nextSibling,J=B.nodeName;B[Ju]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&B.rel.toLowerCase()==="stylesheet"||p.removeChild(B),B=Y}}if(S===0){c.removeChild(R),iy(f);return}S--}else p==="$"||p==="$?"||p==="$!"?S++:y=p.charCodeAt(0)-48;else y=0;p=R}while(p);iy(f)}function ZA(c){var f=c.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var p=f;switch(f=f.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":ZA(p),Sc(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}c.removeChild(p)}}function Ose(c,f,p,y){for(;c.nodeType===1;){var S=p;if(c.nodeName.toLowerCase()!==f.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[Ju])switch(f){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(R=c.getAttribute("rel"),R==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(R!==S.rel||c.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||c.getAttribute("title")!==(S.title==null?null:S.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(R=c.getAttribute("src"),(R!==(S.src==null?null:S.src)||c.getAttribute("type")!==(S.type==null?null:S.type)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&R&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(f==="input"&&c.type==="hidden"){var R=S.name==null?null:""+S.name;if(S.type==="hidden"&&c.getAttribute("name")===R)return c}else return c;if(c=ka(c.nextSibling),c===null)break}return null}function Rse(c,f,p){if(f==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=ka(c.nextSibling),c===null))return null;return c}function JA(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function Pse(c,f){var p=c.ownerDocument;if(c.data!=="$?"||p.readyState==="complete")f();else{var y=function(){f(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),c._reactRetry=y}}function ka(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return c}var eE=null;function C3(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"){if(f===0)return c;f--}else p==="/$"&&f++}c=c.previousSibling}return null}function k3(c,f,p){switch(f=k0(p),c){case"html":if(c=f.documentElement,!c)throw Error(r(452));return c;case"head":if(c=f.head,!c)throw Error(r(453));return c;case"body":if(c=f.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function Xg(c){for(var f=c.attributes;f.length;)c.removeAttributeNode(f[0]);Sc(c)}var ia=new Map,O3=new Set;function O0(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Al=q.d;q.d={f:Ise,r:Mse,D:Dse,C:Lse,L:$se,m:Vse,X:Bse,S:Fse,M:Use};function Ise(){var c=Al.f(),f=w0();return c||f}function Mse(c){var f=no(c);f!==null&&f.tag===5&&f.type==="form"?QL(f):Al.r(c)}var qh=typeof document>"u"?null:document;function R3(c,f,p){var y=qh;if(y&&typeof f=="string"&&f){var S=Tr(f);S='link[rel="'+c+'"][href="'+S+'"]',typeof p=="string"&&(S+='[crossorigin="'+p+'"]'),O3.has(S)||(O3.add(S),c={rel:c,crossOrigin:p,href:f},y.querySelector(S)===null&&(f=y.createElement("link"),Ai(f,"link",c),yr(f),y.head.appendChild(f)))}}function Dse(c){Al.D(c),R3("dns-prefetch",c,null)}function Lse(c,f){Al.C(c,f),R3("preconnect",c,f)}function $se(c,f,p){Al.L(c,f,p);var y=qh;if(y&&c&&f){var S='link[rel="preload"][as="'+Tr(f)+'"]';f==="image"&&p&&p.imageSrcSet?(S+='[imagesrcset="'+Tr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(S+='[imagesizes="'+Tr(p.imageSizes)+'"]')):S+='[href="'+Tr(c)+'"]';var R=S;switch(f){case"style":R=Hh(c);break;case"script":R=Wh(c)}ia.has(R)||(c=h({rel:"preload",href:f==="image"&&p&&p.imageSrcSet?void 0:c,as:f},p),ia.set(R,c),y.querySelector(S)!==null||f==="style"&&y.querySelector(Qg(R))||f==="script"&&y.querySelector(Zg(R))||(f=y.createElement("link"),Ai(f,"link",c),yr(f),y.head.appendChild(f)))}}function Vse(c,f){Al.m(c,f);var p=qh;if(p&&c){var y=f&&typeof f.as=="string"?f.as:"script",S='link[rel="modulepreload"][as="'+Tr(y)+'"][href="'+Tr(c)+'"]',R=S;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=Wh(c)}if(!ia.has(R)&&(c=h({rel:"modulepreload",href:c},f),ia.set(R,c),p.querySelector(S)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Zg(R)))return}y=p.createElement("link"),Ai(y,"link",c),yr(y),p.head.appendChild(y)}}}function Fse(c,f,p){Al.S(c,f,p);var y=qh;if(y&&c){var S=qi(y).hoistableStyles,R=Hh(c);f=f||"default";var B=S.get(R);if(!B){var Y={loading:0,preload:null};if(B=y.querySelector(Qg(R)))Y.loading=5;else{c=h({rel:"stylesheet",href:c,"data-precedence":f},p),(p=ia.get(R))&&tE(c,p);var J=B=y.createElement("link");yr(J),Ai(J,"link",c),J._p=new Promise(function(de,_e){J.onload=de,J.onerror=_e}),J.addEventListener("load",function(){Y.loading|=1}),J.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,R0(B,f,y)}B={type:"stylesheet",instance:B,count:1,state:Y},S.set(R,B)}}}function Bse(c,f){Al.X(c,f);var p=qh;if(p&&c){var y=qi(p).hoistableScripts,S=Wh(c),R=y.get(S);R||(R=p.querySelector(Zg(S)),R||(c=h({src:c,async:!0},f),(f=ia.get(S))&&nE(c,f),R=p.createElement("script"),yr(R),Ai(R,"link",c),p.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},y.set(S,R))}}function Use(c,f){Al.M(c,f);var p=qh;if(p&&c){var y=qi(p).hoistableScripts,S=Wh(c),R=y.get(S);R||(R=p.querySelector(Zg(S)),R||(c=h({src:c,async:!0,type:"module"},f),(f=ia.get(S))&&nE(c,f),R=p.createElement("script"),yr(R),Ai(R,"link",c),p.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},y.set(S,R))}}function P3(c,f,p,y){var S=(S=Te.current)?O0(S):null;if(!S)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(f=Hh(p.href),p=qi(S).hoistableStyles,y=p.get(f),y||(y={type:"style",instance:null,count:0,state:null},p.set(f,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){c=Hh(p.href);var R=qi(S).hoistableStyles,B=R.get(c);if(B||(S=S.ownerDocument||S,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(c,B),(R=S.querySelector(Qg(c)))&&!R._p&&(B.instance=R,B.state.loading=5),ia.has(c)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},ia.set(c,p),R||zse(S,c,p,B.state))),f&&y===null)throw Error(r(528,""));return B}if(f&&y!==null)throw Error(r(529,""));return null;case"script":return f=p.async,p=p.src,typeof p=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Wh(p),p=qi(S).hoistableScripts,y=p.get(f),y||(y={type:"script",instance:null,count:0,state:null},p.set(f,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function Hh(c){return'href="'+Tr(c)+'"'}function Qg(c){return'link[rel="stylesheet"]['+c+"]"}function I3(c){return h({},c,{"data-precedence":c.precedence,precedence:null})}function zse(c,f,p,y){c.querySelector('link[rel="preload"][as="style"]['+f+"]")?y.loading=1:(f=c.createElement("link"),y.preload=f,f.addEventListener("load",function(){return y.loading|=1}),f.addEventListener("error",function(){return y.loading|=2}),Ai(f,"link",p),yr(f),c.head.appendChild(f))}function Wh(c){return'[src="'+Tr(c)+'"]'}function Zg(c){return"script[async]"+c}function M3(c,f,p){if(f.count++,f.instance===null)switch(f.type){case"style":var y=c.querySelector('style[data-href~="'+Tr(p.href)+'"]');if(y)return f.instance=y,yr(y),y;var S=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),yr(y),Ai(y,"style",S),R0(y,p.precedence,c),f.instance=y;case"stylesheet":S=Hh(p.href);var R=c.querySelector(Qg(S));if(R)return f.state.loading|=4,f.instance=R,yr(R),R;y=I3(p),(S=ia.get(S))&&tE(y,S),R=(c.ownerDocument||c).createElement("link"),yr(R);var B=R;return B._p=new Promise(function(Y,J){B.onload=Y,B.onerror=J}),Ai(R,"link",y),f.state.loading|=4,R0(R,p.precedence,c),f.instance=R;case"script":return R=Wh(p.src),(S=c.querySelector(Zg(R)))?(f.instance=S,yr(S),S):(y=p,(S=ia.get(R))&&(y=h({},p),nE(y,S)),c=c.ownerDocument||c,S=c.createElement("script"),yr(S),Ai(S,"link",y),c.head.appendChild(S),f.instance=S);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(y=f.instance,f.state.loading|=4,R0(y,p.precedence,c));return f.instance}function R0(c,f,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=y.length?y[y.length-1]:null,R=S,B=0;B<y.length;B++){var Y=y[B];if(Y.dataset.precedence===f)R=Y;else if(R!==S)break}R?R.parentNode.insertBefore(c,R.nextSibling):(f=p.nodeType===9?p.head:p,f.insertBefore(c,f.firstChild))}function tE(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.title==null&&(c.title=f.title)}function nE(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.integrity==null&&(c.integrity=f.integrity)}var P0=null;function D3(c,f,p){if(P0===null){var y=new Map,S=P0=new Map;S.set(p,y)}else S=P0,y=S.get(p),y||(y=new Map,S.set(p,y));if(y.has(c))return y;for(y.set(c,null),p=p.getElementsByTagName(c),S=0;S<p.length;S++){var R=p[S];if(!(R[Ju]||R[hr]||c==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var B=R.getAttribute(f)||"";B=c+B;var Y=y.get(B);Y?Y.push(R):y.set(B,[R])}}return y}function L3(c,f,p){c=c.ownerDocument||c,c.head.insertBefore(p,f==="title"?c.querySelector("head > title"):null)}function qse(c,f,p){if(p===1||f.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return c=f.disabled,typeof f.precedence=="string"&&c==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function $3(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var Jg=null;function Hse(){}function Wse(c,f,p){if(Jg===null)throw Error(r(475));var y=Jg;if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var S=Hh(p.href),R=c.querySelector(Qg(S));if(R){c=R._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(y.count++,y=I0.bind(y),c.then(y,y)),f.state.loading|=4,f.instance=R,yr(R);return}R=c.ownerDocument||c,p=I3(p),(S=ia.get(S))&&tE(p,S),R=R.createElement("link"),yr(R);var B=R;B._p=new Promise(function(Y,J){B.onload=Y,B.onerror=J}),Ai(R,"link",p),f.instance=R}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(y.count++,f=I0.bind(y),c.addEventListener("load",f),c.addEventListener("error",f))}}function Gse(){if(Jg===null)throw Error(r(475));var c=Jg;return c.stylesheets&&c.count===0&&rE(c,c.stylesheets),0<c.count?function(f){var p=setTimeout(function(){if(c.stylesheets&&rE(c,c.stylesheets),c.unsuspend){var y=c.unsuspend;c.unsuspend=null,y()}},6e4);return c.unsuspend=f,function(){c.unsuspend=null,clearTimeout(p)}}:null}function I0(){if(this.count--,this.count===0){if(this.stylesheets)rE(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var M0=null;function rE(c,f){c.stylesheets=null,c.unsuspend!==null&&(c.count++,M0=new Map,f.forEach(Yse,c),M0=null,I0.call(c))}function Yse(c,f){if(!(f.state.loading&4)){var p=M0.get(c);if(p)var y=p.get(null);else{p=new Map,M0.set(c,p);for(var S=c.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<S.length;R++){var B=S[R];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(p.set(B.dataset.precedence,B),y=B)}y&&p.set(null,y)}S=f.instance,B=S.getAttribute("data-precedence"),R=p.get(B)||y,R===y&&p.set(null,S),p.set(B,S),this.count++,y=I0.bind(this),S.addEventListener("load",y),S.addEventListener("error",y),R?R.parentNode.insertBefore(S,R.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(S,c.firstChild)),f.state.loading|=4}}var ey={$$typeof:C,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function Kse(c,f,p,y,S,R,B,Y){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Na(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.hiddenUpdates=Na(null),this.identifierPrefix=y,this.onUncaughtError=S,this.onCaughtError=R,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function V3(c,f,p,y,S,R,B,Y,J,de,_e,Ae){return c=new Kse(c,f,p,B,Y,J,de,Ae),f=1,R===!0&&(f|=24),R=xs(3,null,null,f),c.current=R,R.stateNode=c,f=$N(),f.refCount++,c.pooledCache=f,f.refCount++,R.memoizedState={element:y,isDehydrated:p,cache:f},UN(R),c}function F3(c){return c?(c=Sh,c):Sh}function B3(c,f,p,y,S,R){S=F3(S),y.context===null?y.context=S:y.pendingContext=S,y=Cc(f),y.payload={element:p},R=R===void 0?null:R,R!==null&&(y.callback=R),p=kc(c,y,f),p!==null&&(js(p,c,f),kg(p,c,f))}function U3(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<f?p:f}}function iE(c,f){U3(c,f),(c=c.alternate)&&U3(c,f)}function z3(c){if(c.tag===13){var f=wh(c,67108864);f!==null&&js(f,c,67108864),iE(c,67108864)}}var D0=!0;function Xse(c,f,p,y){var S=U.T;U.T=null;var R=q.p;try{q.p=2,sE(c,f,p,y)}finally{q.p=R,U.T=S}}function Qse(c,f,p,y){var S=U.T;U.T=null;var R=q.p;try{q.p=8,sE(c,f,p,y)}finally{q.p=R,U.T=S}}function sE(c,f,p,y){if(D0){var S=aE(y);if(S===null)WA(c,f,y,L0,p),H3(c,y);else if(Jse(S,c,f,p,y))y.stopPropagation();else if(H3(c,y),f&4&&-1<Zse.indexOf(c)){for(;S!==null;){var R=no(S);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var B=ar(R.pendingLanes);if(B!==0){var Y=R;for(Y.pendingLanes|=2,Y.entangledLanes|=2;B;){var J=1<<31-ve(B);Y.entanglements[1]|=J,B&=~J}yo(R),(Nn&6)===0&&(b0=At()+500,Gg(0))}}break;case 13:Y=wh(R,2),Y!==null&&js(Y,R,2),w0(),iE(R,2)}if(R=aE(y),R===null&&WA(c,f,y,L0,p),R===S)break;S=R}S!==null&&y.stopPropagation()}else WA(c,f,y,null,p)}}function aE(c){return c=Ks(c),oE(c)}var L0=null;function oE(c){if(L0=null,c=il(c),c!==null){var f=s(c);if(f===null)c=null;else{var p=f.tag;if(p===13){if(c=a(f),c!==null)return c;c=null}else if(p===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null)}}return L0=c,null}function q3(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ur()){case Qn:return 2;case ee:return 8;case se:case pe:return 32;case Le:return 268435456;default:return 32}default:return 32}}var lE=!1,zc=null,qc=null,Hc=null,ty=new Map,ny=new Map,Wc=[],Zse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H3(c,f){switch(c){case"focusin":case"focusout":zc=null;break;case"dragenter":case"dragleave":qc=null;break;case"mouseover":case"mouseout":Hc=null;break;case"pointerover":case"pointerout":ty.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":ny.delete(f.pointerId)}}function ry(c,f,p,y,S,R){return c===null||c.nativeEvent!==R?(c={blockedOn:f,domEventName:p,eventSystemFlags:y,nativeEvent:R,targetContainers:[S]},f!==null&&(f=no(f),f!==null&&z3(f)),c):(c.eventSystemFlags|=y,f=c.targetContainers,S!==null&&f.indexOf(S)===-1&&f.push(S),c)}function Jse(c,f,p,y,S){switch(f){case"focusin":return zc=ry(zc,c,f,p,y,S),!0;case"dragenter":return qc=ry(qc,c,f,p,y,S),!0;case"mouseover":return Hc=ry(Hc,c,f,p,y,S),!0;case"pointerover":var R=S.pointerId;return ty.set(R,ry(ty.get(R)||null,c,f,p,y,S)),!0;case"gotpointercapture":return R=S.pointerId,ny.set(R,ry(ny.get(R)||null,c,f,p,y,S)),!0}return!1}function W3(c){var f=il(c.target);if(f!==null){var p=s(f);if(p!==null){if(f=p.tag,f===13){if(f=a(p),f!==null){c.blockedOn=f,zr(c.priority,function(){if(p.tag===13){var y=Ss();y=Bn(y);var S=wh(p,y);S!==null&&js(S,p,y),iE(p,y)}});return}}else if(f===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function $0(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var p=aE(c.nativeEvent);if(p===null){p=c.nativeEvent;var y=new p.constructor(p.type,p);ll=y,p.target.dispatchEvent(y),ll=null}else return f=no(p),f!==null&&z3(f),c.blockedOn=p,!1;f.shift()}return!0}function G3(c,f,p){$0(c)&&p.delete(f)}function eae(){lE=!1,zc!==null&&$0(zc)&&(zc=null),qc!==null&&$0(qc)&&(qc=null),Hc!==null&&$0(Hc)&&(Hc=null),ty.forEach(G3),ny.forEach(G3)}function V0(c,f){c.blockedOn===f&&(c.blockedOn=null,lE||(lE=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,eae)))}var F0=null;function Y3(c){F0!==c&&(F0=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){F0===c&&(F0=null);for(var f=0;f<c.length;f+=3){var p=c[f],y=c[f+1],S=c[f+2];if(typeof y!="function"){if(oE(y||p)===null)continue;break}var R=no(p);R!==null&&(c.splice(f,3),f-=3,oA(R,{pending:!0,data:S,method:p.method,action:y},y,S))}}))}function iy(c){function f(J){return V0(J,c)}zc!==null&&V0(zc,c),qc!==null&&V0(qc,c),Hc!==null&&V0(Hc,c),ty.forEach(f),ny.forEach(f);for(var p=0;p<Wc.length;p++){var y=Wc[p];y.blockedOn===c&&(y.blockedOn=null)}for(;0<Wc.length&&(p=Wc[0],p.blockedOn===null);)W3(p),p.blockedOn===null&&Wc.shift();if(p=(c.ownerDocument||c).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var S=p[y],R=p[y+1],B=S[Er]||null;if(typeof R=="function")B||Y3(p);else if(B){var Y=null;if(R&&R.hasAttribute("formAction")){if(S=R,B=R[Er]||null)Y=B.formAction;else if(oE(S)!==null)continue}else Y=B.action;typeof Y=="function"?p[y+1]=Y:(p.splice(y,3),y-=3),Y3(p)}}}function cE(c){this._internalRoot=c}B0.prototype.render=cE.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(r(409));var p=f.current,y=Ss();B3(p,y,c,f,null,null)},B0.prototype.unmount=cE.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;B3(c.current,2,null,c,null,null),w0(),f[Gs]=null}};function B0(c){this._internalRoot=c}B0.prototype.unstable_scheduleHydration=function(c){if(c){var f=jn();c={blockedOn:null,target:c,priority:f};for(var p=0;p<Wc.length&&f!==0&&f<Wc[p].priority;p++);Wc.splice(p,0,c),p===0&&W3(c)}};var K3=e.version;if(K3!=="19.1.0")throw Error(r(527,K3,"19.1.0"));q.findDOMNode=function(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=u(f),c=c!==null?d(c):null,c=c===null?null:c.stateNode,c};var tae={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var U0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!U0.isDisabled&&U0.supportsFiber)try{Ve=U0.inject(tae),tt=U0}catch{}}return ay.createRoot=function(c,f){if(!i(c))throw Error(r(299));var p=!1,y="",S=d5,R=f5,B=h5,Y=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(R=f.onCaughtError),f.onRecoverableError!==void 0&&(B=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(Y=f.unstable_transitionCallbacks)),f=V3(c,1,!1,null,null,p,y,S,R,B,Y,null),c[Gs]=f.current,HA(c),new cE(f)},ay.hydrateRoot=function(c,f,p){if(!i(c))throw Error(r(299));var y=!1,S="",R=d5,B=f5,Y=h5,J=null,de=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(R=p.onUncaughtError),p.onCaughtError!==void 0&&(B=p.onCaughtError),p.onRecoverableError!==void 0&&(Y=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(J=p.unstable_transitionCallbacks),p.formState!==void 0&&(de=p.formState)),f=V3(c,1,!0,f,p??null,y,S,R,B,Y,J,de),f.context=F3(null),p=f.current,y=Ss(),y=Bn(y),S=Cc(y),S.callback=null,kc(p,S,y),p=y,f.current.lanes=p,Ws(f,p),yo(f),c[Gs]=f.current,HA(c),new B0(f)},ay.version="19.1.0",ay}var s6;function hae(){if(s6)return fE.exports;s6=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fE.exports=fae(),fE.exports}var mae=hae(),oy={},a6;function pae(){if(a6)return oy;a6=1,Object.defineProperty(oy,"__esModule",{value:!0}),oy.parse=a,oy.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function a(g,v){const b=new s,_=g.length;if(_<2)return b;const x=(v==null?void 0:v.decode)||h;let j=0;do{const A=g.indexOf("=",j);if(A===-1)break;const C=g.indexOf(";",j),P=C===-1?_:C;if(A>P){j=g.lastIndexOf(";",A-1)+1;continue}const T=l(g,j,A),I=u(g,A,T),E=g.slice(T,I);if(b[E]===void 0){let k=l(g,A+1,P),O=u(g,P,k);const D=x(g.slice(k,O));b[E]=D}j=P+1}while(j<_);return b}function l(g,v,b){do{const _=g.charCodeAt(v);if(_!==32&&_!==9)return v}while(++v<b);return b}function u(g,v,b){for(;v>b;){const _=g.charCodeAt(--v);if(_!==32&&_!==9)return v+1}return b}function d(g,v,b){const _=(b==null?void 0:b.encode)||encodeURIComponent;if(!t.test(g))throw new TypeError(`argument name is invalid: ${g}`);const x=_(v);if(!e.test(x))throw new TypeError(`argument val is invalid: ${v}`);let j=g+"="+x;if(!b)return j;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);j+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);j+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);j+="; Path="+b.path}if(b.expires){if(!m(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);j+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(j+="; HttpOnly"),b.secure&&(j+="; Secure"),b.partitioned&&(j+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return j}function h(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function m(g){return i.call(g)==="[object Date]"}return oy}pae();var o6="popstate";function gae(t={}){function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return vO("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vv(i)}return vae(e,n,null,t)}function sr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function za(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yae(){return Math.random().toString(36).substring(2,10)}function l6(t,e){return{usr:t.state,key:t.key,idx:e}}function vO(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ip(e):e,state:n,key:e&&e.key||r||yae()}}function vv({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ip(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function vae(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l="POP",u=null,d=h();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function h(){return(a.state||{idx:null}).idx}function m(){l="POP";let x=h(),j=x==null?null:x-d;d=x,u&&u({action:l,location:_.location,delta:j})}function g(x,j){l="PUSH";let A=vO(_.location,x,j);d=h()+1;let C=l6(A,d),P=_.createHref(A);try{a.pushState(C,"",P)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(P)}s&&u&&u({action:l,location:_.location,delta:1})}function v(x,j){l="REPLACE";let A=vO(_.location,x,j);d=h();let C=l6(A,d),P=_.createHref(A);a.replaceState(C,"",P),s&&u&&u({action:l,location:_.location,delta:0})}function b(x){return xae(x)}let _={get action(){return l},get location(){return t(i,a)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(o6,m),u=x,()=>{i.removeEventListener(o6,m),u=null}},createHref(x){return e(i,x)},createURL:b,encodeLocation(x){let j=b(x);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:g,replace:v,go(x){return a.go(x)}};return _}function xae(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),sr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:vv(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function JH(t,e,n="/"){return bae(t,e,n,!1)}function bae(t,e,n,r){let i=typeof e=="string"?Ip(e):e,s=nc(i.pathname||"/",n);if(s==null)return null;let a=eW(t);_ae(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=Rae(s);l=kae(a[u],d,r)}return l}function eW(t,e=[],n=[],r=""){let i=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(sr(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let d=Yl([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(sr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),eW(s.children,e,h,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:Tae(d,s.index),routesMeta:h})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let u of tW(s.path))i(s,a,u)}),e}function tW(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=tW(r.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function _ae(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Cae(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var wae=/^:[\w-]+$/,Sae=3,jae=2,Nae=1,Aae=10,Eae=-2,c6=t=>t==="*";function Tae(t,e){let n=t.split("/"),r=n.length;return n.some(c6)&&(r+=Eae),e&&(r+=jae),n.filter(i=>!c6(i)).reduce((i,s)=>i+(wae.test(s)?Sae:s===""?Nae:Aae),r)}function Cae(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kae(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",m=cw({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),g=u.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=cw({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:Yl([s,m.pathname]),pathnameBase:Dae(Yl([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=Yl([s,m.pathnameBase]))}return a}function cw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Oae(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:m},g)=>{if(h==="*"){let b=l[g]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=l[g];return m&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function Oae(t,e=!1,n=!0){za(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Rae(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return za(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function nc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Pae(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ip(t):t;return{pathname:n?n.startsWith("/")?n:Iae(n,e):e,search:Lae(r),hash:$ae(i)}}function Iae(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gE(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Mae(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tI(t){let e=Mae(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function nI(t,e,n,r=!1){let i;typeof t=="string"?i=Ip(t):(i={...t},sr(!i.pathname||!i.pathname.includes("?"),gE("?","pathname","search",i)),sr(!i.pathname||!i.pathname.includes("#"),gE("#","pathname","hash",i)),sr(!i.search||!i.search.includes("#"),gE("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=Pae(i,l),d=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var Yl=t=>t.join("/").replace(/\/\/+/g,"/"),Dae=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Lae=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$ae=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Vae(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var nW=["POST","PUT","PATCH","DELETE"];new Set(nW);var Fae=["GET",...nW];new Set(Fae);var Mp=N.createContext(null);Mp.displayName="DataRouter";var gS=N.createContext(null);gS.displayName="DataRouterState";var rW=N.createContext({isTransitioning:!1});rW.displayName="ViewTransition";var Bae=N.createContext(new Map);Bae.displayName="Fetchers";var Uae=N.createContext(null);Uae.displayName="Await";var Qa=N.createContext(null);Qa.displayName="Navigation";var Dx=N.createContext(null);Dx.displayName="Location";var ba=N.createContext({outlet:null,matches:[],isDataRoute:!1});ba.displayName="Route";var rI=N.createContext(null);rI.displayName="RouteError";function zae(t,{relative:e}={}){sr(Dp(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(Qa),{hash:i,pathname:s,search:a}=Lx(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Yl([n,s])),r.createHref({pathname:l,search:a,hash:i})}function Dp(){return N.useContext(Dx)!=null}function zs(){return sr(Dp(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Dx).location}var iW="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sW(t){N.useContext(Qa).static||N.useLayoutEffect(t)}function ps(){let{isDataRoute:t}=N.useContext(ba);return t?ioe():qae()}function qae(){sr(Dp(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Mp),{basename:e,navigator:n}=N.useContext(Qa),{matches:r}=N.useContext(ba),{pathname:i}=zs(),s=JSON.stringify(tI(r)),a=N.useRef(!1);return sW(()=>{a.current=!0}),N.useCallback((u,d={})=>{if(za(a.current,iW),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=nI(u,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Yl([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,s,i,t])}var Hae=N.createContext(null);function Wae(t){let e=N.useContext(ba).outlet;return e&&N.createElement(Hae.Provider,{value:t},e)}function Bf(){let{matches:t}=N.useContext(ba),e=t[t.length-1];return e?e.params:{}}function Lx(t,{relative:e}={}){let{matches:n}=N.useContext(ba),{pathname:r}=zs(),i=JSON.stringify(tI(n));return N.useMemo(()=>nI(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Gae(t,e){return aW(t,e)}function aW(t,e,n,r){var j;sr(Dp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=N.useContext(Qa),{matches:s}=N.useContext(ba),a=s[s.length-1],l=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let A=h&&h.path||"";oW(u,!h||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let m=zs(),g;if(e){let A=typeof e=="string"?Ip(e):e;sr(d==="/"||((j=A.pathname)==null?void 0:j.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${A.pathname}" was given in the \`location\` prop.`),g=A}else g=m;let v=g.pathname||"/",b=v;if(d!=="/"){let A=d.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=JH(t,{pathname:b});za(h||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),za(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=Zae(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:Yl([d,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:Yl([d,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r);return e&&x?N.createElement(Dx.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},x):x}function Yae(){let t=roe(),e=Vae(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,a)}var Kae=N.createElement(Yae,null),Xae=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(ba.Provider,{value:this.props.routeContext},N.createElement(rI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Qae({routeContext:t,match:e,children:n}){let r=N.useContext(Mp);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(ba.Provider,{value:t},n)}function Zae(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let u=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);sr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:m}=n,g=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,d,h)=>{let m,g=!1,v=null,b=null;n&&(m=s&&d.route.id?s[d.route.id]:void 0,v=d.route.errorElement||Kae,a&&(l<0&&h===0?(oW("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,b=null):l===h&&(g=!0,b=d.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,h+1)),x=()=>{let j;return m?j=v:g?j=b:d.route.Component?j=N.createElement(d.route.Component,null):d.route.element?j=d.route.element:j=u,N.createElement(Qae,{match:d,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:j})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?N.createElement(Xae,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}function iI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jae(t){let e=N.useContext(Mp);return sr(e,iI(t)),e}function eoe(t){let e=N.useContext(gS);return sr(e,iI(t)),e}function toe(t){let e=N.useContext(ba);return sr(e,iI(t)),e}function sI(t){let e=toe(t),n=e.matches[e.matches.length-1];return sr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function noe(){return sI("useRouteId")}function roe(){var r;let t=N.useContext(rI),e=eoe("useRouteError"),n=sI("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function ioe(){let{router:t}=Jae("useNavigate"),e=sI("useNavigate"),n=N.useRef(!1);return sW(()=>{n.current=!0}),N.useCallback(async(i,s={})=>{za(n.current,iW),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var u6={};function oW(t,e,n){!e&&!u6[t]&&(u6[t]=!0,za(!1,n))}N.memo(soe);function soe({routes:t,future:e,state:n}){return aW(t,void 0,n,e)}function No({to:t,replace:e,state:n,relative:r}){sr(Dp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(Qa);za(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=N.useContext(ba),{pathname:a}=zs(),l=ps(),u=nI(t,tI(s),a,r==="path"),d=JSON.stringify(u);return N.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function aoe(t){return Wae(t.context)}function Lt(t){sr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ooe({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){sr(!Dp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=N.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=Ip(n));let{pathname:u="/",search:d="",hash:h="",state:m=null,key:g="default"}=n,v=N.useMemo(()=>{let b=nc(u,a);return b==null?null:{location:{pathname:b,search:d,hash:h,state:m,key:g},navigationType:r}},[a,u,d,h,m,g,r]);return za(v!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:N.createElement(Qa.Provider,{value:l},N.createElement(Dx.Provider,{children:e,value:v}))}function loe({children:t,location:e}){return Gae(xO(t),e)}function xO(t,e=[]){let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,xO(r.props.children,s));return}sr(r.type===Lt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=xO(r.props.children,s)),n.push(a)}),n}var z_="get",q_="application/x-www-form-urlencoded";function yS(t){return t!=null&&typeof t.tagName=="string"}function coe(t){return yS(t)&&t.tagName.toLowerCase()==="button"}function uoe(t){return yS(t)&&t.tagName.toLowerCase()==="form"}function doe(t){return yS(t)&&t.tagName.toLowerCase()==="input"}function foe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hoe(t,e){return t.button===0&&(!e||e==="_self")&&!foe(t)}var q0=null;function moe(){if(q0===null)try{new FormData(document.createElement("form"),0),q0=!1}catch{q0=!0}return q0}var poe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yE(t){return t!=null&&!poe.has(t)?(za(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${q_}"`),null):t}function goe(t,e){let n,r,i,s,a;if(uoe(t)){let l=t.getAttribute("action");r=l?nc(l,e):null,n=t.getAttribute("method")||z_,i=yE(t.getAttribute("enctype"))||q_,s=new FormData(t)}else if(coe(t)||doe(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?nc(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||z_,i=yE(t.getAttribute("formenctype"))||yE(l.getAttribute("enctype"))||q_,s=new FormData(l,t),!moe()){let{name:d,type:h,value:m}=t;if(h==="image"){let g=d?`${d}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else d&&s.append(d,m)}}else{if(yS(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=z_,r=null,i=q_,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function aI(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function yoe(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function voe(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function xoe(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await yoe(s,n);return a.links?a.links():[]}return[]}));return Soe(r.flat(1).filter(voe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function d6(t,e,n,r,i,s){let a=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>{var h;return n[d].pathname!==u.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,d)=>a(u,d)||l(u,d)):s==="data"?e.filter((u,d)=>{var m;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(a(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function boe(t,e,{includeHydrateFallback:n}={}){return _oe(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function _oe(t){return[...new Set(t)]}function woe(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Soe(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(woe(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var joe=new Set([100,101,204,205]);function Noe(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&nc(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function lW(){let t=N.useContext(Mp);return aI(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Aoe(){let t=N.useContext(gS);return aI(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var oI=N.createContext(void 0);oI.displayName="FrameworkContext";function cW(){let t=N.useContext(oI);return aI(t,"You must render this element inside a <HydratedRouter> element"),t}function Eoe(t,e){let n=N.useContext(oI),[r,i]=N.useState(!1),[s,a]=N.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=e,g=N.useRef(null);N.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let _=j=>{j.forEach(A=>{a(A.isIntersecting)})},x=new IntersectionObserver(_,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[t]),N.useEffect(()=>{if(r){let _=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(_)}}},[r]);let v=()=>{i(!0)},b=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,g,{}]:[s,g,{onFocus:ly(l,v),onBlur:ly(u,b),onMouseEnter:ly(d,v),onMouseLeave:ly(h,b),onTouchStart:ly(m,v)}]:[!1,g,{}]}function ly(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Toe({page:t,...e}){let{router:n}=lW(),r=N.useMemo(()=>JH(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(koe,{page:t,matches:r,...e}):null}function Coe(t){let{manifest:e,routeModules:n}=cW(),[r,i]=N.useState([]);return N.useEffect(()=>{let s=!1;return xoe(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function koe({page:t,matches:e,...n}){let r=zs(),{manifest:i,routeModules:s}=cW(),{basename:a}=lW(),{loaderData:l,matches:u}=Aoe(),d=N.useMemo(()=>d6(t,e,u,i,r,"data"),[t,e,u,i,r]),h=N.useMemo(()=>d6(t,e,u,i,r,"assets"),[t,e,u,i,r]),m=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,_=!1;if(e.forEach(j=>{var C;let A=i.routes[j.route.id];!A||!A.hasLoader||(!d.some(P=>P.route.id===j.route.id)&&j.route.id in l&&((C=s[j.route.id])!=null&&C.shouldRevalidate)||A.hasClientLoader?_=!0:b.add(j.route.id))}),b.size===0)return[];let x=Noe(t,a);return _&&b.size>0&&x.searchParams.set("_routes",e.filter(j=>b.has(j.route.id)).map(j=>j.route.id).join(",")),[x.pathname+x.search]},[a,l,r,i,d,e,t,s]),g=N.useMemo(()=>boe(h,i),[h,i]),v=Coe(h);return N.createElement(N.Fragment,null,m.map(b=>N.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),g.map(b=>N.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),v.map(({key:b,link:_})=>N.createElement("link",{key:b,..._})))}function Ooe(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uW&&(window.__reactRouterVersion="7.6.3")}catch{}function Roe({basename:t,children:e,window:n}){let r=N.useRef();r.current==null&&(r.current=gae({window:n,v5Compat:!0}));let i=r.current,[s,a]=N.useState({action:i.action,location:i.location}),l=N.useCallback(u=>{N.startTransition(()=>a(u))},[a]);return N.useLayoutEffect(()=>i.listen(l),[i,l]),N.createElement(ooe,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var dW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:h,viewTransition:m,...g},v){let{basename:b}=N.useContext(Qa),_=typeof d=="string"&&dW.test(d),x,j=!1;if(typeof d=="string"&&_&&(x=d,uW))try{let O=new URL(window.location.href),D=d.startsWith("//")?new URL(O.protocol+d):new URL(d),M=nc(D.pathname,b);D.origin===O.origin&&M!=null?d=M+D.search+D.hash:j=!0}catch{za(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=zae(d,{relative:i}),[C,P,T]=Eoe(r,g),I=Moe(d,{replace:a,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:m});function E(O){e&&e(O),O.defaultPrevented||I(O)}let k=N.createElement("a",{...g,...T,href:x||A,onClick:j||s?e:E,ref:Ooe(v,P),target:u,"data-discover":!_&&n==="render"?"true":void 0});return C&&!_?N.createElement(N.Fragment,null,k,N.createElement(Toe,{page:A})):k});Mt.displayName="Link";var lm=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:l,children:u,...d},h){let m=Lx(a,{relative:d.relative}),g=zs(),v=N.useContext(gS),{navigator:b,basename:_}=N.useContext(Qa),x=v!=null&&Foe(m)&&l===!0,j=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,A=g.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(A=A.toLowerCase(),C=C?C.toLowerCase():null,j=j.toLowerCase()),C&&_&&(C=nc(C,_)||C);const P=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let T=A===j||!i&&A.startsWith(j)&&A.charAt(P)==="/",I=C!=null&&(C===j||!i&&C.startsWith(j)&&C.charAt(j.length)==="/"),E={isActive:T,isPending:I,isTransitioning:x},k=T?e:void 0,O;typeof r=="function"?O=r(E):O=[r,T?"active":null,I?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(E):s;return N.createElement(Mt,{...d,"aria-current":k,className:O,ref:h,style:D,to:a,viewTransition:l},typeof u=="function"?u(E):u)});lm.displayName="NavLink";var Poe=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=z_,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:m,...g},v)=>{let b=$oe(),_=Voe(l,{relative:d}),x=a.toLowerCase()==="get"?"get":"post",j=typeof l=="string"&&dW.test(l),A=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let P=C.nativeEvent.submitter,T=(P==null?void 0:P.getAttribute("formmethod"))||a;b(P||C.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:i,state:s,relative:d,preventScrollReset:h,viewTransition:m})};return N.createElement("form",{ref:v,method:x,action:_,onSubmit:r?u:A,...g,"data-discover":!j&&t==="render"?"true":void 0})});Poe.displayName="Form";function Ioe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fW(t){let e=N.useContext(Mp);return sr(e,Ioe(t)),e}function Moe(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let l=ps(),u=zs(),d=Lx(t,{relative:s});return N.useCallback(h=>{if(hoe(h,e)){h.preventDefault();let m=n!==void 0?n:vv(u)===vv(d);l(t,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[u,l,d,n,r,e,t,i,s,a])}var Doe=0,Loe=()=>`__${String(++Doe)}__`;function $oe(){let{router:t}=fW("useSubmit"),{basename:e}=N.useContext(Qa),n=noe();return N.useCallback(async(r,i={})=>{let{action:s,method:a,encType:l,formData:u,body:d}=goe(r,e);if(i.navigate===!1){let h=i.fetcherKey||Loe();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Voe(t,{relative:e}={}){let{basename:n}=N.useContext(Qa),r=N.useContext(ba);sr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Lx(t||".",{relative:e})},a=zs();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let h=l.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Yl([n,s.pathname])),vv(s)}function Foe(t,e={}){let n=N.useContext(rW);sr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=fW("useViewTransitionState"),i=Lx(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=nc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=nc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return cw(i.pathname,a)!=null||cw(i.pathname,s)!=null}[...joe];var $x=ZH();const Boe=Sn($x),Uoe=()=>{};var f6={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zoe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},mW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,h=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|d>>6,v=d&63;u||(v=64,a||(g=64)),r.push(n[h],n[m],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hW(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zoe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||m==null)throw new qoe;const g=s<<2|l>>4;if(r.push(g),d!==64){const v=l<<4&240|d>>2;if(r.push(v),m!==64){const b=d<<6&192|m;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qoe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hoe=function(t){const e=hW(t);return mW.encodeByteArray(e,!0)},uw=function(t){return Hoe(t).replace(/\./g,"")},pW=function(t){try{return mW.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Woe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Goe=()=>Woe().__FIREBASE_DEFAULTS__,Yoe=()=>{if(typeof process>"u"||typeof f6>"u")return;const t=f6.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Koe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pW(t[1]);return e&&JSON.parse(e)},vS=()=>{try{return Uoe()||Goe()||Yoe()||Koe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gW=t=>{var e,n;return(n=(e=vS())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yW=t=>{const e=gW(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vW=()=>{var t;return(t=vS())===null||t===void 0?void 0:t.config},xW=t=>{var e;return(e=vS())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xoe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bW(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[uw(JSON.stringify(n)),uw(JSON.stringify(a)),""].join(".")}const Gy={};function Qoe(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gy))Gy[e]?t.emulator.push(e):t.prod.push(e);return t}function Zoe(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let h6=!1;function lI(t,e){if(typeof window>"u"||typeof document>"u"||!pc(window.location.host)||Gy[t]===e||Gy[t]||h6)return;Gy[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=Qoe().prod.length>0;function a(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{h6=!0,a()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=Zoe(r),v=n("text"),b=document.getElementById(v)||document.createElement("span"),_=n("learnmore"),x=document.getElementById(_)||document.createElement("a"),j=n("preprendIcon"),A=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const C=g.element;l(C),h(x,_);const P=d();u(A,j),C.append(A,b,x,P),document.body.appendChild(C)}s?(b.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Joe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ui())}function ele(){var t;const e=(t=vS())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tle(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nle(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rle(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ile(){const t=Ui();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sle(){return!ele()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ale(){try{return typeof indexedDB=="object"}catch{return!1}}function ole(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lle="FirebaseError";class Zo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lle,Object.setPrototypeOf(this,Zo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vx.prototype.create)}}class Vx{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?cle(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Zo(i,l,r)}}function cle(t,e){return t.replace(ule,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ule=/\{\$([^}]+)}/g;function dle(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Au(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(m6(s)&&m6(a)){if(!Au(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function m6(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ky(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Oy(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fle(t,e){const n=new hle(t,e);return n.subscribe.bind(n)}class hle{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mle(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vE),i.error===void 0&&(i.error=vE),i.complete===void 0&&(i.complete=vE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mle(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t){return t&&t._delegate?t._delegate:t}class Eu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ple{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Xoe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yle(e))try{this.getOrInitializeService({instanceIdentifier:Bd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bd){return this.instances.has(e)}getOptions(e=Bd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gle(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bd){return this.component?this.component.multipleInstances?e:Bd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gle(t){return t===Bd?void 0:t}function yle(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vle{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ple(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qt||(Qt={}));const xle={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},ble=Qt.INFO,_le={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},wle=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_le[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cI{constructor(e){this.name=e,this._logLevel=ble,this._logHandler=wle,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xle[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...e),this._logHandler(this,Qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...e),this._logHandler(this,Qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...e),this._logHandler(this,Qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...e),this._logHandler(this,Qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...e),this._logHandler(this,Qt.ERROR,...e)}}const Sle=(t,e)=>e.some(n=>t instanceof n);let p6,g6;function jle(){return p6||(p6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nle(){return g6||(g6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _W=new WeakMap,bO=new WeakMap,wW=new WeakMap,xE=new WeakMap,uI=new WeakMap;function Ale(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(vu(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&_W.set(n,t)}).catch(()=>{}),uI.set(e,t),e}function Ele(t){if(bO.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});bO.set(t,e)}let _O={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bO.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wW.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Tle(t){_O=t(_O)}function Cle(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bE(this),e,...n);return wW.set(r,e.sort?e.sort():[e]),vu(r)}:Nle().includes(t)?function(...e){return t.apply(bE(this),e),vu(_W.get(this))}:function(...e){return vu(t.apply(bE(this),e))}}function kle(t){return typeof t=="function"?Cle(t):(t instanceof IDBTransaction&&Ele(t),Sle(t,jle())?new Proxy(t,_O):t)}function vu(t){if(t instanceof IDBRequest)return Ale(t);if(xE.has(t))return xE.get(t);const e=kle(t);return e!==t&&(xE.set(t,e),uI.set(e,t)),e}const bE=t=>uI.get(t);function Ole(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=vu(a);return r&&a.addEventListener("upgradeneeded",u=>{r(vu(a.result),u.oldVersion,u.newVersion,vu(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const Rle=["get","getKey","getAll","getAllKeys","count"],Ple=["put","add","delete","clear"],_E=new Map;function y6(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_E.get(e))return _E.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ple.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Rle.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return _E.set(e,s),s}Tle(t=>({...t,get:(e,n,r)=>y6(e,n)||t.get(e,n,r),has:(e,n)=>!!y6(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ile{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mle(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Mle(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wO="@firebase/app",v6="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new cI("@firebase/app"),Dle="@firebase/app-compat",Lle="@firebase/analytics-compat",$le="@firebase/analytics",Vle="@firebase/app-check-compat",Fle="@firebase/app-check",Ble="@firebase/auth",Ule="@firebase/auth-compat",zle="@firebase/database",qle="@firebase/data-connect",Hle="@firebase/database-compat",Wle="@firebase/functions",Gle="@firebase/functions-compat",Yle="@firebase/installations",Kle="@firebase/installations-compat",Xle="@firebase/messaging",Qle="@firebase/messaging-compat",Zle="@firebase/performance",Jle="@firebase/performance-compat",ece="@firebase/remote-config",tce="@firebase/remote-config-compat",nce="@firebase/storage",rce="@firebase/storage-compat",ice="@firebase/firestore",sce="@firebase/ai",ace="@firebase/firestore-compat",oce="firebase",lce="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="[DEFAULT]",cce={[wO]:"fire-core",[Dle]:"fire-core-compat",[$le]:"fire-analytics",[Lle]:"fire-analytics-compat",[Fle]:"fire-app-check",[Vle]:"fire-app-check-compat",[Ble]:"fire-auth",[Ule]:"fire-auth-compat",[zle]:"fire-rtdb",[qle]:"fire-data-connect",[Hle]:"fire-rtdb-compat",[Wle]:"fire-fn",[Gle]:"fire-fn-compat",[Yle]:"fire-iid",[Kle]:"fire-iid-compat",[Xle]:"fire-fcm",[Qle]:"fire-fcm-compat",[Zle]:"fire-perf",[Jle]:"fire-perf-compat",[ece]:"fire-rc",[tce]:"fire-rc-compat",[nce]:"fire-gcs",[rce]:"fire-gcs-compat",[ice]:"fire-fst",[ace]:"fire-fst-compat",[sce]:"fire-vertex","fire-js":"fire-js",[oce]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=new Map,uce=new Map,jO=new Map;function x6(t,e){try{t.container.addComponent(e)}catch(n){rc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mf(t){const e=t.name;if(jO.has(e))return rc.debug(`There were multiple attempts to register component ${e}.`),!1;jO.set(e,t);for(const n of xv.values())x6(n,t);for(const n of uce.values())x6(n,t);return!0}function Bx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Os(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dce={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xu=new Vx("app","Firebase",dce);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fce{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Eu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=lce;function dI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:SO,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw xu.create("bad-app-name",{appName:String(i)});if(n||(n=vW()),!n)throw xu.create("no-options");const s=xv.get(i);if(s){if(Au(n,s.options)&&Au(r,s.config))return s;throw xu.create("duplicate-app",{appName:i})}const a=new vle(i);for(const u of jO.values())a.addComponent(u);const l=new fce(n,r,a);return xv.set(i,l),l}function bS(t=SO){const e=xv.get(t);if(!e&&t===SO&&vW())return dI();if(!e)throw xu.create("no-app",{appName:t});return e}function SW(){return Array.from(xv.values())}function Io(t,e,n){var r;let i=(r=cce[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rc.warn(l.join(" "));return}mf(new Eu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hce="firebase-heartbeat-database",mce=1,bv="firebase-heartbeat-store";let wE=null;function jW(){return wE||(wE=Ole(hce,mce,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bv)}catch(n){console.warn(n)}}}}).catch(t=>{throw xu.create("idb-open",{originalErrorMessage:t.message})})),wE}async function pce(t){try{const n=(await jW()).transaction(bv),r=await n.objectStore(bv).get(NW(t));return await n.done,r}catch(e){if(e instanceof Zo)rc.warn(e.message);else{const n=xu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rc.warn(n.message)}}}async function b6(t,e){try{const r=(await jW()).transaction(bv,"readwrite");await r.objectStore(bv).put(e,NW(t)),await r.done}catch(n){if(n instanceof Zo)rc.warn(n.message);else{const r=xu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rc.warn(r.message)}}}function NW(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gce=1024,yce=30;class vce{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bce(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_6();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>yce){const a=_ce(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_6(),{heartbeatsToSend:r,unsentEntries:i}=xce(this._heartbeatsCache.heartbeats),s=uw(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return rc.warn(n),""}}}function _6(){return new Date().toISOString().substring(0,10)}function xce(t,e=gce){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),w6(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),w6(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bce{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ale()?ole().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pce(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return b6(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return b6(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function w6(t){return uw(JSON.stringify({version:2,heartbeats:t})).length}function _ce(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wce(t){mf(new Eu("platform-logger",e=>new Ile(e),"PRIVATE")),mf(new Eu("heartbeat",e=>new vce(e),"PRIVATE")),Io(wO,v6,t),Io(wO,v6,"esm2017"),Io("fire-js","")}wce("");var Sce="firebase",jce="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Io(Sce,jce,"app");var So=function(){return So=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},So.apply(this,arguments)};function Ux(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Nce(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function AW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ace=AW,EW=new Vx("auth","Firebase",AW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=new cI("@firebase/auth");function Ece(t,...e){dw.logLevel<=Qt.WARN&&dw.warn(`Auth (${Uf}): ${t}`,...e)}function H_(t,...e){dw.logLevel<=Qt.ERROR&&dw.error(`Auth (${Uf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t,...e){throw fI(t,...e)}function Mo(t,...e){return fI(t,...e)}function TW(t,e,n){const r=Object.assign(Object.assign({},Ace()),{[e]:n});return new Vx("auth","Firebase",r).create(e,{appName:t.name})}function Kl(t){return TW(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EW.create(t,...e)}function St(t,e,...n){if(!t)throw fI(e,...n)}function $l(t){const e="INTERNAL ASSERTION FAILED: "+t;throw H_(e),new Error(e)}function ic(t,e){t||$l(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Tce(){return S6()==="http:"||S6()==="https:"}function S6(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cce(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tce()||nle()||"connection"in navigator)?navigator.onLine:!0}function kce(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n){this.shortDelay=e,this.longDelay=n,ic(n>e,"Short delay should be less than long delay!"),this.isMobile=Joe()||rle()}get(){return Cce()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e){ic(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$l("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$l("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$l("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rce=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Pce=new zx(3e4,6e4);function Vu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fu(t,e,n,r,i={}){return kW(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=Fx(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:u},s);return tle()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&pc(t.emulatorConfig.host)&&(d.credentials="include"),CW.fetch()(await OW(t,t.config.apiHost,n,l),d)})}async function kW(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Oce),e);try{const i=new Mce(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw H0(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw H0(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw H0(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw H0(t,"user-disabled",a);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw TW(t,h,d);qa(t,h)}}catch(i){if(i instanceof Zo)throw i;qa(t,"network-request-failed",{message:String(i)})}}async function qx(t,e,n,r,i={}){const s=await Fu(t,e,n,r,i);return"mfaPendingCredential"in s&&qa(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function OW(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?hI(t.config,i):`${t.config.apiScheme}://${i}`;return Rce.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function Ice(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mce{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mo(this.auth,"network-request-failed")),Pce.get())})}}function H0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mo(t,e,r);return i.customData._tokenResponse=n,i}function j6(t){return t!==void 0&&t.enterprise!==void 0}class Dce{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ice(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Lce(t,e){return Fu(t,"GET","/v2/recaptchaConfig",Vu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ce(t,e){return Fu(t,"POST","/v1/accounts:delete",e)}async function fw(t,e){return Fu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Vce(t,e=!1){const n=wn(t),r=await n.getIdToken(e),i=mI(r);St(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Yy(SE(i.auth_time)),issuedAtTime:Yy(SE(i.iat)),expirationTime:Yy(SE(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function SE(t){return Number(t)*1e3}function mI(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return H_("JWT malformed, contained fewer than 3 sections"),null;try{const i=pW(n);return i?JSON.parse(i):(H_("Failed to decode base64 JWT payload"),null)}catch(i){return H_("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function N6(t){const e=mI(t);return St(e,"internal-error"),St(typeof e.exp<"u","internal-error"),St(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _v(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zo&&Fce(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Fce({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bce{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yy(this.lastLoginAt),this.creationTime=Yy(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw(t){var e;const n=t.auth,r=await t.getIdToken(),i=await _v(t,fw(n,{idToken:r}));St(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?RW(s.providerUserInfo):[],l=zce(t.providerData,a),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),h=u?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new AO(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function Uce(t){const e=wn(t);await hw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zce(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RW(t){return t.map(e=>{var{providerId:n}=e,r=Ux(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qce(t,e){const n=await kW(t,{},async()=>{const r=Fx({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await OW(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&pc(t.emulatorConfig.host)&&(u.credentials="include"),CW.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Hce(t,e){return Fu(t,"POST","/v2/accounts:revokeToken",Vu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){St(e.idToken,"internal-error"),St(typeof e.idToken<"u","internal-error"),St(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N6(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){St(e.length!==0,"internal-error");const n=N6(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await qce(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new wm;return r&&(St(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(St(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(St(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wm,this.toJSON())}_performRefresh(){return $l("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t,e){St(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $a{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ux(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new AO(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _v(this,this.stsTokenManager.getToken(this.auth,e));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Vce(this,e)}reload(){return Uce(this)}_assign(e){this!==e&&(St(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $a(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hw(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Os(this.auth.app))return Promise.reject(Kl(this.auth));const e=await this.getIdToken();return await _v(this,$ce(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,l,u,d,h;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(a=n.photoURL)!==null&&a!==void 0?a:void 0,_=(l=n.tenantId)!==null&&l!==void 0?l:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,j=(d=n.createdAt)!==null&&d!==void 0?d:void 0,A=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:C,emailVerified:P,isAnonymous:T,providerData:I,stsTokenManager:E}=n;St(C&&E,e,"internal-error");const k=wm.fromJSON(this.name,E);St(typeof C=="string",e,"internal-error"),Yc(m,e.name),Yc(g,e.name),St(typeof P=="boolean",e,"internal-error"),St(typeof T=="boolean",e,"internal-error"),Yc(v,e.name),Yc(b,e.name),Yc(_,e.name),Yc(x,e.name),Yc(j,e.name),Yc(A,e.name);const O=new $a({uid:C,auth:e,email:g,emailVerified:P,displayName:m,isAnonymous:T,photoURL:b,phoneNumber:v,tenantId:_,stsTokenManager:k,createdAt:j,lastLoginAt:A});return I&&Array.isArray(I)&&(O.providerData=I.map(D=>Object.assign({},D))),x&&(O._redirectEventId=x),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new wm;i.updateFromServerResponse(n);const s=new $a({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hw(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];St(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?RW(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new wm;l.updateFromIdToken(r);const u=new $a({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new AO(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=new Map;function Vl(t){ic(t instanceof Function,"Expected a class definition");let e=A6.get(t);return e?(ic(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,A6.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PW.type="NONE";const E6=PW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t,e,n){return`firebase:${t}:${e}:${n}`}class Sm{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=W_(this.userKey,i.apiKey,s),this.fullPersistenceKey=W_("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fw(this.auth,{idToken:e}).catch(()=>{});return n?$a._fromGetAccountInfoResponse(this.auth,n,e):null}return $a._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sm(Vl(E6),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Vl(E6);const a=W_(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(a);if(h){let m;if(typeof h=="string"){const g=await fw(e,{idToken:h}).catch(()=>{});if(!g)break;m=await $a._fromGetAccountInfoResponse(e,g,h)}else m=$a._fromJSON(e,h);d!==s&&(l=m),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Sm(s,e,r):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new Sm(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LW(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IW(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VW(e))return"Blackberry";if(FW(e))return"Webos";if(MW(e))return"Safari";if((e.includes("chrome/")||DW(e))&&!e.includes("edge/"))return"Chrome";if($W(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IW(t=Ui()){return/firefox\//i.test(t)}function MW(t=Ui()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DW(t=Ui()){return/crios\//i.test(t)}function LW(t=Ui()){return/iemobile/i.test(t)}function $W(t=Ui()){return/android/i.test(t)}function VW(t=Ui()){return/blackberry/i.test(t)}function FW(t=Ui()){return/webos/i.test(t)}function pI(t=Ui()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Wce(t=Ui()){var e;return pI(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Gce(){return ile()&&document.documentMode===10}function BW(t=Ui()){return pI(t)||$W(t)||FW(t)||VW(t)||/windows phone/i.test(t)||LW(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(t,e=[]){let n;switch(t){case"Browser":n=T6(Ui());break;case"Worker":n=`${T6(Ui())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yce{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kce(t,e={}){return Fu(t,"GET","/v2/passwordPolicy",Vu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xce=6;class Qce{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:Xce,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zce{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C6(this),this.idTokenSubscription=new C6(this),this.beforeStateQueue=new Yce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vl(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Sm.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fw(this,{idToken:e}),r=await $a._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Os(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hw(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kce()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Os(this.app))return Promise.reject(Kl(this));const n=e?wn(e):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&St(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Os(this.app)?Promise.reject(Kl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Os(this.app)?Promise.reject(Kl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Kce(this),n=new Qce(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vx("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Hce(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vl(e)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await Sm.create(this,[Vl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Os(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Ece(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zf(t){return wn(t)}class C6{constructor(e){this.auth=e,this.observer=null,this.addObserver=fle(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _S={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jce(t){_S=t}function zW(t){return _S.loadJS(t)}function eue(){return _S.recaptchaEnterpriseScript}function tue(){return _S.gapiScript}function nue(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class rue{constructor(){this.enterprise=new iue}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class iue{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sue="recaptcha-enterprise",qW="NO_RECAPTCHA";class aue{constructor(e){this.type=sue,this.auth=zf(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{Lce(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new Dce(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(u=>{l(u)})})}function i(s,a,l){const u=window.grecaptcha;j6(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(qW)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rue().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&j6(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=eue();u.length!==0&&(u+=l),zW(u).then(()=>{i(l,s,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function k6(t,e,n,r=!1,i=!1){const s=new aue(t);let a;if(i)a=qW;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function EO(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await k6(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await k6(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oue(t,e){const n=Bx(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Au(s,e??{}))return i;qa(i,"already-initialized")}return n.initialize({options:e})}function lue(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function gI(t,e,n){const r=zf(t);St(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=HW(e),{host:a,port:l}=cue(e),u=l===null?"":`:${l}`,d={url:`${s}//${a}${u}/`},h=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){St(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),St(Au(d,r.config.emulator)&&Au(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,pc(a)?(xS(`${s}//${a}${u}`),lI("Auth",!0)):i||uue()}function HW(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cue(t){const e=HW(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:O6(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:O6(a)}}}function O6(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uue(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $l("not implemented")}_getIdTokenResponse(e){return $l("not implemented")}_linkToIdToken(e,n){return $l("not implemented")}_getReauthenticationResolver(e){return $l("not implemented")}}async function due(t,e){return Fu(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fue(t,e){return qx(t,"POST","/v1/accounts:signInWithPassword",Vu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hue(t,e){return qx(t,"POST","/v1/accounts:signInWithEmailLink",Vu(t,e))}async function mue(t,e){return qx(t,"POST","/v1/accounts:signInWithEmailLink",Vu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv extends yI{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new wv(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wv(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return EO(e,n,"signInWithPassword",fue);case"emailLink":return hue(e,{email:this._email,oobCode:this._password});default:qa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return EO(e,r,"signUpPassword",due);case"emailLink":return mue(e,{idToken:n,email:this._email,oobCode:this._password});default:qa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(t,e){return qx(t,"POST","/v1/accounts:signInWithIdp",Vu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pue="http://localhost";class pf extends yI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ux(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new pf(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return jm(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jm(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jm(e,n)}buildRequest(){const e={requestUri:pue,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fx(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gue(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yue(t){const e=ky(Oy(t)).link,n=e?ky(Oy(e)).deep_link_id:null,r=ky(Oy(t)).deep_link_id;return(r?ky(Oy(r)).link:null)||r||n||e||t}class vI{constructor(e){var n,r,i,s,a,l;const u=ky(Oy(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,m=gue((i=u.mode)!==null&&i!==void 0?i:null);St(d&&h&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=yue(e);try{return new vI(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this.providerId=Lp.PROVIDER_ID}static credential(e,n){return wv._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vI.parseLink(n);return St(r,"argument-error"),wv._fromEmailAndCode(e,r.code,r.tenantId)}}Lp.PROVIDER_ID="password";Lp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx extends WW{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Hx{constructor(){super("facebook.com")}static credential(e){return pf._fromParams({providerId:nu.PROVIDER_ID,signInMethod:nu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nu.credentialFromTaggedObject(e)}static credentialFromError(e){return nu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nu.credential(e.oauthAccessToken)}catch{return null}}}nu.FACEBOOK_SIGN_IN_METHOD="facebook.com";nu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Hx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pf._fromParams({providerId:ru.PROVIDER_ID,signInMethod:ru.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ru.credentialFromTaggedObject(e)}static credentialFromError(e){return ru.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ru.credential(n,r)}catch{return null}}}ru.GOOGLE_SIGN_IN_METHOD="google.com";ru.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Hx{constructor(){super("github.com")}static credential(e){return pf._fromParams({providerId:iu.PROVIDER_ID,signInMethod:iu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return iu.credentialFromTaggedObject(e)}static credentialFromError(e){return iu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return iu.credential(e.oauthAccessToken)}catch{return null}}}iu.GITHUB_SIGN_IN_METHOD="github.com";iu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Hx{constructor(){super("twitter.com")}static credential(e,n){return pf._fromParams({providerId:su.PROVIDER_ID,signInMethod:su.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return su.credentialFromTaggedObject(e)}static credentialFromError(e){return su.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return su.credential(n,r)}catch{return null}}}su.TWITTER_SIGN_IN_METHOD="twitter.com";su.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vue(t,e){return qx(t,"POST","/v1/accounts:signUp",Vu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await $a._fromIdTokenResponse(e,r,i),a=R6(r);return new gf({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=R6(r);return new gf({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function R6(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw extends Zo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mw.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new mw(e,n,r,i)}}function GW(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mw._fromErrorAndOperation(t,s,e,r):s})}async function xue(t,e,n=!1){const r=await _v(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gf._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bue(t,e,n=!1){const{auth:r}=t;if(Os(r.app))return Promise.reject(Kl(r));const i="reauthenticate";try{const s=await _v(t,GW(r,i,e,t),n);St(s.idToken,r,"internal-error");const a=mI(s.idToken);St(a,r,"internal-error");const{sub:l}=a;return St(t.uid===l,r,"user-mismatch"),gf._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qa(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YW(t,e,n=!1){if(Os(t.app))return Promise.reject(Kl(t));const r="signIn",i=await GW(t,r,e),s=await gf._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function _ue(t,e){return YW(zf(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KW(t){const e=zf(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XW(t,e,n){if(Os(t.app))return Promise.reject(Kl(t));const r=zf(t),a=await EO(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vue).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&KW(t),u}),l=await gf._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function xI(t,e,n){return Os(t.app)?Promise.reject(Kl(t)):_ue(wn(t),Lp.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&KW(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wue(t,e){return wn(t).setPersistence(e)}function Sue(t,e,n,r){return wn(t).onIdTokenChanged(e,n,r)}function jue(t,e,n){return wn(t).beforeAuthStateChanged(e,n)}function Nue(t,e,n,r){return wn(t).onAuthStateChanged(e,n,r)}function pw(t){return wn(t).signOut()}const gw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gw,"1"),this.storage.removeItem(gw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aue=1e3,Eue=10;class ZW extends QW{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BW(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Gce()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Eue):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Aue)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZW.type="LOCAL";const JW=ZW;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG extends QW{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eG.type="SESSION";const tG=eG;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tue(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wS(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async d=>d(n.origin,s)),u=await Tue(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wS.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cue{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const d=bI("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(){return window}function kue(t){Do().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(){return typeof Do().WorkerGlobalScope<"u"&&typeof Do().importScripts=="function"}async function Oue(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rue(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Pue(){return nG()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG="firebaseLocalStorageDb",Iue=1,yw="firebaseLocalStorage",iG="fbase_key";class Wx{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function SS(t,e){return t.transaction([yw],e?"readwrite":"readonly").objectStore(yw)}function Mue(){const t=indexedDB.deleteDatabase(rG);return new Wx(t).toPromise()}function TO(){const t=indexedDB.open(rG,Iue);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yw,{keyPath:iG})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yw)?e(r):(r.close(),await Mue(),e(await TO()))})})}async function P6(t,e,n){const r=SS(t,!0).put({[iG]:e,value:n});return new Wx(r).toPromise()}async function Due(t,e){const n=SS(t,!1).get(e),r=await new Wx(n).toPromise();return r===void 0?null:r.value}function I6(t,e){const n=SS(t,!0).delete(e);return new Wx(n).toPromise()}const Lue=800,$ue=3;class sG{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await TO(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$ue)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nG()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wS._getInstance(Pue()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Oue(),!this.activeServiceWorker)return;this.sender=new Cue(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rue()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await TO();return await P6(e,gw,"1"),await I6(e,gw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>P6(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Due(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>I6(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=SS(i,!1).getAll();return new Wx(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lue)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sG.type="LOCAL";const Vue=sG;new zx(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fue(t,e){return e?Vl(e):(St(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I extends yI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jm(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Bue(t){return YW(t.auth,new _I(t),t.bypassAuthState)}function Uue(t){const{auth:e,user:n}=t;return St(n,e,"internal-error"),bue(n,new _I(t),t.bypassAuthState)}async function zue(t){const{auth:e,user:n}=t;return St(n,e,"internal-error"),xue(n,new _I(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bue;case"linkViaPopup":case"linkViaRedirect":return zue;case"reauthViaPopup":case"reauthViaRedirect":return Uue;default:qa(this.auth,"internal-error")}}resolve(e){ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const que=new zx(2e3,1e4);class mm extends aG{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,mm.currentPopupAction&&mm.currentPopupAction.cancel(),mm.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return St(e,this.auth,"internal-error"),e}async onExecution(){ic(this.filter.length===1,"Popup operations only handle one event");const e=bI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mm.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,que.get())};e()}}mm.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hue="pendingRedirect",G_=new Map;class Wue extends aG{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=G_.get(this.auth._key());if(!e){try{const r=await Gue(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}G_.set(this.auth._key(),e)}return this.bypassAuthState||G_.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gue(t,e){const n=Xue(e),r=Kue(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Yue(t,e){G_.set(t._key(),e)}function Kue(t){return Vl(t._redirectPersistence)}function Xue(t){return W_(Hue,t.config.apiKey,t.name)}async function Que(t,e,n=!1){if(Os(t.app))return Promise.reject(Kl(t));const r=zf(t),i=Fue(r,e),a=await new Wue(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zue=10*60*1e3;class Jue{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ede(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oG(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Zue&&this.cachedEventUids.clear(),this.cachedEventUids.has(M6(e))}saveEventToCache(e){this.cachedEventUids.add(M6(e)),this.lastProcessedEventTime=Date.now()}}function M6(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oG({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ede(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oG(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tde(t,e={}){return Fu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nde=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rde=/^https?/;async function ide(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tde(t);for(const n of e)try{if(sde(n))return}catch{}qa(t,"unauthorized-domain")}function sde(t){const e=NO(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!rde.test(n))return!1;if(nde.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ade=new zx(3e4,6e4);function D6(){const t=Do().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ode(t){return new Promise((e,n)=>{var r,i,s;function a(){D6(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{D6(),n(Mo(t,"network-request-failed"))},timeout:ade.get()})}if(!((i=(r=Do().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Do().gapi)===null||s===void 0)&&s.load)a();else{const l=nue("iframefcb");return Do()[l]=()=>{gapi.load?a():n(Mo(t,"network-request-failed"))},zW(`${tue()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Y_=null,e})}let Y_=null;function lde(t){return Y_=Y_||ode(t),Y_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cde=new zx(5e3,15e3),ude="__/auth/iframe",dde="emulator/auth/iframe",fde={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hde=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mde(t){const e=t.config;St(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hI(e,dde):`https://${t.config.authDomain}/${ude}`,r={apiKey:e.apiKey,appName:t.name,v:Uf},i=hde.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Fx(r).slice(1)}`}async function pde(t){const e=await lde(t),n=Do().gapi;return St(n,t,"internal-error"),e.open({where:document.body,url:mde(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fde,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Mo(t,"network-request-failed"),l=Do().setTimeout(()=>{s(a)},cde.get());function u(){Do().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gde={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yde=500,vde=600,xde="_blank",bde="http://localhost";class L6{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _de(t,e,n,r=yde,i=vde){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},gde),{width:r.toString(),height:i.toString(),top:s,left:a}),d=Ui().toLowerCase();n&&(l=DW(d)?xde:n),IW(d)&&(e=e||bde,u.scrollbars="yes");const h=Object.entries(u).reduce((g,[v,b])=>`${g}${v}=${b},`,"");if(Wce(d)&&l!=="_self")return wde(e||"",l),new L6(null);const m=window.open(e||"",l,h);St(m,t,"popup-blocked");try{m.focus()}catch{}return new L6(m)}function wde(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sde="__/auth/handler",jde="emulator/auth/handler",Nde=encodeURIComponent("fac");async function $6(t,e,n,r,i,s){St(t.config.authDomain,t,"auth-domain-config-required"),St(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Uf,eventId:i};if(e instanceof WW){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",dle(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))a[h]=m}if(e instanceof Hx){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await t._getAppCheckToken(),d=u?`#${Nde}=${encodeURIComponent(u)}`:"";return`${Ade(t)}?${Fx(l).slice(1)}${d}`}function Ade({config:t}){return t.emulator?hI(t,jde):`https://${t.authDomain}/${Sde}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="webStorageSupport";class Ede{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tG,this._completeRedirectFn=Que,this._overrideRedirectResult=Yue}async _openPopup(e,n,r,i){var s;ic((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await $6(e,n,r,NO(),i);return _de(e,a,bI())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await $6(e,n,r,NO(),i);return kue(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ic(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pde(e),r=new Jue(e);return n.register("authEvent",i=>(St(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jE,{type:jE},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[jE];a!==void 0&&n(!!a),qa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ide(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BW()||MW()||pI()}}const Tde=Ede;var V6="@firebase/auth",F6="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cde{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kde(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ode(t){mf(new Eu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;St(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UW(t)},d=new Zce(r,i,s,u);return lue(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mf(new Eu("auth-internal",e=>{const n=zf(e.getProvider("auth").getImmediate());return(r=>new Cde(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Io(V6,F6,kde(t)),Io(V6,F6,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rde=5*60,Pde=xW("authIdTokenMaxAge")||Rde;let B6=null;const Ide=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Pde)return;const i=n==null?void 0:n.token;B6!==i&&(B6=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lG(t=bS()){const e=Bx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oue(t,{popupRedirectResolver:Tde,persistence:[Vue,JW,tG]}),r=xW("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=Ide(s.toString());jue(n,a,()=>a(n.currentUser)),Sue(n,l=>a(l))}}const i=gW("auth");return i&&gI(n,`http://${i}`),n}function Mde(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Jce({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Mo("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Mde().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ode("Browser");var U6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bu,cG;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,k){function O(){}O.prototype=k.prototype,E.D=k.prototype,E.prototype=new O,E.prototype.constructor=E,E.C=function(D,M,V){for(var $=Array(arguments.length-2),X=2;X<arguments.length;X++)$[X-2]=arguments[X];return k.prototype[M].apply(D,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,k,O){O||(O=0);var D=Array(16);if(typeof k=="string")for(var M=0;16>M;++M)D[M]=k.charCodeAt(O++)|k.charCodeAt(O++)<<8|k.charCodeAt(O++)<<16|k.charCodeAt(O++)<<24;else for(M=0;16>M;++M)D[M]=k[O++]|k[O++]<<8|k[O++]<<16|k[O++]<<24;k=E.g[0],O=E.g[1],M=E.g[2];var V=E.g[3],$=k+(V^O&(M^V))+D[0]+3614090360&4294967295;k=O+($<<7&4294967295|$>>>25),$=V+(M^k&(O^M))+D[1]+3905402710&4294967295,V=k+($<<12&4294967295|$>>>20),$=M+(O^V&(k^O))+D[2]+606105819&4294967295,M=V+($<<17&4294967295|$>>>15),$=O+(k^M&(V^k))+D[3]+3250441966&4294967295,O=M+($<<22&4294967295|$>>>10),$=k+(V^O&(M^V))+D[4]+4118548399&4294967295,k=O+($<<7&4294967295|$>>>25),$=V+(M^k&(O^M))+D[5]+1200080426&4294967295,V=k+($<<12&4294967295|$>>>20),$=M+(O^V&(k^O))+D[6]+2821735955&4294967295,M=V+($<<17&4294967295|$>>>15),$=O+(k^M&(V^k))+D[7]+4249261313&4294967295,O=M+($<<22&4294967295|$>>>10),$=k+(V^O&(M^V))+D[8]+1770035416&4294967295,k=O+($<<7&4294967295|$>>>25),$=V+(M^k&(O^M))+D[9]+2336552879&4294967295,V=k+($<<12&4294967295|$>>>20),$=M+(O^V&(k^O))+D[10]+4294925233&4294967295,M=V+($<<17&4294967295|$>>>15),$=O+(k^M&(V^k))+D[11]+2304563134&4294967295,O=M+($<<22&4294967295|$>>>10),$=k+(V^O&(M^V))+D[12]+1804603682&4294967295,k=O+($<<7&4294967295|$>>>25),$=V+(M^k&(O^M))+D[13]+4254626195&4294967295,V=k+($<<12&4294967295|$>>>20),$=M+(O^V&(k^O))+D[14]+2792965006&4294967295,M=V+($<<17&4294967295|$>>>15),$=O+(k^M&(V^k))+D[15]+1236535329&4294967295,O=M+($<<22&4294967295|$>>>10),$=k+(M^V&(O^M))+D[1]+4129170786&4294967295,k=O+($<<5&4294967295|$>>>27),$=V+(O^M&(k^O))+D[6]+3225465664&4294967295,V=k+($<<9&4294967295|$>>>23),$=M+(k^O&(V^k))+D[11]+643717713&4294967295,M=V+($<<14&4294967295|$>>>18),$=O+(V^k&(M^V))+D[0]+3921069994&4294967295,O=M+($<<20&4294967295|$>>>12),$=k+(M^V&(O^M))+D[5]+3593408605&4294967295,k=O+($<<5&4294967295|$>>>27),$=V+(O^M&(k^O))+D[10]+38016083&4294967295,V=k+($<<9&4294967295|$>>>23),$=M+(k^O&(V^k))+D[15]+3634488961&4294967295,M=V+($<<14&4294967295|$>>>18),$=O+(V^k&(M^V))+D[4]+3889429448&4294967295,O=M+($<<20&4294967295|$>>>12),$=k+(M^V&(O^M))+D[9]+568446438&4294967295,k=O+($<<5&4294967295|$>>>27),$=V+(O^M&(k^O))+D[14]+3275163606&4294967295,V=k+($<<9&4294967295|$>>>23),$=M+(k^O&(V^k))+D[3]+4107603335&4294967295,M=V+($<<14&4294967295|$>>>18),$=O+(V^k&(M^V))+D[8]+1163531501&4294967295,O=M+($<<20&4294967295|$>>>12),$=k+(M^V&(O^M))+D[13]+2850285829&4294967295,k=O+($<<5&4294967295|$>>>27),$=V+(O^M&(k^O))+D[2]+4243563512&4294967295,V=k+($<<9&4294967295|$>>>23),$=M+(k^O&(V^k))+D[7]+1735328473&4294967295,M=V+($<<14&4294967295|$>>>18),$=O+(V^k&(M^V))+D[12]+2368359562&4294967295,O=M+($<<20&4294967295|$>>>12),$=k+(O^M^V)+D[5]+4294588738&4294967295,k=O+($<<4&4294967295|$>>>28),$=V+(k^O^M)+D[8]+2272392833&4294967295,V=k+($<<11&4294967295|$>>>21),$=M+(V^k^O)+D[11]+1839030562&4294967295,M=V+($<<16&4294967295|$>>>16),$=O+(M^V^k)+D[14]+4259657740&4294967295,O=M+($<<23&4294967295|$>>>9),$=k+(O^M^V)+D[1]+2763975236&4294967295,k=O+($<<4&4294967295|$>>>28),$=V+(k^O^M)+D[4]+1272893353&4294967295,V=k+($<<11&4294967295|$>>>21),$=M+(V^k^O)+D[7]+4139469664&4294967295,M=V+($<<16&4294967295|$>>>16),$=O+(M^V^k)+D[10]+3200236656&4294967295,O=M+($<<23&4294967295|$>>>9),$=k+(O^M^V)+D[13]+681279174&4294967295,k=O+($<<4&4294967295|$>>>28),$=V+(k^O^M)+D[0]+3936430074&4294967295,V=k+($<<11&4294967295|$>>>21),$=M+(V^k^O)+D[3]+3572445317&4294967295,M=V+($<<16&4294967295|$>>>16),$=O+(M^V^k)+D[6]+76029189&4294967295,O=M+($<<23&4294967295|$>>>9),$=k+(O^M^V)+D[9]+3654602809&4294967295,k=O+($<<4&4294967295|$>>>28),$=V+(k^O^M)+D[12]+3873151461&4294967295,V=k+($<<11&4294967295|$>>>21),$=M+(V^k^O)+D[15]+530742520&4294967295,M=V+($<<16&4294967295|$>>>16),$=O+(M^V^k)+D[2]+3299628645&4294967295,O=M+($<<23&4294967295|$>>>9),$=k+(M^(O|~V))+D[0]+4096336452&4294967295,k=O+($<<6&4294967295|$>>>26),$=V+(O^(k|~M))+D[7]+1126891415&4294967295,V=k+($<<10&4294967295|$>>>22),$=M+(k^(V|~O))+D[14]+2878612391&4294967295,M=V+($<<15&4294967295|$>>>17),$=O+(V^(M|~k))+D[5]+4237533241&4294967295,O=M+($<<21&4294967295|$>>>11),$=k+(M^(O|~V))+D[12]+1700485571&4294967295,k=O+($<<6&4294967295|$>>>26),$=V+(O^(k|~M))+D[3]+2399980690&4294967295,V=k+($<<10&4294967295|$>>>22),$=M+(k^(V|~O))+D[10]+4293915773&4294967295,M=V+($<<15&4294967295|$>>>17),$=O+(V^(M|~k))+D[1]+2240044497&4294967295,O=M+($<<21&4294967295|$>>>11),$=k+(M^(O|~V))+D[8]+1873313359&4294967295,k=O+($<<6&4294967295|$>>>26),$=V+(O^(k|~M))+D[15]+4264355552&4294967295,V=k+($<<10&4294967295|$>>>22),$=M+(k^(V|~O))+D[6]+2734768916&4294967295,M=V+($<<15&4294967295|$>>>17),$=O+(V^(M|~k))+D[13]+1309151649&4294967295,O=M+($<<21&4294967295|$>>>11),$=k+(M^(O|~V))+D[4]+4149444226&4294967295,k=O+($<<6&4294967295|$>>>26),$=V+(O^(k|~M))+D[11]+3174756917&4294967295,V=k+($<<10&4294967295|$>>>22),$=M+(k^(V|~O))+D[2]+718787259&4294967295,M=V+($<<15&4294967295|$>>>17),$=O+(V^(M|~k))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+k&4294967295,E.g[1]=E.g[1]+(M+($<<21&4294967295|$>>>11))&4294967295,E.g[2]=E.g[2]+M&4294967295,E.g[3]=E.g[3]+V&4294967295}r.prototype.u=function(E,k){k===void 0&&(k=E.length);for(var O=k-this.blockSize,D=this.B,M=this.h,V=0;V<k;){if(M==0)for(;V<=O;)i(this,E,V),V+=this.blockSize;if(typeof E=="string"){for(;V<k;)if(D[M++]=E.charCodeAt(V++),M==this.blockSize){i(this,D),M=0;break}}else for(;V<k;)if(D[M++]=E[V++],M==this.blockSize){i(this,D),M=0;break}}this.h=M,this.o+=k},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var k=1;k<E.length-8;++k)E[k]=0;var O=8*this.o;for(k=E.length-8;k<E.length;++k)E[k]=O&255,O/=256;for(this.u(E),E=Array(16),k=O=0;4>k;++k)for(var D=0;32>D;D+=8)E[O++]=this.g[k]>>>D&255;return E};function s(E,k){var O=l;return Object.prototype.hasOwnProperty.call(O,E)?O[E]:O[E]=k(E)}function a(E,k){this.h=k;for(var O=[],D=!0,M=E.length-1;0<=M;M--){var V=E[M]|0;D&&V==k||(O[M]=V,D=!1)}this.g=O}var l={};function u(E){return-128<=E&&128>E?s(E,function(k){return new a([k|0],0>k?-1:0)}):new a([E|0],0>E?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return m;if(0>E)return x(d(-E));for(var k=[],O=1,D=0;E>=O;D++)k[D]=E/O|0,O*=4294967296;return new a(k,0)}function h(E,k){if(E.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(E.charAt(0)=="-")return x(h(E.substring(1),k));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=d(Math.pow(k,8)),D=m,M=0;M<E.length;M+=8){var V=Math.min(8,E.length-M),$=parseInt(E.substring(M,M+V),k);8>V?(V=d(Math.pow(k,V)),D=D.j(V).add(d($))):(D=D.j(O),D=D.add(d($)))}return D}var m=u(0),g=u(1),v=u(16777216);t=a.prototype,t.m=function(){if(_(this))return-x(this).m();for(var E=0,k=1,O=0;O<this.g.length;O++){var D=this.i(O);E+=(0<=D?D:4294967296+D)*k,k*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(b(this))return"0";if(_(this))return"-"+x(this).toString(E);for(var k=d(Math.pow(E,6)),O=this,D="";;){var M=P(O,k).g;O=j(O,M.j(k));var V=((0<O.g.length?O.g[0]:O.h)>>>0).toString(E);if(O=M,b(O))return V+D;for(;6>V.length;)V="0"+V;D=V+D}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function b(E){if(E.h!=0)return!1;for(var k=0;k<E.g.length;k++)if(E.g[k]!=0)return!1;return!0}function _(E){return E.h==-1}t.l=function(E){return E=j(this,E),_(E)?-1:b(E)?0:1};function x(E){for(var k=E.g.length,O=[],D=0;D<k;D++)O[D]=~E.g[D];return new a(O,~E.h).add(g)}t.abs=function(){return _(this)?x(this):this},t.add=function(E){for(var k=Math.max(this.g.length,E.g.length),O=[],D=0,M=0;M<=k;M++){var V=D+(this.i(M)&65535)+(E.i(M)&65535),$=(V>>>16)+(this.i(M)>>>16)+(E.i(M)>>>16);D=$>>>16,V&=65535,$&=65535,O[M]=$<<16|V}return new a(O,O[O.length-1]&-2147483648?-1:0)};function j(E,k){return E.add(x(k))}t.j=function(E){if(b(this)||b(E))return m;if(_(this))return _(E)?x(this).j(x(E)):x(x(this).j(E));if(_(E))return x(this.j(x(E)));if(0>this.l(v)&&0>E.l(v))return d(this.m()*E.m());for(var k=this.g.length+E.g.length,O=[],D=0;D<2*k;D++)O[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<E.g.length;M++){var V=this.i(D)>>>16,$=this.i(D)&65535,X=E.i(M)>>>16,H=E.i(M)&65535;O[2*D+2*M]+=$*H,A(O,2*D+2*M),O[2*D+2*M+1]+=V*H,A(O,2*D+2*M+1),O[2*D+2*M+1]+=$*X,A(O,2*D+2*M+1),O[2*D+2*M+2]+=V*X,A(O,2*D+2*M+2)}for(D=0;D<k;D++)O[D]=O[2*D+1]<<16|O[2*D];for(D=k;D<2*k;D++)O[D]=0;return new a(O,0)};function A(E,k){for(;(E[k]&65535)!=E[k];)E[k+1]+=E[k]>>>16,E[k]&=65535,k++}function C(E,k){this.g=E,this.h=k}function P(E,k){if(b(k))throw Error("division by zero");if(b(E))return new C(m,m);if(_(E))return k=P(x(E),k),new C(x(k.g),x(k.h));if(_(k))return k=P(E,x(k)),new C(x(k.g),k.h);if(30<E.g.length){if(_(E)||_(k))throw Error("slowDivide_ only works with positive integers.");for(var O=g,D=k;0>=D.l(E);)O=T(O),D=T(D);var M=I(O,1),V=I(D,1);for(D=I(D,2),O=I(O,2);!b(D);){var $=V.add(D);0>=$.l(E)&&(M=M.add(O),V=$),D=I(D,1),O=I(O,1)}return k=j(E,M.j(k)),new C(M,k)}for(M=m;0<=E.l(k);){for(O=Math.max(1,Math.floor(E.m()/k.m())),D=Math.ceil(Math.log(O)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),V=d(O),$=V.j(k);_($)||0<$.l(E);)O-=D,V=d(O),$=V.j(k);b(V)&&(V=g),M=M.add(V),E=j(E,$)}return new C(M,E)}t.A=function(E){return P(this,E).h},t.and=function(E){for(var k=Math.max(this.g.length,E.g.length),O=[],D=0;D<k;D++)O[D]=this.i(D)&E.i(D);return new a(O,this.h&E.h)},t.or=function(E){for(var k=Math.max(this.g.length,E.g.length),O=[],D=0;D<k;D++)O[D]=this.i(D)|E.i(D);return new a(O,this.h|E.h)},t.xor=function(E){for(var k=Math.max(this.g.length,E.g.length),O=[],D=0;D<k;D++)O[D]=this.i(D)^E.i(D);return new a(O,this.h^E.h)};function T(E){for(var k=E.g.length+1,O=[],D=0;D<k;D++)O[D]=E.i(D)<<1|E.i(D-1)>>>31;return new a(O,E.h)}function I(E,k){var O=k>>5;k%=32;for(var D=E.g.length-O,M=[],V=0;V<D;V++)M[V]=0<k?E.i(V+O)>>>k|E.i(V+O+1)<<32-k:E.i(V+O);return new a(M,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cG=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,bu=a}).apply(typeof U6<"u"?U6:typeof self<"u"?self:typeof window<"u"?window:{});var W0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uG,Ry,dG,K_,CO,fG,hG,mG;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,L,F){return w==Array.prototype||w==Object.prototype||(w[L]=F.value),w};function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof W0=="object"&&W0];for(var L=0;L<w.length;++L){var F=w[L];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var r=n(this);function i(w,L){if(L)e:{var F=r;w=w.split(".");for(var K=0;K<w.length-1;K++){var ae=w[K];if(!(ae in F))break e;F=F[ae]}w=w[w.length-1],K=F[w],L=L(K),L!=K&&L!=null&&e(F,w,{configurable:!0,writable:!0,value:L})}}function s(w,L){w instanceof String&&(w+="");var F=0,K=!1,ae={next:function(){if(!K&&F<w.length){var me=F++;return{value:L(me,w[me]),done:!1}}return K=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}i("Array.prototype.values",function(w){return w||function(){return s(this,function(L,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(w){var L=typeof w;return L=L!="object"?L:w?Array.isArray(w)?"array":L:"null",L=="array"||L=="object"&&typeof w.length=="number"}function d(w){var L=typeof w;return L=="object"&&w!=null||L=="function"}function h(w,L,F){return w.call.apply(w.bind,arguments)}function m(w,L,F){if(!w)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,K),w.apply(L,ae)}}return function(){return w.apply(L,arguments)}}function g(w,L,F){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,g.apply(null,arguments)}function v(w,L){var F=Array.prototype.slice.call(arguments,1);return function(){var K=F.slice();return K.push.apply(K,arguments),w.apply(this,K)}}function b(w,L){function F(){}F.prototype=L.prototype,w.aa=L.prototype,w.prototype=new F,w.prototype.constructor=w,w.Qb=function(K,ae,me){for(var $e=Array(arguments.length-2),sn=2;sn<arguments.length;sn++)$e[sn-2]=arguments[sn];return L.prototype[ae].apply(K,$e)}}function _(w){const L=w.length;if(0<L){const F=Array(L);for(let K=0;K<L;K++)F[K]=w[K];return F}return[]}function x(w,L){for(let F=1;F<arguments.length;F++){const K=arguments[F];if(u(K)){const ae=w.length||0,me=K.length||0;w.length=ae+me;for(let $e=0;$e<me;$e++)w[ae+$e]=K[$e]}else w.push(K)}}class j{constructor(L,F){this.i=L,this.j=F,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function A(w){return/^[\s\xa0]*$/.test(w)}function C(){var w=l.navigator;return w&&(w=w.userAgent)?w:""}function P(w){return P[" "](w),w}P[" "]=function(){};var T=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function I(w,L,F){for(const K in w)L.call(F,w[K],K,w)}function E(w,L){for(const F in w)L.call(void 0,w[F],F,w)}function k(w){const L={};for(const F in w)L[F]=w[F];return L}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(w,L){let F,K;for(let ae=1;ae<arguments.length;ae++){K=arguments[ae];for(F in K)w[F]=K[F];for(let me=0;me<O.length;me++)F=O[me],Object.prototype.hasOwnProperty.call(K,F)&&(w[F]=K[F])}}function M(w){var L=1;w=w.split(":");const F=[];for(;0<L&&w.length;)F.push(w.shift()),L--;return w.length&&F.push(w.join(":")),F}function V(w){l.setTimeout(()=>{throw w},0)}function $(){var w=W;let L=null;return w.g&&(L=w.g,w.g=w.g.next,w.g||(w.h=null),L.next=null),L}class X{constructor(){this.h=this.g=null}add(L,F){const K=H.get();K.set(L,F),this.h?this.h.next=K:this.g=K,this.h=K}}var H=new j(()=>new U,w=>w.reset());class U{constructor(){this.next=this.g=this.h=null}set(L,F){this.h=L,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let q,G=!1,W=new X,z=()=>{const w=l.Promise.resolve(void 0);q=()=>{w.then(Z)}};var Z=()=>{for(var w;w=$();){try{w.h.call(w.g)}catch(F){V(F)}var L=H;L.j(w),100>L.h&&(L.h++,w.next=L.g,L.g=w)}G=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(w,L){this.type=w,this.g=this.target=L,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var w=!1,L=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const F=()=>{};l.addEventListener("test",F,L),l.removeEventListener("test",F,L)}catch{}return w}();function Ce(w,L){if(ne.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var F=this.type=w.type,K=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=L,L=w.relatedTarget){if(T){e:{try{P(L.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(L=null)}}else F=="mouseover"?L=w.fromElement:F=="mouseout"&&(L=w.toElement);this.relatedTarget=L,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:Te[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&Ce.aa.h.call(this)}}b(Ce,ne);var Te={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),ce=0;function oe(w,L,F,K,ae){this.listener=w,this.proxy=null,this.src=L,this.type=F,this.capture=!!K,this.ha=ae,this.key=++ce,this.da=this.fa=!1}function we(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function Ne(w){this.src=w,this.g={},this.h=0}Ne.prototype.add=function(w,L,F,K,ae){var me=w.toString();w=this.g[me],w||(w=this.g[me]=[],this.h++);var $e=Ue(w,L,K,ae);return-1<$e?(L=w[$e],F||(L.fa=!1)):(L=new oe(L,this.src,me,!!K,ae),L.fa=F,w.push(L)),L};function ue(w,L){var F=L.type;if(F in w.g){var K=w.g[F],ae=Array.prototype.indexOf.call(K,L,void 0),me;(me=0<=ae)&&Array.prototype.splice.call(K,ae,1),me&&(we(L),w.g[F].length==0&&(delete w.g[F],w.h--))}}function Ue(w,L,F,K){for(var ae=0;ae<w.length;++ae){var me=w[ae];if(!me.da&&me.listener==L&&me.capture==!!F&&me.ha==K)return ae}return-1}var We="closure_lm_"+(1e6*Math.random()|0),jt={};function ht(w,L,F,K,ae){if(Array.isArray(L)){for(var me=0;me<L.length;me++)ht(w,L[me],F,K,ae);return null}return F=ke(F),w&&w[je]?w.K(L,F,d(K)?!!K.capture:!1,ae):At(w,L,F,!1,K,ae)}function At(w,L,F,K,ae,me){if(!L)throw Error("Invalid event type");var $e=d(ae)?!!ae.capture:!!ae,sn=Le(w);if(sn||(w[We]=sn=new Ne(w)),F=sn.add(L,F,K,$e,me),F.proxy)return F;if(K=Ur(),F.proxy=K,K.src=w,K.listener=F,w.addEventListener)ge||(ae=$e),ae===void 0&&(ae=!1),w.addEventListener(L.toString(),K,ae);else if(w.attachEvent)w.attachEvent(se(L.toString()),K);else if(w.addListener&&w.removeListener)w.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return F}function Ur(){function w(F){return L.call(w.src,w.listener,F)}const L=pe;return w}function Qn(w,L,F,K,ae){if(Array.isArray(L))for(var me=0;me<L.length;me++)Qn(w,L[me],F,K,ae);else K=d(K)?!!K.capture:!!K,F=ke(F),w&&w[je]?(w=w.i,L=String(L).toString(),L in w.g&&(me=w.g[L],F=Ue(me,F,K,ae),-1<F&&(we(me[F]),Array.prototype.splice.call(me,F,1),me.length==0&&(delete w.g[L],w.h--)))):w&&(w=Le(w))&&(L=w.g[L.toString()],w=-1,L&&(w=Ue(L,F,K,ae)),(F=-1<w?L[w]:null)&&ee(F))}function ee(w){if(typeof w!="number"&&w&&!w.da){var L=w.src;if(L&&L[je])ue(L.i,w);else{var F=w.type,K=w.proxy;L.removeEventListener?L.removeEventListener(F,K,w.capture):L.detachEvent?L.detachEvent(se(F),K):L.addListener&&L.removeListener&&L.removeListener(K),(F=Le(L))?(ue(F,w),F.h==0&&(F.src=null,L[We]=null)):we(w)}}}function se(w){return w in jt?jt[w]:jt[w]="on"+w}function pe(w,L){if(w.da)w=!0;else{L=new Ce(L,this);var F=w.listener,K=w.ha||w.src;w.fa&&ee(w),w=F.call(K,L)}return w}function Le(w){return w=w[We],w instanceof Ne?w:null}var Ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function ke(w){return typeof w=="function"?w:(w[Ie]||(w[Ie]=function(L){return w.handleEvent(L)}),w[Ie])}function Ve(){te.call(this),this.i=new Ne(this),this.M=this,this.F=null}b(Ve,te),Ve.prototype[je]=!0,Ve.prototype.removeEventListener=function(w,L,F,K){Qn(this,w,L,F,K)};function tt(w,L){var F,K=w.F;if(K)for(F=[];K;K=K.F)F.push(K);if(w=w.M,K=L.type||L,typeof L=="string")L=new ne(L,w);else if(L instanceof ne)L.target=L.target||w;else{var ae=L;L=new ne(K,w),D(L,ae)}if(ae=!0,F)for(var me=F.length-1;0<=me;me--){var $e=L.g=F[me];ae=Ct($e,K,!0,L)&&ae}if($e=L.g=w,ae=Ct($e,K,!0,L)&&ae,ae=Ct($e,K,!1,L)&&ae,F)for(me=0;me<F.length;me++)$e=L.g=F[me],ae=Ct($e,K,!1,L)&&ae}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var w=this.i,L;for(L in w.g){for(var F=w.g[L],K=0;K<F.length;K++)we(F[K]);delete w.g[L],w.h--}}this.F=null},Ve.prototype.K=function(w,L,F,K){return this.i.add(String(w),L,!1,F,K)},Ve.prototype.L=function(w,L,F,K){return this.i.add(String(w),L,!0,F,K)};function Ct(w,L,F,K){if(L=w.i.g[String(L)],!L)return!0;L=L.concat();for(var ae=!0,me=0;me<L.length;++me){var $e=L[me];if($e&&!$e.da&&$e.capture==F){var sn=$e.listener,qr=$e.ha||$e.src;$e.fa&&ue(w.i,$e),ae=sn.call(qr,K)!==!1&&ae}}return ae&&!K.defaultPrevented}function ve(w,L,F){if(typeof w=="function")F&&(w=g(w,F));else if(w&&typeof w.handleEvent=="function")w=g(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:l.setTimeout(w,L||0)}function zt(w){w.g=ve(()=>{w.g=null,w.i&&(w.i=!1,zt(w))},w.l);const L=w.h;w.h=null,w.m.apply(null,L)}class gn extends te{constructor(L,F){super(),this.m=L,this.l=F,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:zt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nn(w){te.call(this),this.h=w,this.g={}}b(nn,te);var Wt=[];function tn(w){I(w.g,function(L,F){this.g.hasOwnProperty(F)&&ee(L)},w),w.g={}}nn.prototype.N=function(){nn.aa.N.call(this),tn(this)},nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=l.JSON.stringify,or=l.JSON.parse,Fn=class{stringify(w){return l.JSON.stringify(w,void 0)}parse(w){return l.JSON.parse(w,void 0)}};function bi(){}bi.prototype.h=null;function ja(w){return w.h||(w.h=w.i())}function rl(){}var Na={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ws(){ne.call(this,"d")}b(Ws,ne);function ot(){ne.call(this,"c")}b(ot,ne);var Pt={},Ar=null;function Bn(){return Ar=Ar||new Ve}Pt.La="serverreachability";function _i(w){ne.call(this,Pt.La,w)}b(_i,ne);function jn(w){const L=Bn();tt(L,new _i(L))}Pt.STAT_EVENT="statevent";function zr(w,L){ne.call(this,Pt.STAT_EVENT,w),this.stat=L}b(zr,ne);function rn(w){const L=Bn();tt(L,new zr(L,w))}Pt.Ma="timingevent";function hr(w,L){ne.call(this,Pt.Ma,w),this.size=L}b(hr,ne);function Er(w,L){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){w()},L)}function Gs(){this.g=!0}Gs.prototype.xa=function(){this.g=!1};function sg(w,L,F,K,ae,me){w.info(function(){if(w.g)if(me)for(var $e="",sn=me.split("&"),qr=0;qr<sn.length;qr++){var an=sn[qr].split("=");if(1<an.length){var ai=an[0];an=an[1];var Hr=ai.split("_");$e=2<=Hr.length&&Hr[1]=="type"?$e+(ai+"="+an+"&"):$e+(ai+"=redacted&")}}else $e=null;else $e=me;return"XMLHTTP REQ ("+K+") [attempt "+ae+"]: "+L+`
`+F+`
`+$e})}function hN(w,L,F,K,ae,me,$e){w.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+ae+"]: "+L+`
`+F+`
`+me+" "+$e})}function wc(w,L,F,K){w.info(function(){return"XMLHTTP TEXT ("+L+"): "+Ju(w,F)+(K?" "+K:"")})}function Sb(w,L){w.info(function(){return"TIMEOUT: "+L})}Gs.prototype.info=function(){};function Ju(w,L){if(!w.g)return L;if(!L)return null;try{var F=JSON.parse(L);if(F){for(w=0;w<F.length;w++)if(Array.isArray(F[w])){var K=F[w];if(!(2>K.length)){var ae=K[1];if(Array.isArray(ae)&&!(1>ae.length)){var me=ae[0];if(me!="noop"&&me!="stop"&&me!="close")for(var $e=1;$e<ae.length;$e++)ae[$e]=""}}}}return ar(F)}catch{return L}}var Sc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},il={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},no;function ro(){}b(ro,bi),ro.prototype.g=function(){return new XMLHttpRequest},ro.prototype.i=function(){return{}},no=new ro;function qi(w,L,F,K){this.j=w,this.i=L,this.l=F,this.R=K||1,this.U=new nn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yr}function yr(){this.i=null,this.g="",this.h=!1}var ag={},sh={};function Aa(w,L,F){w.L=1,w.v=id(ys(L)),w.m=F,w.P=!0,sl(w,null)}function sl(w,L){w.F=Date.now(),ed(w),w.A=ys(w.v);var F=w.A,K=w.R;Array.isArray(K)||(K=[String(K)]),fg(F.i,"t",K),w.C=0,F=w.j.J,w.h=new yr,w.g=Vb(w.j,F?L:null,!w.m),0<w.O&&(w.M=new gn(g(w.Y,w,w.g),w.O)),L=w.U,F=w.g,K=w.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(Wt[0]=ae.toString()),ae=Wt);for(var me=0;me<ae.length;me++){var $e=ht(F,ae[me],K||L.handleEvent,!1,L.h||L);if(!$e)break;L.g[$e.key]=$e}L=w.H?k(w.H):{},w.m?(w.u||(w.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,L)):(w.u="GET",w.g.ea(w.A,w.u,null,L)),jn(),sg(w.i,w.u,w.A,w.l,w.R,w.m)}qi.prototype.ca=function(w){w=w.target;const L=this.M;L&&Qs(w)==3?L.j():this.Y(w)},qi.prototype.Y=function(w){try{if(w==this.g)e:{const Hr=Qs(this.g);var L=this.g.Ba();const hl=this.g.Z();if(!(3>Hr)&&(Hr!=3||this.g&&(this.h.h||this.g.oa()||Ob(this.g)))){this.J||Hr!=4||L==7||(L==8||0>=hl?jn(3):jn(2)),jc(this);var F=this.g.Z();this.X=F;t:if(jb(this)){var K=Ob(this.g);w="";var ae=K.length,me=Qs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wi(this),io(this);var $e="";break t}this.h.i=new l.TextDecoder}for(L=0;L<ae;L++)this.h.h=!0,w+=this.h.i.decode(K[L],{stream:!(me&&L==ae-1)});K.length=0,this.h.g+=w,this.C=0,$e=this.h.g}else $e=this.g.oa();if(this.o=F==200,hN(this.i,this.u,this.A,this.l,this.R,Hr,F),this.o){if(this.T&&!this.K){t:{if(this.g){var sn,qr=this.g;if((sn=qr.g?qr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(sn)){var an=sn;break t}}an=null}if(F=an)wc(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,td(this,F);else{this.o=!1,this.s=3,rn(12),wi(this),io(this);break e}}if(this.P){F=!0;let Si;for(;!this.J&&this.C<$e.length;)if(Si=Nb(this,$e),Si==sh){Hr==4&&(this.s=4,rn(14),F=!1),wc(this.i,this.l,null,"[Incomplete Response]");break}else if(Si==ag){this.s=4,rn(15),wc(this.i,this.l,$e,"[Invalid Chunk]"),F=!1;break}else wc(this.i,this.l,Si,null),td(this,Si);if(jb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Hr!=4||$e.length!=0||this.h.h||(this.s=1,rn(16),F=!1),this.o=this.o&&F,!F)wc(this.i,this.l,$e,"[Invalid Chunked Response]"),wi(this),io(this);else if(0<$e.length&&!this.W){this.W=!0;var ai=this.j;ai.g==this&&ai.ba&&!ai.M&&(ai.j.info("Great, no buffering proxy detected. Bytes received: "+$e.length),fd(ai),ai.M=!0,rn(11))}}else wc(this.i,this.l,$e,null),td(this,$e);Hr==4&&wi(this),this.o&&!this.J&&(Hr==4?Db(this.j,this):(this.o=!1,ed(this)))}else vN(this.g),F==400&&0<$e.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),wi(this),io(this)}}}catch{}finally{}};function jb(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function Nb(w,L){var F=w.C,K=L.indexOf(`
`,F);return K==-1?sh:(F=Number(L.substring(F,K)),isNaN(F)?ag:(K+=1,K+F>L.length?sh:(L=L.slice(K,K+F),w.C=K+F,L)))}qi.prototype.cancel=function(){this.J=!0,wi(this)};function ed(w){w.S=Date.now()+w.I,Ab(w,w.I)}function Ab(w,L){if(w.B!=null)throw Error("WatchDog timer not null");w.B=Er(g(w.ba,w),L)}function jc(w){w.B&&(l.clearTimeout(w.B),w.B=null)}qi.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(Sb(this.i,this.A),this.L!=2&&(jn(),rn(17)),wi(this),this.s=2,io(this)):Ab(this,this.S-w)};function io(w){w.j.G==0||w.J||Db(w.j,w)}function wi(w){jc(w);var L=w.M;L&&typeof L.ma=="function"&&L.ma(),w.M=null,tn(w.U),w.g&&(L=w.g,w.g=null,L.abort(),L.ma())}function td(w,L){try{var F=w.j;if(F.G!=0&&(F.g==w||og(F.h,w))){if(!w.K&&og(F.h,w)&&F.G==3){try{var K=F.Da.g.parse(L)}catch{K=null}if(Array.isArray(K)&&K.length==3){var ae=K;if(ae[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<w.F)yh(F),ph(F);else break e;yg(F),rn(18)}}else F.za=ae[1],0<F.za-F.T&&37500>ae[2]&&F.F&&F.v==0&&!F.C&&(F.C=Er(g(F.Za,F),6e3));if(1>=oh(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else fl(F,11)}else if((w.K||F.g==w)&&yh(F),!A(L))for(ae=F.Da.g.parse(L),L=0;L<ae.length;L++){let an=ae[L];if(F.T=an[0],an=an[1],F.G==2)if(an[0]=="c"){F.K=an[1],F.ia=an[2];const ai=an[3];ai!=null&&(F.la=ai,F.j.info("VER="+F.la));const Hr=an[4];Hr!=null&&(F.Aa=Hr,F.j.info("SVER="+F.Aa));const hl=an[5];hl!=null&&typeof hl=="number"&&0<hl&&(K=1.5*hl,F.L=K,F.j.info("backChannelRequestTimeoutMs_="+K)),K=F;const Si=w.g;if(Si){const fo=Si.g?Si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fo){var me=K.h;me.g||fo.indexOf("spdy")==-1&&fo.indexOf("quic")==-1&&fo.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(lh(me,me.h),me.h=null))}if(K.D){const xg=Si.g?Si.g.getResponseHeader("X-HTTP-Session-Id"):null;xg&&(K.ya=xg,Pn(K.I,K.D,xg))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-w.F,F.j.info("Handshake RTT: "+F.R+"ms")),K=F;var $e=w;if(K.qa=$b(K,K.J?K.ia:null,K.W),$e.K){Hi(K.h,$e);var sn=$e,qr=K.L;qr&&(sn.I=qr),sn.B&&(jc(sn),ed(sn)),K.g=$e}else Ib(K);0<F.i.length&&gh(F)}else an[0]!="stop"&&an[0]!="close"||fl(F,7);else F.G==3&&(an[0]=="stop"||an[0]=="close"?an[0]=="stop"?fl(F,7):pg(F):an[0]!="noop"&&F.l&&F.l.ta(an),F.v=0)}}jn(4)}catch{}}var Eb=class{constructor(w,L){this.g=w,this.map=L}};function al(w){this.l=w||10,l.PerformanceNavigationTiming?(w=l.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ah(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function oh(w){return w.h?1:w.g?w.g.size:0}function og(w,L){return w.h?w.h==L:w.g?w.g.has(L):!1}function lh(w,L){w.g?w.g.add(L):w.h=L}function Hi(w,L){w.h&&w.h==L?w.h=null:w.g&&w.g.has(L)&&w.g.delete(L)}al.prototype.cancel=function(){if(this.i=lg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function lg(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let L=w.i;for(const F of w.g.values())L=L.concat(F.D);return L}return _(w.i)}function mN(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(u(w)){for(var L=[],F=w.length,K=0;K<F;K++)L.push(w[K]);return L}L=[],F=0;for(K in w)L[F++]=w[K];return L}function ch(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(u(w)||typeof w=="string"){var L=[];w=w.length;for(var F=0;F<w;F++)L.push(F);return L}L=[],F=0;for(const K in w)L[F++]=K;return L}}}function cg(w,L){if(w.forEach&&typeof w.forEach=="function")w.forEach(L,void 0);else if(u(w)||typeof w=="string")Array.prototype.forEach.call(w,L,void 0);else for(var F=ch(w),K=mN(w),ae=K.length,me=0;me<ae;me++)L.call(void 0,K[me],F&&F[me],w)}var nd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pN(w,L){if(w){w=w.split("&");for(var F=0;F<w.length;F++){var K=w[F].indexOf("="),ae=null;if(0<=K){var me=w[F].substring(0,K);ae=w[F].substring(K+1)}else me=w[F];L(me,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Tr(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof Tr){this.h=w.h,rd(this,w.j),this.o=w.o,this.g=w.g,Nc(this,w.s),this.l=w.l;var L=w.i,F=new ll;F.i=L.i,L.g&&(F.g=new Map(L.g),F.h=L.h),ol(this,F),this.m=w.m}else w&&(L=String(w).match(nd))?(this.h=!1,rd(this,L[1]||"",!0),this.o=Ys(L[2]||""),this.g=Ys(L[3]||"",!0),Nc(this,L[4]),this.l=Ys(L[5]||"",!0),ol(this,L[6]||"",!0),this.m=Ys(L[7]||"")):(this.h=!1,this.i=new ll(null,this.h))}Tr.prototype.toString=function(){var w=[],L=this.j;L&&w.push(sd(L,ug,!0),":");var F=this.g;return(F||L=="file")&&(w.push("//"),(L=this.o)&&w.push(sd(L,ug,!0),"@"),w.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&w.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&w.push("/"),w.push(sd(F,F.charAt(0)=="/"?gN:dg,!0))),(F=this.i.toString())&&w.push("?",F),(F=this.m)&&w.push("#",sd(F,uh)),w.join("")};function ys(w){return new Tr(w)}function rd(w,L,F){w.j=F?Ys(L,!0):L,w.j&&(w.j=w.j.replace(/:$/,""))}function Nc(w,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);w.s=L}else w.s=null}function ol(w,L,F){L instanceof ll?(w.i=L,Cb(w.i,w.h)):(F||(L=sd(L,yN)),w.i=new ll(L,w.h))}function Pn(w,L,F){w.i.set(L,F)}function id(w){return Pn(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function Ys(w,L){return w?L?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function sd(w,L,F){return typeof w=="string"?(w=encodeURI(w).replace(L,Tb),F&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Tb(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var ug=/[#\/\?@]/g,dg=/[#\?:]/g,gN=/[#\?]/g,yN=/[#\?@]/g,uh=/#/g;function ll(w,L){this.h=this.g=null,this.i=w||null,this.j=!!L}function Ks(w){w.g||(w.g=new Map,w.h=0,w.i&&pN(w.i,function(L,F){w.add(decodeURIComponent(L.replace(/\+/g," ")),F)}))}t=ll.prototype,t.add=function(w,L){Ks(this),this.i=null,w=so(this,w);var F=this.g.get(w);return F||this.g.set(w,F=[]),F.push(L),this.h+=1,this};function cl(w,L){Ks(w),L=so(w,L),w.g.has(L)&&(w.i=null,w.h-=w.g.get(L).length,w.g.delete(L))}function ul(w,L){return Ks(w),L=so(w,L),w.g.has(L)}t.forEach=function(w,L){Ks(this),this.g.forEach(function(F,K){F.forEach(function(ae){w.call(L,ae,K,this)},this)},this)},t.na=function(){Ks(this);const w=Array.from(this.g.values()),L=Array.from(this.g.keys()),F=[];for(let K=0;K<L.length;K++){const ae=w[K];for(let me=0;me<ae.length;me++)F.push(L[K])}return F},t.V=function(w){Ks(this);let L=[];if(typeof w=="string")ul(this,w)&&(L=L.concat(this.g.get(so(this,w))));else{w=Array.from(this.g.values());for(let F=0;F<w.length;F++)L=L.concat(w[F])}return L},t.set=function(w,L){return Ks(this),this.i=null,w=so(this,w),ul(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[L]),this.h+=1,this},t.get=function(w,L){return w?(w=this.V(w),0<w.length?String(w[0]):L):L};function fg(w,L,F){cl(w,L),0<F.length&&(w.i=null,w.g.set(so(w,L),_(F)),w.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],L=Array.from(this.g.keys());for(var F=0;F<L.length;F++){var K=L[F];const me=encodeURIComponent(String(K)),$e=this.V(K);for(K=0;K<$e.length;K++){var ae=me;$e[K]!==""&&(ae+="="+encodeURIComponent(String($e[K]))),w.push(ae)}}return this.i=w.join("&")};function so(w,L){return L=String(L),w.j&&(L=L.toLowerCase()),L}function Cb(w,L){L&&!w.j&&(Ks(w),w.i=null,w.g.forEach(function(F,K){var ae=K.toLowerCase();K!=ae&&(cl(this,K),fg(this,ae,F))},w)),w.j=L}function ad(w,L){const F=new Gs;if(l.Image){const K=new Image;K.onload=v(Xs,F,"TestLoadImage: loaded",!0,L,K),K.onerror=v(Xs,F,"TestLoadImage: error",!1,L,K),K.onabort=v(Xs,F,"TestLoadImage: abort",!1,L,K),K.ontimeout=v(Xs,F,"TestLoadImage: timeout",!1,L,K),l.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=w}else L(!1)}function Ea(w,L){const F=new Gs,K=new AbortController,ae=setTimeout(()=>{K.abort(),Xs(F,"TestPingServer: timeout",!1,L)},1e4);fetch(w,{signal:K.signal}).then(me=>{clearTimeout(ae),me.ok?Xs(F,"TestPingServer: ok",!0,L):Xs(F,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(ae),Xs(F,"TestPingServer: error",!1,L)})}function Xs(w,L,F,K,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),K(F)}catch{}}function od(){this.g=new Fn}function ao(w,L,F){const K=F||"";try{cg(w,function(ae,me){let $e=ae;d(ae)&&($e=ar(ae)),L.push(K+me+"="+encodeURIComponent($e))})}catch(ae){throw L.push(K+"type="+encodeURIComponent("_badmap")),ae}}function Ac(w){this.l=w.Ub||null,this.j=w.eb||!1}b(Ac,bi),Ac.prototype.g=function(){return new dl(this.l,this.j)},Ac.prototype.i=function(w){return function(){return w}}({});function dl(w,L){Ve.call(this),this.D=w,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(dl,Ve),t=dl.prototype,t.open=function(w,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=L,this.readyState=1,lo(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(L.body=w),(this.D||l).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oo(this)),this.readyState=0},t.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,lo(this)),this.g&&(this.readyState=3,lo(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hg(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function hg(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}t.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var L=w.value?w.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!w.done}))&&(this.response=this.responseText+=L)}w.done?oo(this):lo(this),this.readyState==3&&hg(this)}},t.Ra=function(w){this.g&&(this.response=this.responseText=w,oo(this))},t.Qa=function(w){this.g&&(this.response=w,oo(this))},t.ga=function(){this.g&&oo(this)};function oo(w){w.readyState=4,w.l=null,w.j=null,w.v=null,lo(w)}t.setRequestHeader=function(w,L){this.u.append(w,L)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],L=this.h.entries();for(var F=L.next();!F.done;)F=F.value,w.push(F[0]+": "+F[1]),F=L.next();return w.join(`\r
`)};function lo(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(dl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function mg(w){let L="";return I(w,function(F,K){L+=K,L+=":",L+=F,L+=`\r
`}),L}function si(w,L,F){e:{for(K in F){var K=!1;break e}K=!0}K||(F=mg(F),typeof w=="string"?F!=null&&encodeURIComponent(String(F)):Pn(w,L,F))}function yn(w){Ve.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(yn,Ve);var dh=/^https?$/i,ld=["POST","PUT"];t=yn.prototype,t.Ha=function(w){this.J=w},t.ea=function(w,L,F,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);L=L?L.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():no.g(),this.v=this.o?ja(this.o):ja(no),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(L,String(w),!0),this.B=!1}catch(me){kb(this,me);return}if(w=F||"",F=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var ae in K)F.set(ae,K[ae]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const me of K.keys())F.set(me,K.get(me));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(F.keys()).find(me=>me.toLowerCase()=="content-type"),ae=l.FormData&&w instanceof l.FormData,!(0<=Array.prototype.indexOf.call(ld,L,void 0))||K||ae||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,$e]of F)this.g.setRequestHeader(me,$e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cd(this),this.u=!0,this.g.send(w),this.u=!1}catch(me){kb(this,me)}};function kb(w,L){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=L,w.m=5,fh(w),co(w)}function fh(w){w.A||(w.A=!0,tt(w,"complete"),tt(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,tt(this,"complete"),tt(this,"abort"),co(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),co(this,!0)),yn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hh(this):this.bb())},t.bb=function(){hh(this)};function hh(w){if(w.h&&typeof a<"u"&&(!w.v[1]||Qs(w)!=4||w.Z()!=2)){if(w.u&&Qs(w)==4)ve(w.Ea,0,w);else if(tt(w,"readystatechange"),Qs(w)==4){w.h=!1;try{const $e=w.Z();e:switch($e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var F;if(!(F=L)){var K;if(K=$e===0){var ae=String(w.D).match(nd)[1]||null;!ae&&l.self&&l.self.location&&(ae=l.self.location.protocol.slice(0,-1)),K=!dh.test(ae?ae.toLowerCase():"")}F=K}if(F)tt(w,"complete"),tt(w,"success");else{w.m=6;try{var me=2<Qs(w)?w.g.statusText:""}catch{me=""}w.l=me+" ["+w.Z()+"]",fh(w)}}finally{co(w)}}}}function co(w,L){if(w.g){cd(w);const F=w.g,K=w.v[0]?()=>{}:null;w.g=null,w.v=null,L||tt(w,"ready");try{F.onreadystatechange=K}catch{}}}function cd(w){w.I&&(l.clearTimeout(w.I),w.I=null)}t.isActive=function(){return!!this.g};function Qs(w){return w.g?w.g.readyState:0}t.Z=function(){try{return 2<Qs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(w){if(this.g){var L=this.g.responseText;return w&&L.indexOf(w)==0&&(L=L.substring(w.length)),or(L)}};function Ob(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function vN(w){const L={};w=(w.g&&2<=Qs(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<w.length;K++){if(A(w[K]))continue;var F=M(w[K]);const ae=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const me=L[ae]||[];L[ae]=me,me.push(F)}E(L,function(K){return K.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ud(w,L,F){return F&&F.internalChannelParams&&F.internalChannelParams[w]||L}function mh(w){this.Aa=0,this.i=[],this.j=new Gs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ud("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ud("baseRetryDelayMs",5e3,w),this.cb=ud("retryDelaySeedMs",1e4,w),this.Wa=ud("forwardChannelMaxRetries",2,w),this.wa=ud("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new al(w&&w.concurrentRequestLimit),this.Da=new od,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mh.prototype,t.la=8,t.G=1,t.connect=function(w,L,F,K){rn(0),this.W=w,this.H=L||{},F&&K!==void 0&&(this.H.OSID=F,this.H.OAID=K),this.F=this.X,this.I=$b(this,null,this.W),gh(this)};function pg(w){if(Rb(w),w.G==3){var L=w.U++,F=ys(w.I);if(Pn(F,"SID",w.K),Pn(F,"RID",L),Pn(F,"TYPE","terminate"),dd(w,F),L=new qi(w,w.j,L),L.L=2,L.v=id(ys(F)),F=!1,l.navigator&&l.navigator.sendBeacon)try{F=l.navigator.sendBeacon(L.v.toString(),"")}catch{}!F&&l.Image&&(new Image().src=L.v,F=!0),F||(L.g=Vb(L.j,null),L.g.ea(L.v)),L.F=Date.now(),ed(L)}Lb(w)}function ph(w){w.g&&(fd(w),w.g.cancel(),w.g=null)}function Rb(w){ph(w),w.u&&(l.clearTimeout(w.u),w.u=null),yh(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&l.clearTimeout(w.s),w.s=null)}function gh(w){if(!ah(w.h)&&!w.s){w.s=!0;var L=w.Ga;q||z(),G||(q(),G=!0),W.add(L,w),w.B=0}}function xN(w,L){return oh(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=L.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=Er(g(w.Ga,w,L),vg(w,w.B)),w.B++,!0)}t.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const ae=new qi(this,this.j,w);let me=this.o;if(this.S&&(me?(me=k(me),D(me,this.S)):me=this.S),this.m!==null||this.O||(ae.H=me,me=null),this.P)e:{for(var L=0,F=0;F<this.i.length;F++){t:{var K=this.i[F];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(L+=K,4096<L){L=F;break e}if(L===4096||F===this.i.length-1){L=F+1;break e}}L=1e3}else L=1e3;L=Pb(this,ae,L),F=ys(this.I),Pn(F,"RID",w),Pn(F,"CVER",22),this.D&&Pn(F,"X-HTTP-Session-Id",this.D),dd(this,F),me&&(this.O?L="headers="+encodeURIComponent(String(mg(me)))+"&"+L:this.m&&si(F,this.m,me)),lh(this.h,ae),this.Ua&&Pn(F,"TYPE","init"),this.P?(Pn(F,"$req",L),Pn(F,"SID","null"),ae.T=!0,Aa(ae,F,null)):Aa(ae,F,L),this.G=2}}else this.G==3&&(w?gg(this,w):this.i.length==0||ah(this.h)||gg(this))};function gg(w,L){var F;L?F=L.l:F=w.U++;const K=ys(w.I);Pn(K,"SID",w.K),Pn(K,"RID",F),Pn(K,"AID",w.T),dd(w,K),w.m&&w.o&&si(K,w.m,w.o),F=new qi(w,w.j,F,w.B+1),w.m===null&&(F.H=w.o),L&&(w.i=L.D.concat(w.i)),L=Pb(w,F,1e3),F.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),lh(w.h,F),Aa(F,K,L)}function dd(w,L){w.H&&I(w.H,function(F,K){Pn(L,K,F)}),w.l&&cg({},function(F,K){Pn(L,K,F)})}function Pb(w,L,F){F=Math.min(w.i.length,F);var K=w.l?g(w.l.Na,w.l,w):null;e:{var ae=w.i;let me=-1;for(;;){const $e=["count="+F];me==-1?0<F?(me=ae[0].g,$e.push("ofs="+me)):me=0:$e.push("ofs="+me);let sn=!0;for(let qr=0;qr<F;qr++){let an=ae[qr].g;const ai=ae[qr].map;if(an-=me,0>an)me=Math.max(0,ae[qr].g-100),sn=!1;else try{ao(ai,$e,"req"+an+"_")}catch{K&&K(ai)}}if(sn){K=$e.join("&");break e}}}return w=w.i.splice(0,F),L.D=w,K}function Ib(w){if(!w.g&&!w.u){w.Y=1;var L=w.Fa;q||z(),G||(q(),G=!0),W.add(L,w),w.v=0}}function yg(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=Er(g(w.Fa,w),vg(w,w.v)),w.v++,!0)}t.Fa=function(){if(this.u=null,Mb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=Er(g(this.ab,this),w)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rn(10),ph(this),Mb(this))};function fd(w){w.A!=null&&(l.clearTimeout(w.A),w.A=null)}function Mb(w){w.g=new qi(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var L=ys(w.qa);Pn(L,"RID","rpc"),Pn(L,"SID",w.K),Pn(L,"AID",w.T),Pn(L,"CI",w.F?"0":"1"),!w.F&&w.ja&&Pn(L,"TO",w.ja),Pn(L,"TYPE","xmlhttp"),dd(w,L),w.m&&w.o&&si(L,w.m,w.o),w.L&&(w.g.I=w.L);var F=w.g;w=w.ia,F.L=1,F.v=id(ys(L)),F.m=null,F.P=!0,sl(F,w)}t.Za=function(){this.C!=null&&(this.C=null,ph(this),yg(this),rn(19))};function yh(w){w.C!=null&&(l.clearTimeout(w.C),w.C=null)}function Db(w,L){var F=null;if(w.g==L){yh(w),fd(w),w.g=null;var K=2}else if(og(w.h,L))F=L.D,Hi(w.h,L),K=1;else return;if(w.G!=0){if(L.o)if(K==1){F=L.m?L.m.length:0,L=Date.now()-L.F;var ae=w.B;K=Bn(),tt(K,new hr(K,F)),gh(w)}else Ib(w);else if(ae=L.s,ae==3||ae==0&&0<L.X||!(K==1&&xN(w,L)||K==2&&yg(w)))switch(F&&0<F.length&&(L=w.h,L.i=L.i.concat(F)),ae){case 1:fl(w,5);break;case 4:fl(w,10);break;case 3:fl(w,6);break;default:fl(w,2)}}}function vg(w,L){let F=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(F*=2),F*L}function fl(w,L){if(w.j.info("Error code "+L),L==2){var F=g(w.fb,w),K=w.Xa;const ae=!K;K=new Tr(K||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||rd(K,"https"),id(K),ae?ad(K.toString(),F):Ea(K.toString(),F)}else rn(2);w.G=0,w.l&&w.l.sa(L),Lb(w),Rb(w)}t.fb=function(w){w?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function Lb(w){if(w.G=0,w.ka=[],w.l){const L=lg(w.h);(L.length!=0||w.i.length!=0)&&(x(w.ka,L),x(w.ka,w.i),w.h.i.length=0,_(w.i),w.i.length=0),w.l.ra()}}function $b(w,L,F){var K=F instanceof Tr?ys(F):new Tr(F);if(K.g!="")L&&(K.g=L+"."+K.g),Nc(K,K.s);else{var ae=l.location;K=ae.protocol,L=L?L+"."+ae.hostname:ae.hostname,ae=+ae.port;var me=new Tr(null);K&&rd(me,K),L&&(me.g=L),ae&&Nc(me,ae),F&&(me.l=F),K=me}return F=w.D,L=w.ya,F&&L&&Pn(K,F,L),Pn(K,"VER",w.la),dd(w,K),K}function Vb(w,L,F){if(L&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=w.Ca&&!w.pa?new yn(new Ac({eb:F})):new yn(w.pa),L.Ha(w.J),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fb(){}t=Fb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vh(){}vh.prototype.g=function(w,L){return new Wi(w,L)};function Wi(w,L){Ve.call(this),this.g=new mh(L),this.l=w,this.h=L&&L.messageUrlParams||null,w=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(w?w["X-WebChannel-Content-Type"]=L.messageContentType:w={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(w?w["X-WebChannel-Client-Profile"]=L.va:w={"X-WebChannel-Client-Profile":L.va}),this.g.S=w,(w=L&&L.Sb)&&!A(w)&&(this.g.m=w),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!A(L)&&(this.g.D=L,w=this.h,w!==null&&L in w&&(w=this.h,L in w&&delete w[L])),this.j=new uo(this)}b(Wi,Ve),Wi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wi.prototype.close=function(){pg(this.g)},Wi.prototype.o=function(w){var L=this.g;if(typeof w=="string"){var F={};F.__data__=w,w=F}else this.u&&(F={},F.__data__=ar(w),w=F);L.i.push(new Eb(L.Ya++,w)),L.G==3&&gh(L)},Wi.prototype.N=function(){this.g.l=null,delete this.j,pg(this.g),delete this.g,Wi.aa.N.call(this)};function Bb(w){Ws.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var L=w.__sm__;if(L){e:{for(const F in L){w=F;break e}w=void 0}(this.i=w)&&(w=this.i,L=L!==null&&w in L?L[w]:void 0),this.data=L}else this.data=w}b(Bb,Ws);function Ub(){ot.call(this),this.status=1}b(Ub,ot);function uo(w){this.g=w}b(uo,Fb),uo.prototype.ua=function(){tt(this.g,"a")},uo.prototype.ta=function(w){tt(this.g,new Bb(w))},uo.prototype.sa=function(w){tt(this.g,new Ub)},uo.prototype.ra=function(){tt(this.g,"b")},vh.prototype.createWebChannel=vh.prototype.g,Wi.prototype.send=Wi.prototype.o,Wi.prototype.open=Wi.prototype.m,Wi.prototype.close=Wi.prototype.close,mG=function(){return new vh},hG=function(){return Bn()},fG=Pt,CO={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sc.NO_ERROR=0,Sc.TIMEOUT=8,Sc.HTTP_ERROR=6,K_=Sc,il.COMPLETE="complete",dG=il,rl.EventType=Na,Na.OPEN="a",Na.CLOSE="b",Na.ERROR="c",Na.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,Ry=rl,yn.prototype.listenOnce=yn.prototype.L,yn.prototype.getLastError=yn.prototype.Ka,yn.prototype.getLastErrorCode=yn.prototype.Ba,yn.prototype.getStatus=yn.prototype.Z,yn.prototype.getResponseJson=yn.prototype.Oa,yn.prototype.getResponseText=yn.prototype.oa,yn.prototype.send=yn.prototype.ea,yn.prototype.setWithCredentials=yn.prototype.Ha,uG=yn}).apply(typeof W0<"u"?W0:typeof self<"u"?self:typeof window<"u"?window:{});const z6="@firebase/firestore",q6="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Li=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Li.UNAUTHENTICATED=new Li(null),Li.GOOGLE_CREDENTIALS=new Li("google-credentials-uid"),Li.FIRST_PARTY=new Li("first-party-uid"),Li.MOCK_USER=new Li("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $p="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new cI("@firebase/firestore");function cm(){return yf.logLevel}function Qe(t,...e){if(yf.logLevel<=Qt.DEBUG){const n=e.map(wI);yf.debug(`Firestore (${$p}): ${t}`,...n)}}function sc(t,...e){if(yf.logLevel<=Qt.ERROR){const n=e.map(wI);yf.error(`Firestore (${$p}): ${t}`,...n)}}function ac(t,...e){if(yf.logLevel<=Qt.WARN){const n=e.map(wI);yf.warn(`Firestore (${$p}): ${t}`,...n)}}function wI(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,pG(t,r,n)}function pG(t,e,n){let r=`FIRESTORE (${$p}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw sc(r),new Error(r)}function cn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||pG(e,i,r)}function Tt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Zo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Li.UNAUTHENTICATED))}shutdown(){}}class Dde{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Lde{constructor(e){this.t=e,this.currentUser=Li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){cn(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Lo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Lo,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Lo)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(cn(typeof r.accessToken=="string",31837,{l:r}),new gG(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return cn(e===null||typeof e=="string",2055,{h:e}),new Li(e)}}class $de{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Li.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Vde{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $de(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fde{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Os(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){cn(this.o===void 0,3512);const r=s=>{s.error!=null&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Qe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new H6(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(cn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new H6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bde(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vG(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Bde(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ut(t,e){return t<e?-1:t>e?1:0}function kO(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ut(r,i);{const s=vG(),a=Ude(s.encode(W6(t,n)),s.encode(W6(e,n)));return a!==0?a:Ut(r,i)}}n+=r>65535?2:1}return Ut(t.length,e.length)}function W6(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Ude(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ut(t[n],e[n]);return Ut(t.length,e.length)}function Bm(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="__name__";class _o{constructor(e,n,r){n===void 0?n=0:n>e.length&&pt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&pt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _o.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _o?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=_o.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ut(e.length,n.length)}static compareSegments(e,n){const r=_o.isNumericId(e),i=_o.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?_o.extractNumericId(e).compare(_o.extractNumericId(n)):kO(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bu.fromString(e.substring(4,e.length-2))}}class On extends _o{construct(e,n,r){return new On(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new On(n)}static emptyPath(){return new On([])}}const zde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mi extends _o{construct(e,n,r){return new mi(e,n,r)}static isValidIdentifier(e){return zde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G6}static keyField(){return new mi([G6])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Pe(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Pe(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Pe(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new Pe(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mi(n)}static emptyPath(){return new mi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(On.fromString(e))}static fromName(e){return new ct(On.fromString(e).popFirst(5))}static empty(){return new ct(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&On.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return On.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new On(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xG(t,e,n){if(!n)throw new Pe(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bG(t,e,n,r){if(e===!0&&r===!0)throw new Pe(ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Y6(t){if(!ct.isDocumentKey(t))throw new Pe(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function K6(t){if(ct.isDocumentKey(t))throw new Pe(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _G(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function NS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pt(12329,{type:typeof t})}function ki(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=NS(t);throw new Pe(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function qde(t,e){if(e<=0)throw new Pe(ye.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gx(t,e){if(!_G(t))throw new Pe(ye.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Pe(ye.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=-62135596800,Q6=1e6;class $n{static now(){return $n.fromMillis(Date.now())}static fromDate(e){return $n.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Q6);return new $n(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<X6)throw new Pe(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gx(e,$n._jsonSchema))return new $n(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X6;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$n._jsonSchemaVersion="firestore/timestamp/1.0",$n._jsonSchema={type:$r("string",$n._jsonSchemaVersion),seconds:$r("number"),nanoseconds:$r("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(e){return new wt(e)}static min(){return new wt(new $n(0,0))}static max(){return new wt(new $n(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=-1;function Hde(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=wt.fromTimestamp(r===1e9?new $n(n+1,0):new $n(n,r));return new Tu(i,ct.empty(),e)}function Wde(t){return new Tu(t.readTime,t.key,Sv)}class Tu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Tu(wt.min(),ct.empty(),Sv)}static max(){return new Tu(wt.max(),ct.empty(),Sv)}}function Gde(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ct.comparator(t.documentKey,e.documentKey),n!==0?n:Ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yde="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kde{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vp(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==Yde)throw t;Qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ee((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ee?n:Ee.resolve(n)}catch(n){return Ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ee.reject(n)}static resolve(e){return new Ee((n,r)=>{n(e)})}static reject(e){return new Ee((n,r)=>{r(e)})}static waitFor(e){return new Ee((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},u=>r(u))}),a=!0,s===i&&n()})}static or(e){let n=Ee.resolve(!1);for(const r of e)n=n.next(i=>i?Ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ee((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next(h=>{a[d]=h,++l,l===s&&r(a)},h=>i(h))}})}static doWhile(e,n){return new Ee((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Xde(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}AS.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=-1;function Yx(t){return t==null}function vw(t){return t===0&&1/t==-1/0}function Qde(t){return typeof t=="number"&&Number.isInteger(t)&&!vw(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG="";function Zde(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Z6(e)),e=Jde(t.get(n),e);return Z6(e)}function Jde(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case wG:n+="";break;default:n+=s}}return n}function Z6(t){return t+wG+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){this.comparator=e,this.root=n||Ti.EMPTY}insert(e,n){return new dr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(e){return new dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new G0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new G0(this.root,e,this.comparator,!1)}getReverseIterator(){return new G0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new G0(this.root,e,this.comparator,!0)}}class G0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ti{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ti.RED,this.left=i??Ti.EMPTY,this.right=s??Ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ti(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ti.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1;Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ti(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.comparator=e,this.data=new dr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new e$(this.data.getIterator())}getIteratorFrom(e){return new e$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ri)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ri(this.comparator);return n.data=e,n}}class e${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.fields=e,e.sort(mi.comparator)}static empty(){return new Ms([])}unionWith(e){let n=new ri(mi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ms(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bm(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jG("Invalid base64 string: "+s):s}}(e);return new yi(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new yi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yi.EMPTY_BYTE_STRING=new yi("");const efe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cu(t){if(cn(!!t,39018),typeof t=="string"){let e=0;const n=efe.exec(t);if(cn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:br(t.seconds),nanos:br(t.nanos)}}function br(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ku(t){return typeof t=="string"?yi.fromBase64String(t):yi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG="server_timestamp",AG="__type__",EG="__previous_value__",TG="__local_write_time__";function ES(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[AG])===null||n===void 0?void 0:n.stringValue)===NG}function TS(t){const e=t.mapValue.fields[EG];return ES(e)?TS(e):e}function jv(t){const e=Cu(t.mapValue.fields[TG].timestampValue);return new $n(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tfe{constructor(e,n,r,i,s,a,l,u,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=h}}const Nv="(default)";class Um{constructor(e,n){this.projectId=e,this.database=n||Nv}static empty(){return new Um("","")}get isDefaultDatabase(){return this.database===Nv}isEqual(e){return e instanceof Um&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG="__type__",nfe="__max__",Y0={mapValue:{}},kG="__vector__",xw="value";function Ou(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ES(t)?4:ife(t)?9007199254740991:rfe(t)?10:11:pt(28295,{value:t})}function Wo(t,e){if(t===e)return!0;const n=Ou(t);if(n!==Ou(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jv(t).isEqual(jv(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Cu(i.timestampValue),l=Cu(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ku(i.bytesValue).isEqual(ku(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return br(i.geoPointValue.latitude)===br(s.geoPointValue.latitude)&&br(i.geoPointValue.longitude)===br(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return br(i.integerValue)===br(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=br(i.doubleValue),l=br(s.doubleValue);return a===l?vw(a)===vw(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Bm(t.arrayValue.values||[],e.arrayValue.values||[],Wo);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(J6(a)!==J6(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Wo(a[u],l[u])))return!1;return!0}(t,e);default:return pt(52216,{left:t})}}function Av(t,e){return(t.values||[]).find(n=>Wo(n,e))!==void 0}function zm(t,e){if(t===e)return 0;const n=Ou(t),r=Ou(e);if(n!==r)return Ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ut(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=br(s.integerValue||s.doubleValue),u=br(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return t$(t.timestampValue,e.timestampValue);case 4:return t$(jv(t),jv(e));case 5:return kO(t.stringValue,e.stringValue);case 6:return function(s,a){const l=ku(s),u=ku(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let d=0;d<l.length&&d<u.length;d++){const h=Ut(l[d],u[d]);if(h!==0)return h}return Ut(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=Ut(br(s.latitude),br(a.latitude));return l!==0?l:Ut(br(s.longitude),br(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return n$(t.arrayValue,e.arrayValue);case 10:return function(s,a){var l,u,d,h;const m=s.fields||{},g=a.fields||{},v=(l=m[xw])===null||l===void 0?void 0:l.arrayValue,b=(u=g[xw])===null||u===void 0?void 0:u.arrayValue,_=Ut(((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return _!==0?_:n$(v,b)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Y0.mapValue&&a===Y0.mapValue)return 0;if(s===Y0.mapValue)return 1;if(a===Y0.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),d=a.fields||{},h=Object.keys(d);u.sort(),h.sort();for(let m=0;m<u.length&&m<h.length;++m){const g=kO(u[m],h[m]);if(g!==0)return g;const v=zm(l[u[m]],d[h[m]]);if(v!==0)return v}return Ut(u.length,h.length)}(t.mapValue,e.mapValue);default:throw pt(23264,{le:n})}}function t$(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ut(t,e);const n=Cu(t),r=Cu(e),i=Ut(n.seconds,r.seconds);return i!==0?i:Ut(n.nanos,r.nanos)}function n$(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=zm(n[i],r[i]);if(s)return s}return Ut(n.length,r.length)}function qm(t){return OO(t)}function OO(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Cu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ku(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ct.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=OO(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${OO(n.fields[a])}`;return i+"}"}(t.mapValue):pt(61005,{value:t})}function X_(t){switch(Ou(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=TS(t);return e?16+X_(e):16;case 5:return 2*t.stringValue.length;case 6:return ku(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+X_(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Bu(r.fields,(s,a)=>{i+=s.length+X_(a)}),i}(t.mapValue);default:throw pt(13486,{value:t})}}function bw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function RO(t){return!!t&&"integerValue"in t}function jI(t){return!!t&&"arrayValue"in t}function r$(t){return!!t&&"nullValue"in t}function i$(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Q_(t){return!!t&&"mapValue"in t}function rfe(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CG])===null||n===void 0?void 0:n.stringValue)===kG}function Ky(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ky(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ky(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ife(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nfe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.value=e}static empty(){return new Qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Q_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ky(n)}setAll(e){let n=mi.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=Ky(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Q_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Q_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Qi(Ky(this.value))}}function OG(t){const e=[];return Bu(t.fields,(n,r)=>{const i=new mi([n]);if(Q_(r)){const s=OG(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Ms(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new fi(e,0,wt.min(),wt.min(),wt.min(),Qi.empty(),0)}static newFoundDocument(e,n,r,i){return new fi(e,1,n,wt.min(),r,i,0)}static newNoDocument(e,n){return new fi(e,2,n,wt.min(),wt.min(),Qi.empty(),0)}static newUnknownDocument(e,n){return new fi(e,3,n,wt.min(),wt.min(),Qi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.position=e,this.inclusive=n}}function s$(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=ct.comparator(ct.fromName(a.referenceValue),n.key):r=zm(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function a$(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n="asc"){this.field=e,this.dir=n}}function sfe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{}class Mr extends RG{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ofe(e,n,r):n==="array-contains"?new ufe(e,r):n==="in"?new dfe(e,r):n==="not-in"?new ffe(e,r):n==="array-contains-any"?new hfe(e,r):new Mr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lfe(e,r):new cfe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zm(n,this.value)):n!==null&&Ou(this.value)===Ou(n)&&this.matchesComparison(zm(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ha extends RG{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ha(e,n)}matches(e){return PG(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function PG(t){return t.op==="and"}function IG(t){return afe(t)&&PG(t)}function afe(t){for(const e of t.filters)if(e instanceof Ha)return!1;return!0}function PO(t){if(t instanceof Mr)return t.field.canonicalString()+t.op.toString()+qm(t.value);if(IG(t))return t.filters.map(e=>PO(e)).join(",");{const e=t.filters.map(n=>PO(n)).join(",");return`${t.op}(${e})`}}function MG(t,e){return t instanceof Mr?function(r,i){return i instanceof Mr&&r.op===i.op&&r.field.isEqual(i.field)&&Wo(r.value,i.value)}(t,e):t instanceof Ha?function(r,i){return i instanceof Ha&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&MG(a,i.filters[l]),!0):!1}(t,e):void pt(19439)}function DG(t){return t instanceof Mr?function(n){return`${n.field.canonicalString()} ${n.op} ${qm(n.value)}`}(t):t instanceof Ha?function(n){return n.op.toString()+" {"+n.getFilters().map(DG).join(" ,")+"}"}(t):"Filter"}class ofe extends Mr{constructor(e,n,r){super(e,n,r),this.key=ct.fromName(r.referenceValue)}matches(e){const n=ct.comparator(e.key,this.key);return this.matchesComparison(n)}}class lfe extends Mr{constructor(e,n){super(e,"in",n),this.keys=LG("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cfe extends Mr{constructor(e,n){super(e,"not-in",n),this.keys=LG("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LG(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ct.fromName(r.referenceValue))}class ufe extends Mr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jI(n)&&Av(n.arrayValue,this.value)}}class dfe extends Mr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Av(this.value.arrayValue,n)}}class ffe extends Mr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Av(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Av(this.value.arrayValue,n)}}class hfe extends Mr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Av(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mfe{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Pe=null}}function o$(t,e=null,n=[],r=[],i=null,s=null,a=null){return new mfe(t,e,n,r,i,s,a)}function NI(t){const e=Tt(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>PO(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Yx(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qm(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qm(r)).join(",")),e.Pe=n}return e.Pe}function AI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sfe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MG(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a$(t.startAt,e.startAt)&&a$(t.endAt,e.endAt)}function IO(t){return ct.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function pfe(t,e,n,r,i,s,a,l){return new qf(t,e,n,r,i,s,a,l)}function CS(t){return new qf(t)}function l$(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EI(t){return t.collectionGroup!==null}function Nm(t){const e=Tt(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ri(mi.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Ev(s,r))}),n.has(mi.keyField().canonicalString())||e.Te.push(new Ev(mi.keyField(),r))}return e.Te}function $o(t){const e=Tt(t);return e.Ie||(e.Ie=gfe(e,Nm(t))),e.Ie}function gfe(t,e){if(t.limitType==="F")return o$(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ev(i.field,s)});const n=t.endAt?new Hm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hm(t.startAt.position,t.startAt.inclusive):null;return o$(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function MO(t,e){const n=t.filters.concat([e]);return new qf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _w(t,e,n){return new qf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kS(t,e){return AI($o(t),$o(e))&&t.limitType===e.limitType}function $G(t){return`${NI($o(t))}|lt:${t.limitType}`}function um(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DG(i)).join(", ")}]`),Yx(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>qm(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>qm(i)).join(",")),`Target(${r})`}($o(t))}; limitType=${t.limitType})`}function OS(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ct.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Nm(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,u){const d=s$(a,l,u);return a.inclusive?d<=0:d<0}(r.startAt,Nm(r),i)||r.endAt&&!function(a,l,u){const d=s$(a,l,u);return a.inclusive?d>=0:d>0}(r.endAt,Nm(r),i))}(t,e)}function yfe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VG(t){return(e,n)=>{let r=!1;for(const i of Nm(t)){const s=vfe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vfe(t,e,n){const r=t.field.isKeyField()?ct.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),d=l.data.field(s);return u!==null&&d!==null?zm(u,d):pt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return SG(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xfe=new dr(ct.comparator);function oc(){return xfe}const FG=new dr(ct.comparator);function Py(...t){let e=FG;for(const n of t)e=e.insert(n.key,n);return e}function BG(t){let e=FG;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qd(){return Xy()}function UG(){return Xy()}function Xy(){return new Hf(t=>t.toString(),(t,e)=>t.isEqual(e))}const bfe=new dr(ct.comparator),_fe=new ri(ct.comparator);function Jt(...t){let e=_fe;for(const n of t)e=e.add(n);return e}const wfe=new ri(Ut);function Sfe(){return wfe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vw(e)?"-0":e}}function zG(t){return{integerValue:""+t}}function jfe(t,e){return Qde(e)?zG(e):TI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this._=void 0}}function Nfe(t,e,n){return t instanceof Tv?function(i,s){const a={fields:{[AG]:{stringValue:NG},[TG]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ES(s)&&(s=TS(s)),s&&(a.fields[EG]=s),{mapValue:a}}(n,e):t instanceof Cv?HG(t,e):t instanceof kv?WG(t,e):function(i,s){const a=qG(i,s),l=c$(a)+c$(i.Ee);return RO(a)&&RO(i.Ee)?zG(l):TI(i.serializer,l)}(t,e)}function Afe(t,e,n){return t instanceof Cv?HG(t,e):t instanceof kv?WG(t,e):n}function qG(t,e){return t instanceof ww?function(r){return RO(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Tv extends RS{}class Cv extends RS{constructor(e){super(),this.elements=e}}function HG(t,e){const n=GG(e);for(const r of t.elements)n.some(i=>Wo(i,r))||n.push(r);return{arrayValue:{values:n}}}class kv extends RS{constructor(e){super(),this.elements=e}}function WG(t,e){let n=GG(e);for(const r of t.elements)n=n.filter(i=>!Wo(i,r));return{arrayValue:{values:n}}}class ww extends RS{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function c$(t){return br(t.integerValue||t.doubleValue)}function GG(t){return jI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Efe{constructor(e,n){this.field=e,this.transform=n}}function Tfe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Cv&&i instanceof Cv||r instanceof kv&&i instanceof kv?Bm(r.elements,i.elements,Wo):r instanceof ww&&i instanceof ww?Wo(r.Ee,i.Ee):r instanceof Tv&&i instanceof Tv}(t.transform,e.transform)}class Cfe{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Z_(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class PS{}function YG(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xx(t.key,Dr.none()):new Kx(t.key,t.data,Dr.none());{const n=t.data,r=Qi.empty();let i=new ri(mi.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Uu(t.key,r,new Ms(i.toArray()),Dr.none())}}function kfe(t,e,n){t instanceof Kx?function(i,s,a){const l=i.value.clone(),u=d$(i.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Uu?function(i,s,a){if(!Z_(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=d$(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(KG(i)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Qy(t,e,n,r){return t instanceof Kx?function(s,a,l,u){if(!Z_(s.precondition,a))return l;const d=s.value.clone(),h=f$(s.fieldTransforms,u,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Uu?function(s,a,l,u){if(!Z_(s.precondition,a))return l;const d=f$(s.fieldTransforms,u,a),h=a.data;return h.setAll(KG(s)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,a,l){return Z_(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Ofe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=qG(r.transform,i||null);s!=null&&(n===null&&(n=Qi.empty()),n.set(r.field,s))}return n||null}function u$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bm(r,i,(s,a)=>Tfe(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kx extends PS{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uu extends PS{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function KG(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function d$(t,e,n){const r=new Map;cn(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,Afe(a,l,n[i]))}return r}function f$(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,Nfe(s,a,e))}return r}class Xx extends PS{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XG extends PS{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rfe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&kfe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qy(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qy(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UG();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const u=YG(a,l);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(wt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Jt())}isEqual(e){return this.batchId===e.batchId&&Bm(this.mutations,e.mutations,(n,r)=>u$(n,r))&&Bm(this.baseMutations,e.baseMutations,(n,r)=>u$(n,r))}}class CI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){cn(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return bfe}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new CI(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pfe=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ife{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr,ln;function QG(t){switch(t){case ye.OK:return pt(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return pt(15467,{code:t})}}function ZG(t){if(t===void 0)return sc("GRPC error has no .code"),ye.UNKNOWN;switch(t){case Rr.OK:return ye.OK;case Rr.CANCELLED:return ye.CANCELLED;case Rr.UNKNOWN:return ye.UNKNOWN;case Rr.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Rr.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Rr.INTERNAL:return ye.INTERNAL;case Rr.UNAVAILABLE:return ye.UNAVAILABLE;case Rr.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Rr.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Rr.NOT_FOUND:return ye.NOT_FOUND;case Rr.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Rr.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Rr.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Rr.ABORTED:return ye.ABORTED;case Rr.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Rr.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Rr.DATA_LOSS:return ye.DATA_LOSS;default:return pt(39323,{code:t})}}(ln=Rr||(Rr={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mfe=new bu([4294967295,4294967295],0);function h$(t){const e=vG().encode(t),n=new cG;return n.update(e),new Uint8Array(n.digest())}function m$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new bu([n,r],0),new bu([i,s],0)]}class kI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Iy(`Invalid padding: ${n}`);if(r<0)throw new Iy(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Iy(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Iy(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=bu.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(bu.fromNumber(r)));return i.compare(Mfe)===1&&(i=new bu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=h$(e),[r,i]=m$(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(r,i,s);if(!this.ye(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new kI(s,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.fe===0)return;const n=h$(e),[r,i]=m$(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(r,i,s);this.we(a)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Iy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Qx.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new IS(wt.min(),i,new dr(Ut),oc(),Jt())}}class Qx{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qx(r,n,Jt(),Jt(),Jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class JG{constructor(e,n){this.targetId=e,this.De=n}}class eY{constructor(e,n,r=yi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class p${constructor(){this.ve=0,this.Ce=g$(),this.Fe=yi.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Jt(),n=Jt(),r=Jt();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pt(38017,{changeType:s})}}),new Qx(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=g$()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,cn(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Dfe{constructor(e){this.We=e,this.Ge=new Map,this.ze=oc(),this.je=K0(),this.Je=K0(),this.He=new dr(Ut)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:pt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(IO(s))if(r===0){const a=new ct(s.path);this.Xe(n,a,fi.newNoDocument(a,wt.min()))}else cn(r===1,20013,{expectedCount:r});else{const a=this.ot(n);if(a!==r){const l=this._t(e),u=l?this.ut(l,e,a):1;if(u!==0){this.rt(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,d)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=ku(r).toUint8Array()}catch(u){if(u instanceof jG)return ac("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new kI(a,i,s)}catch(u){return ac(u instanceof Iy?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.fe===0?null:l}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.We.lt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,a)=>{const l=this.st(a);if(l){if(s.current&&IO(l.target)){const u=new ct(l.target.path);this.Tt(u).has(a)||this.It(a,u)||this.Xe(a,u,fi.newNoDocument(u,e))}s.Ne&&(n.set(a,s.Le()),s.ke())}});let r=Jt();this.Je.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const d=this.st(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ze.forEach((s,a)=>a.setReadTime(e));const i=new IS(e,n,this.He,this.ze,r);return this.ze=oc(),this.je=K0(),this.Je=K0(),this.He=new dr(Ut),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new p$,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new ri(Ut),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new ri(Ut),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Qe("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new p$),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function K0(){return new dr(ct.comparator)}function g$(){return new dr(ct.comparator)}const Lfe={asc:"ASCENDING",desc:"DESCENDING"},$fe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vfe={and:"AND",or:"OR"};class Ffe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function DO(t,e){return t.useProto3Json||Yx(e)?e:{value:e}}function Sw(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tY(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Bfe(t,e){return Sw(t,e.toTimestamp())}function Ls(t){return cn(!!t,49232),wt.fromTimestamp(function(n){const r=Cu(n);return new $n(r.seconds,r.nanos)}(t))}function OI(t,e){return LO(t,e).canonicalString()}function LO(t,e){const n=function(i){return new On(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nY(t){const e=On.fromString(t);return cn(lY(e),10190,{key:e.toString()}),e}function jw(t,e){return OI(t.databaseId,e.path)}function Zy(t,e){const n=nY(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ct(iY(n))}function rY(t,e){return OI(t.databaseId,e)}function Ufe(t){const e=nY(t);return e.length===4?On.emptyPath():iY(e)}function $O(t){return new On(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iY(t){return cn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function y$(t,e,n){return{name:jw(t,e),fields:n.value.mapValue.fields}}function zfe(t,e){return"found"in e?function(r,i){cn(!!i.found,43571),i.found.name,i.found.updateTime;const s=Zy(r,i.found.name),a=Ls(i.found.updateTime),l=i.found.createTime?Ls(i.found.createTime):wt.min(),u=new Qi({mapValue:{fields:i.found.fields}});return fi.newFoundDocument(s,a,l,u)}(t,e):"missing"in e?function(r,i){cn(!!i.missing,3894),cn(!!i.readTime,22933);const s=Zy(r,i.missing),a=Ls(i.readTime);return fi.newNoDocument(s,a)}(t,e):pt(7234,{result:e})}function qfe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:pt(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,h){return d.useProto3Json?(cn(h===void 0||typeof h=="string",58123),yi.fromBase64String(h||"")):(cn(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),yi.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const h=d.code===void 0?ye.UNKNOWN:ZG(d.code);return new Pe(h,d.message||"")}(a);n=new eY(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zy(t,r.document.name),s=Ls(r.document.updateTime),a=r.document.createTime?Ls(r.document.createTime):wt.min(),l=new Qi({mapValue:{fields:r.document.fields}}),u=fi.newFoundDocument(i,s,a,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new J_(d,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Zy(t,r.document),s=r.readTime?Ls(r.readTime):wt.min(),a=fi.newNoDocument(i,s),l=r.removedTargetIds||[];n=new J_([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Zy(t,r.document),s=r.removedTargetIds||[];n=new J_([],s,i,null)}else{if(!("filter"in e))return pt(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new Ife(i,s),l=r.targetId;n=new JG(l,a)}}return n}function sY(t,e){let n;if(e instanceof Kx)n={update:y$(t,e.key,e.value)};else if(e instanceof Xx)n={delete:jw(t,e.key)};else if(e instanceof Uu)n={update:y$(t,e.key,e.data),updateMask:Jfe(e.fieldMask)};else{if(!(e instanceof XG))return pt(16599,{Rt:e.type});n={verify:jw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const l=a.transform;if(l instanceof Tv)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Cv)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof kv)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ww)return{fieldPath:a.field.canonicalString(),increment:l.Ee};throw pt(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Bfe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pt(27497)}(t,e.precondition)),n}function Hfe(t,e){return t&&t.length>0?(cn(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?Ls(i.updateTime):Ls(s);return a.isEqual(wt.min())&&(a=Ls(s)),new Cfe(a,i.transformResults||[])}(n,e))):[]}function Wfe(t,e){return{documents:[rY(t,e.path)]}}function Gfe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rY(t,i);const s=function(d){if(d.length!==0)return oY(Ha.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(h=>function(g){return{field:dm(g.field),direction:Xfe(g.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=DO(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{Vt:n,parent:i}}function Yfe(t){let e=Ufe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){cn(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(m){const g=aY(m);return g instanceof Ha&&IG(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(g=>function(b){return new Ev(fm(b.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,Yx(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,v=m.values||[];return new Hm(v,g)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const g=!m.before,v=m.values||[];return new Hm(v,g)}(n.endAt)),pfe(e,i,a,s,l,"F",u,d)}function Kfe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aY(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fm(n.unaryFilter.field);return Mr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fm(n.unaryFilter.field);return Mr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fm(n.unaryFilter.field);return Mr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=fm(n.unaryFilter.field);return Mr.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(t):t.fieldFilter!==void 0?function(n){return Mr.create(fm(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ha.create(n.compositeFilter.filters.map(r=>aY(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(n.compositeFilter.op))}(t):pt(30097,{filter:t})}function Xfe(t){return Lfe[t]}function Qfe(t){return $fe[t]}function Zfe(t){return Vfe[t]}function dm(t){return{fieldPath:t.canonicalString()}}function fm(t){return mi.fromServerFormat(t.fieldPath)}function oY(t){return t instanceof Mr?function(n){if(n.op==="=="){if(i$(n.value))return{unaryFilter:{field:dm(n.field),op:"IS_NAN"}};if(r$(n.value))return{unaryFilter:{field:dm(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i$(n.value))return{unaryFilter:{field:dm(n.field),op:"IS_NOT_NAN"}};if(r$(n.value))return{unaryFilter:{field:dm(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dm(n.field),op:Qfe(n.op),value:n.value}}}(t):t instanceof Ha?function(n){const r=n.getFilters().map(i=>oY(i));return r.length===1?r[0]:{compositeFilter:{op:Zfe(n.op),filters:r}}}(t):pt(54877,{filter:t})}function Jfe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lY(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,r,i,s=wt.min(),a=wt.min(),l=yi.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ehe{constructor(e){this.gt=e}}function the(t){const e=Yfe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_w(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nhe{constructor(){this.Dn=new rhe}addToCollectionParentIndex(e,n){return this.Dn.add(n),Ee.resolve()}getCollectionParents(e,n){return Ee.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Ee.resolve()}deleteFieldIndex(e,n){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,n){return Ee.resolve()}getDocumentsMatchingTarget(e,n){return Ee.resolve(null)}getIndexType(e,n){return Ee.resolve(0)}getFieldIndexes(e,n){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,n){return Ee.resolve(Tu.min())}getMinOffsetFromCollectionGroup(e,n){return Ee.resolve(Tu.min())}updateCollectionGroup(e,n,r){return Ee.resolve()}updateIndexEntries(e,n){return Ee.resolve()}}class rhe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ri(On.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ri(On.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cY=41943040;class os{static withCacheSize(e){return new os(e,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os.DEFAULT_COLLECTION_PERCENTILE=10,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,os.DEFAULT=new os(cY,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),os.DISABLED=new os(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Wm(0)}static ur(){return new Wm(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$="LruGarbageCollector",uY=1048576;function b$([t,e],[n,r]){const i=Ut(t,n);return i===0?Ut(e,r):i}class ihe{constructor(e){this.Tr=e,this.buffer=new ri(b$),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();b$(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class she{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Qe(x$,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fp(n)?Qe(x$,"Ignoring IndexedDB error during garbage collection: ",n):await Vp(n)}await this.Rr(3e5)})}}class ahe{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ee.resolve(AS.ue);const r=new ihe(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(v$)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v$):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,a,l,u,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),cm()<=Qt.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(d-u)+`ms
Total Duration: ${d-h}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function ohe(t,e){return new ahe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lhe{constructor(){this.changes=new Hf(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class che{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uhe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Qy(r.mutation,i,Ms.empty(),$n.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Jt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Jt()){const i=Qd();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Py();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Qd();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Jt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=oc();const a=Xy(),l=function(){return Xy()}();return n.forEach((u,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof Uu)?s=s.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),Qy(h.mutation,d,h.mutation.getFieldMask(),$n.now())):a.set(d.key,Ms.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,h)=>a.set(d,h)),n.forEach((d,h)=>{var m;return l.set(d,new che(h,(m=a.get(d))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Xy();let i=new dr((a,l)=>a-l),s=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let h=r.get(u)||Ms.empty();h=l.applyToLocalView(d,h),r.set(u,h);const m=(i.get(l.batchId)||Jt()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,h=u.value,m=UG();h.forEach(g=>{if(!s.has(g)){const v=YG(n.get(g),r.get(g));v!==null&&m.set(g,v),s=s.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return Ee.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ct.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ee.resolve(Qd());let l=Sv,u=s;return a.next(d=>Ee.forEach(d,(h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(h)?Ee.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,Jt())).next(h=>({batchId:l,changes:BG(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ct(n)).next(r=>{let i=Py();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Py();return this.indexManager.getCollectionParents(e,s).next(l=>Ee.forEach(l,u=>{const d=function(m,g){return new qf(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(h=>{h.forEach((m,g)=>{a=a.insert(m,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((u,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,fi.newInvalidDocument(h)))});let l=Py();return a.forEach((u,d)=>{const h=s.get(u);h!==void 0&&Qy(h.mutation,d,Ms.empty(),$n.now()),OS(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dhe{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Ee.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ls(i.createTime)}}(n)),Ee.resolve()}getNamedQuery(e,n){return Ee.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:the(i.bundledQuery),readTime:Ls(i.readTime)}}(n)),Ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fhe{constructor(){this.overlays=new dr(ct.comparator),this.kr=new Map}getOverlay(e,n){return Ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qd();return Ee.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),Ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),Ee.resolve()}getOverlaysForCollection(e,n,r){const i=Qd(),s=n.length+1,a=new ct(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new dr((d,h)=>d-h);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=s.get(d.largestBatchId);h===null&&(h=Qd(),s=s.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=Qd(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=i)););return Ee.resolve(l)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Pfe(n,r));let s=this.kr.get(n);s===void 0&&(s=Jt(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hhe{constructor(){this.sessionToken=yi.EMPTY_BYTE_STRING}getSessionToken(e){return Ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.qr=new ri(ui.Qr),this.$r=new ri(ui.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new ui(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new ui(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new ct(new On([])),r=new ui(n,e),i=new ui(n,e+1),s=[];return this.$r.forEachInRange([r,i],a=>{this.Wr(a),s.push(a.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ct(new On([])),r=new ui(n,e),i=new ui(n,e+1);let s=Jt();return this.$r.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new ui(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ui{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ct.comparator(e.key,n.key)||Ut(e.Hr,n.Hr)}static Ur(e,n){return Ut(e.Hr,n.Hr)||ct.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mhe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new ri(ui.Qr)}checkEmpty(e){return Ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Rfe(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Yr=this.Yr.add(new ui(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Ee.resolve(a)}lookupMutationBatch(e,n){return Ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return Ee.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(this.mutationQueue.length===0?SI:this.er-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ui(n,0),i=new ui(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],a=>{const l=this.Zr(a.Hr);s.push(l)}),Ee.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ri(Ut);return n.forEach(i=>{const s=new ui(i,0),a=new ui(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,a],l=>{r=r.add(l.Hr)})}),Ee.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ct.isDocumentKey(s)||(s=s.child(""));const a=new ui(new ct(s),0);let l=new ri(Ut);return this.Yr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.Hr)),!0)},a),Ee.resolve(this.ei(l))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){cn(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Ee.forEach(n.mutations,i=>{const s=new ui(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new ui(n,0),i=this.Yr.firstAfterOrEqual(r);return Ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ee.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class phe{constructor(e){this.ni=e,this.docs=function(){return new dr(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ee.resolve(r?r.document.mutableCopy():fi.newInvalidDocument(n))}getEntries(e,n){let r=oc();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():fi.newInvalidDocument(i))}),Ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=oc();const a=n.path,l=new ct(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:h}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||Gde(Wde(h),r)<=0||(i.has(h.key)||OS(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return Ee.resolve(s)}getAllFromCollectionGroup(e,n,r,i){pt(9500)}ri(e,n){return Ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ghe(this)}getSize(e){return Ee.resolve(this.size)}}class ghe extends lhe{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Ee.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yhe{constructor(e){this.persistence=e,this.ii=new Hf(n=>NI(n),AI),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.si=0,this.oi=new RI,this.targetCount=0,this._i=Wm.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Ee.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Wm(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Ee.resolve()}updateTargetData(e,n){return this.hr(n),Ee.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ii.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),Ee.waitFor(s).next(()=>i)}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Ee.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Ee.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Ee.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Ee.resolve(r)}containsKey(e,n){return Ee.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(e,n){this.ai={},this.overlays={},this.ui=new AS(0),this.ci=!1,this.ci=!0,this.li=new hhe,this.referenceDelegate=e(this),this.hi=new yhe(this),this.indexManager=new nhe,this.remoteDocumentCache=function(i){return new phe(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new ehe(n),this.Ti=new dhe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fhe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new mhe(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){Qe("MemoryPersistence","Starting transaction:",e);const i=new vhe(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return Ee.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class vhe extends Kde{constructor(e){super(),this.currentSequenceNumber=e}}class PI{constructor(e){this.persistence=e,this.Ai=new RI,this.Ri=null}static Vi(e){return new PI(e)}get mi(){if(this.Ri)return this.Ri;throw pt(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Ee.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Ee.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Ee.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.mi,r=>{const i=ct.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,wt.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Ee.or([()=>Ee.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Nw{constructor(e,n){this.persistence=e,this.gi=new Hf(r=>Zde(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ohe(this,n)}static Vi(e,n){return new Nw(e,n)}Ii(){}di(e){return Ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Ee.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?Ee.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,a=>this.Sr(e,a,n).next(l=>{l||(r++,s.removeEntry(a,wt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Ee.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Ee.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Ee.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=X_(e.data.value)),n}Sr(e,n,r){return Ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return Ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Jt(),i=Jt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new II(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xhe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bhe{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return sle()?8:Xde(Ui())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new xhe;return this.ws(e,n,a).next(l=>{if(s.result=l,this.Rs)return this.Ss(e,n,a,l.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(cm()<=Qt.DEBUG&&Qe("QueryEngine","SDK will not create cache indexes for query:",um(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ee.resolve()):(cm()<=Qt.DEBUG&&Qe("QueryEngine","Query:",um(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(cm()<=Qt.DEBUG&&Qe("QueryEngine","The SDK decides to create cache indexes for query:",um(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$o(n))):Ee.resolve())}ps(e,n){if(l$(n))return Ee.resolve(null);let r=$o(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=_w(n,null,"F"),r=$o(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Jt(...s);return this.gs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.bs(n,l);return this.Ds(n,d,a,u.readTime)?this.ps(e,_w(n,null,"F")):this.vs(e,d,n,u)}))})))}ys(e,n,r,i){return l$(n)||i.isEqual(wt.min())?Ee.resolve(null):this.gs.getDocuments(e,r).next(s=>{const a=this.bs(n,s);return this.Ds(n,a,r,i)?Ee.resolve(null):(cm()<=Qt.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),um(n)),this.vs(e,a,n,Hde(i,Sv)).next(l=>l))})}bs(e,n){let r=new ri(VG(e));return n.forEach((i,s)=>{OS(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return cm()<=Qt.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",um(n)),this.gs.getDocumentsMatchingQuery(e,n,Tu.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="LocalStore",_he=3e8;class whe{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new dr(Ut),this.Ms=new Hf(s=>NI(s),AI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uhe(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function She(t,e,n,r){return new whe(t,e,n,r)}async function fY(t,e){const n=Tt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let u=Jt();for(const d of i){a.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}for(const d of s){l.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(d=>({Bs:d,removedBatchIds:a,addedBatchIds:l}))})})}function jhe(t,e){const n=Tt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(l,u,d,h){const m=d.batch,g=m.keys();let v=Ee.resolve();return g.forEach(b=>{v=v.next(()=>h.getEntry(u,b)).next(_=>{const x=d.docVersions.get(b);cn(x!==null,48541),_.version.compareTo(x)<0&&(m.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),h.addEntry(_)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Jt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function hY(t){const e=Tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function Nhe(t,e){const n=Tt(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const l=[];e.targetChanges.forEach((h,m)=>{const g=i.get(m);if(!g)return;l.push(n.hi.removeMatchingKeys(s,h.removedDocuments,m).next(()=>n.hi.addMatchingKeys(s,h.addedDocuments,m)));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(yi.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(m,v),function(_,x,j){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=_he?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(g,v,h)&&l.push(n.hi.updateTargetData(s,v))});let u=oc(),d=Jt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),l.push(Ahe(s,a,e.documentUpdates).next(h=>{u=h.Ls,d=h.ks})),!r.isEqual(wt.min())){const h=n.hi.getLastRemoteSnapshotVersion(s).next(m=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(h)}return Ee.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.Fs=i,s))}function Ahe(t,e,n){let r=Jt(),i=Jt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=oc();return n.forEach((l,u)=>{const d=s.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(wt.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):Qe(MI,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{Ls:a,ks:i}})}function Ehe(t,e){const n=Tt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=SI),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function The(t,e){const n=Tt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,Ee.resolve(i)):n.hi.allocateTargetId(r).next(a=>(i=new cu(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function VO(t,e,n){const r=Tt(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Fp(a))throw a;Qe(MI,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function _$(t,e,n){const r=Tt(t);let i=wt.min(),s=Jt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,h){const m=Tt(u),g=m.Ms.get(h);return g!==void 0?Ee.resolve(m.Fs.get(g)):m.hi.getTargetData(d,h)}(r,a,$o(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:wt.min(),n?s:Jt())).next(l=>(Che(r,yfe(e),l),{documents:l,qs:s})))}function Che(t,e,n){let r=t.xs.get(e)||wt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class w${constructor(){this.activeTargetIds=Sfe()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class khe{constructor(){this.Fo=new w$,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new w$,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ohe{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="ConnectivityMonitor";class j${constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Qe(S$,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Qe(S$,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X0=null;function FO(){return X0===null?X0=function(){return 268435456+Math.round(2147483648*Math.random())}():X0++,"0x"+X0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="RestConnection",Rhe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Phe{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Nv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const a=FO(),l=this.Go(e,n.toUriEncodedString());Qe(NE,`Sending RPC '${e}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,s);const{host:d}=new URL(l),h=pc(d);return this.jo(e,l,u,r,h).then(m=>(Qe(NE,`Received RPC '${e}' ${a}: `,m),m),m=>{throw ac(NE,`RPC '${e}' ${a} failed with error: `,m,"url: ",l,"request:",r),m})}Jo(e,n,r,i,s,a){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$p}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=Rhe[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ihe{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="WebChannelConnection";class Mhe extends Phe{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const a=FO();return new Promise((l,u)=>{const d=new uG;d.setWithCredentials(!0),d.listenOnce(dG.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case K_.NO_ERROR:const m=d.getResponseJson();Qe(Ii,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case K_.TIMEOUT:Qe(Ii,`RPC '${e}' ${a} timed out`),u(new Pe(ye.DEADLINE_EXCEEDED,"Request time out"));break;case K_.HTTP_ERROR:const g=d.getStatus();if(Qe(Ii,`RPC '${e}' ${a} failed with status:`,g,"response text:",d.getResponseText()),g>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const _=function(j){const A=j.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(A)>=0?A:ye.UNKNOWN}(b.status);u(new Pe(_,b.message))}else u(new Pe(ye.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Pe(ye.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{c_:e,streamId:a,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{Qe(Ii,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(i);Qe(Ii,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",h,r,15)})}P_(e,n,r){const i=FO(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=mG(),l=hG(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");Qe(Ii,`Creating RPC '${e}' stream ${i}: ${h}`,u);const m=a.createWebChannel(h,u);this.T_(m);let g=!1,v=!1;const b=new Ihe({Ho:x=>{v?Qe(Ii,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||(Qe(Ii,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),Qe(Ii,`RPC '${e}' stream ${i} sending:`,x),m.send(x))},Yo:()=>m.close()}),_=(x,j,A)=>{x.listen(j,C=>{try{A(C)}catch(P){setTimeout(()=>{throw P},0)}})};return _(m,Ry.EventType.OPEN,()=>{v||(Qe(Ii,`RPC '${e}' stream ${i} transport opened.`),b.s_())}),_(m,Ry.EventType.CLOSE,()=>{v||(v=!0,Qe(Ii,`RPC '${e}' stream ${i} transport closed`),b.__(),this.I_(m))}),_(m,Ry.EventType.ERROR,x=>{v||(v=!0,ac(Ii,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),b.__(new Pe(ye.UNAVAILABLE,"The operation could not be completed")))}),_(m,Ry.EventType.MESSAGE,x=>{var j;if(!v){const A=x.data[0];cn(!!A,16349);const C=A,P=(C==null?void 0:C.error)||((j=C[0])===null||j===void 0?void 0:j.error);if(P){Qe(Ii,`RPC '${e}' stream ${i} received error:`,P);const T=P.status;let I=function(O){const D=Rr[O];if(D!==void 0)return ZG(D)}(T),E=P.message;I===void 0&&(I=ye.INTERNAL,E="Unknown error status: "+T+" with message "+P.message),v=!0,b.__(new Pe(I,E)),m.close()}else Qe(Ii,`RPC '${e}' stream ${i} received:`,A),b.a_(A)}}),_(l,fG.STAT_EVENT,x=>{x.stat===CO.PROXY?Qe(Ii,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===CO.NOPROXY&&Qe(Ii,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function AE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t){return new Ffe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&Qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$="PersistentStream";class mY{constructor(e,n,r,i,s,a,l,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new DI(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(sc(n.toString()),sc("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new Pe(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Qe(N$,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Qe(N$,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dhe extends mY{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=qfe(this.serializer,e),r=function(s){if(!("targetChange"in s))return wt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?wt.min():a.readTime?Ls(a.readTime):wt.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=$O(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=IO(u)?{documents:Wfe(s,u)}:{query:Gfe(s,u).Vt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=tY(s,a.resumeToken);const d=DO(s,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(wt.min())>0){l.readTime=Sw(s,a.snapshotVersion.toTimestamp());const d=DO(s,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=Kfe(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=$O(this.serializer),n.removeTarget=e,this.k_(n)}}class Lhe extends mY{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return cn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,cn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){cn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=Hfe(e.writeResults,e.commitTime),r=Ls(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=$O(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sY(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $he{}class Vhe extends $he{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Pe(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,LO(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(ye.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Jo(e,LO(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pe(ye.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Fhe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(sc(n),this._a=!1):Qe("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="RemoteStore";class Bhe{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(a=>{r.enqueueAndForget(async()=>{Wf(this)&&(Qe(vf,"Restarting streams for network reachability change."),await async function(u){const d=Tt(u);d.Ia.add(4),await Zx(d),d.Aa.set("Unknown"),d.Ia.delete(4),await DS(d)}(this))})}),this.Aa=new Fhe(r,i)}}async function DS(t){if(Wf(t))for(const e of t.da)await e(!0)}async function Zx(t){for(const e of t.da)await e(!1)}function pY(t,e){const n=Tt(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),FI(n)?VI(n):Bp(n).x_()&&$I(n,e))}function LI(t,e){const n=Tt(t),r=Bp(n);n.Ta.delete(e),r.x_()&&gY(n,e),n.Ta.size===0&&(r.x_()?r.B_():Wf(n)&&n.Aa.set("Unknown"))}function $I(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bp(t).H_(e)}function gY(t,e){t.Ra.$e(e),Bp(t).Y_(e)}function VI(t){t.Ra=new Dfe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Bp(t).start(),t.Aa.aa()}function FI(t){return Wf(t)&&!Bp(t).M_()&&t.Ta.size>0}function Wf(t){return Tt(t).Ia.size===0}function yY(t){t.Ra=void 0}async function Uhe(t){t.Aa.set("Online")}async function zhe(t){t.Ta.forEach((e,n)=>{$I(t,e)})}async function qhe(t,e){yY(t),FI(t)?(t.Aa.la(e),VI(t)):t.Aa.set("Unknown")}async function Hhe(t,e,n){if(t.Aa.set("Online"),e instanceof eY&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ta.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ta.delete(l),i.Ra.removeTarget(l))}(t,e)}catch(r){Qe(vf,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Aw(t,r)}else if(e instanceof J_?t.Ra.Ye(e):e instanceof JG?t.Ra.it(e):t.Ra.et(e),!n.isEqual(wt.min()))try{const r=await hY(t.localStore);n.compareTo(r)>=0&&await function(s,a){const l=s.Ra.Pt(a);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.Ta.get(d);h&&s.Ta.set(d,h.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,d)=>{const h=s.Ta.get(u);if(!h)return;s.Ta.set(u,h.withResumeToken(yi.EMPTY_BYTE_STRING,h.snapshotVersion)),gY(s,u);const m=new cu(h.target,u,d,h.sequenceNumber);$I(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Qe(vf,"Failed to raise snapshot:",r),await Aw(t,r)}}async function Aw(t,e,n){if(!Fp(e))throw e;t.Ia.add(1),await Zx(t),t.Aa.set("Offline"),n||(n=()=>hY(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Qe(vf,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await DS(t)})}function vY(t,e){return e().catch(n=>Aw(t,n,e))}async function LS(t){const e=Tt(t),n=Ru(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:SI;for(;Whe(e);)try{const i=await Ehe(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Ghe(e,i)}catch(i){await Aw(e,i)}xY(e)&&bY(e)}function Whe(t){return Wf(t)&&t.Pa.length<10}function Ghe(t,e){t.Pa.push(e);const n=Ru(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function xY(t){return Wf(t)&&!Ru(t).M_()&&t.Pa.length>0}function bY(t){Ru(t).start()}async function Yhe(t){Ru(t).na()}async function Khe(t){const e=Ru(t);for(const n of t.Pa)e.X_(n.mutations)}async function Xhe(t,e,n){const r=t.Pa.shift(),i=CI.from(r,e,n);await vY(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await LS(t)}async function Qhe(t,e){e&&Ru(t).Z_&&await async function(r,i){if(function(a){return QG(a)&&a!==ye.ABORTED}(i.code)){const s=r.Pa.shift();Ru(r).N_(),await vY(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await LS(r)}}(t,e),xY(t)&&bY(t)}async function A$(t,e){const n=Tt(t);n.asyncQueue.verifyOperationInProgress(),Qe(vf,"RemoteStore received new credentials");const r=Wf(n);n.Ia.add(3),await Zx(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await DS(n)}async function Zhe(t,e){const n=Tt(t);e?(n.Ia.delete(2),await DS(n)):e||(n.Ia.add(2),await Zx(n),n.Aa.set("Unknown"))}function Bp(t){return t.Va||(t.Va=function(n,r,i){const s=Tt(n);return s.ia(),new Dhe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:Uhe.bind(null,t),e_:zhe.bind(null,t),n_:qhe.bind(null,t),J_:Hhe.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),FI(t)?VI(t):t.Aa.set("Unknown")):(await t.Va.stop(),yY(t))})),t.Va}function Ru(t){return t.ma||(t.ma=function(n,r,i){const s=Tt(n);return s.ia(),new Lhe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Yhe.bind(null,t),n_:Qhe.bind(null,t),ea:Khe.bind(null,t),ta:Xhe.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await LS(t)):(await t.ma.stop(),t.Pa.length>0&&(Qe(vf,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new BI(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function UI(t,e){if(sc("AsyncQueue",`${e}: ${t}`),Fp(t))return new Pe(ye.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{static emptySet(e){return new Am(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ct.comparator(n.key,r.key):(n,r)=>ct.comparator(n.key,r.key),this.keyedMap=Py(),this.sortedSet=new dr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Am)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Am;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(){this.fa=new dr(ct.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):pt(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Gm{constructor(e,n,r,i,s,a,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Gm(e,n,Am.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jhe{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class eme{constructor(){this.queries=T$(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Tt(n),s=i.queries;i.queries=T$(),s.forEach((a,l)=>{for(const u of l.wa)u.onError(r)})})(this,new Pe(ye.ABORTED,"Firestore shutting down"))}}function T$(){return new Hf(t=>$G(t),kS)}async function zI(t,e){const n=Tt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new Jhe,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=UI(a,`Initialization of query '${um(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&HI(n)}async function qI(t,e){const n=Tt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.wa.indexOf(e);a>=0&&(s.wa.splice(a,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tme(t,e){const n=Tt(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.wa)l.Ca(i)&&(r=!0);a.ya=i}}r&&HI(n)}function nme(t,e,n){const r=Tt(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function HI(t){t.Da.forEach(e=>{e.next()})}var BO,C$;(C$=BO||(BO={})).Fa="default",C$.Cache="cache";class WI{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Gm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Gm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==BO.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y{constructor(e){this.key=e}}class wY{constructor(e){this.key=e}}class rme{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Jt(),this.mutatedKeys=Jt(),this.Xa=VG(e),this.eu=new Am(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new E$,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const g=i.get(h),v=OS(this.query,m)?m:null,b=!!g&&this.mutatedKeys.has(g.key),_=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let x=!1;g&&v?g.data.isEqual(v.data)?b!==_&&(r.track({type:3,doc:v}),x=!0):this.iu(g,v)||(r.track({type:2,doc:v}),x=!0,(u&&this.Xa(v,u)>0||d&&this.Xa(v,d)<0)&&(l=!0)):!g&&v?(r.track({type:0,doc:v}),x=!0):g&&!v&&(r.track({type:1,doc:g}),x=!0,(u||d)&&(l=!0)),x&&(v?(a=a.add(v),s=_?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{eu:a,ru:r,Ds:l,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((h,m)=>function(v,b){const _=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{At:x})}};return _(v)-_(b)}(h.type,m.type)||this.Xa(h.doc,m.doc)),this.su(r),i=i!=null&&i;const l=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,d=u!==this.Ya;return this.Ya=u,a.length!==0||d?{snapshot:new Gm(this.query,e.eu,s,a,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new E$,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Jt(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new wY(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new _Y(r))}),n}uu(e){this.Ha=e.qs,this.Za=Jt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Gm.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const GI="SyncEngine";class ime{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sme{constructor(e){this.key=e,this.lu=!1}}class ame{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new Hf(l=>$G(l),kS),this.Tu=new Map,this.Iu=new Set,this.du=new dr(ct.comparator),this.Eu=new Map,this.Au=new RI,this.Ru={},this.Vu=new Map,this.mu=Wm.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function ome(t,e,n=!0){const r=TY(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await SY(r,e,n,!0),i}async function lme(t,e){const n=TY(t);await SY(n,e,!0,!1)}async function SY(t,e,n,r){const i=await The(t.localStore,$o(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await cme(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&pY(t.remoteStore,i),l}async function cme(t,e,n,r,i){t.gu=(m,g,v)=>async function(_,x,j,A){let C=x.view.nu(j);C.Ds&&(C=await _$(_.localStore,x.query,!1).then(({documents:E})=>x.view.nu(E,C)));const P=A&&A.targetChanges.get(x.targetId),T=A&&A.targetMismatches.get(x.targetId)!=null,I=x.view.applyChanges(C,_.isPrimaryClient,P,T);return O$(_,x.targetId,I._u),I.snapshot}(t,m,g,v);const s=await _$(t.localStore,e,!0),a=new rme(e,s.qs),l=a.nu(s.documents),u=Qx.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(l,t.isPrimaryClient,u);O$(t,n,d._u);const h=new ime(e,n,a);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),d.snapshot}async function ume(t,e,n){const r=Tt(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(a=>!kS(a,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await VO(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&LI(r.remoteStore,i.targetId),UO(r,i.targetId)}).catch(Vp)):(UO(r,i.targetId),await VO(r.localStore,i.targetId,!0))}async function dme(t,e){const n=Tt(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),LI(n.remoteStore,r.targetId))}async function fme(t,e,n){const r=xme(t);try{const i=await function(a,l){const u=Tt(a),d=$n.now(),h=l.reduce((v,b)=>v.add(b.key),Jt());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=oc(),_=Jt();return u.Os.getEntries(v,h).next(x=>{b=x,b.forEach((j,A)=>{A.isValidDocument()||(_=_.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,b)).next(x=>{m=x;const j=[];for(const A of l){const C=Ofe(A,m.get(A.key).overlayedDocument);C!=null&&j.push(new Uu(A.key,C,OG(C.value.mapValue),Dr.exists(!0)))}return u.mutationQueue.addMutationBatch(v,d,j,l)}).next(x=>{g=x;const j=x.applyToLocalDocumentSet(m,_);return u.documentOverlayCache.saveOverlays(v,x.batchId,j)})}).then(()=>({batchId:g.batchId,changes:BG(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,u){let d=a.Ru[a.currentUser.toKey()];d||(d=new dr(Ut)),d=d.insert(l,u),a.Ru[a.currentUser.toKey()]=d}(r,i.batchId,n),await Jx(r,i.changes),await LS(r.remoteStore)}catch(i){const s=UI(i,"Failed to persist write");n.reject(s)}}async function jY(t,e){const n=Tt(t);try{const r=await Nhe(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Eu.get(s);a&&(cn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.lu=!0:i.modifiedDocuments.size>0?cn(a.lu,14607):i.removedDocuments.size>0&&(cn(a.lu,42227),a.lu=!1))}),await Jx(n,r,e)}catch(r){await Vp(r)}}function k$(t,e,n){const r=Tt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const u=Tt(a);u.onlineState=l;let d=!1;u.queries.forEach((h,m)=>{for(const g of m.wa)g.va(l)&&(d=!0)}),d&&HI(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hme(t,e,n){const r=Tt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let a=new dr(ct.comparator);a=a.insert(s,fi.newNoDocument(s,wt.min()));const l=Jt().add(s),u=new IS(wt.min(),new Map,new dr(Ut),a,l);await jY(r,u),r.du=r.du.remove(s),r.Eu.delete(e),YI(r)}else await VO(r.localStore,e,!1).then(()=>UO(r,e,n)).catch(Vp)}async function mme(t,e){const n=Tt(t),r=e.batch.batchId;try{const i=await jhe(n.localStore,e);AY(n,r,null),NY(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jx(n,i)}catch(i){await Vp(i)}}async function pme(t,e,n){const r=Tt(t);try{const i=await function(a,l){const u=Tt(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return u.mutationQueue.lookupMutationBatch(d,l).next(m=>(cn(m!==null,37113),h=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>u.localDocuments.getDocuments(d,h))})}(r.localStore,e);AY(r,e,n),NY(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jx(r,i)}catch(i){await Vp(i)}}function NY(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function AY(t,e,n){const r=Tt(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function UO(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||EY(t,r)})}function EY(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(LI(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),YI(t))}function O$(t,e,n){for(const r of n)r instanceof _Y?(t.Au.addReference(r.key,e),gme(t,r)):r instanceof wY?(Qe(GI,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||EY(t,r.key)):pt(19791,{yu:r})}function gme(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(Qe(GI,"New document in limbo: "+n),t.Iu.add(r),YI(t))}function YI(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new ct(On.fromString(e)),r=t.mu.next();t.Eu.set(r,new sme(n)),t.du=t.du.insert(n,r),pY(t.remoteStore,new cu($o(CS(n.path)),r,"TargetPurposeLimboResolution",AS.ue))}}async function Jx(t,e,n){const r=Tt(t),i=[],s=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((l,u)=>{a.push(r.gu(u,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){i.push(d);const m=II.Es(u.targetId,d);s.push(m)}}))}),await Promise.all(a),r.hu.J_(i),await async function(u,d){const h=Tt(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Ee.forEach(d,g=>Ee.forEach(g.Is,v=>h.persistence.referenceDelegate.addReference(m,g.targetId,v)).next(()=>Ee.forEach(g.ds,v=>h.persistence.referenceDelegate.removeReference(m,g.targetId,v)))))}catch(m){if(!Fp(m))throw m;Qe(MI,"Failed to update sequence numbers: "+m)}for(const m of d){const g=m.targetId;if(!m.fromCache){const v=h.Fs.get(g),b=v.snapshotVersion,_=v.withLastLimboFreeSnapshotVersion(b);h.Fs=h.Fs.insert(g,_)}}}(r.localStore,s))}async function yme(t,e){const n=Tt(t);if(!n.currentUser.isEqual(e)){Qe(GI,"User change. New user:",e.toKey());const r=await fY(n.localStore,e);n.currentUser=e,function(s,a){s.Vu.forEach(l=>{l.forEach(u=>{u.reject(new Pe(ye.CANCELLED,a))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jx(n,r.Bs)}}function vme(t,e){const n=Tt(t),r=n.Eu.get(e);if(r&&r.lu)return Jt().add(r.key);{let i=Jt();const s=n.Tu.get(e);if(!s)return i;for(const a of s){const l=n.Pu.get(a);i=i.unionWith(l.view.tu)}return i}}function TY(t){const e=Tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jY.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vme.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hme.bind(null,e),e.hu.J_=tme.bind(null,e.eventManager),e.hu.pu=nme.bind(null,e.eventManager),e}function xme(t){const e=Tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mme.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pme.bind(null,e),e}class Ew{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=MS(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return She(this.persistence,new bhe,e.initialUser,this.serializer)}Du(e){return new dY(PI.Vi,this.serializer)}bu(e){return new khe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ew.provider={build:()=>new Ew};class bme extends Ew{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){cn(this.persistence.referenceDelegate instanceof Nw,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new she(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?os.withCacheSize(this.cacheSizeBytes):os.DEFAULT;return new dY(r=>Nw.Vi(r,n),this.serializer)}}class zO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k$(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yme.bind(null,this.syncEngine),await Zhe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eme}()}createDatastore(e){const n=MS(e.databaseInfo.databaseId),r=function(s){return new Mhe(s)}(e.databaseInfo);return function(s,a,l,u){return new Vhe(s,a,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,l){return new Bhe(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>k$(this.syncEngine,n,0),function(){return j$.C()?new j$:new Ohe}())}createSyncEngine(e,n){return function(i,s,a,l,u,d,h){const m=new ame(i,s,a,l,u,d);return h&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Tt(i);Qe(vf,"RemoteStore shutting down."),s.Ia.add(5),await Zx(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zO.provider={build:()=>new zO};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):sc("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _me{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Pe(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const a=Tt(i),l={documents:s.map(m=>jw(a.serializer,m))},u=await a.Jo("BatchGetDocuments",a.serializer.databaseId,On.emptyPath(),l,s.length),d=new Map;u.forEach(m=>{const g=zfe(a.serializer,m);d.set(g.key.toString(),g)});const h=[];return s.forEach(m=>{const g=d.get(m.toString());cn(!!g,55234,{key:m}),h.push(g)}),h}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Xx(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ct.fromPath(r);this.mutations.push(new XG(i,this.precondition(i)))}),await async function(r,i){const s=Tt(r),a={writes:i.map(l=>sY(s.serializer,l))};await s.Wo("Commit",s.serializer.databaseId,On.emptyPath(),a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw pt(50498,{Wu:e.constructor.name});n=wt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Pe(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(wt.min())?Dr.exists(!1):Dr.updateTime(n):Dr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(wt.min()))throw new Pe(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dr.updateTime(n)}return Dr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wme{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Gu=r.maxAttempts,this.F_=new DI(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_(async()=>{const e=new _me(this.datastore),n=this.Ju(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Hu(i)}))}).catch(r=>{this.Hu(r)})})}Ju(e){try{const n=this.updateFunction(e);return!Yx(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget(()=>(this.ju(),Promise.resolve()))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!QG(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu="FirestoreClient";class Sme{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Li.UNAUTHENTICATED,this.clientId=jS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{Qe(Pu,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Qe(Pu,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=UI(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function EE(t,e){t.asyncQueue.verifyOperationInProgress(),Qe(Pu,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fY(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{ac("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Qe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ac("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function R$(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jme(t);Qe(Pu,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>A$(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>A$(e.remoteStore,i)),t._onlineComponents=e}async function jme(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Qe(Pu,"Using user provided OfflineComponentProvider");try{await EE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ac("Error using user provided cache. Falling back to memory cache: "+n),await EE(t,new Ew)}}else Qe(Pu,"Using default OfflineComponentProvider"),await EE(t,new bme(void 0));return t._offlineComponents}async function XI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Qe(Pu,"Using user provided OnlineComponentProvider"),await R$(t,t._uninitializedComponentsProvider._online)):(Qe(Pu,"Using default OnlineComponentProvider"),await R$(t,new zO))),t._onlineComponents}function Nme(t){return XI(t).then(e=>e.syncEngine)}function Ame(t){return XI(t).then(e=>e.datastore)}async function Tw(t){const e=await XI(t),n=e.eventManager;return n.onListen=ome.bind(null,e.syncEngine),n.onUnlisten=ume.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lme.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dme.bind(null,e.syncEngine),n}function Eme(t,e,n={}){const r=new Lo;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,d){const h=new KI({next:g=>{h.Ou(),a.enqueueAndForget(()=>qI(s,m));const v=g.docs.has(l);!v&&g.fromCache?d.reject(new Pe(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&u&&u.source==="server"?d.reject(new Pe(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new WI(CS(l.path),h,{includeMetadataChanges:!0,ka:!0});return zI(s,m)}(await Tw(t),t.asyncQueue,e,n,r)),r.promise}function Tme(t,e,n={}){const r=new Lo;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,d){const h=new KI({next:g=>{h.Ou(),a.enqueueAndForget(()=>qI(s,m)),g.fromCache&&u.source==="server"?d.reject(new Pe(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new WI(l,h,{includeMetadataChanges:!0,ka:!0});return zI(s,m)}(await Tw(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CY(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY="firestore.googleapis.com",I$=!0;class M${constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kY,this.ssl=I$}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:I$;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cY;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uY)throw new Pe(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CY((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $S{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M$({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M$(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yG;switch(r.type){case"firstParty":return new Vde(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=P$.get(n);r&&(Qe("ComponentProvider","Removing Datastore"),P$.delete(n),r.terminate())}(this),Promise.resolve()}}function QI(t,e,n,r={}){var i;t=ki(t,$S);const s=pc(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;s&&(xS(`https://${u}`),lI("Firestore",!0)),a.host!==kY&&a.host!==u&&ac("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:r});if(!Au(d,l)&&(t._setSettings(d),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=Li.MOCK_USER;else{h=bW(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Pe(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Li(g)}t._authCredentials=new Dde(new gG(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Za(this.firestore,e,this._query)}}class rr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rr(this.firestore,e,this._key)}toJSON(){return{type:rr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gx(n,rr._jsonSchema))return new rr(e,r||null,new ct(On.fromString(n.referencePath)))}}rr._jsonSchemaVersion="firestore/documentReference/1.0",rr._jsonSchema={type:$r("string",rr._jsonSchemaVersion),referencePath:$r("string")};class Xl extends Za{constructor(e,n,r){super(e,n,CS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rr(this.firestore,null,new ct(e))}withConverter(e){return new Xl(this.firestore,e,this._path)}}function ft(t,e,...n){if(t=wn(t),xG("collection","path",e),t instanceof $S){const r=On.fromString(e,...n);return K6(r),new Xl(t,null,r)}{if(!(t instanceof rr||t instanceof Xl))throw new Pe(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(On.fromString(e,...n));return K6(r),new Xl(t.firestore,null,r)}}function Je(t,e,...n){if(t=wn(t),arguments.length===1&&(e=jS.newId()),xG("doc","path",e),t instanceof $S){const r=On.fromString(e,...n);return Y6(r),new rr(t,null,new ct(r))}{if(!(t instanceof rr||t instanceof Xl))throw new Pe(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(On.fromString(e,...n));return Y6(r),new rr(t.firestore,t instanceof Xl?t.converter:null,new ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$="AsyncQueue";class L${constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new DI(this,"async_queue_retry"),this.oc=()=>{const r=AE();r&&Qe(D$,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=AE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=AE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Lo;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Fp(e))throw e;Qe(D$,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,sc("INTERNAL UNHANDLED ERROR: ",$$(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=BI.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&pt(47125,{hc:$$(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function $$(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ya extends $S{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new L$,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L$(e),this._firestoreClient=void 0,await e}}}function OY(t,e,n){n||(n=Nv);const r=Bx(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Au(s,e))return i;throw new Pe(ye.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Pe(ye.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uY)throw new Pe(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&pc(e.host)&&xS(e.host),r.initialize({options:e,instanceIdentifier:n})}function RY(t,e){const n=typeof t=="object"?t:bS(),r=typeof t=="string"?t:Nv,i=Bx(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=yW("firestore");s&&QI(i,...s)}return i}function Gf(t){if(t._terminated)throw new Pe(ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Cme(t),t._firestoreClient}function Cme(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,d,h){return new tfe(l,u,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,CY(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Sme(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new us(yi.fromBase64String(e))}catch(n){throw new Pe(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new us(yi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:us._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gx(e,us._jsonSchema))return us.fromBase64String(e.bytes)}}us._jsonSchemaVersion="firestore/bytes/1.0",us._jsonSchema={type:$r("string",us._jsonSchemaVersion),bytes:$r("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Va._jsonSchemaVersion}}static fromJSON(e){if(Gx(e,Va._jsonSchema))return new Va(e.latitude,e.longitude)}}Va._jsonSchemaVersion="firestore/geoPoint/1.0",Va._jsonSchema={type:$r("string",Va._jsonSchemaVersion),latitude:$r("number"),longitude:$r("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Fa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gx(e,Fa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Fa(e.vectorValues);throw new Pe(ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fa._jsonSchemaVersion="firestore/vectorValue/1.0",Fa._jsonSchema={type:$r("string",Fa._jsonSchemaVersion),vectorValues:$r("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kme=/^__.*__$/;class Ome{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Uu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kx(e,this.data,n,this.fieldTransforms)}}class PY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Uu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function IY(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ec:t})}}class ZI{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ZI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Cw(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(IY(this.Ec)&&kme.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Rme{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||MS(e)}Dc(e,n,r,i=!1){return new ZI({Ec:e,methodName:n,bc:r,path:mi.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kf(t){const e=t._freezeSettings(),n=MS(t._databaseId);return new Rme(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VS(t,e,n,r,i,s={}){const a=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);nM("Data must be an object, but it was:",a,r);const l=DY(r,a);let u,d;if(s.merge)u=new Ms(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const h=[];for(const m of s.mergeFields){const g=qO(e,m,n);if(!a.contains(g))throw new Pe(ye.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);$Y(h,g)||h.push(g)}u=new Ms(h),d=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=a.fieldTransforms;return new Ome(new Qi(l),u,d)}class FS extends eb{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof FS}}class JI extends eb{_toFieldTransform(e){return new Efe(e.path,new Tv)}isEqual(e){return e instanceof JI}}function eM(t,e,n,r){const i=t.Dc(1,e,n);nM("Data must be an object, but it was:",i,r);const s=[],a=Qi.empty();Bu(r,(u,d)=>{const h=rM(e,u,n);d=wn(d);const m=i.gc(h);if(d instanceof FS)s.push(h);else{const g=tb(d,m);g!=null&&(s.push(h),a.set(h,g))}});const l=new Ms(s);return new PY(a,l,i.fieldTransforms)}function tM(t,e,n,r,i,s){const a=t.Dc(1,e,n),l=[qO(e,r,n)],u=[i];if(s.length%2!=0)throw new Pe(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(qO(e,s[g])),u.push(s[g+1]);const d=[],h=Qi.empty();for(let g=l.length-1;g>=0;--g)if(!$Y(d,l[g])){const v=l[g];let b=u[g];b=wn(b);const _=a.gc(v);if(b instanceof FS)d.push(v);else{const x=tb(b,_);x!=null&&(d.push(v),h.set(v,x))}}const m=new Ms(d);return new PY(h,m,a.fieldTransforms)}function MY(t,e,n,r=!1){return tb(n,t.Dc(r?4:3,e))}function tb(t,e){if(LY(t=wn(t)))return nM("Unsupported field value:",e,t),DY(t,e);if(t instanceof eb)return function(r,i){if(!IY(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const l of r){let u=tb(l,i.yc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jfe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=$n.fromDate(r);return{timestampValue:Sw(i.serializer,s)}}if(r instanceof $n){const s=new $n(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sw(i.serializer,s)}}if(r instanceof Va)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof us)return{bytesValue:tY(i.serializer,r._byteString)};if(r instanceof rr){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:OI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fa)return function(a,l){return{mapValue:{fields:{[CG]:{stringValue:kG},[xw]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw l.wc("VectorValues must only contain numeric values.");return TI(l.serializer,d)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${NS(r)}`)}(t,e)}function DY(t,e){const n={};return SG(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bu(t,(r,i)=>{const s=tb(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function LY(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $n||t instanceof Va||t instanceof us||t instanceof rr||t instanceof eb||t instanceof Fa)}function nM(t,e,n){if(!LY(n)||!_G(n)){const r=NS(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function qO(t,e,n){if((e=wn(e))instanceof Yf)return e._internalPath;if(typeof e=="string")return rM(t,e);throw Cw("Field path arguments must be of type string or ",t,!1,void 0,n)}const Pme=new RegExp("[~\\*/\\[\\]]");function rM(t,e,n){if(e.search(Pme)>=0)throw Cw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yf(...e.split("."))._internalPath}catch{throw Cw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cw(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new Pe(ye.INVALID_ARGUMENT,l+t+u)}function $Y(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ime(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(BS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ime extends Ov{data(){return super.data()}}function BS(t,e){return typeof e=="string"?rM(t,e):e instanceof Yf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VY(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iM{}class nb extends iM{}function Zt(t,e,...n){let r=[];e instanceof iM&&r.push(e),r=r.concat(n),function(s){const a=s.filter(u=>u instanceof US).length,l=s.filter(u=>u instanceof rb).length;if(a>1||a>0&&l>0)throw new Pe(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class rb extends nb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rb(e,n,r)}_apply(e){const n=this._parse(e);return BY(e._query,n),new Za(e.firestore,e.converter,MO(e._query,n))}_parse(e){const n=Kf(e.firestore);return function(s,a,l,u,d,h,m){let g;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Pe(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){B$(m,h);const b=[];for(const _ of m)b.push(F$(u,s,_));g={arrayValue:{values:b}}}else g=F$(u,s,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||B$(m,h),g=MY(l,a,m,h==="in"||h==="not-in");return Mr.create(d,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dt(t,e,n){const r=e,i=BS("where",t);return rb._create(i,r,n)}class US extends iM{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new US(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ha.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const l=s.getFlattenedFilters();for(const u of l)BY(a,u),a=MO(a,u)}(e._query,n),new Za(e.firestore,e.converter,MO(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zS extends nb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zS(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new Pe(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Pe(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ev(s,a)}(e._query,this._field,this._direction);return new Za(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new qf(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function gi(t,e="asc"){const n=e,r=BS("orderBy",t);return zS._create(r,n)}class qS extends nb{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new qS(e,n,r)}_apply(e){return new Za(e.firestore,e.converter,_w(e._query,this._limit,this._limitType))}}function ha(t){return qde("limit",t),qS._create("limit",t,"F")}class HS extends nb{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new HS(e,n,r)}_apply(e){const n=Mme(e,this.type,this._docOrFields,this._inclusive);return new Za(e.firestore,e.converter,function(i,s){return new qf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function FY(...t){return HS._create("startAfter",t,!1)}function Mme(t,e,n,r){if(n[0]=wn(n[0]),n[0]instanceof Ov)return function(s,a,l,u,d){if(!u)throw new Pe(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const h=[];for(const m of Nm(s))if(m.field.isKeyField())h.push(bw(a,u.key));else{const g=u.data.field(m.field);if(ES(g))throw new Pe(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){const v=m.field.canonicalString();throw new Pe(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(g)}return new Hm(h,d)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Kf(t.firestore);return function(a,l,u,d,h,m){const g=a.explicitOrderBy;if(h.length>g.length)throw new Pe(ye.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let b=0;b<h.length;b++){const _=h[b];if(g[b].field.isKeyField()){if(typeof _!="string")throw new Pe(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof _}`);if(!EI(a)&&_.indexOf("/")!==-1)throw new Pe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${_}' contains a slash.`);const x=a.path.child(On.fromString(_));if(!ct.isDocumentKey(x))throw new Pe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const j=new ct(x);v.push(bw(l,j))}else{const x=MY(u,d,_);v.push(x)}}return new Hm(v,m)}(t._query,t.firestore._databaseId,i,e,n,r)}}function F$(t,e,n){if(typeof(n=wn(n))=="string"){if(n==="")throw new Pe(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EI(e)&&n.indexOf("/")!==-1)throw new Pe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(On.fromString(n));if(!ct.isDocumentKey(r))throw new Pe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bw(t,new ct(r))}if(n instanceof rr)return bw(t,n._key);throw new Pe(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${NS(n)}.`)}function B$(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BY(t,e){const n=function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Pe(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sM{convertValue(e,n="none"){switch(Ou(e)){case 0:return null;case 1:return e.booleanValue;case 2:return br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ku(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[xw].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>br(a.doubleValue));return new Fa(s)}convertGeoPoint(e){return new Va(br(e.latitude),br(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=TS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jv(e));default:return null}}convertTimestamp(e){const n=Cu(e);return new $n(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=On.fromString(e);cn(lY(r),9688,{name:e});const i=new Um(r.get(1),r.get(3)),s=new ct(r.popFirst(5));return i.isEqual(n)||sc(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Dme extends sM{constructor(e){super(),this.firestore=e}convertBytes(e){return new us(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,n)}}class Zd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ql extends Ov{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(BS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ql._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ql._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ql._jsonSchema={type:$r("string",Ql._jsonSchemaVersion),bundleSource:$r("string","DocumentSnapshot"),bundleName:$r("string"),bundle:$r("string")};class Jy extends Ql{data(e={}){return super.data(e)}}class _u{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jy(this._firestore,this._userDataWriter,r.key,r,new Zd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const u=new Jy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Zd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Jy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Zd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:Lme(l.type),doc:u,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_u._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Lme(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t){t=ki(t,rr);const e=ki(t.firestore,ya);return Eme(Gf(e),t._key).then(n=>UY(e,t,n))}_u._jsonSchemaVersion="firestore/querySnapshot/1.0",_u._jsonSchema={type:$r("string",_u._jsonSchemaVersion),bundleSource:$r("string","QuerySnapshot"),bundleName:$r("string"),bundle:$r("string")};class GS extends sM{constructor(e){super(),this.firestore=e}convertBytes(e){return new us(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,n)}}function Vr(t){t=ki(t,Za);const e=ki(t.firestore,ya),n=Gf(e),r=new GS(e);return VY(t._query),Tme(n,t._query).then(i=>new _u(e,r,t,i))}function Bs(t,e,n){t=ki(t,rr);const r=ki(t.firestore,ya),i=WS(t.converter,e,n);return Up(r,[VS(Kf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Dr.none())])}function Zr(t,e,n,...r){t=ki(t,rr);const i=ki(t.firestore,ya),s=Kf(i);let a;return a=typeof(e=wn(e))=="string"||e instanceof Yf?tM(s,"updateDoc",t._key,e,n,r):eM(s,"updateDoc",t._key,e),Up(i,[a.toMutation(t._key,Dr.exists(!0))])}function Ja(t){return Up(ki(t.firestore,ya),[new Xx(t._key,Dr.none())])}function Ba(t,e){const n=ki(t.firestore,ya),r=Je(t),i=WS(t.converter,e);return Up(n,[VS(Kf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}function wr(t,...e){var n,r,i;t=wn(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||V$(e[a])||(s=e[a++]);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(V$(e[a])){const m=e[a];e[a]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[a+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[a+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let u,d,h;if(t instanceof rr)d=ki(t.firestore,ya),h=CS(t._key.path),u={next:m=>{e[a]&&e[a](UY(d,t,m))},error:e[a+1],complete:e[a+2]};else{const m=ki(t,Za);d=ki(m.firestore,ya),h=m._query;const g=new GS(d);u={next:v=>{e[a]&&e[a](new _u(d,g,m,v))},error:e[a+1],complete:e[a+2]},VY(t._query)}return function(g,v,b,_){const x=new KI(_),j=new WI(v,x,b);return g.asyncQueue.enqueueAndForget(async()=>zI(await Tw(g),j)),()=>{x.Ou(),g.asyncQueue.enqueueAndForget(async()=>qI(await Tw(g),j))}}(Gf(d),h,l,u)}function Up(t,e){return function(r,i){const s=new Lo;return r.asyncQueue.enqueueAndForget(async()=>fme(await Nme(r),i,s)),s.promise}(Gf(t),e)}function UY(t,e,n){const r=n.docs.get(e._key),i=new GS(t);return new Ql(t,i,e._key,r,new Zd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $me={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Kf(e)}set(e,n,r){this._verifyNotCommitted();const i=uu(e,this._firestore),s=WS(i.converter,n,r),a=VS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Dr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=uu(e,this._firestore);let a;return a=typeof(n=wn(n))=="string"||n instanceof Yf?tM(this._dataReader,"WriteBatch.update",s._key,n,r,i):eM(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,Dr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=uu(e,this._firestore);return this._mutations=this._mutations.concat(new Xx(n._key,Dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uu(t,e){if((t=wn(t)).firestore!==e)throw new Pe(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vme{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Kf(e)}get(e){const n=uu(e,this._firestore),r=new Dme(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return pt(24041);const s=i[0];if(s.isFoundDocument())return new Ov(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Ov(this._firestore,r,n._key,null,n.converter);throw pt(18433,{doc:s})})}set(e,n,r){const i=uu(e,this._firestore),s=WS(i.converter,n,r),a=VS(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this}update(e,n,r,...i){const s=uu(e,this._firestore);let a;return a=typeof(n=wn(n))=="string"||n instanceof Yf?tM(this._dataReader,"Transaction.update",s._key,n,r,i):eM(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(e){const n=uu(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY extends Vme{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=uu(e,this._firestore),r=new GS(this._firestore);return super.get(e).then(i=>new Ql(this._firestore,r,n._key,i._document,new Zd(!1,!1),n.converter))}}function kw(t,e,n){t=ki(t,ya);const r=Object.assign(Object.assign({},$me),n);return function(s){if(s.maxAttempts<1)throw new Pe(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,a,l){const u=new Lo;return s.asyncQueue.enqueueAndForget(async()=>{const d=await Ame(s);new wme(s.asyncQueue,d,l,a,u).zu()}),u.promise}(Gf(t),i=>e(new qY(t,i)),r)}function Ye(){return new JI("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t){return Gf(t=ki(t,ya)),new zY(t,e=>Up(t,e))}(function(e,n=!0){(function(i){$p=i})(Uf),mf(new Eu("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new ya(new Lde(r.getProvider("auth-internal")),new Fde(a,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Pe(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Um(d.options.projectId,h)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Io(z6,q6,e),Io(z6,q6,"esm2017")})();const Fme=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:sM,Bytes:us,CollectionReference:Xl,DocumentReference:rr,DocumentSnapshot:Ql,FieldPath:Yf,FieldValue:eb,Firestore:ya,FirestoreError:Pe,GeoPoint:Va,Query:Za,QueryCompositeFilterConstraint:US,QueryConstraint:nb,QueryDocumentSnapshot:Jy,QueryFieldFilterConstraint:rb,QueryLimitConstraint:qS,QueryOrderByConstraint:zS,QuerySnapshot:_u,QueryStartAtConstraint:HS,SnapshotMetadata:Zd,Timestamp:$n,Transaction:qY,VectorValue:Fa,WriteBatch:zY,_AutoId:jS,_ByteString:yi,_DatabaseId:Um,_DocumentKey:ct,_EmptyAuthCredentialsProvider:yG,_FieldPath:mi,_cast:ki,_logWarn:ac,_validateIsNotUsedTogether:bG,addDoc:Ba,collection:ft,connectFirestoreEmulator:QI,deleteDoc:Ja,doc:Je,ensureFirestoreConfigured:Gf,executeWrite:Up,getDoc:vi,getDocs:Vr,getFirestore:RY,initializeFirestore:OY,limit:ha,onSnapshot:wr,orderBy:gi,query:Zt,runTransaction:kw,serverTimestamp:Ye,setDoc:Bs,startAfter:FY,updateDoc:Zr,where:Dt,writeBatch:wo},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HY="firebasestorage.googleapis.com",WY="storageBucket",Bme=2*60*1e3,Ume=10*60*1e3,zme=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Zo{constructor(e,n,r=0){super(TE(e),`Firebase Storage: ${n} (${TE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return TE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tr||(tr={}));function TE(t){return"storage/"+t}function aM(){const t="An unknown error occurred, please check the error payload for server response.";return new fr(tr.UNKNOWN,t)}function qme(t){return new fr(tr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Hme(t){return new fr(tr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Wme(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fr(tr.UNAUTHENTICATED,t)}function Gme(){return new fr(tr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Yme(t){return new fr(tr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function GY(){return new fr(tr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YY(){return new fr(tr.CANCELED,"User canceled the upload/download.")}function Kme(t){return new fr(tr.INVALID_URL,"Invalid URL '"+t+"'.")}function Xme(t){return new fr(tr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Qme(){return new fr(tr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+WY+"' property when initializing the app?")}function KY(){return new fr(tr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zme(){return new fr(tr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Jme(){return new fr(tr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function epe(t){return new fr(tr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function HO(t){return new fr(tr.INVALID_ARGUMENT,t)}function XY(){return new fr(tr.APP_DELETED,"The Firebase app was deleted.")}function tpe(t){return new fr(tr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ev(t,e){return new fr(tr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function cy(t){throw new fr(tr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ds.makeFromUrl(e,n)}catch{return new Ds(e,"")}if(r.path==="")return r;throw Xme(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function d(P){P.path_=decodeURIComponent(P.path)}const h="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${m}/${h}/b/${i}/o${g}`,"i"),b={bucket:1,path:3},_=n===HY?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",j=new RegExp(`^https?://${_}/${i}/${x}`,"i"),C=[{regex:l,indices:u,postModify:s},{regex:v,indices:b,postModify:d},{regex:j,indices:{bucket:1,path:2},postModify:d}];for(let P=0;P<C.length;P++){const T=C[P],I=T.regex.exec(e);if(I){const E=I[T.indices.bucket];let k=I[T.indices.path];k||(k=""),r=new Ds(E,k),T.postModify(r);break}}if(r==null)throw Kme(e);return r}}class npe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rpe(t,e,n){let r=1,i=null,s=null,a=!1,l=0;function u(){return l===2}let d=!1;function h(...x){d||(d=!0,e.apply(null,x))}function m(x){i=setTimeout(()=>{i=null,t(v,u())},x)}function g(){s&&clearTimeout(s)}function v(x,...j){if(d){g();return}if(x){g(),h.call(null,x,...j);return}if(u()||a){g(),h.call(null,x,...j);return}r<64&&(r*=2);let C;l===1?(l=2,C=0):C=(r+Math.random())*1e3,m(C)}let b=!1;function _(x){b||(b=!0,g(),!d&&(i!==null?(x||(l=2),clearTimeout(i),m(0)):x||(l=1)))}return m(0),s=setTimeout(()=>{a=!0,_(!0)},n),_}function ipe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function spe(t){return t!==void 0}function ape(t){return typeof t=="function"}function ope(t){return typeof t=="object"&&!Array.isArray(t)}function YS(t){return typeof t=="string"||t instanceof String}function U$(t){return oM()&&t instanceof Blob}function oM(){return typeof Blob<"u"}function z$(t,e,n,r){if(r<e)throw HO(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw HO(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function QY(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var of;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(of||(of={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZY(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lpe{constructor(e,n,r,i,s,a,l,u,d,h,m,g=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=m,this.retry=g,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,_)=>{this.resolve_=b,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Q0(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===of.NO_ERROR,u=s.getStatus();if(!l||ZY(u,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===of.ABORT;r(!1,new Q0(!1,null,h));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new Q0(d,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());spe(u)?s(u):s()}catch(u){a(u)}else if(l!==null){const u=aM();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(i.canceled){const u=this.appDelete_?XY():YY();a(u)}else{const u=GY();a(u)}};this.canceled_?n(!1,new Q0(!1,null,!0)):this.backoffId_=rpe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ipe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Q0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function cpe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function upe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dpe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function fpe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function hpe(t,e,n,r,i,s,a=!0,l=!1){const u=QY(t.urlParams),d=t.url+u,h=Object.assign({},t.headers);return dpe(h,e),cpe(h,n),upe(h,s),fpe(h,r),new lpe(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mpe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ppe(...t){const e=mpe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(oM())return new Blob(t);throw new fr(tr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gpe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ype(t){if(typeof atob>"u")throw epe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class CE{constructor(e,n){this.data=e,this.contentType=n||null}}function vpe(t,e){switch(t){case Ao.RAW:return new CE(JY(e));case Ao.BASE64:case Ao.BASE64URL:return new CE(eK(t,e));case Ao.DATA_URL:return new CE(bpe(e),_pe(e))}throw aM()}function JY(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function xpe(t){let e;try{e=decodeURIComponent(t)}catch{throw ev(Ao.DATA_URL,"Malformed data URL.")}return JY(e)}function eK(t,e){switch(t){case Ao.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ev(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ao.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ev(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ype(e)}catch(i){throw i.message.includes("polyfill")?i:ev(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class tK{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ev(Ao.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=wpe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function bpe(t){const e=new tK(t);return e.base64?eK(Ao.BASE64,e.rest):xpe(e.rest)}function _pe(t){return new tK(t).contentType}function wpe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){let r=0,i="";U$(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(U$(this.data_)){const r=this.data_,i=gpe(r,e,n);return i===null?null:new Ll(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ll(r,!0)}}static getBlob(...e){if(oM()){const n=e.map(r=>r instanceof Ll?r.data_:r);return new Ll(ppe.apply(null,n))}else{const n=e.map(a=>YS(a)?vpe(Ao.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)i[s++]=a[l]}),new Ll(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nK(t){let e;try{e=JSON.parse(t)}catch{return null}return ope(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Spe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jpe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function rK(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Npe(t,e){return e}class Yi{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Npe}}let Z0=null;function Ape(t){return!YS(t)||t.length<2?t:rK(t)}function lM(){if(Z0)return Z0;const t=[];t.push(new Yi("bucket")),t.push(new Yi("generation")),t.push(new Yi("metageneration")),t.push(new Yi("name","fullPath",!0));function e(s,a){return Ape(a)}const n=new Yi("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Yi("size");return i.xform=r,t.push(i),t.push(new Yi("timeCreated")),t.push(new Yi("updated")),t.push(new Yi("md5Hash",null,!0)),t.push(new Yi("cacheControl",null,!0)),t.push(new Yi("contentDisposition",null,!0)),t.push(new Yi("contentEncoding",null,!0)),t.push(new Yi("contentLanguage",null,!0)),t.push(new Yi("contentType",null,!0)),t.push(new Yi("metadata","customMetadata",!0)),Z0=t,Z0}function Epe(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ds(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Tpe(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return Epe(r,t),r}function iK(t,e,n){const r=nK(e);return r===null?null:Tpe(t,r,n)}function Cpe(t,e,n,r){const i=nK(e);if(i===null||!YS(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(d=>{const h=t.bucket,m=t.fullPath,g="/b/"+a(h)+"/o/"+a(m),v=zp(g,n,r),b=QY({alt:"media",token:d});return v+b})[0]}function sK(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Xf{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){if(!t)throw aM()}function cM(t,e){function n(r,i){const s=iK(t,i,e);return Zl(s!==null),s}return n}function kpe(t,e){function n(r,i){const s=iK(t,i,e);return Zl(s!==null),Cpe(s,i,t.host,t._protocol)}return n}function ib(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Gme():i=Wme():n.getStatus()===402?i=Hme(t.bucket):n.getStatus()===403?i=Yme(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function uM(t){const e=ib(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=qme(t.path)),s.serverResponse=i.serverResponse,s}return n}function Ope(t,e,n){const r=e.fullServerUrl(),i=zp(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,l=new Xf(i,s,cM(t,n),a);return l.errorHandler=uM(e),l}function Rpe(t,e,n){const r=e.fullServerUrl(),i=zp(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,l=new Xf(i,s,kpe(t,n),a);return l.errorHandler=uM(e),l}function Ppe(t,e){const n=e.fullServerUrl(),r=zp(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function a(u,d){}const l=new Xf(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=uM(e),l}function Ipe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function aK(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Ipe(null,e)),r}function oK(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let C="";for(let P=0;P<2;P++)C=C+Math.random().toString().slice(2);return C}const u=l();a["Content-Type"]="multipart/related; boundary="+u;const d=aK(e,r,i),h=sK(d,n),m="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+u+"--",v=Ll.getBlob(m,r,g);if(v===null)throw KY();const b={name:d.fullPath},_=zp(s,t.host,t._protocol),x="POST",j=t.maxUploadRetryTime,A=new Xf(_,x,cM(t,n),j);return A.urlParams=b,A.headers=a,A.body=v.uploadData(),A.errorHandler=ib(e),A}class Ow{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function dM(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Zl(!1)}return Zl(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Mpe(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a=aK(e,r,i),l={name:a.fullPath},u=zp(s,t.host,t._protocol),d="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},m=sK(a,n),g=t.maxUploadRetryTime;function v(_){dM(_);let x;try{x=_.getResponseHeader("X-Goog-Upload-URL")}catch{Zl(!1)}return Zl(YS(x)),x}const b=new Xf(u,d,v,g);return b.urlParams=l,b.headers=h,b.body=m,b.errorHandler=ib(e),b}function Dpe(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(d){const h=dM(d,["active","final"]);let m=null;try{m=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Zl(!1)}m||Zl(!1);const g=Number(m);return Zl(!isNaN(g)),new Ow(g,r.size(),h==="final")}const a="POST",l=t.maxUploadRetryTime,u=new Xf(n,a,s,l);return u.headers=i,u.errorHandler=ib(e),u}const q$=256*1024;function Lpe(t,e,n,r,i,s,a,l){const u=new Ow(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw Zme();const d=u.total-u.current;let h=d;i>0&&(h=Math.min(h,i));const m=u.current,g=m+h;let v="";h===0?v="finalize":d===h?v="upload, finalize":v="upload";const b={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${u.current}`},_=r.slice(m,g);if(_===null)throw KY();function x(P,T){const I=dM(P,["active","final"]),E=u.current+h,k=r.size();let O;return I==="final"?O=cM(e,s)(P,T):O=null,new Ow(E,k,I==="final",O)}const j="POST",A=e.maxUploadRetryTime,C=new Xf(n,j,x,A);return C.headers=b,C.body=_.uploadData(),C.progressCallback=l||null,C.errorHandler=ib(t),C}const ls={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function kE(t){switch(t){case"running":case"pausing":case"canceling":return ls.RUNNING;case"paused":return ls.PAUSED;case"success":return ls.SUCCESS;case"canceled":return ls.CANCELED;case"error":return ls.ERROR;default:return ls.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $pe=class{constructor(e,n,r){if(ape(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Vpe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=of.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=of.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=of.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw cy("cannot .send() more than once");if(pc(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cy("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cy("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cy("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cy("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Fpe extends Vpe{initXhr(){this.xhr_.responseType="text"}}function au(){return new Fpe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bpe{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=lM(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(tr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(ZY(i.status,[]))if(s)i=GY();else{this.sleepTime=Math.max(this.sleepTime*2,zme),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(tr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Mpe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,au,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=Dpe(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,au,n,r);this._request=s,s.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=q$*this._chunkMultiplier,n=new Ow(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let a;try{a=Lpe(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}const l=this._ref.storage._makeRequest(a,au,i,s,!1);this._request=l,l.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){q$*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Ope(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,au,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=oK(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,au,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=YY(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=kE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new $pe(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(kE(this._state)){case ls.SUCCESS:Gh(this._resolve.bind(null,this.snapshot))();break;case ls.CANCELED:case ls.ERROR:const n=this._reject;Gh(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(kE(this._state)){case ls.RUNNING:case ls.PAUSED:e.next&&Gh(e.next.bind(e,this.snapshot))();break;case ls.SUCCESS:e.complete&&Gh(e.complete.bind(e))();break;case ls.CANCELED:case ls.ERROR:e.error&&Gh(e.error.bind(e,this._error))();break;default:e.error&&Gh(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){this._service=e,n instanceof Ds?this._location=n:this._location=Ds.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xf(e,n)}get root(){const e=new Ds(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rK(this._location.path)}get storage(){return this._service}get parent(){const e=Spe(this._location.path);if(e===null)return null;const n=new Ds(this._location.bucket,e);return new xf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw tpe(e)}}function Upe(t,e,n){t._throwIfRoot("uploadBytes");const r=oK(t.storage,t._location,lM(),new Ll(e,!0),n);return t.storage.makeRequestWithTokens(r,au).then(i=>({metadata:i,ref:t}))}function zpe(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Bpe(t,new Ll(e),n)}function qpe(t){t._throwIfRoot("getDownloadURL");const e=Rpe(t.storage,t._location,lM());return t.storage.makeRequestWithTokens(e,au).then(n=>{if(n===null)throw Jme();return n})}function Hpe(t){t._throwIfRoot("deleteObject");const e=Ppe(t.storage,t._location);return t.storage.makeRequestWithTokens(e,au)}function Wpe(t,e){const n=jpe(t._location.path,e),r=new Ds(t._location.bucket,n);return new xf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gpe(t){return/^[A-Za-z]+:\/\//.test(t)}function Ype(t,e){return new xf(t,e)}function lK(t,e){if(t instanceof fM){const n=t;if(n._bucket==null)throw Qme();const r=new xf(n,n._bucket);return e!=null?lK(r,e):r}else return e!==void 0?Wpe(t,e):t}function Kpe(t,e){if(e&&Gpe(e)){if(t instanceof fM)return Ype(t,e);throw HO("To use ref(service, url), the first argument must be a Storage instance.")}else return lK(t,e)}function H$(t,e){const n=e==null?void 0:e[WY];return n==null?null:Ds.makeFromBucketSpec(n,t)}function Xpe(t,e,n,r={}){t.host=`${e}:${n}`;const i=pc(e);i&&(xS(`https://${t.host}/b`),lI("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:bW(s,t.app.options.projectId))}class fM{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=HY,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Bme,this._maxUploadRetryTime=Ume,this._requests=new Set,i!=null?this._bucket=Ds.makeFromBucketSpec(i,this._host):this._bucket=H$(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ds.makeFromBucketSpec(this._url,e):this._bucket=H$(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){z$("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){z$("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Os(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new npe(XY());{const a=hpe(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const W$="@firebase/storage",G$="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK="storage";function uK(t,e,n){return t=wn(t),Upe(t,e,n)}function Qpe(t,e,n){return t=wn(t),zpe(t,e,n)}function hM(t){return t=wn(t),qpe(t)}function Zpe(t){return t=wn(t),Hpe(t)}function KS(t,e){return t=wn(t),Kpe(t,e)}function Jpe(t=bS(),e){t=wn(t);const r=Bx(t,cK).getImmediate({identifier:e}),i=yW("storage");return i&&dK(r,...i),r}function dK(t,e,n,r={}){Xpe(t,e,n,r)}function ege(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new fM(n,r,i,e,Uf)}function tge(){mf(new Eu(cK,ege,"PUBLIC").setMultipleInstances(!0)),Io(W$,G$,""),Io(W$,G$,"esm2017")}tge();const nge={apiKey:"***************************************",authDomain:"engagenatural-app.firebaseapp.com",projectId:"engagenatural-app",storageBucket:"engagenatural-app.appspot.com",messagingSenderId:"314471463344",appId:"1:314471463344:web:db0916256301b9eb6fbe75"},bf=SW().length?bS():dI(nge),Ci=lG(bf);let WO;try{WO=OY(bf,{experimentalAutoDetectLongPolling:!0,useFetchStreams:!1})}catch{WO=RY(bf)}const xe=WO,_f=Jpe(bf);var XH;const mM=((XH=window==null?void 0:window.location)==null?void 0:XH.hostname)==="localhost",OE="127.0.0.1";if(!globalThis.__EMU_CONNECTED__){try{QI(xe,OE,8080)}catch{}try{gI(Ci,`http://${OE}:9099`,{disableWarnings:!0})}catch{}try{dK(_f,OE,9199)}catch{}globalThis.__EMU_CONNECTED__=!0}const rge=Object.freeze(Object.defineProperty({__proto__:null,app:bf,auth:Ci,db:xe,isLocalhost:mM,storage:_f},Symbol.toStringTag,{value:"Module"})),My={MANAGE_USERS:"manage_users",APPROVE_VERIFICATIONS:"approve_verifications",MANAGE_BRANDS:"manage_brands",MANAGE_BRAND_CONTENT:"manage_brand_content",MANAGE_BRAND_PRODUCTS:"manage_brand_products",VIEW_ANALYTICS:"view_analytics",MANAGE_CONTENT:"manage_content",SYSTEM_SETTINGS:"system_settings"},ige=[{value:"super_admin",label:"Super Admin"},{value:"brand_manager",label:"Brand Manager"},{value:"staff",label:"Staff"},{value:"verified_staff",label:"Verified Staff"},{value:"retail_staff",label:"Retail Staff"},{value:"user",label:"User"},{value:"guest",label:"Guest"}],Rw={SUPER_ADMIN:"super_admin",BRAND_MANAGER:"brand_manager"},sge={super_admin:Object.values(My),brand_manager:[My.MANAGE_BRAND_CONTENT,My.MANAGE_BRAND_PRODUCTS,My.VIEW_ANALYTICS],staff:[],verified_staff:[],retail_staff:[],user:[],guest:[]},fK=N.createContext(null);function Vn(){return N.useContext(fK)}function age({children:t}){const[e,n]=N.useState(null),[r,i]=N.useState(null),[s,a]=N.useState(!0),l=N.useRef(null);N.useEffect(()=>{const m=Nue(Ci,async g=>{if(l.current&&(l.current(),l.current=null),n(g),!g){i(null),a(!1);return}const v=Je(xe,"users",g.uid);(await vi(v)).exists()||await Bs(v,{uid:g.uid,email:g.email||"",role:"staff",createdAt:Ye(),updatedAt:Ye()},{merge:!1});{const _=await vi(v);i(_.exists()?_.data():null),a(!1),l.current=null}});return()=>{m(),l.current&&l.current()}},[]);async function u(m,g){return await wue(Ci,JW),(await xI(Ci,m,g)).user}async function d(){try{l.current&&(l.current(),l.current=null),await pw(Ci)}finally{n(null),i(null),a(!1)}}const h=N.useMemo(()=>{const m=(r==null?void 0:r.approved)===!0,g=typeof(r==null?void 0:r.role)=="string"?r.role:void 0,v=(r==null?void 0:r.brandId)||null,b=(r==null?void 0:r.retailerId)||null,_=(e==null?void 0:e.displayName)||(r==null?void 0:r.displayName)||(r==null?void 0:r.name)||"",x=(r==null?void 0:r.verified)===!0,j=typeof(r==null?void 0:r.verificationStatus)=="string"?r.verificationStatus:x?"approved":"pending",A=Array.isArray(r==null?void 0:r.joinedCommunities)?r.joinedCommunities:[],C=typeof(r==null?void 0:r.storeName)=="string"?r.storeName:"",P=typeof(r==null?void 0:r.level)=="number"?r.level:null,T=typeof(r==null?void 0:r.points)=="number"?r.points:0,I=typeof(r==null?void 0:r.profileImage)=="string"?r.profileImage:null,E=typeof(r==null?void 0:r.storeCode)=="string"?r.storeCode:"",k=e?{uid:e.uid,email:e.email,displayName:_,role:g,approved:m,brandId:v,retailerId:b,verified:x,verificationStatus:j,joinedCommunities:A,storeName:C,storeCode:E,level:P,points:T,profileImage:I}:null,O=!!k,D=g===Rw.SUPER_ADMIN,M=g===Rw.BRAND_MANAGER,V=x,$=["retail_staff","verified_staff","staff"].includes(g||""),X=!1;function H(q){return O?q?(Array.isArray(q)?q:[q]).includes(g):!0:!1}function U(q){return O?D?!0:(sge[g]||[]).includes(q):!1}return{user:k,loading:s,signIn:u,signOut:d,isAuthenticated:O,role:g,isSuperAdmin:D,isBrandManager:M,isVerified:V,hasRole:H,hasPermission:U,isRetailUser:$,isCommunityUser:X}},[e,r,s]);return o.jsx(fK.Provider,{value:h,children:t})}function Zn({children:t,allowedRoles:e,requireApprovedBrandManager:n=!1,roles:r,requireApproved:i,requireVerified:s}){const{user:a,loading:l}=Vn();if(l)return o.jsx("div",{className:"h-8 w-24 animate-pulse bg-gray-200 rounded"});if(!a)return o.jsx(No,{to:"/",replace:!0});const u=Array.isArray(e)&&e.length>0&&e||Array.isArray(r)&&r.length>0&&r||[];return u.length>0&&(typeof a.role!="string"||!u.includes(a.role))?o.jsx(No,{to:"/",replace:!0}):(n===!0||n===void 0&&i!==!1)&&a.role==="brand_manager"&&a.approved!==!0?o.jsx(No,{to:"/pending",replace:!0}):s&&a.role!=="super_admin"&&a.verified!==!0?o.jsx(No,{to:"/",replace:!0}):t}function hK(t){if(!t)return"/";const{role:e}=t;return e==="super_admin"?"/admin":e==="brand_manager"?t.approved===!0?"/brand":"/pending":e==="staff"?"/staff":"/"}function Y$(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function XS(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Y$(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Y$(t[i],null)}}}}function Xt(...t){return N.useCallback(XS(...t),t)}function wf(t){const e=oge(t),n=N.forwardRef((r,i)=>{const{children:s,...a}=r,l=N.Children.toArray(s),u=l.find(cge);if(u){const d=u.props.children,h=l.map(m=>m===u?N.Children.count(d)>1?N.Children.only(null):N.isValidElement(d)?d.props.children:null:m);return o.jsx(e,{...a,ref:i,children:N.isValidElement(d)?N.cloneElement(d,void 0,h):null})}return o.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var pM=wf("Slot");function oge(t){const e=N.forwardRef((n,r)=>{const{children:i,...s}=n;if(N.isValidElement(i)){const a=dge(i),l=uge(s,i.props);return i.type!==N.Fragment&&(l.ref=r?XS(r,a):a),N.cloneElement(i,l)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mK=Symbol("radix.slottable");function lge(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=mK,e}function cge(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mK}function uge(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const u=s(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function dge(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function pK(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=pK(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=pK(t))&&(r&&(r+=" "),r+=e);return r}const K$=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,X$=kt,gM=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return X$(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(d=>{const h=n==null?void 0:n[d],m=s==null?void 0:s[d];if(h===null)return null;const g=K$(h)||K$(m);return i[d][g]}),l=n&&Object.entries(n).reduce((d,h)=>{let[m,g]=h;return g===void 0||(d[m]=g),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:m,className:g,...v}=h;return Object.entries(v).every(b=>{let[_,x]=b;return Array.isArray(x)?x.includes({...s,...l}[_]):{...s,...l}[_]===x})?[...d,m,g]:d},[]);return X$(t,a,u,n==null?void 0:n.class,n==null?void 0:n.className)},yM="-",fge=t=>{const e=mge(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(yM);return l[0]===""&&l.length!==1&&l.shift(),gK(l,e)||hge(a)},getConflictingClassGroupIds:(a,l)=>{const u=n[a]||[];return l&&r[a]?[...u,...r[a]]:u}}},gK=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?gK(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(yM);return(a=e.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},Q$=/^\[(.+)\]$/,hge=t=>{if(Q$.test(t)){const e=Q$.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},mge=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)GO(n[i],r,i,e);return r},GO=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Z$(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(pge(i)){GO(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{GO(a,Z$(e,s),n,r)})})},Z$=(t,e)=>{let n=t;return e.split(yM).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},pge=t=>t.isThemeGetter,gge=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},YO="!",KO=":",yge=KO.length,vge=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let a=0,l=0,u=0,d;for(let b=0;b<i.length;b++){let _=i[b];if(a===0&&l===0){if(_===KO){s.push(i.slice(u,b)),u=b+yge;continue}if(_==="/"){d=b;continue}}_==="["?a++:_==="]"?a--:_==="("?l++:_===")"&&l--}const h=s.length===0?i:i.substring(u),m=xge(h),g=m!==h,v=d&&d>u?d-u:void 0;return{modifiers:s,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:v}};if(e){const i=e+KO,s=r;r=a=>a.startsWith(i)?s(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},xge=t=>t.endsWith(YO)?t.substring(0,t.length-1):t.startsWith(YO)?t.substring(1):t,bge=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(a=>{a[0]==="["||e[a]?(i.push(...s.sort(),a),s=[]):s.push(a)}),i.push(...s.sort()),i}},_ge=t=>({cache:gge(t.cacheSize),parseClassName:vge(t),sortModifiers:bge(t),...fge(t)}),wge=/\s+/,Sge=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,a=[],l=t.trim().split(wge);let u="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{isExternal:m,modifiers:g,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:_}=n(h);if(m){u=h+(u.length>0?" "+u:u);continue}let x=!!_,j=r(x?b.substring(0,_):b);if(!j){if(!x){u=h+(u.length>0?" "+u:u);continue}if(j=r(b),!j){u=h+(u.length>0?" "+u:u);continue}x=!1}const A=s(g).join(":"),C=v?A+YO:A,P=C+j;if(a.includes(P))continue;a.push(P);const T=i(j,x);for(let I=0;I<T.length;++I){const E=T[I];a.push(C+E)}u=h+(u.length>0?" "+u:u)}return u};function jge(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yK(e))&&(r&&(r+=" "),r+=n);return r}const yK=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=yK(t[r]))&&(n&&(n+=" "),n+=e);return n};function Nge(t,...e){let n,r,i,s=a;function a(u){const d=e.reduce((h,m)=>m(h),t());return n=_ge(d),r=n.cache.get,i=n.cache.set,s=l,l(u)}function l(u){const d=r(u);if(d)return d;const h=Sge(u,n);return i(u,h),h}return function(){return s(jge.apply(null,arguments))}}const Yr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},vK=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,xK=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Age=/^\d+\/\d+$/,Ege=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Tge=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Cge=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,kge=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Oge=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yh=t=>Age.test(t),Bt=t=>!!t&&!Number.isNaN(Number(t)),Kc=t=>!!t&&Number.isInteger(Number(t)),RE=t=>t.endsWith("%")&&Bt(t.slice(0,-1)),El=t=>Ege.test(t),Rge=()=>!0,Pge=t=>Tge.test(t)&&!Cge.test(t),bK=()=>!1,Ige=t=>kge.test(t),Mge=t=>Oge.test(t),Dge=t=>!it(t)&&!st(t),Lge=t=>qp(t,SK,bK),it=t=>vK.test(t),Td=t=>qp(t,jK,Pge),PE=t=>qp(t,Uge,Bt),J$=t=>qp(t,_K,bK),$ge=t=>qp(t,wK,Mge),J0=t=>qp(t,NK,Ige),st=t=>xK.test(t),uy=t=>Hp(t,jK),Vge=t=>Hp(t,zge),eV=t=>Hp(t,_K),Fge=t=>Hp(t,SK),Bge=t=>Hp(t,wK),e_=t=>Hp(t,NK,!0),qp=(t,e,n)=>{const r=vK.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Hp=(t,e,n=!1)=>{const r=xK.exec(t);return r?r[1]?e(r[1]):n:!1},_K=t=>t==="position"||t==="percentage",wK=t=>t==="image"||t==="url",SK=t=>t==="length"||t==="size"||t==="bg-size",jK=t=>t==="length",Uge=t=>t==="number",zge=t=>t==="family-name",NK=t=>t==="shadow",qge=()=>{const t=Yr("color"),e=Yr("font"),n=Yr("text"),r=Yr("font-weight"),i=Yr("tracking"),s=Yr("leading"),a=Yr("breakpoint"),l=Yr("container"),u=Yr("spacing"),d=Yr("radius"),h=Yr("shadow"),m=Yr("inset-shadow"),g=Yr("text-shadow"),v=Yr("drop-shadow"),b=Yr("blur"),_=Yr("perspective"),x=Yr("aspect"),j=Yr("ease"),A=Yr("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...P(),st,it],I=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],k=()=>[st,it,u],O=()=>[Yh,"full","auto",...k()],D=()=>[Kc,"none","subgrid",st,it],M=()=>["auto",{span:["full",Kc,st,it]},Kc,st,it],V=()=>[Kc,"auto",st,it],$=()=>["auto","min","max","fr",st,it],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...k()],q=()=>[Yh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],G=()=>[t,st,it],W=()=>[...P(),eV,J$,{position:[st,it]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Z=()=>["auto","cover","contain",Fge,Lge,{size:[st,it]}],te=()=>[RE,uy,Td],ne=()=>["","none","full",d,st,it],ge=()=>["",Bt,uy,Td],Ce=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],je=()=>[Bt,RE,eV,J$],ce=()=>["","none",b,st,it],oe=()=>["none",Bt,st,it],we=()=>["none",Bt,st,it],Ne=()=>[Bt,st,it],ue=()=>[Yh,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[El],breakpoint:[El],color:[Rge],container:[El],"drop-shadow":[El],ease:["in","out","in-out"],font:[Dge],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[El],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[El],shadow:[El],spacing:["px",Bt],text:[El],"text-shadow":[El],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yh,it,st,x]}],container:["container"],columns:[{columns:[Bt,it,st,l]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[Kc,"auto",st,it]}],basis:[{basis:[Yh,"full","auto",l,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Bt,Yh,"auto","initial","none",it]}],grow:[{grow:["",Bt,st,it]}],shrink:[{shrink:["",Bt,st,it]}],order:[{order:[Kc,"first","last","none",st,it]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[l,"screen",...q()]}],"min-w":[{"min-w":[l,"screen","none",...q()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,uy,Td]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,st,PE]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",RE,it]}],"font-family":[{font:[Vge,it,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,st,it]}],"line-clamp":[{"line-clamp":[Bt,"none",st,PE]}],leading:[{leading:[s,...k()]}],"list-image":[{"list-image":["none",st,it]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",st,it]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[Bt,"from-font","auto",st,Td]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[Bt,"auto",st,it]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",st,it]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",st,it]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:Z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Kc,st,it],radial:["",st,it],conic:[Kc,st,it]},Bge,$ge]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ce(),"hidden","none"]}],"divide-style":[{divide:[...Ce(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...Ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Bt,st,it]}],"outline-w":[{outline:["",Bt,uy,Td]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",h,e_,J0]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",m,e_,J0]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[Bt,Td]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",g,e_,J0]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[Bt,st,it]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Bt]}],"mask-image-linear-from-pos":[{"mask-linear-from":je()}],"mask-image-linear-to-pos":[{"mask-linear-to":je()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":je()}],"mask-image-t-to-pos":[{"mask-t-to":je()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":je()}],"mask-image-r-to-pos":[{"mask-r-to":je()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":je()}],"mask-image-b-to-pos":[{"mask-b-to":je()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":je()}],"mask-image-l-to-pos":[{"mask-l-to":je()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":je()}],"mask-image-x-to-pos":[{"mask-x-to":je()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":je()}],"mask-image-y-to-pos":[{"mask-y-to":je()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[st,it]}],"mask-image-radial-from-pos":[{"mask-radial-from":je()}],"mask-image-radial-to-pos":[{"mask-radial-to":je()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[Bt]}],"mask-image-conic-from-pos":[{"mask-conic-from":je()}],"mask-image-conic-to-pos":[{"mask-conic-to":je()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:Z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",st,it]}],filter:[{filter:["","none",st,it]}],blur:[{blur:ce()}],brightness:[{brightness:[Bt,st,it]}],contrast:[{contrast:[Bt,st,it]}],"drop-shadow":[{"drop-shadow":["","none",v,e_,J0]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",Bt,st,it]}],"hue-rotate":[{"hue-rotate":[Bt,st,it]}],invert:[{invert:["",Bt,st,it]}],saturate:[{saturate:[Bt,st,it]}],sepia:[{sepia:["",Bt,st,it]}],"backdrop-filter":[{"backdrop-filter":["","none",st,it]}],"backdrop-blur":[{"backdrop-blur":ce()}],"backdrop-brightness":[{"backdrop-brightness":[Bt,st,it]}],"backdrop-contrast":[{"backdrop-contrast":[Bt,st,it]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Bt,st,it]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Bt,st,it]}],"backdrop-invert":[{"backdrop-invert":["",Bt,st,it]}],"backdrop-opacity":[{"backdrop-opacity":[Bt,st,it]}],"backdrop-saturate":[{"backdrop-saturate":[Bt,st,it]}],"backdrop-sepia":[{"backdrop-sepia":["",Bt,st,it]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",st,it]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Bt,"initial",st,it]}],ease:[{ease:["linear","initial",j,st,it]}],delay:[{delay:[Bt,st,it]}],animate:[{animate:["none",A,st,it]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,st,it]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:we()}],"scale-x":[{"scale-x":we()}],"scale-y":[{"scale-y":we()}],"scale-z":[{"scale-z":we()}],"scale-3d":["scale-3d"],skew:[{skew:Ne()}],"skew-x":[{"skew-x":Ne()}],"skew-y":[{"skew-y":Ne()}],transform:[{transform:[st,it,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",st,it]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",st,it]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[Bt,uy,Td,PE]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Hge=Nge(qge);function Xe(...t){return Hge(kt(t))}const vM=gM("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Oe({className:t,variant:e,size:n,asChild:r=!1,...i}){const s=r?pM:"button";return o.jsx(s,{"data-slot":"button",className:Xe(vM({variant:e,size:n,className:t})),...i})}function De({className:t,...e}){return o.jsx("div",{"data-slot":"card",className:Xe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function He({className:t,...e}){return o.jsx("div",{"data-slot":"card-header",className:Xe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Ge({className:t,...e}){return o.jsx("div",{"data-slot":"card-title",className:Xe("leading-none font-semibold",t),...e})}function $t({className:t,...e}){return o.jsx("div",{"data-slot":"card-description",className:Xe("text-muted-foreground text-sm",t),...e})}function Fe({className:t,...e}){return o.jsx("div",{"data-slot":"card-content",className:Xe("px-6",t),...e})}function Rv({className:t,...e}){return o.jsx("div",{"data-slot":"card-footer",className:Xe("flex items-center px-6 [.border-t]:pt-6",t),...e})}function bt({className:t,type:e,...n}){return o.jsx("input",{type:e,"data-slot":"input",className:Xe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}const wu=N.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:Xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));wu.displayName="Textarea";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wge=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gge=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),tV=t=>{const e=Gge(t);return e.charAt(0).toUpperCase()+e.slice(1)},AK=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Yge=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xge=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},u)=>N.createElement("svg",{ref:u,...Kge,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:AK("lucide",i),...!s&&!Yge(l)&&{"aria-hidden":"true"},...l},[...a.map(([d,h])=>N.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(t,e)=>{const n=N.forwardRef(({className:r,...i},s)=>N.createElement(Xge,{ref:s,iconNode:e,className:AK(`lucide-${Wge(tV(t))}`,`lucide-${t}`,r),...i}));return n.displayName=tV(t),n};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qge=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],du=Be("activity",Qge);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zge=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Jge=Be("arrow-down-right",Zge);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eye=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],tv=Be("arrow-left",eye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tye=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],nye=Be("arrow-right",tye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rye=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],iye=Be("arrow-up-right",rye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sye=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],IE=Be("arrow-up",sye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aye=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Pv=Be("bell",aye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oye=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Eo=Be("book-open",oye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lye=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],cye=Be("brain",lye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uye=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],QS=Be("building",uye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dye=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],fye=Be("calculator",dye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hye=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xM=Be("calendar",hye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mye=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ZS=Be("chart-column",mye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pye=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],EK=Be("chart-no-axes-column",pye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gye=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],TK=Be("check",gye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yye=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bM=Be("chevron-down",yye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vye=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],xye=Be("chevron-left",vye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bye=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_M=Be("chevron-right",bye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ye=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],wye=Be("chevron-up",_ye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Oi=Be("circle-alert",Sye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jye=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cs=Be("circle-check-big",jye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CK=Be("circle-help",Nye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Eye=Be("circle-x",Aye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cye=Be("circle",Tye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],nv=Be("clock",kye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oye=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ym=Be("database",Oye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rye=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Go=Be("dollar-sign",Rye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pye=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],sb=Be("download",Pye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iye=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],kK=Be("ellipsis",Iye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mye=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Dye=Be("external-link",Mye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lye=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$ye=Be("eye-off",Lye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vye=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zu=Be("eye",Vye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fye=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],nV=Be("file-check",Fye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bye=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fl=Be("file-text",Bye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uye=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],rV=Be("funnel",Uye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zye=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],qye=Be("gamepad-2",zye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Wye=Be("globe",Hye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gye=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],XO=Be("hard-drive",Gye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yye=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],wM=Be("heart",Yye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kye=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],OK=Be("house",Kye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xye=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ME=Be("image",Xye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],SM=Be("info",Qye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zye=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Jye=Be("layers",Zye);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eve=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],tve=Be("layout-dashboard",eve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nve=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],rve=Be("list",nve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ive=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bl=Be("loader-circle",ive);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sve=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Pw=Be("lock",sve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ave=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],iV=Be("log-in",ave);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ove=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],JS=Be("log-out",ove);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lve=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],RK=Be("mail",lve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cve=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],uve=Be("menu",cve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dve=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],fve=Be("message-circle",dve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hve=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],mve=Be("message-square",hve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pve=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Iv=Be("package",pve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gve=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],yve=Be("pencil",gve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vve=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rv=Be("plus",vve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xve=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],bve=Be("refresh-ccw",xve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ve=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Km=Be("refresh-cw",_ve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wve=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],QO=Be("save",wve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sve=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Em=Be("search",Sve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jve=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lc=Be("settings",jve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nve=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],sV=Be("shield-check",Nve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ave=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Mv=Be("shield",Ave);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eve=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Tve=Be("shopping-cart",Eve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cve=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],PK=Be("square-pen",Cve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kve=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ove=Be("tag",kve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rve=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ab=Be("trash-2",Rve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pve=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Dv=Be("trending-up",Pve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ive=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],t_=Be("triangle-alert",Ive);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mve=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],IK=Be("trophy",Mve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dve=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ZO=Be("upload",Dve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lve=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],jM=Be("user-check",Lve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ve=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Vve=Be("user-plus",$ve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fve=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Bve=Be("user-x",Fve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uve=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Iw=Be("user",Uve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zve=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ei=Be("users",zve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qve=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Hve=Be("video",qve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wve=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],Gve=Be("wrench",Wve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yve=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],NM=Be("x",Yve);function Ze(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Kve(t,e){const n=N.createContext(e),r=s=>{const{children:a,...l}=s,u=N.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:u,children:a})};r.displayName=t+"Provider";function i(s){const a=N.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function qs(t,e=[]){let n=[];function r(s,a){const l=N.createContext(a),u=n.length;n=[...n,a];const d=m=>{var j;const{scope:g,children:v,...b}=m,_=((j=g==null?void 0:g[t])==null?void 0:j[u])||l,x=N.useMemo(()=>b,Object.values(b));return o.jsx(_.Provider,{value:x,children:v})};d.displayName=s+"Provider";function h(m,g){var _;const v=((_=g==null?void 0:g[t])==null?void 0:_[u])||l,b=N.useContext(v);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,h]}const i=()=>{const s=n.map(a=>N.createContext(a));return function(l){const u=(l==null?void 0:l[t])||s;return N.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[r,Xve(i,...e)]}function Xve(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:u,scopeName:d})=>{const m=u(s)[`__scope${d}`];return{...l,...m}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Br=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},Qve=QH[" useId ".trim().toString()]||(()=>{}),Zve=0;function Vo(t){const[e,n]=N.useState(Qve());return Br(()=>{n(r=>r??String(Zve++))},[t]),e?`radix-${e}`:""}var Jve=QH[" useInsertionEffect ".trim().toString()]||Br;function Sf({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=exe({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:i;{const h=N.useRef(t!==void 0);N.useEffect(()=>{const m=h.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=N.useCallback(h=>{var m;if(l){const g=txe(h)?h(t):h;g!==t&&((m=a.current)==null||m.call(a,g))}else s(h)},[l,t,s,a]);return[u,d]}function exe({defaultProp:t,onChange:e}){const[n,r]=N.useState(t),i=N.useRef(n),s=N.useRef(e);return Jve(()=>{s.current=e},[e]),N.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function txe(t){return typeof t=="function"}var nxe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yt=nxe.reduce((t,e)=>{const n=wf(`Primitive.${e}`),r=N.forwardRef((i,s)=>{const{asChild:a,...l}=i,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(u,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function MK(t,e){t&&$x.flushSync(()=>t.dispatchEvent(e))}function pi(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function rxe(t,e=globalThis==null?void 0:globalThis.document){const n=pi(t);N.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var ixe="DismissableLayer",JO="dismissableLayer.update",sxe="dismissableLayer.pointerDownOutside",axe="dismissableLayer.focusOutside",aV,DK=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ej=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...u}=t,d=N.useContext(DK),[h,m]=N.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=N.useState({}),b=Xt(e,E=>m(E)),_=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=_.indexOf(x),A=h?_.indexOf(h):-1,C=d.layersWithOutsidePointerEventsDisabled.size>0,P=A>=j,T=cxe(E=>{const k=E.target,O=[...d.branches].some(D=>D.contains(k));!P||O||(i==null||i(E),a==null||a(E),E.defaultPrevented||l==null||l())},g),I=uxe(E=>{const k=E.target;[...d.branches].some(D=>D.contains(k))||(s==null||s(E),a==null||a(E),E.defaultPrevented||l==null||l())},g);return rxe(E=>{A===d.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},g),N.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(aV=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),oV(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=aV)}},[h,g,n,d]),N.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),oV())},[h,d]),N.useEffect(()=>{const E=()=>v({});return document.addEventListener(JO,E),()=>document.removeEventListener(JO,E)},[]),o.jsx(yt.div,{...u,ref:b,style:{pointerEvents:C?P?"auto":"none":void 0,...t.style},onFocusCapture:Ze(t.onFocusCapture,I.onFocusCapture),onBlurCapture:Ze(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Ze(t.onPointerDownCapture,T.onPointerDownCapture)})});ej.displayName=ixe;var oxe="DismissableLayerBranch",lxe=N.forwardRef((t,e)=>{const n=N.useContext(DK),r=N.useRef(null),i=Xt(e,r);return N.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),o.jsx(yt.div,{...t,ref:i})});lxe.displayName=oxe;function cxe(t,e=globalThis==null?void 0:globalThis.document){const n=pi(t),r=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let u=function(){LK(sxe,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function uxe(t,e=globalThis==null?void 0:globalThis.document){const n=pi(t),r=N.useRef(!1);return N.useEffect(()=>{const i=s=>{s.target&&!r.current&&LK(axe,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function oV(){const t=new CustomEvent(JO);document.dispatchEvent(t)}function LK(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?MK(i,s):i.dispatchEvent(s)}var DE="focusScope.autoFocusOnMount",LE="focusScope.autoFocusOnUnmount",lV={bubbles:!1,cancelable:!0},dxe="FocusScope",tj=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[l,u]=N.useState(null),d=pi(i),h=pi(s),m=N.useRef(null),g=Xt(e,_=>u(_)),v=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let _=function(C){if(v.paused||!l)return;const P=C.target;l.contains(P)?m.current=P:Zc(m.current,{select:!0})},x=function(C){if(v.paused||!l)return;const P=C.relatedTarget;P!==null&&(l.contains(P)||Zc(m.current,{select:!0}))},j=function(C){if(document.activeElement===document.body)for(const T of C)T.removedNodes.length>0&&Zc(l)};document.addEventListener("focusin",_),document.addEventListener("focusout",x);const A=new MutationObserver(j);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",x),A.disconnect()}}},[r,l,v.paused]),N.useEffect(()=>{if(l){uV.add(v);const _=document.activeElement;if(!l.contains(_)){const j=new CustomEvent(DE,lV);l.addEventListener(DE,d),l.dispatchEvent(j),j.defaultPrevented||(fxe(yxe($K(l)),{select:!0}),document.activeElement===_&&Zc(l))}return()=>{l.removeEventListener(DE,d),setTimeout(()=>{const j=new CustomEvent(LE,lV);l.addEventListener(LE,h),l.dispatchEvent(j),j.defaultPrevented||Zc(_??document.body,{select:!0}),l.removeEventListener(LE,h),uV.remove(v)},0)}}},[l,d,h,v]);const b=N.useCallback(_=>{if(!n&&!r||v.paused)return;const x=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,j=document.activeElement;if(x&&j){const A=_.currentTarget,[C,P]=hxe(A);C&&P?!_.shiftKey&&j===P?(_.preventDefault(),n&&Zc(C,{select:!0})):_.shiftKey&&j===C&&(_.preventDefault(),n&&Zc(P,{select:!0})):j===A&&_.preventDefault()}},[n,r,v.paused]);return o.jsx(yt.div,{tabIndex:-1,...a,ref:g,onKeyDown:b})});tj.displayName=dxe;function fxe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Zc(r,{select:e}),document.activeElement!==n)return}function hxe(t){const e=$K(t),n=cV(e,t),r=cV(e.reverse(),t);return[n,r]}function $K(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function cV(t,e){for(const n of t)if(!mxe(n,{upTo:e}))return n}function mxe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function pxe(t){return t instanceof HTMLInputElement&&"select"in t}function Zc(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&pxe(t)&&e&&t.select()}}var uV=gxe();function gxe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=dV(t,e),t.unshift(e)},remove(e){var n;t=dV(t,e),(n=t[0])==null||n.resume()}}}function dV(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function yxe(t){return t.filter(e=>e.tagName!=="A")}var vxe="Portal",nj=N.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=N.useState(!1);Br(()=>s(!0),[]);const a=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Boe.createPortal(o.jsx(yt.div,{...r,ref:e}),a):null});nj.displayName=vxe;function xxe(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var Hs=t=>{const{present:e,children:n}=t,r=bxe(e),i=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),s=Xt(r.ref,_xe(i));return typeof n=="function"||r.isPresent?N.cloneElement(i,{ref:s}):null};Hs.displayName="Presence";function bxe(t){const[e,n]=N.useState(),r=N.useRef(null),i=N.useRef(t),s=N.useRef("none"),a=t?"mounted":"unmounted",[l,u]=xxe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const d=n_(r.current);s.current=l==="mounted"?d:"none"},[l]),Br(()=>{const d=r.current,h=i.current;if(h!==t){const g=s.current,v=n_(d);t?u("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(h&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),Br(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,m=v=>{const _=n_(r.current).includes(v.animationName);if(v.target===e&&_&&(u("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},g=v=>{v.target===e&&(s.current=n_(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function n_(t){return(t==null?void 0:t.animationName)||"none"}function _xe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $E=0;function AM(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??fV()),document.body.insertAdjacentElement("beforeend",t[1]??fV()),$E++,()=>{$E===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$E--}},[])}function fV(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ew="right-scroll-bar-position",tw="width-before-scroll-bar",wxe="with-scroll-bars-hidden",Sxe="--removed-body-scroll-bar-size";function VE(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function jxe(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Nxe=typeof window<"u"?N.useLayoutEffect:N.useEffect,hV=new WeakMap;function Axe(t,e){var n=jxe(null,function(r){return t.forEach(function(i){return VE(i,r)})});return Nxe(function(){var r=hV.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(l){s.has(l)||VE(l,null)}),s.forEach(function(l){i.has(l)||VE(l,a)})}hV.set(n,t)},[t]),n}function Exe(t){return t}function Txe(t,e){e===void 0&&(e=Exe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var u=function(){var h=a;a=[],h.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),n}}}};return i}function Cxe(t){t===void 0&&(t={});var e=Txe(null);return e.options=So({async:!0,ssr:!1},t),e}var VK=function(t){var e=t.sideCar,n=Ux(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,So({},n))};VK.isSideCarExport=!0;function kxe(t,e){return t.useMedium(e),VK}var FK=Cxe(),FE=function(){},rj=N.forwardRef(function(t,e){var n=N.useRef(null),r=N.useState({onScrollCapture:FE,onWheelCapture:FE,onTouchMoveCapture:FE}),i=r[0],s=r[1],a=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,h=t.enabled,m=t.shards,g=t.sideCar,v=t.noRelative,b=t.noIsolation,_=t.inert,x=t.allowPinchZoom,j=t.as,A=j===void 0?"div":j,C=t.gapMode,P=Ux(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=g,I=Axe([n,e]),E=So(So({},P),i);return N.createElement(N.Fragment,null,h&&N.createElement(T,{sideCar:FK,removeScrollBar:d,shards:m,noRelative:v,noIsolation:b,inert:_,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:C}),a?N.cloneElement(N.Children.only(l),So(So({},E),{ref:I})):N.createElement(A,So({},E,{className:u,ref:I}),l))});rj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rj.classNames={fullWidth:tw,zeroRight:ew};var Oxe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Rxe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Oxe();return e&&t.setAttribute("nonce",e),t}function Pxe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Ixe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Mxe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Rxe())&&(Pxe(e,n),Ixe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Dxe=function(){var t=Mxe();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},BK=function(){var t=Dxe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Lxe={left:0,top:0,right:0,gap:0},BE=function(t){return parseInt(t||"",10)||0},$xe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[BE(n),BE(r),BE(i)]},Vxe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Lxe;var e=$xe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Fxe=BK(),Tm="data-scroll-locked",Bxe=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(wxe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Tm,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ew,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(tw,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ew," .").concat(ew,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(tw," .").concat(tw,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Tm,`] {
    `).concat(Sxe,": ").concat(l,`px;
  }
`)},mV=function(){var t=parseInt(document.body.getAttribute(Tm)||"0",10);return isFinite(t)?t:0},Uxe=function(){N.useEffect(function(){return document.body.setAttribute(Tm,(mV()+1).toString()),function(){var t=mV()-1;t<=0?document.body.removeAttribute(Tm):document.body.setAttribute(Tm,t.toString())}},[])},zxe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Uxe();var s=N.useMemo(function(){return Vxe(i)},[i]);return N.createElement(Fxe,{styles:Bxe(s,!e,i,n?"":"!important")})},eR=!1;if(typeof window<"u")try{var r_=Object.defineProperty({},"passive",{get:function(){return eR=!0,!0}});window.addEventListener("test",r_,r_),window.removeEventListener("test",r_,r_)}catch{eR=!1}var Kh=eR?{passive:!1}:!1,qxe=function(t){return t.tagName==="TEXTAREA"},UK=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!qxe(t)&&n[e]==="visible")},Hxe=function(t){return UK(t,"overflowY")},Wxe=function(t){return UK(t,"overflowX")},pV=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=zK(t,r);if(i){var s=qK(t,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Gxe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Yxe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},zK=function(t,e){return t==="v"?Hxe(e):Wxe(e)},qK=function(t,e){return t==="v"?Gxe(e):Yxe(e)},Kxe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Xxe=function(t,e,n,r,i){var s=Kxe(t,window.getComputedStyle(e).direction),a=s*r,l=n.target,u=e.contains(l),d=!1,h=a>0,m=0,g=0;do{if(!l)break;var v=qK(t,l),b=v[0],_=v[1],x=v[2],j=_-x-s*b;(b||j)&&zK(t,l)&&(m+=j,g+=b);var A=l.parentNode;l=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&Math.abs(m)<1||!h&&Math.abs(g)<1)&&(d=!0),d},i_=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},gV=function(t){return[t.deltaX,t.deltaY]},yV=function(t){return t&&"current"in t?t.current:t},Qxe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Zxe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Jxe=0,Xh=[];function ebe(t){var e=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),i=N.useState(Jxe++)[0],s=N.useState(BK)[0],a=N.useRef(t);N.useEffect(function(){a.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=Nce([t.lockRef.current],(t.shards||[]).map(yV),!0).filter(Boolean);return _.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=N.useCallback(function(_,x){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!a.current.allowPinchZoom;var j=i_(_),A=n.current,C="deltaX"in _?_.deltaX:A[0]-j[0],P="deltaY"in _?_.deltaY:A[1]-j[1],T,I=_.target,E=Math.abs(C)>Math.abs(P)?"h":"v";if("touches"in _&&E==="h"&&I.type==="range")return!1;var k=pV(E,I);if(!k)return!0;if(k?T=E:(T=E==="v"?"h":"v",k=pV(E,I)),!k)return!1;if(!r.current&&"changedTouches"in _&&(C||P)&&(r.current=T),!T)return!0;var O=r.current||T;return Xxe(O,x,_,O==="h"?C:P)},[]),u=N.useCallback(function(_){var x=_;if(!(!Xh.length||Xh[Xh.length-1]!==s)){var j="deltaY"in x?gV(x):i_(x),A=e.current.filter(function(T){return T.name===x.type&&(T.target===x.target||x.target===T.shadowParent)&&Qxe(T.delta,j)})[0];if(A&&A.should){x.cancelable&&x.preventDefault();return}if(!A){var C=(a.current.shards||[]).map(yV).filter(Boolean).filter(function(T){return T.contains(x.target)}),P=C.length>0?l(x,C[0]):!a.current.noIsolation;P&&x.cancelable&&x.preventDefault()}}},[]),d=N.useCallback(function(_,x,j,A){var C={name:_,delta:x,target:j,should:A,shadowParent:tbe(j)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(P){return P!==C})},1)},[]),h=N.useCallback(function(_){n.current=i_(_),r.current=void 0},[]),m=N.useCallback(function(_){d(_.type,gV(_),_.target,l(_,t.lockRef.current))},[]),g=N.useCallback(function(_){d(_.type,i_(_),_.target,l(_,t.lockRef.current))},[]);N.useEffect(function(){return Xh.push(s),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",u,Kh),document.addEventListener("touchmove",u,Kh),document.addEventListener("touchstart",h,Kh),function(){Xh=Xh.filter(function(_){return _!==s}),document.removeEventListener("wheel",u,Kh),document.removeEventListener("touchmove",u,Kh),document.removeEventListener("touchstart",h,Kh)}},[]);var v=t.removeScrollBar,b=t.inert;return N.createElement(N.Fragment,null,b?N.createElement(s,{styles:Zxe(i)}):null,v?N.createElement(zxe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function tbe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const nbe=kxe(FK,ebe);var ij=N.forwardRef(function(t,e){return N.createElement(rj,So({},t,{ref:e,sideCar:nbe}))});ij.classNames=rj.classNames;var rbe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Qh=new WeakMap,s_=new WeakMap,a_={},UE=0,HK=function(t){return t&&(t.host||HK(t.parentNode))},ibe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=HK(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},sbe=function(t,e,n,r){var i=ibe(e,Array.isArray(t)?t:[t]);a_[n]||(a_[n]=new WeakMap);var s=a_[n],a=[],l=new Set,u=new Set(i),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};i.forEach(d);var h=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(g){if(l.has(g))h(g);else try{var v=g.getAttribute(r),b=v!==null&&v!=="false",_=(Qh.get(g)||0)+1,x=(s.get(g)||0)+1;Qh.set(g,_),s.set(g,x),a.push(g),_===1&&b&&s_.set(g,!0),x===1&&g.setAttribute(n,"true"),b||g.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",g,j)}})};return h(e),l.clear(),UE++,function(){a.forEach(function(m){var g=Qh.get(m)-1,v=s.get(m)-1;Qh.set(m,g),s.set(m,v),g||(s_.has(m)||m.removeAttribute(r),s_.delete(m)),v||m.removeAttribute(n)}),UE--,UE||(Qh=new WeakMap,Qh=new WeakMap,s_=new WeakMap,a_={})}},EM=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=rbe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),sbe(r,i,n,"aria-hidden")):function(){return null}},sj="Dialog",[WK,GK]=qs(sj),[abe,eo]=WK(sj),YK=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,l=N.useRef(null),u=N.useRef(null),[d,h]=Sf({prop:r,defaultProp:i??!1,onChange:s,caller:sj});return o.jsx(abe,{scope:e,triggerRef:l,contentRef:u,contentId:Vo(),titleId:Vo(),descriptionId:Vo(),open:d,onOpenChange:h,onOpenToggle:N.useCallback(()=>h(m=>!m),[h]),modal:a,children:n})};YK.displayName=sj;var KK="DialogTrigger",XK=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=eo(KK,n),s=Xt(e,i.triggerRef);return o.jsx(yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":kM(i.open),...r,ref:s,onClick:Ze(t.onClick,i.onOpenToggle)})});XK.displayName=KK;var TM="DialogPortal",[obe,QK]=WK(TM,{forceMount:void 0}),ZK=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=eo(TM,e);return o.jsx(obe,{scope:e,forceMount:n,children:N.Children.map(r,a=>o.jsx(Hs,{present:n||s.open,children:o.jsx(nj,{asChild:!0,container:i,children:a})}))})};ZK.displayName=TM;var Mw="DialogOverlay",JK=N.forwardRef((t,e)=>{const n=QK(Mw,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=eo(Mw,t.__scopeDialog);return s.modal?o.jsx(Hs,{present:r||s.open,children:o.jsx(cbe,{...i,ref:e})}):null});JK.displayName=Mw;var lbe=wf("DialogOverlay.RemoveScroll"),cbe=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=eo(Mw,n);return o.jsx(ij,{as:lbe,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(yt.div,{"data-state":kM(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),jf="DialogContent",eX=N.forwardRef((t,e)=>{const n=QK(jf,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=eo(jf,t.__scopeDialog);return o.jsx(Hs,{present:r||s.open,children:s.modal?o.jsx(ube,{...i,ref:e}):o.jsx(dbe,{...i,ref:e})})});eX.displayName=jf;var ube=N.forwardRef((t,e)=>{const n=eo(jf,t.__scopeDialog),r=N.useRef(null),i=Xt(e,n.contentRef,r);return N.useEffect(()=>{const s=r.current;if(s)return EM(s)},[]),o.jsx(tX,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ze(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ze(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:Ze(t.onFocusOutside,s=>s.preventDefault())})}),dbe=N.forwardRef((t,e)=>{const n=eo(jf,t.__scopeDialog),r=N.useRef(!1),i=N.useRef(!1);return o.jsx(tX,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var u,d;(u=t.onInteractOutside)==null||u.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),tX=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,l=eo(jf,n),u=N.useRef(null),d=Xt(e,u);return AM(),o.jsxs(o.Fragment,{children:[o.jsx(tj,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(ej,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":kM(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(hbe,{titleId:l.titleId}),o.jsx(pbe,{contentRef:u,descriptionId:l.descriptionId})]})]})}),CM="DialogTitle",nX=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=eo(CM,n);return o.jsx(yt.h2,{id:i.titleId,...r,ref:e})});nX.displayName=CM;var rX="DialogDescription",iX=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=eo(rX,n);return o.jsx(yt.p,{id:i.descriptionId,...r,ref:e})});iX.displayName=rX;var sX="DialogClose",aX=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=eo(sX,n);return o.jsx(yt.button,{type:"button",...r,ref:e,onClick:Ze(t.onClick,()=>i.onOpenChange(!1))})});aX.displayName=sX;function kM(t){return t?"open":"closed"}var oX="DialogTitleWarning",[fbe,lX]=Kve(oX,{contentName:jf,titleName:CM,docsSlug:"dialog"}),hbe=({titleId:t})=>{const e=lX(oX),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},mbe="DialogDescriptionWarning",pbe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lX(mbe).contentName}}.`;return N.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},cX=YK,uX=XK,dX=ZK,OM=JK,RM=eX,PM=nX,IM=iX,MM=aX;const Xm=cX,gbe=uX,ybe=dX,fX=N.forwardRef(({className:t,...e},n)=>o.jsx(OM,{ref:n,className:Xe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));fX.displayName=OM.displayName;const Nf=N.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(ybe,{children:[o.jsx(fX,{}),o.jsxs(RM,{ref:r,className:Xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(MM,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(NM,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nf.displayName=RM.displayName;const Qm=({className:t,...e})=>o.jsx("div",{className:Xe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Qm.displayName="DialogHeader";const Dw=({className:t,...e})=>o.jsx("div",{className:Xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Dw.displayName="DialogFooter";const Af=N.forwardRef(({className:t,...e},n)=>o.jsx(PM,{ref:n,className:Xe("text-lg font-semibold leading-none tracking-tight",t),...e}));Af.displayName=PM.displayName;const Ef=N.forwardRef(({className:t,...e},n)=>o.jsx(IM,{ref:n,className:Xe("text-sm text-muted-foreground",t),...e}));Ef.displayName=IM.displayName;function DM(t){const e=t+"CollectionProvider",[n,r]=qs(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=_=>{const{scope:x,children:j}=_,A=Q.useRef(null),C=Q.useRef(new Map).current;return o.jsx(i,{scope:x,itemMap:C,collectionRef:A,children:j})};a.displayName=e;const l=t+"CollectionSlot",u=wf(l),d=Q.forwardRef((_,x)=>{const{scope:j,children:A}=_,C=s(l,j),P=Xt(x,C.collectionRef);return o.jsx(u,{ref:P,children:A})});d.displayName=l;const h=t+"CollectionItemSlot",m="data-radix-collection-item",g=wf(h),v=Q.forwardRef((_,x)=>{const{scope:j,children:A,...C}=_,P=Q.useRef(null),T=Xt(x,P),I=s(h,j);return Q.useEffect(()=>(I.itemMap.set(P,{ref:P,...C}),()=>void I.itemMap.delete(P))),o.jsx(g,{[m]:"",ref:T,children:A})});v.displayName=h;function b(_){const x=s(t+"CollectionConsumer",_);return Q.useCallback(()=>{const A=x.collectionRef.current;if(!A)return[];const C=Array.from(A.querySelectorAll(`[${m}]`));return Array.from(x.itemMap.values()).sort((I,E)=>C.indexOf(I.ref.current)-C.indexOf(E.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:d,ItemSlot:v},b,r]}var vbe=N.createContext(void 0);function ob(t){const e=N.useContext(vbe);return t||e||"ltr"}var zE="rovingFocusGroup.onEntryFocus",xbe={bubbles:!1,cancelable:!0},lb="RovingFocusGroup",[tR,hX,bbe]=DM(lb),[_be,aj]=qs(lb,[bbe]),[wbe,Sbe]=_be(lb),mX=N.forwardRef((t,e)=>o.jsx(tR.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(tR.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(jbe,{...t,ref:e})})}));mX.displayName=lb;var jbe=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...m}=t,g=N.useRef(null),v=Xt(e,g),b=ob(s),[_,x]=Sf({prop:a,defaultProp:l??null,onChange:u,caller:lb}),[j,A]=N.useState(!1),C=pi(d),P=hX(n),T=N.useRef(!1),[I,E]=N.useState(0);return N.useEffect(()=>{const k=g.current;if(k)return k.addEventListener(zE,C),()=>k.removeEventListener(zE,C)},[C]),o.jsx(wbe,{scope:n,orientation:r,dir:b,loop:i,currentTabStopId:_,onItemFocus:N.useCallback(k=>x(k),[x]),onItemShiftTab:N.useCallback(()=>A(!0),[]),onFocusableItemAdd:N.useCallback(()=>E(k=>k+1),[]),onFocusableItemRemove:N.useCallback(()=>E(k=>k-1),[]),children:o.jsx(yt.div,{tabIndex:j||I===0?-1:0,"data-orientation":r,...m,ref:v,style:{outline:"none",...t.style},onMouseDown:Ze(t.onMouseDown,()=>{T.current=!0}),onFocus:Ze(t.onFocus,k=>{const O=!T.current;if(k.target===k.currentTarget&&O&&!j){const D=new CustomEvent(zE,xbe);if(k.currentTarget.dispatchEvent(D),!D.defaultPrevented){const M=P().filter(U=>U.focusable),V=M.find(U=>U.active),$=M.find(U=>U.id===_),H=[V,$,...M].filter(Boolean).map(U=>U.ref.current);yX(H,h)}}T.current=!1}),onBlur:Ze(t.onBlur,()=>A(!1))})})}),pX="RovingFocusGroupItem",gX=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...l}=t,u=Vo(),d=s||u,h=Sbe(pX,n),m=h.currentTabStopId===d,g=hX(n),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:_}=h;return N.useEffect(()=>{if(r)return v(),()=>b()},[r,v,b]),o.jsx(tR.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:o.jsx(yt.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:Ze(t.onMouseDown,x=>{r?h.onItemFocus(d):x.preventDefault()}),onFocus:Ze(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:Ze(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const j=Ebe(x,h.orientation,h.dir);if(j!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let C=g().filter(P=>P.focusable).map(P=>P.ref.current);if(j==="last")C.reverse();else if(j==="prev"||j==="next"){j==="prev"&&C.reverse();const P=C.indexOf(x.currentTarget);C=h.loop?Tbe(C,P+1):C.slice(P+1)}setTimeout(()=>yX(C))}}),children:typeof a=="function"?a({isCurrentTabStop:m,hasTabStop:_!=null}):a})})});gX.displayName=pX;var Nbe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Abe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Ebe(t,e,n){const r=Abe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Nbe[r]}function yX(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Tbe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var vX=mX,xX=gX,oj="Tabs",[Cbe,Oze]=qs(oj,[aj]),bX=aj(),[kbe,LM]=Cbe(oj),_X=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:l,activationMode:u="automatic",...d}=t,h=ob(l),[m,g]=Sf({prop:r,onChange:i,defaultProp:s??"",caller:oj});return o.jsx(kbe,{scope:n,baseId:Vo(),value:m,onValueChange:g,orientation:a,dir:h,activationMode:u,children:o.jsx(yt.div,{dir:h,"data-orientation":a,...d,ref:e})})});_X.displayName=oj;var wX="TabsList",SX=N.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=LM(wX,n),a=bX(n);return o.jsx(vX,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:o.jsx(yt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});SX.displayName=wX;var jX="TabsTrigger",NX=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=LM(jX,n),l=bX(n),u=TX(a.baseId,r),d=CX(a.baseId,r),h=r===a.value;return o.jsx(xX,{asChild:!0,...l,focusable:!i,active:h,children:o.jsx(yt.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...s,ref:e,onMouseDown:Ze(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?a.onValueChange(r):m.preventDefault()}),onKeyDown:Ze(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&a.onValueChange(r)}),onFocus:Ze(t.onFocus,()=>{const m=a.activationMode!=="manual";!h&&!i&&m&&a.onValueChange(r)})})})});NX.displayName=jX;var AX="TabsContent",EX=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,l=LM(AX,n),u=TX(l.baseId,r),d=CX(l.baseId,r),h=r===l.value,m=N.useRef(h);return N.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),o.jsx(Hs,{present:i||h,children:({present:g})=>o.jsx(yt.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:d,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:g&&s})})});EX.displayName=AX;function TX(t,e){return`${t}-trigger-${e}`}function CX(t,e){return`${t}-content-${e}`}var Obe=_X,kX=SX,OX=NX,RX=EX;const qu=Obe,gc=N.forwardRef(({className:t,...e},n)=>o.jsx(kX,{ref:n,className:Xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));gc.displayName=kX.displayName;const bn=N.forwardRef(({className:t,...e},n)=>o.jsx(OX,{ref:n,className:Xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));bn.displayName=OX.displayName;const qn=N.forwardRef(({className:t,...e},n)=>o.jsx(RX,{ref:n,className:Xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));qn.displayName=RX.displayName;const Rbe=gM("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Wa({className:t,variant:e,...n}){return o.jsx("div",{"data-slot":"alert",role:"alert",className:Xe(Rbe({variant:e}),t),...n})}function Zm({className:t,...e}){return o.jsx("div",{"data-slot":"alert-title",className:Xe("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),...e})}function Ga({className:t,...e}){return o.jsx("div",{"data-slot":"alert-description",className:Xe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function vV({buttonText:t="Login",buttonVariant:e="default",className:n=""}){const[r,i]=N.useState(!1),[s,a]=N.useState("signin"),[l,u]=N.useState(""),[d,h]=N.useState(""),[m,g]=N.useState(""),[v,b]=N.useState(""),[_,x]=N.useState(""),[j,A]=N.useState(!1),C=ps(),P=async I=>{I.preventDefault(),x(""),A(!0);try{console.log("Attempting to sign in with email:",l);const k=(await xI(Ci,l,d)).user;console.log("User authenticated successfully:",k.uid);const O=await vi(Je(xe,"users",k.uid));if(O.exists()){const D=O.data();let M=D.role;Array.isArray(M)&&(console.log("User role is an array:",M),M=M[0]||"staff"),console.log("User profile loaded, normalized role:",M);const V=hK({uid:k.uid,email:k.email,role:M,verified:D.verified||!1,approved:D.approved||!1});console.log("Redirecting to landing route:",V),C(V)}else console.log("No user profile found, navigating to root"),C("/");i(!1)}catch(E){switch(console.error("Sign in error:",E.code,E.message),E.code){case"auth/invalid-email":x("Invalid email address format.");break;case"auth/user-not-found":x("No account found with this email.");break;case"auth/wrong-password":x("Incorrect password.");break;case"auth/too-many-requests":x("Too many failed attempts. Please try again later.");break;case"auth/network-request-failed":x("Network error. Please check your connection and try again.");break;default:x(`Failed to sign in: ${E.message}`)}}finally{A(!1)}},T=async I=>{if(I.preventDefault(),x(""),A(!0),!m||!l||!d||!v){x("Please fill in all fields."),A(!1);return}try{console.log("Attempting to create account for:",l);const k=(await XW(Ci,l,d)).user;console.log("User account created successfully:",k.uid),await Bs(Je(xe,"users",k.uid),{name:m,email:l,storeName:v,verified:!1,verificationStatus:"not_submitted",createdAt:new Date,role:"retailer"}),console.log("User profile created, navigating to profile page"),C("/retailer/profile"),i(!1)}catch(E){switch(console.error("Sign up error:",E.code,E.message),E.code){case"auth/email-already-in-use":x("An account with this email already exists.");break;case"auth/invalid-email":x("Invalid email address format.");break;case"auth/weak-password":x("Password should be at least 6 characters.");break;case"auth/network-request-failed":x("Network error. Please check your connection and try again.");break;default:x(`Failed to create account: ${E.message}`)}}finally{A(!1)}};return o.jsxs(Xm,{open:r,onOpenChange:i,children:[o.jsx(gbe,{asChild:!0,children:o.jsxs(Oe,{variant:e,className:`flex items-center ${n}`,children:[o.jsx(iV,{className:"w-4 h-4 mr-2"}),t]})}),o.jsxs(Nf,{className:"sm:max-w-md",children:[o.jsx(Af,{className:"sr-only",children:"Authentication"}),o.jsx(Ef,{className:"sr-only",children:"Sign in to your account or create a new account"}),o.jsx("div",{className:"p-4",children:o.jsxs(qu,{value:s,onValueChange:a,className:"w-full",children:[o.jsxs(gc,{className:"grid w-full grid-cols-2 mb-6",children:[o.jsx(bn,{value:"signin",className:"font-body",children:"Sign In"}),o.jsx(bn,{value:"signup",className:"font-body",children:"Create Account"})]}),o.jsxs(qn,{value:"signin",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(iV,{className:"w-8 h-8 text-brand-secondary"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2 font-heading text-brand-primary",children:"Welcome Back"}),o.jsx("p",{className:"text-gray-600 mb-6 font-body",children:"Sign in to access your profile, challenges, and community features."})]}),_&&o.jsxs(Wa,{variant:"destructive",className:"mb-4",children:[o.jsx(Oi,{className:"h-4 w-4"}),o.jsx(Ga,{className:"font-body",children:_})]}),o.jsxs("form",{onSubmit:P,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"signin-email",className:"block text-sm font-medium text-brand-primary mb-1 font-body",children:"Email"}),o.jsx(bt,{id:"signin-email",type:"email",value:l,onChange:I=>u(I.target.value),placeholder:"your.email@example.com",required:!0,className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary font-body",disabled:j})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"signin-password",className:"block text-sm font-medium text-brand-primary mb-1 font-body",children:"Password"}),o.jsx(bt,{id:"signin-password",type:"password",value:d,onChange:I=>h(I.target.value),placeholder:"",required:!0,className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary font-body",disabled:j})]}),o.jsx(Oe,{type:"submit",className:"w-full bg-brand-primary hover:bg-brand-primary/90 font-body",disabled:j,children:j?"Signing in...":"Sign In"})]}),o.jsx("div",{className:"mt-4 text-center",children:o.jsxs("p",{className:"text-sm text-gray-600 font-body",children:["Don't have an account?"," ",o.jsx("button",{onClick:()=>a("signup"),className:"text-brand-secondary hover:underline font-medium",children:"Create Account"})]})})]}),o.jsxs(qn,{value:"signup",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(Vve,{className:"w-8 h-8 text-brand-secondary"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2 font-heading text-brand-primary",children:"Join EngageNatural"}),o.jsx("p",{className:"text-gray-600 mb-6 font-body",children:"Create your account to access challenges, community content, and exclusive features."})]}),_&&o.jsxs(Wa,{variant:"destructive",className:"mb-4",children:[o.jsx(Oi,{className:"h-4 w-4"}),o.jsx(Ga,{className:"font-body",children:_})]}),o.jsxs("form",{onSubmit:T,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"signup-name",className:"block text-sm font-medium text-brand-primary mb-1 font-body",children:"Full Name"}),o.jsx(bt,{id:"signup-name",type:"text",value:m,onChange:I=>g(I.target.value),placeholder:"Your full name",required:!0,className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary font-body",disabled:j})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"signup-email",className:"block text-sm font-medium text-brand-primary mb-1 font-body",children:"Email"}),o.jsx(bt,{id:"signup-email",type:"email",value:l,onChange:I=>u(I.target.value),placeholder:"your.email@example.com",required:!0,className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary font-body",disabled:j})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"signup-password",className:"block text-sm font-medium text-brand-primary mb-1 font-body",children:"Password"}),o.jsx(bt,{id:"signup-password",type:"password",value:d,onChange:I=>h(I.target.value),placeholder:"Create a secure password",required:!0,className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary font-body",disabled:j})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"signup-store",className:"block text-sm font-medium text-brand-primary mb-1 font-body",children:"Store Name"}),o.jsx(bt,{id:"signup-store",type:"text",value:v,onChange:I=>b(I.target.value),placeholder:"Where do you work?",required:!0,className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary font-body",disabled:j})]}),o.jsx(Oe,{type:"submit",className:"w-full bg-brand-secondary hover:bg-brand-secondary/90 font-body",disabled:j,children:j?"Creating Account...":"Create Account"})]}),o.jsx("div",{className:"mt-4 text-center",children:o.jsxs("p",{className:"text-sm text-gray-600 font-body",children:["Already have an account?"," ",o.jsx("button",{onClick:()=>a("signin"),className:"text-brand-secondary hover:underline font-medium",children:"Sign In"})]})})]})]})})]})]})}const Pbe="/assets/Lizaonbeachheadshot-DcBVnZbK.jpg",Ibe="/assets/communityof5-M0ZUnn3_.jpg";function xV(){const[t,e]=N.useState({name:"",email:"",company:"",message:""}),n=s=>{e({...t,[s.target.name]:s.target.value})},r=s=>{s.preventDefault();const a=s.target,l=new FormData(a);fetch("https://formspree.io/f/xeokjykw",{method:"POST",body:l,headers:{Accept:"application/json"}}).then(u=>{u.ok?(alert("Thank you! Your message has been sent."),e({name:"",email:"",company:"",message:""})):alert("Oops! There was a problem submitting your form")}).catch(u=>{alert("Oops! There was a problem submitting your form")})},i=()=>{document.getElementById("contact").scrollIntoView({behavior:"smooth"})};return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("nav",{className:"fixed top-0 w-full bg-white/95 backdrop-blur-sm border-b border-gray-200 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx("div",{className:"text-2xl font-bold text-brand-primary font-heading",children:"EngageNatural"}),o.jsxs("div",{className:"hidden md:flex space-x-8 items-center",children:[o.jsx("button",{onClick:i,className:"text-gray-700 hover:text-brand-secondary transition-colors font-body",children:"Contact"}),o.jsx(vV,{buttonText:"Login",buttonVariant:"default",className:"bg-brand-primary hover:bg-brand-primary/90 text-white px-6 py-2 rounded-lg transition-colors flex items-center font-body"})]})]})})}),o.jsx("section",{className:"pt-20 pb-16 bg-gradient-to-br from-green-50 to-blue-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-brand-primary mb-6 font-heading",children:["Engage",o.jsx("span",{className:"text-brand-secondary",children:"Natural"})]}),o.jsx("p",{className:"text-xl text-gray-600 mb-4 max-w-3xl mx-auto font-body",children:"Learn. Connect. Grow. Naturally"}),o.jsx("p",{className:"text-lg text-brand-secondary font-semibold mb-8 max-w-3xl mx-auto font-body",children:"More Than Training It's a Movement"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center mt-16",children:[o.jsxs("div",{className:"text-left",children:[o.jsx("h2",{className:"text-3xl font-bold text-brand-primary mb-6 font-heading",children:"The Only Platform Built Exclusively For Natural Products Retail Staff"}),o.jsxs("div",{className:"space-y-4 mb-8",children:[o.jsxs("div",{className:"flex items-start",children:[o.jsx(cs,{className:"w-6 h-6 text-brand-secondary mr-3 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-brand-primary font-body",children:"Double Your Product Knowledge in 30 Days"}),o.jsx("p",{className:"text-gray-600 font-body",children:"Master ingredients, benefits, and customer recommendations through bite-sized daily challenges"})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx(cs,{className:"w-6 h-6 text-brand-secondary mr-3 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-brand-primary font-body",children:"Join an Elite Community of Natural Retail Pros"}),o.jsx("p",{className:"text-gray-600 font-body",children:"Connect with verified peers who understand your daily challenges and celebrate your wins"})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx(cs,{className:"w-6 h-6 text-brand-secondary mr-3 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-brand-primary font-body",children:"Earn Real Rewards While Building Your Career"}),o.jsx("p",{className:"text-gray-600 font-body",children:"Transform your expertise into recognition, samples, and career advancement opportunities"})]})]})]}),o.jsx(vV,{buttonText:"Join the Community",buttonVariant:"default",className:"bg-brand-secondary hover:bg-brand-secondary/90 text-white px-8 py-3 text-lg font-body"})]}),o.jsx("div",{className:"relative",children:o.jsx("img",{src:Ibe,alt:"Retail community",className:"rounded-2xl shadow-2xl"})})]})]})})}),o.jsxs("div",{className:"mt-8 text-center",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"Get the mobile app for the full experience"}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsxs("button",{className:"bg-black text-white px-6 py-3 rounded-lg flex items-center space-x-2 hover:bg-gray-800 transition-colors",children:[o.jsx("span",{children:""}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-xs",children:"Download on the"}),o.jsx("div",{className:"text-sm font-semibold",children:"App Store"})]})]}),o.jsxs("button",{className:"bg-black text-white px-6 py-3 rounded-lg flex items-center space-x-2 hover:bg-gray-800 transition-colors",children:[o.jsx("span",{children:""}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-xs",children:"Get it on"}),o.jsx("div",{className:"text-sm font-semibold",children:"Google Play"})]})]})]})]}),o.jsx("section",{className:"py-20 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-brand-primary mb-4 font-heading",children:"Why Choose EngageNatural?"}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto font-body",children:"Stop wasting time on generic platforms that don't understand natural products. Start growing your expertise, community, and career with the only app built for YOU."})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[o.jsx(De,{className:"text-center p-8 hover:shadow-lg transition-shadow",children:o.jsxs(Fe,{className:"pt-6",children:[o.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(qye,{className:"w-8 h-8 text-brand-secondary"})}),o.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-3 font-heading",children:"Gamified Experience"}),o.jsx("p",{className:"text-gray-600 font-body",children:"Forget boring training modules. Our challenges turn learning into a game that's actually FUN, with points, badges, and rewards that keep you coming back for more."})]})}),o.jsx(De,{className:"text-center p-8 hover:shadow-lg transition-shadow",children:o.jsxs(Fe,{className:"pt-6",children:[o.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(cye,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-3 font-heading",children:"Expert Knowledge"}),o.jsx("p",{className:"text-gray-600 font-body",children:"Become the go-to expert your customers trust. Access exclusive content directly from top brands that 99% of your coworkers will never see."})]})}),o.jsx(De,{className:"text-center p-8 hover:shadow-lg transition-shadow",children:o.jsxs(Fe,{className:"pt-6",children:[o.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center",children:o.jsx(wM,{className:"w-8 h-8 text-purple-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-3 font-heading",children:"Community Support"}),o.jsx("p",{className:"text-gray-600 font-body",children:"Stop feeling isolated in your store. Join the ONLY verified community of natural retail professionals who understand exactly what you're going through."})]})})]})]})}),o.jsx("section",{className:"py-20 bg-white",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-4xl font-bold text-brand-primary mb-6 font-heading",children:"Meet the Founder"}),o.jsx("p",{className:"text-lg text-gray-600 mb-6 font-body",children:"Hi, I'm Liza! After 30+ years in the natural products industry, I've seen firsthand how retail staff are the MOST IMPORTANT yet MOST OVERLOOKED part of the entire ecosystem."}),o.jsx("p",{className:"text-lg text-gray-600 mb-8 font-body",children:"EngageNatural exists because YOU deserve better than generic training platforms that don't understand our industry. This is more than an app - it's a movement to recognize, reward, and elevate the retail professionals who make natural products successful."}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs(Oe,{variant:"outline",size:"sm",className:"border-brand-primary text-brand-primary hover:bg-brand-primary hover:text-white",children:[o.jsx(ei,{className:"w-4 h-4 mr-2"}),"LinkedIn"]}),o.jsxs(Oe,{variant:"outline",size:"sm",className:"border-brand-primary text-brand-primary hover:bg-brand-primary hover:text-white",children:[o.jsx(mve,{className:"w-4 h-4 mr-2"}),"Email"]})]})]}),o.jsx("div",{className:"relative",children:o.jsx("img",{src:Pbe,alt:"Liza - Founder of EngageNatural",className:"rounded-2xl shadow-2xl max-w-xs mx-auto transform scale-x-[-1]"})})]})})}),o.jsx("section",{id:"contact",className:"py-20 bg-gray-50",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-brand-primary mb-4 font-heading",children:"Get In Touch"}),o.jsx("p",{className:"text-xl text-gray-600 font-body",children:"Ready to transform your retail experience? Let's start the conversation."})]}),o.jsx(De,{className:"p-8",children:o.jsx(Fe,{children:o.jsxs("form",{onSubmit:r,className:"space-y-6",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-brand-primary mb-2 font-body",children:"Name *"}),o.jsx(bt,{type:"text",id:"name",name:"name",value:t.name,onChange:n,required:!0,placeholder:"Your full name",className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-brand-primary mb-2 font-body",children:"Email *"}),o.jsx(bt,{type:"email",id:"email",name:"email",value:t.email,onChange:n,required:!0,placeholder:"your.email@company.com",className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-brand-primary mb-2 font-body",children:"Company"}),o.jsx(bt,{type:"text",id:"company",name:"company",value:t.company,onChange:n,placeholder:"Your company name",className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-brand-primary mb-2 font-body",children:"Message *"}),o.jsx(wu,{id:"message",name:"message",rows:5,value:t.message,onChange:n,required:!0,placeholder:"Tell us about your needs and how we can help...",className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary"})]}),o.jsx(Oe,{type:"submit",className:"w-full bg-brand-primary hover:bg-brand-primary/90 text-white py-3 font-body",children:"Send Message"})]})})})]})}),o.jsx("footer",{className:"bg-brand-primary text-white py-12",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold mb-4 font-heading",children:"EngageNatural"}),o.jsx("p",{className:"text-gray-300 font-body",children:"Empowering retail teams through gamified engagement and community building."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-4 font-heading",children:"For Retail Staff"}),o.jsxs("ul",{className:"space-y-2 text-gray-300 font-body",children:[o.jsx("li",{children:"Gamified Learning"}),o.jsx("li",{children:"Community Connection"}),o.jsx("li",{children:"Career Growth"}),o.jsx("li",{children:"Expert Knowledge"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-4 font-heading",children:"Platform"}),o.jsxs("ul",{className:"space-y-2 text-gray-300 font-body",children:[o.jsx("li",{children:"Challenges"}),o.jsx("li",{children:"Community"}),o.jsx("li",{children:"Learning"}),o.jsx("li",{children:"Verification"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-4 font-heading",children:"Connect"}),o.jsxs("ul",{className:"space-y-2 text-gray-300 font-body",children:[o.jsx("li",{children:"Contact Us"}),o.jsx("li",{children:"LinkedIn"}),o.jsx("li",{children:"Support"}),o.jsx("li",{children:"Privacy Policy"})]})]})]}),o.jsx("div",{className:"border-t border-gray-600 mt-8 pt-8 text-center text-gray-300",children:o.jsx("p",{className:"font-body",children:" 2024 EngageNatural. All rights reserved."})})]})})]})}function lj(){const{role:t,brandId:e,hasPermission:n,isSuperAdmin:r,isBrandManager:i,isRetailUser:s,isCommunityUser:a}=Vn();return{role:t,brandId:e,canAccess:d=>t?(Array.isArray(d)?d:[d]).some(m=>n(m)):!1,canViewAnalytics:(d="all")=>r||d==="brand"&&i&&e?!0:d==="all"?n(My.VIEW_ANALYTICS):!1,isSuperAdmin:r,isBrandManager:i,isRetailUser:s,isCommunityUser:a}}const Mbe=[{name:"Overview",href:"/admin",icon:OK,current:!1},{name:"Users",href:"/admin/users",icon:ei,current:!1,permission:["manage_users"]},{name:"Verifications",href:"/admin/verifications",icon:jM,current:!1,permission:["approve_verifications"]},{name:"Brands",href:"/admin/brands",icon:QS,current:!1,permission:["manage_brands","manage_brand_content","manage_brand_products"]},{name:"Analytics",href:"/admin/analytics",icon:Dv,current:!1,permission:["view_analytics"]},{name:"Content",href:"/admin/content",icon:Fl,current:!1,permission:["manage_content","manage_brand_content"]},{name:"Products",href:"/admin/products",icon:Iv,current:!1,permission:["manage_brand_products"]},{name:"Activity",href:"/admin/activity",icon:du,current:!1},{name:"Settings",href:"/admin/settings",icon:lc,current:!1,permission:["system_settings"]},{name:"Demo Data",href:"/admin/demo",icon:Ym,current:!1,permission:["system_settings"]},{name:"Dev Tools",href:"/admin/dev",icon:Gve,current:!1,permission:["system_settings"]},{name:"Env Check",href:"/admin/env-check",icon:du,current:!1,permission:["system_settings"]}];function Dbe(){const t=zs(),e=ps(),{signOut:n}=Vn();let r;try{r=lj()}catch{r={}}const i=typeof(r==null?void 0:r.canAccess)=="function"?r.canAccess:()=>!0,s=(r==null?void 0:r.role)||"guest",a=d=>{switch(d){case"super_admin":return"Super Admin";case"brand_admin":return"Brand Admin";case"retail_admin":return"Retail Admin";default:return"User"}},l=Mbe.filter(d=>d.permission?i(d.permission):!0),u=async()=>{try{await n()}finally{e("/?logout=true",{replace:!0})}};return o.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-64 lg:flex-col",children:o.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white px-6 pb-4 border-r border-gray-200",children:[o.jsx("div",{className:"flex h-16 shrink-0 items-center",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"h-8 w-8 rounded-lg bg-blue-600 flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-sm",children:"EN"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"EngageNatural"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]})}),o.jsxs("div",{className:"px-3 py-2 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsx("p",{className:"text-sm font-medium text-blue-900",children:a(s)}),o.jsx("p",{className:"text-xs text-blue-600",children:"Access Level"})]}),o.jsx("nav",{className:"flex flex-1 flex-col",children:o.jsxs("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[o.jsx("li",{children:o.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:l.map(d=>{const h=t.pathname===d.href||d.href!=="/admin"&&t.pathname.startsWith(d.href);return o.jsx("li",{children:o.jsxs(Mt,{to:d.href,className:Xe(h?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-700 hover:text-blue-700 hover:bg-gray-50","group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold transition-colors"),children:[o.jsx(d.icon,{className:Xe(h?"text-blue-700":"text-gray-400 group-hover:text-blue-700","h-6 w-6 shrink-0"),"aria-hidden":"true"}),d.name]})},d.name)})})}),o.jsxs("li",{className:"mt-auto",children:[o.jsx("div",{className:"px-2 py-2 border-t border-gray-200",children:o.jsxs(Mt,{to:"/admin/legacy",className:"group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold text-gray-500 hover:text-gray-700 hover:bg-gray-50 transition-colors",children:[o.jsx(ZS,{className:"h-5 w-5 shrink-0","aria-hidden":"true"}),"Legacy Dashboard"]})}),o.jsx("div",{className:"px-2 py-2",children:o.jsxs("button",{type:"button",onClick:u,className:"group flex w-full gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold text-gray-500 hover:text-red-700 hover:bg-gray-50 transition-colors",children:[o.jsx(JS,{className:"h-5 w-5 shrink-0","aria-hidden":"true"}),"Logout"]})})]})]})})]})})}function cr({children:t}){const{user:e,loading:n}=Vn();return zs(),n?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"})}):!e||e.role!=="super_admin"?o.jsx(No,{to:"/",replace:!0}):o.jsxs("div",{className:"flex h-screen bg-gray-100",children:[o.jsx(Dbe,{}),o.jsx("main",{className:"flex-1 overflow-y-auto p-8 lg:ml-64",children:t})]})}function Lbe(){const t=[{name:"Verify Staff",href:"/admin/verifications",icon:jM,color:"bg-purple-500 hover:bg-purple-600"},{name:"Manage Users",href:"/admin/users",icon:ei,color:"bg-blue-500 hover:bg-blue-600"},{name:"Brand Management",href:"/admin/brands",icon:QS,color:"bg-green-500 hover:bg-green-600"},{name:"Analytics",href:"/admin/analytics",icon:Dv,color:"bg-orange-500 hover:bg-orange-600"},{name:"Activity Log",href:"/admin/activity",icon:du,color:"bg-indigo-500 hover:bg-indigo-600"},{name:"System Settings",href:"/admin/settings",icon:lc,color:"bg-gray-500 hover:bg-gray-600"}],e=[{name:"Total Users",stat:"71",change:"12",changeType:"increase"},{name:"Pending Verifications",stat:"5",change:"2.02%",changeType:"increase"},{name:"Active Brands",stat:"12",change:"4.75%",changeType:"increase"},{name:"System Health",stat:"98.5%",change:"0.12%",changeType:"increase"}];return o.jsxs("div",{children:[o.jsx("div",{className:"md:flex md:items-center md:justify-between mb-8",children:o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Admin Dashboard"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Welcome back! Here's an overview of your system."})]})}),o.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:e.map(n=>o.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:o.jsxs("div",{className:"p-5",children:[o.jsx("div",{className:"flex items-center",children:o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"text-sm font-medium text-gray-500 truncate",children:n.name})})}),o.jsxs("div",{className:"mt-1 flex items-baseline justify-between",children:[o.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:n.stat}),o.jsxs("div",{className:"flex items-baseline text-sm font-semibold text-green-600",children:["+",n.change]})]})]})},n.name))}),o.jsx("div",{className:"bg-white shadow rounded-lg",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),o.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t.map(n=>o.jsx(Mt,{to:n.href,className:"relative rounded-lg border border-gray-300 bg-white p-6 shadow-sm hover:shadow-md transition-shadow focus:outline-none focus:ring-2 focus:ring-blue-500",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`flex-shrink-0 rounded-lg p-3 text-white ${n.color}`,children:o.jsx(n.icon,{className:"h-6 w-6","aria-hidden":"true"})}),o.jsx("div",{className:"min-w-0 flex-1",children:o.jsx("span",{className:"text-sm font-medium text-gray-900",children:n.name})})]})},n.name))})]})})]})}var cb=t=>t.type==="checkbox",Jd=t=>t instanceof Date,Ki=t=>t==null;const PX=t=>typeof t=="object";var Nr=t=>!Ki(t)&&!Array.isArray(t)&&PX(t)&&!Jd(t),IX=t=>Nr(t)&&t.target?cb(t.target)?t.target.checked:t.target.value:t,$be=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,MX=(t,e)=>t.has($be(e)),Vbe=t=>{const e=t.constructor&&t.constructor.prototype;return Nr(e)&&e.hasOwnProperty("isPrototypeOf")},$M=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qr(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!($M&&(t instanceof Blob||r))&&(n||Nr(t)))if(e=n?[]:{},!n&&!Vbe(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Qr(t[i]));else return t;return e}var cj=t=>/^\w*$/.test(t),_r=t=>t===void 0,VM=t=>Array.isArray(t)?t.filter(Boolean):[],FM=t=>VM(t.replace(/["|']|\]/g,"").split(/\.|\[/)),qe=(t,e,n)=>{if(!e||!Nr(t))return n;const r=(cj(e)?[e]:FM(e)).reduce((i,s)=>Ki(i)?i:i[s],t);return _r(r)||r===t?_r(t[e])?n:t[e]:r},Ts=t=>typeof t=="boolean",En=(t,e,n)=>{let r=-1;const i=cj(e)?[e]:FM(e),s=i.length,a=s-1;for(;++r<s;){const l=i[r];let u=n;if(r!==a){const d=t[l];u=Nr(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=u,t=t[l]}};const Lw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ma={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Tl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},BM=Q.createContext(null);BM.displayName="HookFormContext";const uj=()=>Q.useContext(BM),Fbe=t=>{const{children:e,...n}=t;return Q.createElement(BM.Provider,{value:n},e)};var DX=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Ma.all&&(e._proxyFormState[a]=!r||Ma.all),n&&(n[a]=!0),t[a]}});return i};const UM=typeof window<"u"?N.useLayoutEffect:N.useEffect;function LX(t){const e=uj(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[a,l]=Q.useState(n._formState),u=Q.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return UM(()=>n._subscribe({name:i,formState:u.current,exact:s,callback:d=>{!r&&l({...n._formState,...d})}}),[i,r,s]),Q.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),Q.useMemo(()=>DX(a,n,u.current,!1),[a,n])}var To=t=>typeof t=="string",$X=(t,e,n,r,i)=>To(t)?(r&&e.watch.add(t),qe(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),qe(n,s))):(r&&(e.watchAll=!0),n);function Bbe(t){const e=uj(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:a}=t||{},l=Q.useRef(i),[u,d]=Q.useState(n._getWatch(r,l.current));return UM(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:h=>!s&&d($X(r,n._names,h.values||n._formValues,!1,l.current))}),[r,n,s,a]),Q.useEffect(()=>n._removeUnmounted()),u}function Ube(t){const e=uj(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,a=MX(i._names.array,n),l=Bbe({control:i,name:n,defaultValue:qe(i._formValues,n,qe(i._defaultValues,n,t.defaultValue)),exact:!0}),u=LX({control:i,name:n,exact:!0}),d=Q.useRef(t),h=Q.useRef(i.register(n,{...t.rules,value:l,...Ts(t.disabled)?{disabled:t.disabled}:{}})),m=Q.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!qe(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!qe(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!qe(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!qe(u.validatingFields,n)},error:{enumerable:!0,get:()=>qe(u.errors,n)}}),[u,n]),g=Q.useCallback(x=>h.current.onChange({target:{value:IX(x),name:n},type:Lw.CHANGE}),[n]),v=Q.useCallback(()=>h.current.onBlur({target:{value:qe(i._formValues,n),name:n},type:Lw.BLUR}),[n,i._formValues]),b=Q.useCallback(x=>{const j=qe(i._fields,n);j&&x&&(j._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:A=>x.setCustomValidity(A),reportValidity:()=>x.reportValidity()})},[i._fields,n]),_=Q.useMemo(()=>({name:n,value:l,...Ts(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:g,onBlur:v,ref:b}),[n,r,u.disabled,g,v,b,l]);return Q.useEffect(()=>{const x=i._options.shouldUnregister||s;i.register(n,{...d.current.rules,...Ts(d.current.disabled)?{disabled:d.current.disabled}:{}});const j=(A,C)=>{const P=qe(i._fields,A);P&&P._f&&(P._f.mount=C)};if(j(n,!0),x){const A=Qr(qe(i._options.defaultValues,n));En(i._defaultValues,n,A),_r(qe(i._formValues,n))&&En(i._formValues,n,A)}return!a&&i.register(n),()=>{(a?x&&!i._state.action:x)?i.unregister(n):j(n,!1)}},[n,i,a,s]),Q.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),Q.useMemo(()=>({field:_,formState:u,fieldState:m}),[_,u,m])}const zbe=t=>t.render(Ube(t));var zM=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},iv=t=>Array.isArray(t)?t:[t],bV=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},nR=t=>Ki(t)||!PX(t);function ou(t,e,n=new WeakSet){if(nR(t)||nR(e))return t===e;if(Jd(t)&&Jd(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of r){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const l=e[s];if(Jd(a)&&Jd(l)||Nr(a)&&Nr(l)||Array.isArray(a)&&Array.isArray(l)?!ou(a,l,n):a!==l)return!1}}return!0}var as=t=>Nr(t)&&!Object.keys(t).length,qM=t=>t.type==="file",Da=t=>typeof t=="function",$w=t=>{if(!$M)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},VX=t=>t.type==="select-multiple",HM=t=>t.type==="radio",qbe=t=>HM(t)||cb(t),qE=t=>$w(t)&&t.isConnected;function Hbe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=_r(t)?r++:t[e[r++]];return t}function Wbe(t){for(const e in t)if(t.hasOwnProperty(e)&&!_r(t[e]))return!1;return!0}function Or(t,e){const n=Array.isArray(e)?e:cj(e)?[e]:FM(e),r=n.length===1?t:Hbe(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Nr(r)&&as(r)||Array.isArray(r)&&Wbe(r))&&Or(t,n.slice(0,-1)),t}var FX=t=>{for(const e in t)if(Da(t[e]))return!0;return!1};function Vw(t,e={}){const n=Array.isArray(t);if(Nr(t)||n)for(const r in t)Array.isArray(t[r])||Nr(t[r])&&!FX(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Vw(t[r],e[r])):Ki(t[r])||(e[r]=!0);return e}function BX(t,e,n){const r=Array.isArray(t);if(Nr(t)||r)for(const i in t)Array.isArray(t[i])||Nr(t[i])&&!FX(t[i])?_r(e)||nR(n[i])?n[i]=Array.isArray(t[i])?Vw(t[i],[]):{...Vw(t[i])}:BX(t[i],Ki(e)?{}:e[i],n[i]):n[i]=!ou(t[i],e[i]);return n}var dy=(t,e)=>BX(t,e,Vw(e));const _V={value:!1,isValid:!1},wV={value:!0,isValid:!0};var UX=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!_r(t[0].attributes.value)?_r(t[0].value)||t[0].value===""?wV:{value:t[0].value,isValid:!0}:wV:_V}return _V},zX=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>_r(t)?t:e?t===""?NaN:t&&+t:n&&To(t)?new Date(t):r?r(t):t;const SV={isValid:!1,value:null};var qX=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,SV):SV;function jV(t){const e=t.ref;return qM(e)?e.files:HM(e)?qX(t.refs).value:VX(e)?[...e.selectedOptions].map(({value:n})=>n):cb(e)?UX(t.refs).value:zX(_r(e.value)?t.ref.value:e.value,t)}var Gbe=(t,e,n,r)=>{const i={};for(const s of t){const a=qe(e,s);a&&En(i,s,a._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Fw=t=>t instanceof RegExp,fy=t=>_r(t)?t:Fw(t)?t.source:Nr(t)?Fw(t.value)?t.value.source:t.value:t,NV=t=>({isOnSubmit:!t||t===Ma.onSubmit,isOnBlur:t===Ma.onBlur,isOnChange:t===Ma.onChange,isOnAll:t===Ma.all,isOnTouch:t===Ma.onTouched});const AV="AsyncFunction";var Ybe=t=>!!t&&!!t.validate&&!!(Da(t.validate)&&t.validate.constructor.name===AV||Nr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===AV)),Kbe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),EV=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const sv=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=qe(t,i);if(s){const{_f:a,...l}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(sv(l,e))break}else if(Nr(l)&&sv(l,e))break}}};function TV(t,e,n){const r=qe(t,n);if(r||cj(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=qe(e,s),l=qe(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:n}}var Xbe=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return as(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!r||Ma.all))},Qbe=(t,e,n)=>!t||!e||t===e||iv(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),Zbe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,Jbe=(t,e)=>!VM(qe(t,e)).length&&Or(t,e),e0e=(t,e,n)=>{const r=iv(qe(t,n));return En(r,"root",e[n]),En(t,n,r),t},nw=t=>To(t);function CV(t,e,n="validate"){if(nw(t)||Array.isArray(t)&&t.every(nw)||Ts(t)&&!t)return{type:n,message:nw(t)?t:"",ref:e}}var Zh=t=>Nr(t)&&!Fw(t)?t:{value:t,message:""},kV=async(t,e,n,r,i,s)=>{const{ref:a,refs:l,required:u,maxLength:d,minLength:h,min:m,max:g,pattern:v,validate:b,name:_,valueAsNumber:x,mount:j}=t._f,A=qe(n,_);if(!j||e.has(_))return{};const C=l?l[0]:a,P=V=>{i&&C.reportValidity&&(C.setCustomValidity(Ts(V)?"":V||""),C.reportValidity())},T={},I=HM(a),E=cb(a),k=I||E,O=(x||qM(a))&&_r(a.value)&&_r(A)||$w(a)&&a.value===""||A===""||Array.isArray(A)&&!A.length,D=zM.bind(null,_,r,T),M=(V,$,X,H=Tl.maxLength,U=Tl.minLength)=>{const q=V?$:X;T[_]={type:V?H:U,message:q,ref:a,...D(V?H:U,q)}};if(s?!Array.isArray(A)||!A.length:u&&(!k&&(O||Ki(A))||Ts(A)&&!A||E&&!UX(l).isValid||I&&!qX(l).isValid)){const{value:V,message:$}=nw(u)?{value:!!u,message:u}:Zh(u);if(V&&(T[_]={type:Tl.required,message:$,ref:C,...D(Tl.required,$)},!r))return P($),T}if(!O&&(!Ki(m)||!Ki(g))){let V,$;const X=Zh(g),H=Zh(m);if(!Ki(A)&&!isNaN(A)){const U=a.valueAsNumber||A&&+A;Ki(X.value)||(V=U>X.value),Ki(H.value)||($=U<H.value)}else{const U=a.valueAsDate||new Date(A),q=z=>new Date(new Date().toDateString()+" "+z),G=a.type=="time",W=a.type=="week";To(X.value)&&A&&(V=G?q(A)>q(X.value):W?A>X.value:U>new Date(X.value)),To(H.value)&&A&&($=G?q(A)<q(H.value):W?A<H.value:U<new Date(H.value))}if((V||$)&&(M(!!V,X.message,H.message,Tl.max,Tl.min),!r))return P(T[_].message),T}if((d||h)&&!O&&(To(A)||s&&Array.isArray(A))){const V=Zh(d),$=Zh(h),X=!Ki(V.value)&&A.length>+V.value,H=!Ki($.value)&&A.length<+$.value;if((X||H)&&(M(X,V.message,$.message),!r))return P(T[_].message),T}if(v&&!O&&To(A)){const{value:V,message:$}=Zh(v);if(Fw(V)&&!A.match(V)&&(T[_]={type:Tl.pattern,message:$,ref:a,...D(Tl.pattern,$)},!r))return P($),T}if(b){if(Da(b)){const V=await b(A,n),$=CV(V,C);if($&&(T[_]={...$,...D(Tl.validate,$.message)},!r))return P($.message),T}else if(Nr(b)){let V={};for(const $ in b){if(!as(V)&&!r)break;const X=CV(await b[$](A,n),C,$);X&&(V={...X,...D($,X.message)},P(X.message),r&&(T[_]=V))}if(!as(V)&&(T[_]={ref:C,...V},!r))return T}}return P(!0),T};const t0e={mode:Ma.onSubmit,reValidateMode:Ma.onChange,shouldFocusError:!0};function n0e(t={}){let e={...t0e,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Da(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Nr(e.defaultValues)||Nr(e.values)?Qr(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Qr(i),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...h};const g={array:bV(),state:bV()},v=e.criteriaMode===Ma.all,b=ee=>se=>{clearTimeout(d),d=setTimeout(ee,se)},_=async ee=>{if(!e.disabled&&(h.isValid||m.isValid||ee)){const se=e.resolver?as((await E()).errors):await O(r,!0);se!==n.isValid&&g.state.next({isValid:se})}},x=(ee,se)=>{!e.disabled&&(h.isValidating||h.validatingFields||m.isValidating||m.validatingFields)&&((ee||Array.from(l.mount)).forEach(pe=>{pe&&(se?En(n.validatingFields,pe,se):Or(n.validatingFields,pe))}),g.state.next({validatingFields:n.validatingFields,isValidating:!as(n.validatingFields)}))},j=(ee,se=[],pe,Le,Ie=!0,ke=!0)=>{if(Le&&pe&&!e.disabled){if(a.action=!0,ke&&Array.isArray(qe(r,ee))){const Ve=pe(qe(r,ee),Le.argA,Le.argB);Ie&&En(r,ee,Ve)}if(ke&&Array.isArray(qe(n.errors,ee))){const Ve=pe(qe(n.errors,ee),Le.argA,Le.argB);Ie&&En(n.errors,ee,Ve),Jbe(n.errors,ee)}if((h.touchedFields||m.touchedFields)&&ke&&Array.isArray(qe(n.touchedFields,ee))){const Ve=pe(qe(n.touchedFields,ee),Le.argA,Le.argB);Ie&&En(n.touchedFields,ee,Ve)}(h.dirtyFields||m.dirtyFields)&&(n.dirtyFields=dy(i,s)),g.state.next({name:ee,isDirty:M(ee,se),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else En(s,ee,se)},A=(ee,se)=>{En(n.errors,ee,se),g.state.next({errors:n.errors})},C=ee=>{n.errors=ee,g.state.next({errors:n.errors,isValid:!1})},P=(ee,se,pe,Le)=>{const Ie=qe(r,ee);if(Ie){const ke=qe(s,ee,_r(pe)?qe(i,ee):pe);_r(ke)||Le&&Le.defaultChecked||se?En(s,ee,se?ke:jV(Ie._f)):X(ee,ke),a.mount&&_()}},T=(ee,se,pe,Le,Ie)=>{let ke=!1,Ve=!1;const tt={name:ee};if(!e.disabled){if(!pe||Le){(h.isDirty||m.isDirty)&&(Ve=n.isDirty,n.isDirty=tt.isDirty=M(),ke=Ve!==tt.isDirty);const Ct=ou(qe(i,ee),se);Ve=!!qe(n.dirtyFields,ee),Ct?Or(n.dirtyFields,ee):En(n.dirtyFields,ee,!0),tt.dirtyFields=n.dirtyFields,ke=ke||(h.dirtyFields||m.dirtyFields)&&Ve!==!Ct}if(pe){const Ct=qe(n.touchedFields,ee);Ct||(En(n.touchedFields,ee,pe),tt.touchedFields=n.touchedFields,ke=ke||(h.touchedFields||m.touchedFields)&&Ct!==pe)}ke&&Ie&&g.state.next(tt)}return ke?tt:{}},I=(ee,se,pe,Le)=>{const Ie=qe(n.errors,ee),ke=(h.isValid||m.isValid)&&Ts(se)&&n.isValid!==se;if(e.delayError&&pe?(u=b(()=>A(ee,pe)),u(e.delayError)):(clearTimeout(d),u=null,pe?En(n.errors,ee,pe):Or(n.errors,ee)),(pe?!ou(Ie,pe):Ie)||!as(Le)||ke){const Ve={...Le,...ke&&Ts(se)?{isValid:se}:{},errors:n.errors,name:ee};n={...n,...Ve},g.state.next(Ve)}},E=async ee=>{x(ee,!0);const se=await e.resolver(s,e.context,Gbe(ee||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(ee),se},k=async ee=>{const{errors:se}=await E(ee);if(ee)for(const pe of ee){const Le=qe(se,pe);Le?En(n.errors,pe,Le):Or(n.errors,pe)}else n.errors=se;return se},O=async(ee,se,pe={valid:!0})=>{for(const Le in ee){const Ie=ee[Le];if(Ie){const{_f:ke,...Ve}=Ie;if(ke){const tt=l.array.has(ke.name),Ct=Ie._f&&Ybe(Ie._f);Ct&&h.validatingFields&&x([Le],!0);const ve=await kV(Ie,l.disabled,s,v,e.shouldUseNativeValidation&&!se,tt);if(Ct&&h.validatingFields&&x([Le]),ve[ke.name]&&(pe.valid=!1,se))break;!se&&(qe(ve,ke.name)?tt?e0e(n.errors,ve,ke.name):En(n.errors,ke.name,ve[ke.name]):Or(n.errors,ke.name))}!as(Ve)&&await O(Ve,se,pe)}}return pe.valid},D=()=>{for(const ee of l.unMount){const se=qe(r,ee);se&&(se._f.refs?se._f.refs.every(pe=>!qE(pe)):!qE(se._f.ref))&&je(ee)}l.unMount=new Set},M=(ee,se)=>!e.disabled&&(ee&&se&&En(s,ee,se),!ou(z(),i)),V=(ee,se,pe)=>$X(ee,l,{...a.mount?s:_r(se)?i:To(ee)?{[ee]:se}:se},pe,se),$=ee=>VM(qe(a.mount?s:i,ee,e.shouldUnregister?qe(i,ee,[]):[])),X=(ee,se,pe={})=>{const Le=qe(r,ee);let Ie=se;if(Le){const ke=Le._f;ke&&(!ke.disabled&&En(s,ee,zX(se,ke)),Ie=$w(ke.ref)&&Ki(se)?"":se,VX(ke.ref)?[...ke.ref.options].forEach(Ve=>Ve.selected=Ie.includes(Ve.value)):ke.refs?cb(ke.ref)?ke.refs.forEach(Ve=>{(!Ve.defaultChecked||!Ve.disabled)&&(Array.isArray(Ie)?Ve.checked=!!Ie.find(tt=>tt===Ve.value):Ve.checked=Ie===Ve.value||!!Ie)}):ke.refs.forEach(Ve=>Ve.checked=Ve.value===Ie):qM(ke.ref)?ke.ref.value="":(ke.ref.value=Ie,ke.ref.type||g.state.next({name:ee,values:Qr(s)})))}(pe.shouldDirty||pe.shouldTouch)&&T(ee,Ie,pe.shouldTouch,pe.shouldDirty,!0),pe.shouldValidate&&W(ee)},H=(ee,se,pe)=>{for(const Le in se){if(!se.hasOwnProperty(Le))return;const Ie=se[Le],ke=ee+"."+Le,Ve=qe(r,ke);(l.array.has(ee)||Nr(Ie)||Ve&&!Ve._f)&&!Jd(Ie)?H(ke,Ie,pe):X(ke,Ie,pe)}},U=(ee,se,pe={})=>{const Le=qe(r,ee),Ie=l.array.has(ee),ke=Qr(se);En(s,ee,ke),Ie?(g.array.next({name:ee,values:Qr(s)}),(h.isDirty||h.dirtyFields||m.isDirty||m.dirtyFields)&&pe.shouldDirty&&g.state.next({name:ee,dirtyFields:dy(i,s),isDirty:M(ee,ke)})):Le&&!Le._f&&!Ki(ke)?H(ee,ke,pe):X(ee,ke,pe),EV(ee,l)&&g.state.next({...n}),g.state.next({name:a.mount?ee:void 0,values:Qr(s)})},q=async ee=>{a.mount=!0;const se=ee.target;let pe=se.name,Le=!0;const Ie=qe(r,pe),ke=Ct=>{Le=Number.isNaN(Ct)||Jd(Ct)&&isNaN(Ct.getTime())||ou(Ct,qe(s,pe,Ct))},Ve=NV(e.mode),tt=NV(e.reValidateMode);if(Ie){let Ct,ve;const zt=se.type?jV(Ie._f):IX(ee),gn=ee.type===Lw.BLUR||ee.type===Lw.FOCUS_OUT,nn=!Kbe(Ie._f)&&!e.resolver&&!qe(n.errors,pe)&&!Ie._f.deps||Zbe(gn,qe(n.touchedFields,pe),n.isSubmitted,tt,Ve),Wt=EV(pe,l,gn);En(s,pe,zt),gn?(Ie._f.onBlur&&Ie._f.onBlur(ee),u&&u(0)):Ie._f.onChange&&Ie._f.onChange(ee);const tn=T(pe,zt,gn),ar=!as(tn)||Wt;if(!gn&&g.state.next({name:pe,type:ee.type,values:Qr(s)}),nn)return(h.isValid||m.isValid)&&(e.mode==="onBlur"?gn&&_():gn||_()),ar&&g.state.next({name:pe,...Wt?{}:tn});if(!gn&&Wt&&g.state.next({...n}),e.resolver){const{errors:or}=await E([pe]);if(ke(zt),Le){const Fn=TV(n.errors,r,pe),bi=TV(or,r,Fn.name||pe);Ct=bi.error,pe=bi.name,ve=as(or)}}else x([pe],!0),Ct=(await kV(Ie,l.disabled,s,v,e.shouldUseNativeValidation))[pe],x([pe]),ke(zt),Le&&(Ct?ve=!1:(h.isValid||m.isValid)&&(ve=await O(r,!0)));Le&&(Ie._f.deps&&W(Ie._f.deps),I(pe,ve,Ct,tn))}},G=(ee,se)=>{if(qe(n.errors,se)&&ee.focus)return ee.focus(),1},W=async(ee,se={})=>{let pe,Le;const Ie=iv(ee);if(e.resolver){const ke=await k(_r(ee)?ee:Ie);pe=as(ke),Le=ee?!Ie.some(Ve=>qe(ke,Ve)):pe}else ee?(Le=(await Promise.all(Ie.map(async ke=>{const Ve=qe(r,ke);return await O(Ve&&Ve._f?{[ke]:Ve}:Ve)}))).every(Boolean),!(!Le&&!n.isValid)&&_()):Le=pe=await O(r);return g.state.next({...!To(ee)||(h.isValid||m.isValid)&&pe!==n.isValid?{}:{name:ee},...e.resolver||!ee?{isValid:pe}:{},errors:n.errors}),se.shouldFocus&&!Le&&sv(r,G,ee?Ie:l.mount),Le},z=ee=>{const se={...a.mount?s:i};return _r(ee)?se:To(ee)?qe(se,ee):ee.map(pe=>qe(se,pe))},Z=(ee,se)=>({invalid:!!qe((se||n).errors,ee),isDirty:!!qe((se||n).dirtyFields,ee),error:qe((se||n).errors,ee),isValidating:!!qe(n.validatingFields,ee),isTouched:!!qe((se||n).touchedFields,ee)}),te=ee=>{ee&&iv(ee).forEach(se=>Or(n.errors,se)),g.state.next({errors:ee?n.errors:{}})},ne=(ee,se,pe)=>{const Le=(qe(r,ee,{_f:{}})._f||{}).ref,Ie=qe(n.errors,ee)||{},{ref:ke,message:Ve,type:tt,...Ct}=Ie;En(n.errors,ee,{...Ct,...se,ref:Le}),g.state.next({name:ee,errors:n.errors,isValid:!1}),pe&&pe.shouldFocus&&Le&&Le.focus&&Le.focus()},ge=(ee,se)=>Da(ee)?g.state.subscribe({next:pe=>ee(V(void 0,se),pe)}):V(ee,se,!0),Ce=ee=>g.state.subscribe({next:se=>{Qbe(ee.name,se.name,ee.exact)&&Xbe(se,ee.formState||h,At,ee.reRenderRoot)&&ee.callback({values:{...s},...n,...se})}}).unsubscribe,Te=ee=>(a.mount=!0,m={...m,...ee.formState},Ce({...ee,formState:m})),je=(ee,se={})=>{for(const pe of ee?iv(ee):l.mount)l.mount.delete(pe),l.array.delete(pe),se.keepValue||(Or(r,pe),Or(s,pe)),!se.keepError&&Or(n.errors,pe),!se.keepDirty&&Or(n.dirtyFields,pe),!se.keepTouched&&Or(n.touchedFields,pe),!se.keepIsValidating&&Or(n.validatingFields,pe),!e.shouldUnregister&&!se.keepDefaultValue&&Or(i,pe);g.state.next({values:Qr(s)}),g.state.next({...n,...se.keepDirty?{isDirty:M()}:{}}),!se.keepIsValid&&_()},ce=({disabled:ee,name:se})=>{(Ts(ee)&&a.mount||ee||l.disabled.has(se))&&(ee?l.disabled.add(se):l.disabled.delete(se))},oe=(ee,se={})=>{let pe=qe(r,ee);const Le=Ts(se.disabled)||Ts(e.disabled);return En(r,ee,{...pe||{},_f:{...pe&&pe._f?pe._f:{ref:{name:ee}},name:ee,mount:!0,...se}}),l.mount.add(ee),pe?ce({disabled:Ts(se.disabled)?se.disabled:e.disabled,name:ee}):P(ee,!0,se.value),{...Le?{disabled:se.disabled||e.disabled}:{},...e.progressive?{required:!!se.required,min:fy(se.min),max:fy(se.max),minLength:fy(se.minLength),maxLength:fy(se.maxLength),pattern:fy(se.pattern)}:{},name:ee,onChange:q,onBlur:q,ref:Ie=>{if(Ie){oe(ee,se),pe=qe(r,ee);const ke=_r(Ie.value)&&Ie.querySelectorAll&&Ie.querySelectorAll("input,select,textarea")[0]||Ie,Ve=qbe(ke),tt=pe._f.refs||[];if(Ve?tt.find(Ct=>Ct===ke):ke===pe._f.ref)return;En(r,ee,{_f:{...pe._f,...Ve?{refs:[...tt.filter(qE),ke,...Array.isArray(qe(i,ee))?[{}]:[]],ref:{type:ke.type,name:ee}}:{ref:ke}}}),P(ee,!1,void 0,ke)}else pe=qe(r,ee,{}),pe._f&&(pe._f.mount=!1),(e.shouldUnregister||se.shouldUnregister)&&!(MX(l.array,ee)&&a.action)&&l.unMount.add(ee)}}},we=()=>e.shouldFocusError&&sv(r,G,l.mount),Ne=ee=>{Ts(ee)&&(g.state.next({disabled:ee}),sv(r,(se,pe)=>{const Le=qe(r,pe);Le&&(se.disabled=Le._f.disabled||ee,Array.isArray(Le._f.refs)&&Le._f.refs.forEach(Ie=>{Ie.disabled=Le._f.disabled||ee}))},0,!1))},ue=(ee,se)=>async pe=>{let Le;pe&&(pe.preventDefault&&pe.preventDefault(),pe.persist&&pe.persist());let Ie=Qr(s);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:ke,values:Ve}=await E();n.errors=ke,Ie=Qr(Ve)}else await O(r);if(l.disabled.size)for(const ke of l.disabled)Or(Ie,ke);if(Or(n.errors,"root"),as(n.errors)){g.state.next({errors:{}});try{await ee(Ie,pe)}catch(ke){Le=ke}}else se&&await se({...n.errors},pe),we(),setTimeout(we);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:as(n.errors)&&!Le,submitCount:n.submitCount+1,errors:n.errors}),Le)throw Le},Ue=(ee,se={})=>{qe(r,ee)&&(_r(se.defaultValue)?U(ee,Qr(qe(i,ee))):(U(ee,se.defaultValue),En(i,ee,Qr(se.defaultValue))),se.keepTouched||Or(n.touchedFields,ee),se.keepDirty||(Or(n.dirtyFields,ee),n.isDirty=se.defaultValue?M(ee,Qr(qe(i,ee))):M()),se.keepError||(Or(n.errors,ee),h.isValid&&_()),g.state.next({...n}))},We=(ee,se={})=>{const pe=ee?Qr(ee):i,Le=Qr(pe),Ie=as(ee),ke=Ie?i:Le;if(se.keepDefaultValues||(i=pe),!se.keepValues){if(se.keepDirtyValues){const Ve=new Set([...l.mount,...Object.keys(dy(i,s))]);for(const tt of Array.from(Ve))qe(n.dirtyFields,tt)?En(ke,tt,qe(s,tt)):U(tt,qe(ke,tt))}else{if($M&&_r(ee))for(const Ve of l.mount){const tt=qe(r,Ve);if(tt&&tt._f){const Ct=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if($w(Ct)){const ve=Ct.closest("form");if(ve){ve.reset();break}}}}if(se.keepFieldsRef)for(const Ve of l.mount)U(Ve,qe(ke,Ve));else r={}}s=e.shouldUnregister?se.keepDefaultValues?Qr(i):{}:Qr(ke),g.array.next({values:{...ke}}),g.state.next({values:{...ke}})}l={mount:se.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!se.keepIsValid||!!se.keepDirtyValues,a.watch=!!e.shouldUnregister,g.state.next({submitCount:se.keepSubmitCount?n.submitCount:0,isDirty:Ie?!1:se.keepDirty?n.isDirty:!!(se.keepDefaultValues&&!ou(ee,i)),isSubmitted:se.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ie?{}:se.keepDirtyValues?se.keepDefaultValues&&s?dy(i,s):n.dirtyFields:se.keepDefaultValues&&ee?dy(i,ee):se.keepDirty?n.dirtyFields:{},touchedFields:se.keepTouched?n.touchedFields:{},errors:se.keepErrors?n.errors:{},isSubmitSuccessful:se.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},jt=(ee,se)=>We(Da(ee)?ee(s):ee,se),ht=(ee,se={})=>{const pe=qe(r,ee),Le=pe&&pe._f;if(Le){const Ie=Le.refs?Le.refs[0]:Le.ref;Ie.focus&&(Ie.focus(),se.shouldSelect&&Da(Ie.select)&&Ie.select())}},At=ee=>{n={...n,...ee}},Qn={control:{register:oe,unregister:je,getFieldState:Z,handleSubmit:ue,setError:ne,_subscribe:Ce,_runSchema:E,_focusError:we,_getWatch:V,_getDirty:M,_setValid:_,_setFieldArray:j,_setDisabledField:ce,_setErrors:C,_getFieldArray:$,_reset:We,_resetDefaultValues:()=>Da(e.defaultValues)&&e.defaultValues().then(ee=>{jt(ee,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:Ne,_subjects:g,_proxyFormState:h,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(ee){a=ee},get _defaultValues(){return i},get _names(){return l},set _names(ee){l=ee},get _formState(){return n},get _options(){return e},set _options(ee){e={...e,...ee}}},subscribe:Te,trigger:W,register:oe,handleSubmit:ue,watch:ge,setValue:U,getValues:z,reset:jt,resetField:Ue,clearErrors:te,unregister:je,setError:ne,setFocus:ht,getFieldState:Z};return{...Qn,formControl:Qn}}function r0e(t={}){const e=Q.useRef(void 0),n=Q.useRef(void 0),[r,i]=Q.useState({isDirty:!1,isValidating:!1,isLoading:Da(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Da(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Da(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=n0e(t);e.current={...l,formState:r}}const s=e.current.control;return s._options=t,UM(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,a},[s]),Q.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Q.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Q.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Q.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Q.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),Q.useEffect(()=>{t.values&&!ou(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),Q.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=DX(r,s),e.current}const OV=(t,e,n)=>{if(t&&"reportValidity"in t){const r=qe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},rR=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?OV(r.ref,n,t):r&&r.refs&&r.refs.forEach(i=>OV(i,n,t))}},RV=(t,e)=>{e.shouldUseNativeValidation&&rR(t,e);const n={};for(const r in t){const i=qe(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(i0e(e.names||Object.keys(t),r)){const a=Object.assign({},qe(n,r));En(a,"root",s),En(n,r,a)}else En(n,r,s)}return n},i0e=(t,e)=>{const n=PV(e);return t.some(r=>PV(r).match(`^${n}\\.\\d+`))};function PV(t){return t.replace(/\]|\[/g,"")}function HX(t,e,n){function r(l,u){var d;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(d=l._zod).traits??(d.traits=new Set),l._zod.traits.add(t),e(l,u);for(const h in a.prototype)h in l||Object.defineProperty(l,h,{value:a.prototype[h].bind(l)});l._zod.constr=a,l._zod.def=u}const i=(n==null?void 0:n.Parent)??Object;class s extends i{}Object.defineProperty(s,"name",{value:t});function a(l){var u;const d=n!=null&&n.Parent?new s:this;r(d,l),(u=d._zod).deferred??(u.deferred=[]);for(const h of d._zod.deferred)h();return d}return Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:l=>{var u,d;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(d=(u=l==null?void 0:l._zod)==null?void 0:u.traits)==null?void 0:d.has(t)}}),Object.defineProperty(a,"name",{value:t}),a}class s0e extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const a0e={};function WX(t){return a0e}function o0e(t,e){return typeof e=="bigint"?e.toString():e}const GX=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function o_(t){return typeof t=="string"?t:t==null?void 0:t.message}function YX(t,e,n){var i,s,a,l,u,d;const r={...t,path:t.path??[]};if(!t.message){const h=o_((a=(s=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:s.error)==null?void 0:a.call(s,t))??o_((l=e==null?void 0:e.error)==null?void 0:l.call(e,t))??o_((u=n.customError)==null?void 0:u.call(n,t))??o_((d=n.localeError)==null?void 0:d.call(n,t))??"Invalid input";r.message=h}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}const KX=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,o0e,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},l0e=HX("$ZodError",KX),XX=HX("$ZodError",KX,{Parent:Error}),c0e=t=>(e,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},a=e._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new s0e;if(a.issues.length){const l=new((i==null?void 0:i.Err)??t)(a.issues.map(u=>YX(u,s,WX())));throw GX(l,i==null?void 0:i.callee),l}return a.value},u0e=c0e(XX),d0e=t=>async(e,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){const l=new((i==null?void 0:i.Err)??t)(a.issues.map(u=>YX(u,s,WX())));throw GX(l,i==null?void 0:i.callee),l}return a.value},f0e=d0e(XX);function IV(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}function h0e(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[a]={message:l.message,type:l.code}}else n[a]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(m){return t.push(m)})}),e){var u=n[a].types,d=u&&u[r.code];n[a]=zM(a,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n}function m0e(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if(r.code==="invalid_union"){var l=r.errors[0][0];n[a]={message:l.message,type:l.code}}else n[a]={message:s,type:i};if(r.code==="invalid_union"&&r.errors.forEach(function(h){return h.forEach(function(m){return t.push(m)})}),e){var u=n[a].types,d=u&&u[r.code];n[a]=zM(a,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n}function p0e(t,e,n){if(n===void 0&&(n={}),function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def}(t))return function(r,i,s){try{return Promise.resolve(IV(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(a){return s.shouldUseNativeValidation&&rR({},s),{errors:{},values:n.raw?Object.assign({},r):a}})},function(a){if(function(l){return Array.isArray(l==null?void 0:l.issues)}(a))return{values:{},errors:RV(h0e(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}};if(function(r){return"_zod"in r&&typeof r._zod=="object"}(t))return function(r,i,s){try{return Promise.resolve(IV(function(){return Promise.resolve((n.mode==="sync"?u0e:f0e)(t,r,e)).then(function(a){return s.shouldUseNativeValidation&&rR({},s),{errors:{},values:n.raw?Object.assign({},r):a}})},function(a){if(function(l){return l instanceof l0e}(a))return{values:{},errors:RV(m0e(a.issues,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}};throw new Error("Invalid input: not a Zod schema")}var hn;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),a={};for(const l of s)a[l]=i[l];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(hn||(hn={}));var MV;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(MV||(MV={}));const at=hn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),eu=t=>{switch(typeof t){case"undefined":return at.undefined;case"string":return at.string;case"number":return Number.isNaN(t)?at.nan:at.number;case"boolean":return at.boolean;case"function":return at.function;case"bigint":return at.bigint;case"symbol":return at.symbol;case"object":return Array.isArray(t)?at.array:t===null?at.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?at.promise:typeof Map<"u"&&t instanceof Map?at.map:typeof Set<"u"&&t instanceof Set?at.set:typeof Date<"u"&&t instanceof Date?at.date:at.object;default:return at.unknown}},Me=hn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class cc extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,u=0;for(;u<a.path.length;){const d=a.path[u];u===a.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(a))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return i(this),r}static assert(e){if(!(e instanceof cc))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,hn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}cc.create=t=>new cc(t);const iR=(t,e)=>{let n;switch(t.code){case Me.invalid_type:t.received===at.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Me.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,hn.jsonStringifyReplacer)}`;break;case Me.unrecognized_keys:n=`Unrecognized key(s) in object: ${hn.joinValues(t.keys,", ")}`;break;case Me.invalid_union:n="Invalid input";break;case Me.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${hn.joinValues(t.options)}`;break;case Me.invalid_enum_value:n=`Invalid enum value. Expected ${hn.joinValues(t.options)}, received '${t.received}'`;break;case Me.invalid_arguments:n="Invalid function arguments";break;case Me.invalid_return_type:n="Invalid function return type";break;case Me.invalid_date:n="Invalid date";break;case Me.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:hn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Me.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Me.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Me.custom:n="Invalid input";break;case Me.invalid_intersection_types:n="Intersection results could not be merged";break;case Me.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Me.not_finite:n="Number must be finite";break;default:n=e.defaultError,hn.assertNever(t)}return{message:n}};let g0e=iR;function y0e(){return g0e}const v0e=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)l=d(a,{data:e,defaultError:l}).message;return{...i,path:s,message:l}};function Ke(t,e){const n=y0e(),r=v0e({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===iR?void 0:iR].filter(i=>!!i)});t.common.issues.push(r)}class Us{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Ot;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return Us.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Ot;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const Ot=Object.freeze({status:"aborted"}),Dy=t=>({status:"dirty",value:t}),_a=t=>({status:"valid",value:t}),DV=t=>t.status==="aborted",LV=t=>t.status==="dirty",Jm=t=>t.status==="valid",Bw=t=>typeof Promise<"u"&&t instanceof Promise;var lt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(lt||(lt={}));class Iu{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const $V=(t,e)=>{if(Jm(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new cc(t.common.issues);return this._error=n,this._error}}};function Ht(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,l)=>{const{message:u}=t;return a.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:u??r??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:u??n??l.defaultError}},description:i}}class dn{get description(){return this._def.description}_getType(e){return eu(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:eu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Us,ctx:{common:e.parent.common,data:e.data,parsedType:eu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Bw(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eu(e)},i=this._parseSync({data:e,path:r.path,parent:r});return $V(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eu(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return Jm(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>Jm(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eu(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Bw(i)?i:Promise.resolve(i));return $V(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),l=()=>s.addIssue({code:Me.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new tp({schema:this,typeName:Rt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Su.create(this,this._def)}nullable(){return np.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fo.create(this)}promise(){return Hw.create(this,this._def)}or(e){return zw.create([this,e],this._def)}and(e){return qw.create(this,e,this._def)}transform(e){return new tp({...Ht(this._def),schema:this,typeName:Rt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new oR({...Ht(this._def),innerType:this,defaultValue:n,typeName:Rt.ZodDefault})}brand(){return new B0e({typeName:Rt.ZodBranded,type:this,...Ht(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new lR({...Ht(this._def),innerType:this,catchValue:n,typeName:Rt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return WM.create(this,e)}readonly(){return cR.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const x0e=/^c[^\s-]{8,}$/i,b0e=/^[0-9a-z]+$/,_0e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,w0e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,S0e=/^[a-z0-9_-]{21}$/i,j0e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,N0e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,A0e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,E0e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let HE;const T0e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,C0e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,k0e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,O0e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,R0e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,P0e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,QX="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",I0e=new RegExp(`^${QX}$`);function ZX(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function M0e(t){return new RegExp(`^${ZX(t)}$`)}function D0e(t){let e=`${QX}T${ZX(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function L0e(t,e){return!!((e==="v4"||!e)&&T0e.test(t)||(e==="v6"||!e)&&k0e.test(t))}function $0e(t,e){if(!j0e.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function V0e(t,e){return!!((e==="v4"||!e)&&C0e.test(t)||(e==="v6"||!e)&&O0e.test(t))}class fu extends dn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==at.string){const s=this._getOrReturnCtx(e);return Ke(s,{code:Me.invalid_type,expected:at.string,received:s.parsedType}),Ot}const r=new Us;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Ke(i,{code:Me.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Ke(i,{code:Me.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,l=e.data.length<s.value;(a||l)&&(i=this._getOrReturnCtx(e,i),a?Ke(i,{code:Me.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Ke(i,{code:Me.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")A0e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ke(i,{validation:"email",code:Me.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")HE||(HE=new RegExp(E0e,"u")),HE.test(e.data)||(i=this._getOrReturnCtx(e,i),Ke(i,{validation:"emoji",code:Me.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")w0e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ke(i,{validation:"uuid",code:Me.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")S0e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ke(i,{validation:"nanoid",code:Me.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")x0e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ke(i,{validation:"cuid",code:Me.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")b0e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ke(i,{validation:"cuid2",code:Me.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")_0e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ke(i,{validation:"ulid",code:Me.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ke(i,{validation:"url",code:Me.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ke(i,{validation:"regex",code:Me.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Ke(i,{code:Me.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ke(i,{code:Me.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ke(i,{code:Me.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?D0e(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ke(i,{code:Me.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?I0e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ke(i,{code:Me.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?M0e(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ke(i,{code:Me.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?N0e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ke(i,{validation:"duration",code:Me.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?L0e(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ke(i,{validation:"ip",code:Me.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?$0e(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Ke(i,{validation:"jwt",code:Me.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?V0e(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ke(i,{validation:"cidr",code:Me.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?R0e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ke(i,{validation:"base64",code:Me.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?P0e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ke(i,{validation:"base64url",code:Me.invalid_string,message:s.message}),r.dirty()):hn.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Me.invalid_string,...lt.errToObj(r)})}_addCheck(e){return new fu({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...lt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...lt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...lt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...lt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...lt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...lt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...lt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...lt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...lt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...lt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...lt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...lt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...lt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...lt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...lt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...lt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...lt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...lt.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...lt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...lt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...lt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...lt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...lt.errToObj(n)})}nonempty(e){return this.min(1,lt.errToObj(e))}trim(){return new fu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new fu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new fu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}fu.create=t=>new fu({checks:[],typeName:Rt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ht(t)});function F0e(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class Lv extends dn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==at.number){const s=this._getOrReturnCtx(e);return Ke(s,{code:Me.invalid_type,expected:at.number,received:s.parsedType}),Ot}let r;const i=new Us;for(const s of this._def.checks)s.kind==="int"?hn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ke(r,{code:Me.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Ke(r,{code:Me.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Ke(r,{code:Me.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?F0e(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Ke(r,{code:Me.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ke(r,{code:Me.not_finite,message:s.message}),i.dirty()):hn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,lt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,lt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,lt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,lt.toString(n))}setLimit(e,n,r,i){return new Lv({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:lt.toString(i)}]})}_addCheck(e){return new Lv({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:lt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:lt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:lt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:lt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:lt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:lt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:lt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:lt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:lt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&hn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Lv.create=t=>new Lv({checks:[],typeName:Rt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ht(t)});class $v extends dn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==at.bigint)return this._getInvalidInput(e);let r;const i=new Us;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Ke(r,{code:Me.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Ke(r,{code:Me.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ke(r,{code:Me.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):hn.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Ke(n,{code:Me.invalid_type,expected:at.bigint,received:n.parsedType}),Ot}gte(e,n){return this.setLimit("min",e,!0,lt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,lt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,lt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,lt.toString(n))}setLimit(e,n,r,i){return new $v({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:lt.toString(i)}]})}_addCheck(e){return new $v({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:lt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:lt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:lt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:lt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:lt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}$v.create=t=>new $v({checks:[],typeName:Rt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ht(t)});class sR extends dn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==at.boolean){const r=this._getOrReturnCtx(e);return Ke(r,{code:Me.invalid_type,expected:at.boolean,received:r.parsedType}),Ot}return _a(e.data)}}sR.create=t=>new sR({typeName:Rt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ht(t)});class Uw extends dn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==at.date){const s=this._getOrReturnCtx(e);return Ke(s,{code:Me.invalid_type,expected:at.date,received:s.parsedType}),Ot}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Ke(s,{code:Me.invalid_date}),Ot}const r=new Us;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Ke(i,{code:Me.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Ke(i,{code:Me.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):hn.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Uw({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:lt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:lt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Uw.create=t=>new Uw({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Rt.ZodDate,...Ht(t)});class VV extends dn{_parse(e){if(this._getType(e)!==at.symbol){const r=this._getOrReturnCtx(e);return Ke(r,{code:Me.invalid_type,expected:at.symbol,received:r.parsedType}),Ot}return _a(e.data)}}VV.create=t=>new VV({typeName:Rt.ZodSymbol,...Ht(t)});class FV extends dn{_parse(e){if(this._getType(e)!==at.undefined){const r=this._getOrReturnCtx(e);return Ke(r,{code:Me.invalid_type,expected:at.undefined,received:r.parsedType}),Ot}return _a(e.data)}}FV.create=t=>new FV({typeName:Rt.ZodUndefined,...Ht(t)});class BV extends dn{_parse(e){if(this._getType(e)!==at.null){const r=this._getOrReturnCtx(e);return Ke(r,{code:Me.invalid_type,expected:at.null,received:r.parsedType}),Ot}return _a(e.data)}}BV.create=t=>new BV({typeName:Rt.ZodNull,...Ht(t)});class UV extends dn{constructor(){super(...arguments),this._any=!0}_parse(e){return _a(e.data)}}UV.create=t=>new UV({typeName:Rt.ZodAny,...Ht(t)});class zV extends dn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return _a(e.data)}}zV.create=t=>new zV({typeName:Rt.ZodUnknown,...Ht(t)});class Mu extends dn{_parse(e){const n=this._getOrReturnCtx(e);return Ke(n,{code:Me.invalid_type,expected:at.never,received:n.parsedType}),Ot}}Mu.create=t=>new Mu({typeName:Rt.ZodNever,...Ht(t)});class qV extends dn{_parse(e){if(this._getType(e)!==at.undefined){const r=this._getOrReturnCtx(e);return Ke(r,{code:Me.invalid_type,expected:at.void,received:r.parsedType}),Ot}return _a(e.data)}}qV.create=t=>new qV({typeName:Rt.ZodVoid,...Ht(t)});class Fo extends dn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==at.array)return Ke(n,{code:Me.invalid_type,expected:at.array,received:n.parsedType}),Ot;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(a||l)&&(Ke(n,{code:a?Me.too_big:Me.too_small,minimum:l?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Ke(n,{code:Me.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Ke(n,{code:Me.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>i.type._parseAsync(new Iu(n,a,n.path,l)))).then(a=>Us.mergeArray(r,a));const s=[...n.data].map((a,l)=>i.type._parseSync(new Iu(n,a,n.path,l)));return Us.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Fo({...this._def,minLength:{value:e,message:lt.toString(n)}})}max(e,n){return new Fo({...this._def,maxLength:{value:e,message:lt.toString(n)}})}length(e,n){return new Fo({...this._def,exactLength:{value:e,message:lt.toString(n)}})}nonempty(e){return this.min(1,e)}}Fo.create=(t,e)=>new Fo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Rt.ZodArray,...Ht(e)});function hm(t){if(t instanceof Ir){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Su.create(hm(r))}return new Ir({...t._def,shape:()=>e})}else return t instanceof Fo?new Fo({...t._def,type:hm(t.element)}):t instanceof Su?Su.create(hm(t.unwrap())):t instanceof np?np.create(hm(t.unwrap())):t instanceof Tf?Tf.create(t.items.map(e=>hm(e))):t}class Ir extends dn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=hn.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==at.object){const d=this._getOrReturnCtx(e);return Ke(d,{code:Me.invalid_type,expected:at.object,received:d.parsedType}),Ot}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Mu&&this._def.unknownKeys==="strip"))for(const d in i.data)a.includes(d)||l.push(d);const u=[];for(const d of a){const h=s[d],m=i.data[d];u.push({key:{status:"valid",value:d},value:h._parse(new Iu(i,m,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Mu){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)u.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")l.length>0&&(Ke(i,{code:Me.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const m=i.data[h];u.push({key:{status:"valid",value:h},value:d._parse(new Iu(i,m,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of u){const m=await h.key,g=await h.value;d.push({key:m,value:g,alwaysSet:h.alwaysSet})}return d}).then(d=>Us.mergeObjectSync(r,d)):Us.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return lt.errToObj,new Ir({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,a;const i=((a=(s=this._def).errorMap)==null?void 0:a.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:lt.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Ir({...this._def,unknownKeys:"strip"})}passthrough(){return new Ir({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ir({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ir({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Rt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ir({...this._def,catchall:e})}pick(e){const n={};for(const r of hn.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Ir({...this._def,shape:()=>n})}omit(e){const n={};for(const r of hn.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Ir({...this._def,shape:()=>n})}deepPartial(){return hm(this)}partial(e){const n={};for(const r of hn.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Ir({...this._def,shape:()=>n})}required(e){const n={};for(const r of hn.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Su;)s=s._def.innerType;n[r]=s}return new Ir({...this._def,shape:()=>n})}keyof(){return JX(hn.objectKeys(this.shape))}}Ir.create=(t,e)=>new Ir({shape:()=>t,unknownKeys:"strip",catchall:Mu.create(),typeName:Rt.ZodObject,...Ht(e)});Ir.strictCreate=(t,e)=>new Ir({shape:()=>t,unknownKeys:"strict",catchall:Mu.create(),typeName:Rt.ZodObject,...Ht(e)});Ir.lazycreate=(t,e)=>new Ir({shape:t,unknownKeys:"strip",catchall:Mu.create(),typeName:Rt.ZodObject,...Ht(e)});class zw extends dn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=s.map(l=>new cc(l.ctx.common.issues));return Ke(n,{code:Me.invalid_union,unionErrors:a}),Ot}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=u._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=a.map(u=>new cc(u));return Ke(n,{code:Me.invalid_union,unionErrors:l}),Ot}}get options(){return this._def.options}}zw.create=(t,e)=>new zw({options:t,typeName:Rt.ZodUnion,...Ht(e)});function aR(t,e){const n=eu(t),r=eu(e);if(t===e)return{valid:!0,data:t};if(n===at.object&&r===at.object){const i=hn.objectKeys(e),s=hn.objectKeys(t).filter(l=>i.indexOf(l)!==-1),a={...t,...e};for(const l of s){const u=aR(t[l],e[l]);if(!u.valid)return{valid:!1};a[l]=u.data}return{valid:!0,data:a}}else if(n===at.array&&r===at.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],l=e[s],u=aR(a,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===at.date&&r===at.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class qw extends dn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(DV(s)||DV(a))return Ot;const l=aR(s.value,a.value);return l.valid?((LV(s)||LV(a))&&n.dirty(),{status:n.value,value:l.data}):(Ke(r,{code:Me.invalid_intersection_types}),Ot)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}qw.create=(t,e,n)=>new qw({left:t,right:e,typeName:Rt.ZodIntersection,...Ht(n)});class Tf extends dn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==at.array)return Ke(r,{code:Me.invalid_type,expected:at.array,received:r.parsedType}),Ot;if(r.data.length<this._def.items.length)return Ke(r,{code:Me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ot;!this._def.rest&&r.data.length>this._def.items.length&&(Ke(r,{code:Me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Iu(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>Us.mergeArray(n,a)):Us.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Tf({...this._def,rest:e})}}Tf.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Tf({items:t,typeName:Rt.ZodTuple,rest:null,...Ht(e)})};class HV extends dn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==at.map)return Ke(r,{code:Me.invalid_type,expected:at.map,received:r.parsedType}),Ot;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([l,u],d)=>({key:i._parse(new Iu(r,l,r.path,[d,"key"])),value:s._parse(new Iu(r,u,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of a){const d=await u.key,h=await u.value;if(d.status==="aborted"||h.status==="aborted")return Ot;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of a){const d=u.key,h=u.value;if(d.status==="aborted"||h.status==="aborted")return Ot;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}}}}HV.create=(t,e,n)=>new HV({valueType:e,keyType:t,typeName:Rt.ZodMap,...Ht(n)});class Vv extends dn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==at.set)return Ke(r,{code:Me.invalid_type,expected:at.set,received:r.parsedType}),Ot;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Ke(r,{code:Me.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Ke(r,{code:Me.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(u){const d=new Set;for(const h of u){if(h.status==="aborted")return Ot;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((u,d)=>s._parse(new Iu(r,u,r.path,d)));return r.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(e,n){return new Vv({...this._def,minSize:{value:e,message:lt.toString(n)}})}max(e,n){return new Vv({...this._def,maxSize:{value:e,message:lt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Vv.create=(t,e)=>new Vv({valueType:t,minSize:null,maxSize:null,typeName:Rt.ZodSet,...Ht(e)});class WV extends dn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}WV.create=(t,e)=>new WV({getter:t,typeName:Rt.ZodLazy,...Ht(e)});class GV extends dn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ke(n,{received:n.data,code:Me.invalid_literal,expected:this._def.value}),Ot}return{status:"valid",value:e.data}}get value(){return this._def.value}}GV.create=(t,e)=>new GV({value:t,typeName:Rt.ZodLiteral,...Ht(e)});function JX(t,e){return new ep({values:t,typeName:Rt.ZodEnum,...Ht(e)})}class ep extends dn{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ke(n,{expected:hn.joinValues(r),received:n.parsedType,code:Me.invalid_type}),Ot}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Ke(n,{received:n.data,code:Me.invalid_enum_value,options:r}),Ot}return _a(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ep.create(e,{...this._def,...n})}exclude(e,n=this._def){return ep.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ep.create=JX;class YV extends dn{_parse(e){const n=hn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==at.string&&r.parsedType!==at.number){const i=hn.objectValues(n);return Ke(r,{expected:hn.joinValues(i),received:r.parsedType,code:Me.invalid_type}),Ot}if(this._cache||(this._cache=new Set(hn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=hn.objectValues(n);return Ke(r,{received:r.data,code:Me.invalid_enum_value,options:i}),Ot}return _a(e.data)}get enum(){return this._def.values}}YV.create=(t,e)=>new YV({values:t,typeName:Rt.ZodNativeEnum,...Ht(e)});class Hw extends dn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==at.promise&&n.common.async===!1)return Ke(n,{code:Me.invalid_type,expected:at.promise,received:n.parsedType}),Ot;const r=n.parsedType===at.promise?n.data:Promise.resolve(n.data);return _a(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Hw.create=(t,e)=>new Hw({type:t,typeName:Rt.ZodPromise,...Ht(e)});class tp extends dn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{Ke(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return Ot;const u=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return u.status==="aborted"?Ot:u.status==="dirty"||n.value==="dirty"?Dy(u.value):u});{if(n.value==="aborted")return Ot;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?Ot:l.status==="dirty"||n.value==="dirty"?Dy(l.value):l}}if(i.type==="refinement"){const a=l=>{const u=i.refinement(l,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Ot:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Ot:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Jm(a))return Ot;const l=i.transform(a.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Jm(a)?Promise.resolve(i.transform(a.value,s)).then(l=>({status:n.value,value:l})):Ot);hn.assertNever(i)}}tp.create=(t,e,n)=>new tp({schema:t,typeName:Rt.ZodEffects,effect:e,...Ht(n)});tp.createWithPreprocess=(t,e,n)=>new tp({schema:e,effect:{type:"preprocess",transform:t},typeName:Rt.ZodEffects,...Ht(n)});class Su extends dn{_parse(e){return this._getType(e)===at.undefined?_a(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Su.create=(t,e)=>new Su({innerType:t,typeName:Rt.ZodOptional,...Ht(e)});class np extends dn{_parse(e){return this._getType(e)===at.null?_a(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}np.create=(t,e)=>new np({innerType:t,typeName:Rt.ZodNullable,...Ht(e)});class oR extends dn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===at.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}oR.create=(t,e)=>new oR({innerType:t,typeName:Rt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ht(e)});class lR extends dn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Bw(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new cc(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new cc(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}lR.create=(t,e)=>new lR({innerType:t,typeName:Rt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ht(e)});class KV extends dn{_parse(e){if(this._getType(e)!==at.nan){const r=this._getOrReturnCtx(e);return Ke(r,{code:Me.invalid_type,expected:at.nan,received:r.parsedType}),Ot}return{status:"valid",value:e.data}}}KV.create=t=>new KV({typeName:Rt.ZodNaN,...Ht(t)});class B0e extends dn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class WM extends dn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ot:s.status==="dirty"?(n.dirty(),Dy(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ot:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new WM({in:e,out:n,typeName:Rt.ZodPipeline})}}class cR extends dn{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Jm(i)&&(i.value=Object.freeze(i.value)),i);return Bw(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}cR.create=(t,e)=>new cR({innerType:t,typeName:Rt.ZodReadonly,...Ht(e)});var Rt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Rt||(Rt={}));const l_=fu.create,U0e=sR.create;Mu.create;Fo.create;const z0e=Ir.create;zw.create;qw.create;Tf.create;const XV=ep.create;Hw.create;Su.create;np.create;function ze({className:t,htmlFor:e,...n}){return o.jsx("label",{"data-slot":"label",htmlFor:e,className:Xe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...n})}function uR(t,[e,n]){return Math.min(n,Math.max(e,t))}const q0e=["top","right","bottom","left"],Du=Math.min,ks=Math.max,Ww=Math.round,c_=Math.floor,Bo=t=>({x:t,y:t}),H0e={left:"right",right:"left",bottom:"top",top:"bottom"},W0e={start:"end",end:"start"};function dR(t,e,n){return ks(t,Du(e,n))}function uc(t,e){return typeof t=="function"?t(e):t}function dc(t){return t.split("-")[0]}function Wp(t){return t.split("-")[1]}function GM(t){return t==="x"?"y":"x"}function YM(t){return t==="y"?"height":"width"}const G0e=new Set(["top","bottom"]);function Co(t){return G0e.has(dc(t))?"y":"x"}function KM(t){return GM(Co(t))}function Y0e(t,e,n){n===void 0&&(n=!1);const r=Wp(t),i=KM(t),s=YM(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Gw(a)),[a,Gw(a)]}function K0e(t){const e=Gw(t);return[fR(t),e,fR(e)]}function fR(t){return t.replace(/start|end/g,e=>W0e[e])}const QV=["left","right"],ZV=["right","left"],X0e=["top","bottom"],Q0e=["bottom","top"];function Z0e(t,e,n){switch(t){case"top":case"bottom":return n?e?ZV:QV:e?QV:ZV;case"left":case"right":return e?X0e:Q0e;default:return[]}}function J0e(t,e,n,r){const i=Wp(t);let s=Z0e(dc(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(fR)))),s}function Gw(t){return t.replace(/left|right|bottom|top/g,e=>H0e[e])}function e_e(t){return{top:0,right:0,bottom:0,left:0,...t}}function eQ(t){return typeof t!="number"?e_e(t):{top:t,right:t,bottom:t,left:t}}function Yw(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function JV(t,e,n){let{reference:r,floating:i}=t;const s=Co(e),a=KM(e),l=YM(a),u=dc(e),d=s==="y",h=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,g=r[l]/2-i[l]/2;let v;switch(u){case"top":v={x:h,y:r.y-i.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:m};break;case"left":v={x:r.x-i.width,y:m};break;default:v={x:r.x,y:r.y}}switch(Wp(e)){case"start":v[a]-=g*(n&&d?-1:1);break;case"end":v[a]+=g*(n&&d?-1:1);break}return v}const t_e=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:m}=JV(d,r,u),g=r,v={},b=0;for(let _=0;_<l.length;_++){const{name:x,fn:j}=l[_],{x:A,y:C,data:P,reset:T}=await j({x:h,y:m,initialPlacement:r,placement:g,strategy:i,middlewareData:v,rects:d,platform:a,elements:{reference:t,floating:e}});h=A??h,m=C??m,v={...v,[x]:{...v[x],...P}},T&&b<=50&&(b++,typeof T=="object"&&(T.placement&&(g=T.placement),T.rects&&(d=T.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:h,y:m}=JV(d,g,u)),_=-1)}return{x:h,y:m,placement:g,strategy:i,middlewareData:v}};async function Fv(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:g=!1,padding:v=0}=uc(e,t),b=eQ(v),x=l[g?m==="floating"?"reference":"floating":m],j=Yw(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:u})),A=m==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),P=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},T=Yw(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:C,strategy:u}):A);return{top:(j.top-T.top+b.top)/P.y,bottom:(T.bottom-j.bottom+b.bottom)/P.y,left:(j.left-T.left+b.left)/P.x,right:(T.right-j.right+b.right)/P.x}}const n_e=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:u}=e,{element:d,padding:h=0}=uc(t,e)||{};if(d==null)return{};const m=eQ(h),g={x:n,y:r},v=KM(i),b=YM(v),_=await a.getDimensions(d),x=v==="y",j=x?"top":"left",A=x?"bottom":"right",C=x?"clientHeight":"clientWidth",P=s.reference[b]+s.reference[v]-g[v]-s.floating[b],T=g[v]-s.reference[v],I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let E=I?I[C]:0;(!E||!await(a.isElement==null?void 0:a.isElement(I)))&&(E=l.floating[C]||s.floating[b]);const k=P/2-T/2,O=E/2-_[b]/2-1,D=Du(m[j],O),M=Du(m[A],O),V=D,$=E-_[b]-M,X=E/2-_[b]/2+k,H=dR(V,X,$),U=!u.arrow&&Wp(i)!=null&&X!==H&&s.reference[b]/2-(X<V?D:M)-_[b]/2<0,q=U?X<V?X-V:X-$:0;return{[v]:g[v]+q,data:{[v]:H,centerOffset:X-H-q,...U&&{alignmentOffset:q}},reset:U}}}),r_e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:_=!0,...x}=uc(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const j=dc(i),A=Co(l),C=dc(l)===l,P=await(u.isRTL==null?void 0:u.isRTL(d.floating)),T=g||(C||!_?[Gw(l)]:K0e(l)),I=b!=="none";!g&&I&&T.push(...J0e(l,_,b,P));const E=[l,...T],k=await Fv(e,x),O=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&O.push(k[j]),m){const X=Y0e(i,a,P);O.push(k[X[0]],k[X[1]])}if(D=[...D,{placement:i,overflows:O}],!O.every(X=>X<=0)){var M,V;const X=(((M=s.flip)==null?void 0:M.index)||0)+1,H=E[X];if(H&&(!(m==="alignment"?A!==Co(H):!1)||D.every(G=>G.overflows[0]>0&&Co(G.placement)===A)))return{data:{index:X,overflows:D},reset:{placement:H}};let U=(V=D.filter(q=>q.overflows[0]<=0).sort((q,G)=>q.overflows[1]-G.overflows[1])[0])==null?void 0:V.placement;if(!U)switch(v){case"bestFit":{var $;const q=($=D.filter(G=>{if(I){const W=Co(G.placement);return W===A||W==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(W=>W>0).reduce((W,z)=>W+z,0)]).sort((G,W)=>G[1]-W[1])[0])==null?void 0:$[0];q&&(U=q);break}case"initialPlacement":U=l;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function eF(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function tF(t){return q0e.some(e=>t[e]>=0)}const i_e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=uc(t,e);switch(r){case"referenceHidden":{const s=await Fv(e,{...i,elementContext:"reference"}),a=eF(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:tF(a)}}}case"escaped":{const s=await Fv(e,{...i,altBoundary:!0}),a=eF(s,n.floating);return{data:{escapedOffsets:a,escaped:tF(a)}}}default:return{}}}}},tQ=new Set(["left","top"]);async function s_e(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=dc(n),l=Wp(n),u=Co(n)==="y",d=tQ.has(a)?-1:1,h=s&&u?-1:1,m=uc(e,t);let{mainAxis:g,crossAxis:v,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof b=="number"&&(v=l==="end"?b*-1:b),u?{x:v*h,y:g*d}:{x:g*d,y:v*h}}const a_e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:l}=e,u=await s_e(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:a}}}}},o_e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:j,y:A}=x;return{x:j,y:A}}},...u}=uc(t,e),d={x:n,y:r},h=await Fv(e,u),m=Co(dc(i)),g=GM(m);let v=d[g],b=d[m];if(s){const x=g==="y"?"top":"left",j=g==="y"?"bottom":"right",A=v+h[x],C=v-h[j];v=dR(A,v,C)}if(a){const x=m==="y"?"top":"left",j=m==="y"?"bottom":"right",A=b+h[x],C=b-h[j];b=dR(A,b,C)}const _=l.fn({...e,[g]:v,[m]:b});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[g]:s,[m]:a}}}}}},l_e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=uc(t,e),h={x:n,y:r},m=Co(i),g=GM(m);let v=h[g],b=h[m];const _=uc(l,e),x=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const C=g==="y"?"height":"width",P=s.reference[g]-s.floating[C]+x.mainAxis,T=s.reference[g]+s.reference[C]-x.mainAxis;v<P?v=P:v>T&&(v=T)}if(d){var j,A;const C=g==="y"?"width":"height",P=tQ.has(dc(i)),T=s.reference[m]-s.floating[C]+(P&&((j=a.offset)==null?void 0:j[m])||0)+(P?0:x.crossAxis),I=s.reference[m]+s.reference[C]+(P?0:((A=a.offset)==null?void 0:A[m])||0)-(P?x.crossAxis:0);b<T?b=T:b>I&&(b=I)}return{[g]:v,[m]:b}}}},c_e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:l}=e,{apply:u=()=>{},...d}=uc(t,e),h=await Fv(e,d),m=dc(i),g=Wp(i),v=Co(i)==="y",{width:b,height:_}=s.floating;let x,j;m==="top"||m==="bottom"?(x=m,j=g===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(j=m,x=g==="end"?"top":"bottom");const A=_-h.top-h.bottom,C=b-h.left-h.right,P=Du(_-h[x],A),T=Du(b-h[j],C),I=!e.middlewareData.shift;let E=P,k=T;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=A),I&&!g){const D=ks(h.left,0),M=ks(h.right,0),V=ks(h.top,0),$=ks(h.bottom,0);v?k=b-2*(D!==0||M!==0?D+M:ks(h.left,h.right)):E=_-2*(V!==0||$!==0?V+$:ks(h.top,h.bottom))}await u({...e,availableWidth:k,availableHeight:E});const O=await a.getDimensions(l.floating);return b!==O.width||_!==O.height?{reset:{rects:!0}}:{}}}};function dj(){return typeof window<"u"}function Gp(t){return nQ(t)?(t.nodeName||"").toLowerCase():"#document"}function $s(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Jo(t){var e;return(e=(nQ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nQ(t){return dj()?t instanceof Node||t instanceof $s(t).Node:!1}function Ya(t){return dj()?t instanceof Element||t instanceof $s(t).Element:!1}function Yo(t){return dj()?t instanceof HTMLElement||t instanceof $s(t).HTMLElement:!1}function nF(t){return!dj()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $s(t).ShadowRoot}const u_e=new Set(["inline","contents"]);function ub(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ka(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!u_e.has(i)}const d_e=new Set(["table","td","th"]);function f_e(t){return d_e.has(Gp(t))}const h_e=[":popover-open",":modal"];function fj(t){return h_e.some(e=>{try{return t.matches(e)}catch{return!1}})}const m_e=["transform","translate","scale","rotate","perspective"],p_e=["transform","translate","scale","rotate","perspective","filter"],g_e=["paint","layout","strict","content"];function XM(t){const e=QM(),n=Ya(t)?Ka(t):t;return m_e.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||p_e.some(r=>(n.willChange||"").includes(r))||g_e.some(r=>(n.contain||"").includes(r))}function y_e(t){let e=Lu(t);for(;Yo(e)&&!rp(e);){if(XM(e))return e;if(fj(e))return null;e=Lu(e)}return null}function QM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const v_e=new Set(["html","body","#document"]);function rp(t){return v_e.has(Gp(t))}function Ka(t){return $s(t).getComputedStyle(t)}function hj(t){return Ya(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Lu(t){if(Gp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||nF(t)&&t.host||Jo(t);return nF(e)?e.host:e}function rQ(t){const e=Lu(t);return rp(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yo(e)&&ub(e)?e:rQ(e)}function Bv(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=rQ(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=$s(i);if(s){const l=hR(a);return e.concat(a,a.visualViewport||[],ub(i)?i:[],l&&n?Bv(l):[])}return e.concat(i,Bv(i,[],n))}function hR(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function iQ(t){const e=Ka(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Yo(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,l=Ww(n)!==s||Ww(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function ZM(t){return Ya(t)?t:t.contextElement}function Cm(t){const e=ZM(t);if(!Yo(e))return Bo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=iQ(e);let a=(s?Ww(n.width):n.width)/r,l=(s?Ww(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const x_e=Bo(0);function sQ(t){const e=$s(t);return!QM()||!e.visualViewport?x_e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function b_e(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==$s(t)?!1:e}function Cf(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=ZM(t);let a=Bo(1);e&&(r?Ya(r)&&(a=Cm(r)):a=Cm(t));const l=b_e(s,n,r)?sQ(s):Bo(0);let u=(i.left+l.x)/a.x,d=(i.top+l.y)/a.y,h=i.width/a.x,m=i.height/a.y;if(s){const g=$s(s),v=r&&Ya(r)?$s(r):r;let b=g,_=hR(b);for(;_&&r&&v!==b;){const x=Cm(_),j=_.getBoundingClientRect(),A=Ka(_),C=j.left+(_.clientLeft+parseFloat(A.paddingLeft))*x.x,P=j.top+(_.clientTop+parseFloat(A.paddingTop))*x.y;u*=x.x,d*=x.y,h*=x.x,m*=x.y,u+=C,d+=P,b=$s(_),_=hR(b)}}return Yw({width:h,height:m,x:u,y:d})}function JM(t,e){const n=hj(t).scrollLeft;return e?e.left+n:Cf(Jo(t)).left+n}function aQ(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:JM(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function __e(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Jo(r),l=e?fj(e.floating):!1;if(r===a||l&&s)return n;let u={scrollLeft:0,scrollTop:0},d=Bo(1);const h=Bo(0),m=Yo(r);if((m||!m&&!s)&&((Gp(r)!=="body"||ub(a))&&(u=hj(r)),Yo(r))){const v=Cf(r);d=Cm(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const g=a&&!m&&!s?aQ(a,u,!0):Bo(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+h.x+g.x,y:n.y*d.y-u.scrollTop*d.y+h.y+g.y}}function w_e(t){return Array.from(t.getClientRects())}function S_e(t){const e=Jo(t),n=hj(t),r=t.ownerDocument.body,i=ks(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ks(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+JM(t);const l=-n.scrollTop;return Ka(r).direction==="rtl"&&(a+=ks(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}function j_e(t,e){const n=$s(t),r=Jo(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,u=0;if(i){s=i.width,a=i.height;const d=QM();(!d||d&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:a,x:l,y:u}}const N_e=new Set(["absolute","fixed"]);function A_e(t,e){const n=Cf(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Yo(t)?Cm(t):Bo(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,u=i*s.x,d=r*s.y;return{width:a,height:l,x:u,y:d}}function rF(t,e,n){let r;if(e==="viewport")r=j_e(t,n);else if(e==="document")r=S_e(Jo(t));else if(Ya(e))r=A_e(e,n);else{const i=sQ(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Yw(r)}function oQ(t,e){const n=Lu(t);return n===e||!Ya(n)||rp(n)?!1:Ka(n).position==="fixed"||oQ(n,e)}function E_e(t,e){const n=e.get(t);if(n)return n;let r=Bv(t,[],!1).filter(l=>Ya(l)&&Gp(l)!=="body"),i=null;const s=Ka(t).position==="fixed";let a=s?Lu(t):t;for(;Ya(a)&&!rp(a);){const l=Ka(a),u=XM(a);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&N_e.has(i.position)||ub(a)&&!u&&oQ(t,a))?r=r.filter(h=>h!==a):i=l,a=Lu(a)}return e.set(t,r),r}function T_e(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?fj(e)?[]:E_e(e,this._c):[].concat(n),r],l=a[0],u=a.reduce((d,h)=>{const m=rF(e,h,i);return d.top=ks(m.top,d.top),d.right=Du(m.right,d.right),d.bottom=Du(m.bottom,d.bottom),d.left=ks(m.left,d.left),d},rF(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function C_e(t){const{width:e,height:n}=iQ(t);return{width:e,height:n}}function k_e(t,e,n){const r=Yo(e),i=Jo(e),s=n==="fixed",a=Cf(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=Bo(0);function d(){u.x=JM(i)}if(r||!r&&!s)if((Gp(e)!=="body"||ub(i))&&(l=hj(e)),r){const v=Cf(e,!0,s,e);u.x=v.x+e.clientLeft,u.y=v.y+e.clientTop}else i&&d();s&&!r&&i&&d();const h=i&&!r&&!s?aQ(i,l):Bo(0),m=a.left+l.scrollLeft-u.x-h.x,g=a.top+l.scrollTop-u.y-h.y;return{x:m,y:g,width:a.width,height:a.height}}function WE(t){return Ka(t).position==="static"}function iF(t,e){if(!Yo(t)||Ka(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Jo(t)===n&&(n=n.ownerDocument.body),n}function lQ(t,e){const n=$s(t);if(fj(t))return n;if(!Yo(t)){let i=Lu(t);for(;i&&!rp(i);){if(Ya(i)&&!WE(i))return i;i=Lu(i)}return n}let r=iF(t,e);for(;r&&f_e(r)&&WE(r);)r=iF(r,e);return r&&rp(r)&&WE(r)&&!XM(r)?n:r||y_e(t)||n}const O_e=async function(t){const e=this.getOffsetParent||lQ,n=this.getDimensions,r=await n(t.floating);return{reference:k_e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function R_e(t){return Ka(t).direction==="rtl"}const P_e={convertOffsetParentRelativeRectToViewportRelativeRect:__e,getDocumentElement:Jo,getClippingRect:T_e,getOffsetParent:lQ,getElementRects:O_e,getClientRects:w_e,getDimensions:C_e,getScale:Cm,isElement:Ya,isRTL:R_e};function cQ(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function I_e(t,e){let n=null,r;const i=Jo(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const d=t.getBoundingClientRect(),{left:h,top:m,width:g,height:v}=d;if(l||e(),!g||!v)return;const b=c_(m),_=c_(i.clientWidth-(h+g)),x=c_(i.clientHeight-(m+v)),j=c_(h),C={rootMargin:-b+"px "+-_+"px "+-x+"px "+-j+"px",threshold:ks(0,Du(1,u))||1};let P=!0;function T(I){const E=I[0].intersectionRatio;if(E!==u){if(!P)return a();E?a(!1,E):r=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!cQ(d,t.getBoundingClientRect())&&a(),P=!1}try{n=new IntersectionObserver(T,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,C)}n.observe(t)}return a(!0),s}function M_e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=ZM(t),h=i||s?[...d?Bv(d):[],...Bv(e)]:[];h.forEach(j=>{i&&j.addEventListener("scroll",n,{passive:!0}),s&&j.addEventListener("resize",n)});const m=d&&l?I_e(d,n):null;let g=-1,v=null;a&&(v=new ResizeObserver(j=>{let[A]=j;A&&A.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(e)})),n()}),d&&!u&&v.observe(d),v.observe(e));let b,_=u?Cf(t):null;u&&x();function x(){const j=Cf(t);_&&!cQ(_,j)&&n(),_=j,b=requestAnimationFrame(x)}return n(),()=>{var j;h.forEach(A=>{i&&A.removeEventListener("scroll",n),s&&A.removeEventListener("resize",n)}),m==null||m(),(j=v)==null||j.disconnect(),v=null,u&&cancelAnimationFrame(b)}}const D_e=a_e,L_e=o_e,$_e=r_e,V_e=c_e,F_e=i_e,sF=n_e,B_e=l_e,U_e=(t,e,n)=>{const r=new Map,i={platform:P_e,...n},s={...i.platform,_c:r};return t_e(t,e,{...i,platform:s})};var z_e=typeof document<"u",q_e=function(){},rw=z_e?N.useLayoutEffect:q_e;function Kw(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Kw(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Kw(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function uQ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function aF(t,e){const n=uQ(t);return Math.round(e*n)/n}function GE(t){const e=N.useRef(t);return rw(()=>{e.current=t}),e}function H_e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[h,m]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,v]=N.useState(r);Kw(g,r)||v(r);const[b,_]=N.useState(null),[x,j]=N.useState(null),A=N.useCallback(G=>{G!==I.current&&(I.current=G,_(G))},[]),C=N.useCallback(G=>{G!==E.current&&(E.current=G,j(G))},[]),P=s||b,T=a||x,I=N.useRef(null),E=N.useRef(null),k=N.useRef(h),O=u!=null,D=GE(u),M=GE(i),V=GE(d),$=N.useCallback(()=>{if(!I.current||!E.current)return;const G={placement:e,strategy:n,middleware:g};M.current&&(G.platform=M.current),U_e(I.current,E.current,G).then(W=>{const z={...W,isPositioned:V.current!==!1};X.current&&!Kw(k.current,z)&&(k.current=z,$x.flushSync(()=>{m(z)}))})},[g,e,n,M,V]);rw(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,m(G=>({...G,isPositioned:!1})))},[d]);const X=N.useRef(!1);rw(()=>(X.current=!0,()=>{X.current=!1}),[]),rw(()=>{if(P&&(I.current=P),T&&(E.current=T),P&&T){if(D.current)return D.current(P,T,$);$()}},[P,T,$,D,O]);const H=N.useMemo(()=>({reference:I,floating:E,setReference:A,setFloating:C}),[A,C]),U=N.useMemo(()=>({reference:P,floating:T}),[P,T]),q=N.useMemo(()=>{const G={position:n,left:0,top:0};if(!U.floating)return G;const W=aF(U.floating,h.x),z=aF(U.floating,h.y);return l?{...G,transform:"translate("+W+"px, "+z+"px)",...uQ(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:z}},[n,l,U.floating,h.x,h.y]);return N.useMemo(()=>({...h,update:$,refs:H,elements:U,floatingStyles:q}),[h,$,H,U,q])}const W_e=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?sF({element:r.current,padding:i}).fn(n):{}:r?sF({element:r,padding:i}).fn(n):{}}}},G_e=(t,e)=>({...D_e(t),options:[t,e]}),Y_e=(t,e)=>({...L_e(t),options:[t,e]}),K_e=(t,e)=>({...B_e(t),options:[t,e]}),X_e=(t,e)=>({...$_e(t),options:[t,e]}),Q_e=(t,e)=>({...V_e(t),options:[t,e]}),Z_e=(t,e)=>({...F_e(t),options:[t,e]}),J_e=(t,e)=>({...W_e(t),options:[t,e]});var ewe="Arrow",dQ=N.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return o.jsx(yt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});dQ.displayName=ewe;var twe=dQ;function fQ(t){const[e,n]=N.useState(void 0);return Br(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var eD="Popper",[hQ,mj]=qs(eD),[nwe,mQ]=hQ(eD),pQ=t=>{const{__scopePopper:e,children:n}=t,[r,i]=N.useState(null);return o.jsx(nwe,{scope:e,anchor:r,onAnchorChange:i,children:n})};pQ.displayName=eD;var gQ="PopperAnchor",yQ=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=mQ(gQ,n),a=N.useRef(null),l=Xt(e,a);return N.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(yt.div,{...i,ref:l})});yQ.displayName=gQ;var tD="PopperContent",[rwe,iwe]=hQ(tD),vQ=N.forwardRef((t,e)=>{var je,ce,oe,we,Ne,ue;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:b,..._}=t,x=mQ(tD,n),[j,A]=N.useState(null),C=Xt(e,Ue=>A(Ue)),[P,T]=N.useState(null),I=fQ(P),E=(I==null?void 0:I.width)??0,k=(I==null?void 0:I.height)??0,O=r+(s!=="center"?"-"+s:""),D=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},M=Array.isArray(d)?d:[d],V=M.length>0,$={padding:D,boundary:M.filter(awe),altBoundary:V},{refs:X,floatingStyles:H,placement:U,isPositioned:q,middlewareData:G}=H_e({strategy:"fixed",placement:O,whileElementsMounted:(...Ue)=>M_e(...Ue,{animationFrame:v==="always"}),elements:{reference:x.anchor},middleware:[G_e({mainAxis:i+k,alignmentAxis:a}),u&&Y_e({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?K_e():void 0,...$}),u&&X_e({...$}),Q_e({...$,apply:({elements:Ue,rects:We,availableWidth:jt,availableHeight:ht})=>{const{width:At,height:Ur}=We.reference,Qn=Ue.floating.style;Qn.setProperty("--radix-popper-available-width",`${jt}px`),Qn.setProperty("--radix-popper-available-height",`${ht}px`),Qn.setProperty("--radix-popper-anchor-width",`${At}px`),Qn.setProperty("--radix-popper-anchor-height",`${Ur}px`)}}),P&&J_e({element:P,padding:l}),owe({arrowWidth:E,arrowHeight:k}),g&&Z_e({strategy:"referenceHidden",...$})]}),[W,z]=_Q(U),Z=pi(b);Br(()=>{q&&(Z==null||Z())},[q,Z]);const te=(je=G.arrow)==null?void 0:je.x,ne=(ce=G.arrow)==null?void 0:ce.y,ge=((oe=G.arrow)==null?void 0:oe.centerOffset)!==0,[Ce,Te]=N.useState();return Br(()=>{j&&Te(window.getComputedStyle(j).zIndex)},[j]),o.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:q?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[(we=G.transformOrigin)==null?void 0:we.x,(Ne=G.transformOrigin)==null?void 0:Ne.y].join(" "),...((ue=G.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(rwe,{scope:n,placedSide:W,onArrowChange:T,arrowX:te,arrowY:ne,shouldHideArrow:ge,children:o.jsx(yt.div,{"data-side":W,"data-align":z,..._,ref:C,style:{..._.style,animation:q?void 0:"none"}})})})});vQ.displayName=tD;var xQ="PopperArrow",swe={top:"bottom",right:"left",bottom:"top",left:"right"},bQ=N.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=iwe(xQ,r),a=swe[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(twe,{...i,ref:n,style:{...i.style,display:"block"}})})});bQ.displayName=xQ;function awe(t){return t!==null}var owe=t=>({name:"transformOrigin",options:t,fn(e){var x,j,A;const{placement:n,rects:r,middlewareData:i}=e,a=((x=i.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[d,h]=_Q(n),m={start:"0%",center:"50%",end:"100%"}[h],g=(((j=i.arrow)==null?void 0:j.x)??0)+l/2,v=(((A=i.arrow)==null?void 0:A.y)??0)+u/2;let b="",_="";return d==="bottom"?(b=a?m:`${g}px`,_=`${-u}px`):d==="top"?(b=a?m:`${g}px`,_=`${r.floating.height+u}px`):d==="right"?(b=`${-u}px`,_=a?m:`${v}px`):d==="left"&&(b=`${r.floating.width+u}px`,_=a?m:`${v}px`),{data:{x:b,y:_}}}});function _Q(t){const[e,n="center"]=t.split("-");return[e,n]}var wQ=pQ,SQ=yQ,jQ=vQ,NQ=bQ;function AQ(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var EQ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),lwe="VisuallyHidden",cwe=N.forwardRef((t,e)=>o.jsx(yt.span,{...t,ref:e,style:{...EQ,...t.style}}));cwe.displayName=lwe;var uwe=[" ","Enter","ArrowUp","ArrowDown"],dwe=[" ","Enter"],kf="Select",[pj,gj,fwe]=DM(kf),[Yp,Rze]=qs(kf,[fwe,mj]),yj=mj(),[hwe,Hu]=Yp(kf),[mwe,pwe]=Yp(kf),TQ=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:u,dir:d,name:h,autoComplete:m,disabled:g,required:v,form:b}=t,_=yj(e),[x,j]=N.useState(null),[A,C]=N.useState(null),[P,T]=N.useState(!1),I=ob(d),[E,k]=Sf({prop:r,defaultProp:i??!1,onChange:s,caller:kf}),[O,D]=Sf({prop:a,defaultProp:l,onChange:u,caller:kf}),M=N.useRef(null),V=x?b||!!x.closest("form"):!0,[$,X]=N.useState(new Set),H=Array.from($).map(U=>U.props.value).join(";");return o.jsx(wQ,{..._,children:o.jsxs(hwe,{required:v,scope:e,trigger:x,onTriggerChange:j,valueNode:A,onValueNodeChange:C,valueNodeHasChildren:P,onValueNodeHasChildrenChange:T,contentId:Vo(),value:O,onValueChange:D,open:E,onOpenChange:k,dir:I,triggerPointerDownPosRef:M,disabled:g,children:[o.jsx(pj.Provider,{scope:e,children:o.jsx(mwe,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback(U=>{X(q=>new Set(q).add(U))},[]),onNativeOptionRemove:N.useCallback(U=>{X(q=>{const G=new Set(q);return G.delete(U),G})},[]),children:n})}),V?o.jsxs(ZQ,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:m,value:O,onChange:U=>D(U.target.value),disabled:g,form:b,children:[O===void 0?o.jsx("option",{value:""}):null,Array.from($)]},H):null]})})};TQ.displayName=kf;var CQ="SelectTrigger",kQ=N.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=yj(n),a=Hu(CQ,n),l=a.disabled||r,u=Xt(e,a.onTriggerChange),d=gj(n),h=N.useRef("touch"),[m,g,v]=eZ(_=>{const x=d().filter(C=>!C.disabled),j=x.find(C=>C.value===a.value),A=tZ(x,_,j);A!==void 0&&a.onValueChange(A.value)}),b=_=>{l||(a.onOpenChange(!0),v()),_&&(a.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return o.jsx(SQ,{asChild:!0,...s,children:o.jsx(yt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":JQ(a.value)?"":void 0,...i,ref:u,onClick:Ze(i.onClick,_=>{_.currentTarget.focus(),h.current!=="mouse"&&b(_)}),onPointerDown:Ze(i.onPointerDown,_=>{h.current=_.pointerType;const x=_.target;x.hasPointerCapture(_.pointerId)&&x.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(b(_),_.preventDefault())}),onKeyDown:Ze(i.onKeyDown,_=>{const x=m.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&g(_.key),!(x&&_.key===" ")&&uwe.includes(_.key)&&(b(),_.preventDefault())})})})});kQ.displayName=CQ;var OQ="SelectValue",RQ=N.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...l}=t,u=Hu(OQ,n),{onValueNodeHasChildrenChange:d}=u,h=s!==void 0,m=Xt(e,u.onValueNodeChange);return Br(()=>{d(h)},[d,h]),o.jsx(yt.span,{...l,ref:m,style:{pointerEvents:"none"},children:JQ(u.value)?o.jsx(o.Fragment,{children:a}):s})});RQ.displayName=OQ;var gwe="SelectIcon",PQ=N.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return o.jsx(yt.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});PQ.displayName=gwe;var ywe="SelectPortal",IQ=t=>o.jsx(nj,{asChild:!0,...t});IQ.displayName=ywe;var Of="SelectContent",MQ=N.forwardRef((t,e)=>{const n=Hu(Of,t.__scopeSelect),[r,i]=N.useState();if(Br(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?$x.createPortal(o.jsx(DQ,{scope:t.__scopeSelect,children:o.jsx(pj.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),s):null}return o.jsx(LQ,{...t,ref:e})});MQ.displayName=Of;var Ra=10,[DQ,Wu]=Yp(Of),vwe="SelectContentImpl",xwe=wf("SelectContent.RemoveScroll"),LQ=N.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:g,collisionPadding:v,sticky:b,hideWhenDetached:_,avoidCollisions:x,...j}=t,A=Hu(Of,n),[C,P]=N.useState(null),[T,I]=N.useState(null),E=Xt(e,je=>P(je)),[k,O]=N.useState(null),[D,M]=N.useState(null),V=gj(n),[$,X]=N.useState(!1),H=N.useRef(!1);N.useEffect(()=>{if(C)return EM(C)},[C]),AM();const U=N.useCallback(je=>{const[ce,...oe]=V().map(ue=>ue.ref.current),[we]=oe.slice(-1),Ne=document.activeElement;for(const ue of je)if(ue===Ne||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===ce&&T&&(T.scrollTop=0),ue===we&&T&&(T.scrollTop=T.scrollHeight),ue==null||ue.focus(),document.activeElement!==Ne))return},[V,T]),q=N.useCallback(()=>U([k,C]),[U,k,C]);N.useEffect(()=>{$&&q()},[$,q]);const{onOpenChange:G,triggerPointerDownPosRef:W}=A;N.useEffect(()=>{if(C){let je={x:0,y:0};const ce=we=>{var Ne,ue;je={x:Math.abs(Math.round(we.pageX)-(((Ne=W.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(we.pageY)-(((ue=W.current)==null?void 0:ue.y)??0))}},oe=we=>{je.x<=10&&je.y<=10?we.preventDefault():C.contains(we.target)||G(!1),document.removeEventListener("pointermove",ce),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",oe,{capture:!0})}}},[C,G,W]),N.useEffect(()=>{const je=()=>G(!1);return window.addEventListener("blur",je),window.addEventListener("resize",je),()=>{window.removeEventListener("blur",je),window.removeEventListener("resize",je)}},[G]);const[z,Z]=eZ(je=>{const ce=V().filter(Ne=>!Ne.disabled),oe=ce.find(Ne=>Ne.ref.current===document.activeElement),we=tZ(ce,je,oe);we&&setTimeout(()=>we.ref.current.focus())}),te=N.useCallback((je,ce,oe)=>{const we=!H.current&&!oe;(A.value!==void 0&&A.value===ce||we)&&(O(je),we&&(H.current=!0))},[A.value]),ne=N.useCallback(()=>C==null?void 0:C.focus(),[C]),ge=N.useCallback((je,ce,oe)=>{const we=!H.current&&!oe;(A.value!==void 0&&A.value===ce||we)&&M(je)},[A.value]),Ce=r==="popper"?mR:$Q,Te=Ce===mR?{side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:g,collisionPadding:v,sticky:b,hideWhenDetached:_,avoidCollisions:x}:{};return o.jsx(DQ,{scope:n,content:C,viewport:T,onViewportChange:I,itemRefCallback:te,selectedItem:k,onItemLeave:ne,itemTextRefCallback:ge,focusSelectedItem:q,selectedItemText:D,position:r,isPositioned:$,searchRef:z,children:o.jsx(ij,{as:xwe,allowPinchZoom:!0,children:o.jsx(tj,{asChild:!0,trapped:A.open,onMountAutoFocus:je=>{je.preventDefault()},onUnmountAutoFocus:Ze(i,je=>{var ce;(ce=A.trigger)==null||ce.focus({preventScroll:!0}),je.preventDefault()}),children:o.jsx(ej,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:je=>je.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:o.jsx(Ce,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:je=>je.preventDefault(),...j,...Te,onPlaced:()=>X(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Ze(j.onKeyDown,je=>{const ce=je.ctrlKey||je.altKey||je.metaKey;if(je.key==="Tab"&&je.preventDefault(),!ce&&je.key.length===1&&Z(je.key),["ArrowUp","ArrowDown","Home","End"].includes(je.key)){let we=V().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(je.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(je.key)){const Ne=je.target,ue=we.indexOf(Ne);we=we.slice(ue+1)}setTimeout(()=>U(we)),je.preventDefault()}})})})})})})});LQ.displayName=vwe;var bwe="SelectItemAlignedPosition",$Q=N.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Hu(Of,n),a=Wu(Of,n),[l,u]=N.useState(null),[d,h]=N.useState(null),m=Xt(e,E=>h(E)),g=gj(n),v=N.useRef(!1),b=N.useRef(!0),{viewport:_,selectedItem:x,selectedItemText:j,focusSelectedItem:A}=a,C=N.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&_&&x&&j){const E=s.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),O=s.valueNode.getBoundingClientRect(),D=j.getBoundingClientRect();if(s.dir!=="rtl"){const Ne=D.left-k.left,ue=O.left-Ne,Ue=E.left-ue,We=E.width+Ue,jt=Math.max(We,k.width),ht=window.innerWidth-Ra,At=uR(ue,[Ra,Math.max(Ra,ht-jt)]);l.style.minWidth=We+"px",l.style.left=At+"px"}else{const Ne=k.right-D.right,ue=window.innerWidth-O.right-Ne,Ue=window.innerWidth-E.right-ue,We=E.width+Ue,jt=Math.max(We,k.width),ht=window.innerWidth-Ra,At=uR(ue,[Ra,Math.max(Ra,ht-jt)]);l.style.minWidth=We+"px",l.style.right=At+"px"}const M=g(),V=window.innerHeight-Ra*2,$=_.scrollHeight,X=window.getComputedStyle(d),H=parseInt(X.borderTopWidth,10),U=parseInt(X.paddingTop,10),q=parseInt(X.borderBottomWidth,10),G=parseInt(X.paddingBottom,10),W=H+U+$+G+q,z=Math.min(x.offsetHeight*5,W),Z=window.getComputedStyle(_),te=parseInt(Z.paddingTop,10),ne=parseInt(Z.paddingBottom,10),ge=E.top+E.height/2-Ra,Ce=V-ge,Te=x.offsetHeight/2,je=x.offsetTop+Te,ce=H+U+je,oe=W-ce;if(ce<=ge){const Ne=M.length>0&&x===M[M.length-1].ref.current;l.style.bottom="0px";const ue=d.clientHeight-_.offsetTop-_.offsetHeight,Ue=Math.max(Ce,Te+(Ne?ne:0)+ue+q),We=ce+Ue;l.style.height=We+"px"}else{const Ne=M.length>0&&x===M[0].ref.current;l.style.top="0px";const Ue=Math.max(ge,H+_.offsetTop+(Ne?te:0)+Te)+oe;l.style.height=Ue+"px",_.scrollTop=ce-ge+_.offsetTop}l.style.margin=`${Ra}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=V+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[g,s.trigger,s.valueNode,l,d,_,x,j,s.dir,r]);Br(()=>C(),[C]);const[P,T]=N.useState();Br(()=>{d&&T(window.getComputedStyle(d).zIndex)},[d]);const I=N.useCallback(E=>{E&&b.current===!0&&(C(),A==null||A(),b.current=!1)},[C,A]);return o.jsx(wwe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:I,children:o.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:o.jsx(yt.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});$Q.displayName=bwe;var _we="SelectPopperPosition",mR=N.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ra,...s}=t,a=yj(n);return o.jsx(jQ,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});mR.displayName=_we;var[wwe,nD]=Yp(Of,{}),pR="SelectViewport",VQ=N.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Wu(pR,n),a=nD(pR,n),l=Xt(e,s.onViewportChange),u=N.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(pj.Slot,{scope:n,children:o.jsx(yt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ze(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=a;if(g!=null&&g.current&&m){const v=Math.abs(u.current-h.scrollTop);if(v>0){const b=window.innerHeight-Ra*2,_=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),j=Math.max(_,x);if(j<b){const A=j+v,C=Math.min(b,A),P=A-C;m.style.height=C+"px",m.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,m.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});VQ.displayName=pR;var FQ="SelectGroup",[Swe,jwe]=Yp(FQ),Nwe=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Vo();return o.jsx(Swe,{scope:n,id:i,children:o.jsx(yt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Nwe.displayName=FQ;var BQ="SelectLabel",UQ=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=jwe(BQ,n);return o.jsx(yt.div,{id:i.id,...r,ref:e})});UQ.displayName=BQ;var Xw="SelectItem",[Awe,zQ]=Yp(Xw),qQ=N.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,l=Hu(Xw,n),u=Wu(Xw,n),d=l.value===r,[h,m]=N.useState(s??""),[g,v]=N.useState(!1),b=Xt(e,A=>{var C;return(C=u.itemRefCallback)==null?void 0:C.call(u,A,r,i)}),_=Vo(),x=N.useRef("touch"),j=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Awe,{scope:n,value:r,disabled:i,textId:_,isSelected:d,onItemTextChange:N.useCallback(A=>{m(C=>C||((A==null?void 0:A.textContent)??"").trim())},[]),children:o.jsx(pj.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:o.jsx(yt.div,{role:"option","aria-labelledby":_,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:b,onFocus:Ze(a.onFocus,()=>v(!0)),onBlur:Ze(a.onBlur,()=>v(!1)),onClick:Ze(a.onClick,()=>{x.current!=="mouse"&&j()}),onPointerUp:Ze(a.onPointerUp,()=>{x.current==="mouse"&&j()}),onPointerDown:Ze(a.onPointerDown,A=>{x.current=A.pointerType}),onPointerMove:Ze(a.onPointerMove,A=>{var C;x.current=A.pointerType,i?(C=u.onItemLeave)==null||C.call(u):x.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ze(a.onPointerLeave,A=>{var C;A.currentTarget===document.activeElement&&((C=u.onItemLeave)==null||C.call(u))}),onKeyDown:Ze(a.onKeyDown,A=>{var P;((P=u.searchRef)==null?void 0:P.current)!==""&&A.key===" "||(dwe.includes(A.key)&&j(),A.key===" "&&A.preventDefault())})})})})});qQ.displayName=Xw;var Ly="SelectItemText",HQ=N.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=Hu(Ly,n),l=Wu(Ly,n),u=zQ(Ly,n),d=pwe(Ly,n),[h,m]=N.useState(null),g=Xt(e,j=>m(j),u.onItemTextChange,j=>{var A;return(A=l.itemTextRefCallback)==null?void 0:A.call(l,j,u.value,u.disabled)}),v=h==null?void 0:h.textContent,b=N.useMemo(()=>o.jsx("option",{value:u.value,disabled:u.disabled,children:v},u.value),[u.disabled,u.value,v]),{onNativeOptionAdd:_,onNativeOptionRemove:x}=d;return Br(()=>(_(b),()=>x(b)),[_,x,b]),o.jsxs(o.Fragment,{children:[o.jsx(yt.span,{id:u.textId,...s,ref:g}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?$x.createPortal(s.children,a.valueNode):null]})});HQ.displayName=Ly;var WQ="SelectItemIndicator",GQ=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return zQ(WQ,n).isSelected?o.jsx(yt.span,{"aria-hidden":!0,...r,ref:e}):null});GQ.displayName=WQ;var gR="SelectScrollUpButton",YQ=N.forwardRef((t,e)=>{const n=Wu(gR,t.__scopeSelect),r=nD(gR,t.__scopeSelect),[i,s]=N.useState(!1),a=Xt(e,r.onScrollButtonChange);return Br(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollTop>0;s(d)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(XQ,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});YQ.displayName=gR;var yR="SelectScrollDownButton",KQ=N.forwardRef((t,e)=>{const n=Wu(yR,t.__scopeSelect),r=nD(yR,t.__scopeSelect),[i,s]=N.useState(!1),a=Xt(e,r.onScrollButtonChange);return Br(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<d;s(h)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(XQ,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});KQ.displayName=yR;var XQ=N.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Wu("SelectScrollButton",n),a=N.useRef(null),l=gj(n),u=N.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return N.useEffect(()=>()=>u(),[u]),Br(()=>{var h;const d=l().find(m=>m.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(yt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ze(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Ze(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Ze(i.onPointerLeave,()=>{u()})})}),Ewe="SelectSeparator",QQ=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(yt.div,{"aria-hidden":!0,...r,ref:e})});QQ.displayName=Ewe;var vR="SelectArrow",Twe=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=yj(n),s=Hu(vR,n),a=Wu(vR,n);return s.open&&a.position==="popper"?o.jsx(NQ,{...i,...r,ref:e}):null});Twe.displayName=vR;var Cwe="SelectBubbleInput",ZQ=N.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=N.useRef(null),s=Xt(r,i),a=AQ(e);return N.useEffect(()=>{const l=i.current;if(!l)return;const u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==e&&h){const m=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(m)}},[a,e]),o.jsx(yt.select,{...n,style:{...EQ,...n.style},ref:s,defaultValue:e})});ZQ.displayName=Cwe;function JQ(t){return t===""||t===void 0}function eZ(t){const e=pi(t),n=N.useRef(""),r=N.useRef(0),i=N.useCallback(a=>{const l=n.current+a;e(l),function u(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(l)},[e]),s=N.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function tZ(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=kwe(t,Math.max(s,0));i.length===1&&(a=a.filter(d=>d!==n));const u=a.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function kwe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Owe=TQ,nZ=kQ,Rwe=RQ,Pwe=PQ,Iwe=IQ,rZ=MQ,Mwe=VQ,iZ=UQ,sZ=qQ,Dwe=HQ,Lwe=GQ,aZ=YQ,oZ=KQ,lZ=QQ;const Rs=Owe,Ps=Rwe,ds=N.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(nZ,{ref:r,className:Xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(Pwe,{asChild:!0,children:o.jsx(bM,{className:"h-4 w-4 opacity-50"})})]}));ds.displayName=nZ.displayName;const cZ=N.forwardRef(({className:t,...e},n)=>o.jsx(aZ,{ref:n,className:Xe("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(wye,{className:"h-4 w-4"})}));cZ.displayName=aZ.displayName;const uZ=N.forwardRef(({className:t,...e},n)=>o.jsx(oZ,{ref:n,className:Xe("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(bM,{className:"h-4 w-4"})}));uZ.displayName=oZ.displayName;const fs=N.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>o.jsx(Iwe,{children:o.jsxs(rZ,{ref:i,className:Xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(cZ,{}),o.jsx(Mwe,{className:Xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(uZ,{})]})}));fs.displayName=rZ.displayName;const $we=N.forwardRef(({className:t,...e},n)=>o.jsx(iZ,{ref:n,className:Xe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));$we.displayName=iZ.displayName;const mt=N.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(sZ,{ref:r,className:Xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Lwe,{children:o.jsx(TK,{className:"h-4 w-4"})})}),o.jsx(Dwe,{children:e})]}));mt.displayName=sZ.displayName;const Vwe=N.forwardRef(({className:t,...e},n)=>o.jsx(lZ,{ref:n,className:Xe("-mx-1 my-1 h-px bg-muted",t),...e}));Vwe.displayName=lZ.displayName;const Fwe=Fbe,dZ=N.createContext({}),Cd=({...t})=>o.jsx(dZ.Provider,{value:{name:t.name},children:o.jsx(zbe,{...t})}),rD=()=>{const t=N.useContext(dZ),e=N.useContext(fZ),{getFieldState:n}=uj(),r=LX({name:t.name}),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},fZ=N.createContext({});function kd({className:t,...e}){const n=N.useId();return o.jsx(fZ.Provider,{value:{id:n},children:o.jsx("div",{"data-slot":"form-item",className:Xe("grid gap-2",t),...e})})}function Od({className:t,...e}){const{error:n,formItemId:r}=rD();return o.jsx(ze,{"data-slot":"form-label","data-error":!!n,className:Xe("data-[error=true]:text-destructive",t),htmlFor:r,...e})}function Rd({...t}){const{error:e,formItemId:n,formDescriptionId:r,formMessageId:i}=rD();return o.jsx(pM,{"data-slot":"form-control",id:n,"aria-describedby":e?`${r} ${i}`:`${r}`,"aria-invalid":!!e,...t})}function Jh({className:t,...e}){const{error:n,formMessageId:r}=rD(),i=n?String((n==null?void 0:n.message)??""):e.children;return i?o.jsx("p",{"data-slot":"form-message",id:r,className:Xe("text-destructive text-sm",t),...e,children:i}):null}const Bwe=z0e({firstName:l_().min(1,"First name is required"),lastName:l_().min(1,"Last name is required"),email:l_().email("Please enter a valid email address"),role:XV(["super_admin","brand_manager","staff","verified_staff","retail_staff","user","guest"]),verified:U0e().default(!1),verificationStatus:XV(["pending","approved","rejected"]).default("pending"),brandId:l_().optional()});function Uwe({currentUser:t,onSuccess:e}){const[n,r]=N.useState(!1),[i,s]=N.useState(""),[a,l]=N.useState((t==null?void 0:t.role)||"user"),u=r0e({resolver:p0e(Bwe),defaultValues:{firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",email:(t==null?void 0:t.email)||"",role:(t==null?void 0:t.role)||"user",verified:(t==null?void 0:t.verified)||!1,verificationStatus:(t==null?void 0:t.verificationStatus)||"pending",brandId:(t==null?void 0:t.brandId)||""}}),d=u.watch("role");N.useEffect(()=>{l(d)},[d]);const h=async m=>{r(!0),s("");try{const g={...m,updatedAt:Ye()};if(t!=null&&t.id){const v=Je(xe,"users",t.id);await Zr(v,g)}else g.createdAt=Ye(),await Ba(ft(xe,"users"),g);e&&e()}catch(g){console.error("Error saving user:",g),s("Failed to save user. Please try again.")}finally{r(!1)}};return o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:t?"Edit User":"Add New User"}),o.jsx($t,{children:t?"Update the user information below.":"Fill in the details to create a new user account."})]}),o.jsx(Fe,{children:o.jsx(Fwe,{...u,children:o.jsxs("form",{onSubmit:u.handleSubmit(h),className:"space-y-6",children:[i&&o.jsxs(Wa,{variant:"destructive",children:[o.jsx(Oi,{className:"h-4 w-4"}),o.jsx(Zm,{children:"Error"}),o.jsx(Ga,{children:i})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Cd,{control:u.control,name:"firstName",render:({field:m})=>o.jsxs(kd,{children:[o.jsx(Od,{children:"First Name"}),o.jsx(Rd,{children:o.jsx(bt,{placeholder:"Enter first name",...m})}),o.jsx(Jh,{})]})}),o.jsx(Cd,{control:u.control,name:"lastName",render:({field:m})=>o.jsxs(kd,{children:[o.jsx(Od,{children:"Last Name"}),o.jsx(Rd,{children:o.jsx(bt,{placeholder:"Enter last name",...m})}),o.jsx(Jh,{})]})})]}),o.jsx(Cd,{control:u.control,name:"email",render:({field:m})=>o.jsxs(kd,{children:[o.jsx(Od,{children:"Email"}),o.jsx(Rd,{children:o.jsx(bt,{type:"email",placeholder:"Enter email address",...m})}),o.jsx(Jh,{})]})}),o.jsx(Cd,{control:u.control,name:"role",render:({field:m})=>o.jsxs(kd,{children:[o.jsx(Od,{children:"Role"}),o.jsxs(Rs,{onValueChange:m.onChange,defaultValue:m.value,children:[o.jsx(Rd,{children:o.jsx(ds,{children:o.jsx(Ps,{placeholder:"Select a role"})})}),o.jsx(fs,{children:ige.map(g=>o.jsx(mt,{value:g.value,children:g.label},g.value))})]}),o.jsx(Jh,{})]})}),a==="brand_manager"&&o.jsx(Cd,{control:u.control,name:"brandId",render:({field:m})=>o.jsxs(kd,{children:[o.jsx(Od,{children:"Brand ID"}),o.jsx(Rd,{children:o.jsx(bt,{placeholder:"Enter brand ID (optional)",...m})}),o.jsx(Jh,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Cd,{control:u.control,name:"verified",render:({field:m})=>o.jsxs(kd,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Od,{className:"text-base",children:"Verified User"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Mark this user as verified"})]}),o.jsx(Rd,{children:o.jsx("input",{type:"checkbox",checked:m.value,onChange:m.onChange,className:"data-[state=checked]:bg-primary"})})]})}),o.jsx(Cd,{control:u.control,name:"verificationStatus",render:({field:m})=>o.jsxs(kd,{children:[o.jsx(Od,{children:"Verification Status"}),o.jsxs(Rs,{onValueChange:m.onChange,defaultValue:m.value,children:[o.jsx(Rd,{children:o.jsx(ds,{children:o.jsx(Ps,{})})}),o.jsxs(fs,{children:[o.jsx(mt,{value:"pending",children:"Pending"}),o.jsx(mt,{value:"approved",children:"Approved"}),o.jsx(mt,{value:"rejected",children:"Rejected"})]})]}),o.jsx(Jh,{})]})})]}),o.jsx("div",{className:"flex justify-end space-x-2",children:o.jsx(Oe,{type:"submit",disabled:n,className:"min-w-[100px]",children:n?o.jsxs(o.Fragment,{children:[o.jsx(Bl,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):t?"Update User":"Create User"})})]})})})]})}const zwe=gM("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function un({className:t,variant:e,asChild:n=!1,...r}){const i=n?pM:"span";return o.jsx(i,{"data-slot":"badge",className:Xe(zwe({variant:e}),t),...r})}var hZ="AlertDialog",[qwe,Pze]=qs(hZ,[GK]),yc=GK(),mZ=t=>{const{__scopeAlertDialog:e,...n}=t,r=yc(e);return o.jsx(cX,{...r,...n,modal:!0})};mZ.displayName=hZ;var Hwe="AlertDialogTrigger",Wwe=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=yc(n);return o.jsx(uX,{...i,...r,ref:e})});Wwe.displayName=Hwe;var Gwe="AlertDialogPortal",pZ=t=>{const{__scopeAlertDialog:e,...n}=t,r=yc(e);return o.jsx(dX,{...r,...n})};pZ.displayName=Gwe;var Ywe="AlertDialogOverlay",gZ=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=yc(n);return o.jsx(OM,{...i,...r,ref:e})});gZ.displayName=Ywe;var km="AlertDialogContent",[Kwe,Xwe]=qwe(km),Qwe=lge("AlertDialogContent"),yZ=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=yc(n),a=N.useRef(null),l=Xt(e,a),u=N.useRef(null);return o.jsx(fbe,{contentName:km,titleName:vZ,docsSlug:"alert-dialog",children:o.jsx(Kwe,{scope:n,cancelRef:u,children:o.jsxs(RM,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:Ze(i.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=u.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[o.jsx(Qwe,{children:r}),o.jsx(Jwe,{contentRef:a})]})})})});yZ.displayName=km;var vZ="AlertDialogTitle",xZ=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=yc(n);return o.jsx(PM,{...i,...r,ref:e})});xZ.displayName=vZ;var bZ="AlertDialogDescription",_Z=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=yc(n);return o.jsx(IM,{...i,...r,ref:e})});_Z.displayName=bZ;var Zwe="AlertDialogAction",wZ=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=yc(n);return o.jsx(MM,{...i,...r,ref:e})});wZ.displayName=Zwe;var SZ="AlertDialogCancel",jZ=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=Xwe(SZ,n),s=yc(n),a=Xt(e,i);return o.jsx(MM,{...s,...r,ref:a})});jZ.displayName=SZ;var Jwe=({contentRef:t})=>{const e=`\`${km}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${km}\` by passing a \`${bZ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${km}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},e1e=mZ,t1e=pZ,n1e=gZ,r1e=yZ,i1e=wZ,s1e=jZ,a1e=xZ,o1e=_Z;function NZ({...t}){return o.jsx(e1e,{"data-slot":"alert-dialog",...t})}function l1e({...t}){return o.jsx(t1e,{"data-slot":"alert-dialog-portal",...t})}function c1e({className:t,...e}){return o.jsx(n1e,{"data-slot":"alert-dialog-overlay",className:Xe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function AZ({className:t,...e}){return o.jsxs(l1e,{children:[o.jsx(c1e,{}),o.jsx(r1e,{"data-slot":"alert-dialog-content",className:Xe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function EZ({className:t,...e}){return o.jsx("div",{"data-slot":"alert-dialog-header",className:Xe("flex flex-col gap-2 text-center sm:text-left",t),...e})}function TZ({className:t,...e}){return o.jsx("div",{"data-slot":"alert-dialog-footer",className:Xe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function CZ({className:t,...e}){return o.jsx(a1e,{"data-slot":"alert-dialog-title",className:Xe("text-lg font-semibold",t),...e})}function kZ({className:t,...e}){return o.jsx(o1e,{"data-slot":"alert-dialog-description",className:Xe("text-muted-foreground text-sm",t),...e})}function OZ({className:t,...e}){return o.jsx(i1e,{className:Xe(vM(),t),...e})}function RZ({className:t,...e}){return o.jsx(s1e,{className:Xe(vM({variant:"outline"}),t),...e})}const PZ=N.forwardRef(({className:t,...e},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:Xe("w-full caption-bottom text-sm",t),...e})}));PZ.displayName="Table";const IZ=N.forwardRef(({className:t,...e},n)=>o.jsx("thead",{ref:n,className:Xe("[&_tr]:border-b",t),...e}));IZ.displayName="TableHeader";const MZ=N.forwardRef(({className:t,...e},n)=>o.jsx("tbody",{ref:n,className:Xe("[&_tr:last-child]:border-0",t),...e}));MZ.displayName="TableBody";const u1e=N.forwardRef(({className:t,...e},n)=>o.jsx("tfoot",{ref:n,className:Xe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));u1e.displayName="TableFooter";const $y=N.forwardRef(({className:t,...e},n)=>o.jsx("tr",{ref:n,className:Xe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));$y.displayName="TableRow";const Ud=N.forwardRef(({className:t,...e},n)=>o.jsx("th",{ref:n,className:Xe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ud.displayName="TableHead";const Ol=N.forwardRef(({className:t,...e},n)=>o.jsx("td",{ref:n,className:Xe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ol.displayName="TableCell";const d1e=N.forwardRef(({className:t,...e},n)=>o.jsx("caption",{ref:n,className:Xe("mt-4 text-sm text-muted-foreground",t),...e}));d1e.displayName="TableCaption";var xR=["Enter"," "],f1e=["ArrowDown","PageUp","Home"],DZ=["ArrowUp","PageDown","End"],h1e=[...f1e,...DZ],m1e={ltr:[...xR,"ArrowRight"],rtl:[...xR,"ArrowLeft"]},p1e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},db="Menu",[Uv,g1e,y1e]=DM(db),[Qf,LZ]=qs(db,[y1e,mj,aj]),vj=mj(),$Z=aj(),[v1e,Zf]=Qf(db),[x1e,fb]=Qf(db),VZ=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,l=vj(e),[u,d]=N.useState(null),h=N.useRef(!1),m=pi(s),g=ob(i);return N.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),o.jsx(wQ,{...l,children:o.jsx(v1e,{scope:e,open:n,onOpenChange:m,content:u,onContentChange:d,children:o.jsx(x1e,{scope:e,onClose:N.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:g,modal:a,children:r})})})};VZ.displayName=db;var b1e="MenuAnchor",iD=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=vj(n);return o.jsx(SQ,{...i,...r,ref:e})});iD.displayName=b1e;var sD="MenuPortal",[_1e,FZ]=Qf(sD,{forceMount:void 0}),BZ=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Zf(sD,e);return o.jsx(_1e,{scope:e,forceMount:n,children:o.jsx(Hs,{present:n||s.open,children:o.jsx(nj,{asChild:!0,container:i,children:r})})})};BZ.displayName=sD;var ga="MenuContent",[w1e,aD]=Qf(ga),UZ=N.forwardRef((t,e)=>{const n=FZ(ga,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Zf(ga,t.__scopeMenu),a=fb(ga,t.__scopeMenu);return o.jsx(Uv.Provider,{scope:t.__scopeMenu,children:o.jsx(Hs,{present:r||s.open,children:o.jsx(Uv.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(S1e,{...i,ref:e}):o.jsx(j1e,{...i,ref:e})})})})}),S1e=N.forwardRef((t,e)=>{const n=Zf(ga,t.__scopeMenu),r=N.useRef(null),i=Xt(e,r);return N.useEffect(()=>{const s=r.current;if(s)return EM(s)},[]),o.jsx(oD,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ze(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),j1e=N.forwardRef((t,e)=>{const n=Zf(ga,t.__scopeMenu);return o.jsx(oD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),N1e=wf("MenuContent.ScrollLock"),oD=N.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:g,onDismiss:v,disableOutsideScroll:b,..._}=t,x=Zf(ga,n),j=fb(ga,n),A=vj(n),C=$Z(n),P=g1e(n),[T,I]=N.useState(null),E=N.useRef(null),k=Xt(e,E,x.onContentChange),O=N.useRef(0),D=N.useRef(""),M=N.useRef(0),V=N.useRef(null),$=N.useRef("right"),X=N.useRef(0),H=b?ij:N.Fragment,U=b?{as:N1e,allowPinchZoom:!0}:void 0,q=W=>{var je,ce;const z=D.current+W,Z=P().filter(oe=>!oe.disabled),te=document.activeElement,ne=(je=Z.find(oe=>oe.ref.current===te))==null?void 0:je.textValue,ge=Z.map(oe=>oe.textValue),Ce=L1e(ge,z,ne),Te=(ce=Z.find(oe=>oe.textValue===Ce))==null?void 0:ce.ref.current;(function oe(we){D.current=we,window.clearTimeout(O.current),we!==""&&(O.current=window.setTimeout(()=>oe(""),1e3))})(z),Te&&setTimeout(()=>Te.focus())};N.useEffect(()=>()=>window.clearTimeout(O.current),[]),AM();const G=N.useCallback(W=>{var Z,te;return $.current===((Z=V.current)==null?void 0:Z.side)&&V1e(W,(te=V.current)==null?void 0:te.area)},[]);return o.jsx(w1e,{scope:n,searchRef:D,onItemEnter:N.useCallback(W=>{G(W)&&W.preventDefault()},[G]),onItemLeave:N.useCallback(W=>{var z;G(W)||((z=E.current)==null||z.focus(),I(null))},[G]),onTriggerLeave:N.useCallback(W=>{G(W)&&W.preventDefault()},[G]),pointerGraceTimerRef:M,onPointerGraceIntentChange:N.useCallback(W=>{V.current=W},[]),children:o.jsx(H,{...U,children:o.jsx(tj,{asChild:!0,trapped:i,onMountAutoFocus:Ze(s,W=>{var z;W.preventDefault(),(z=E.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(ej,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:g,onDismiss:v,children:o.jsx(vX,{asChild:!0,...C,dir:j.dir,orientation:"vertical",loop:r,currentTabStopId:T,onCurrentTabStopIdChange:I,onEntryFocus:Ze(u,W=>{j.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(jQ,{role:"menu","aria-orientation":"vertical","data-state":iJ(x.open),"data-radix-menu-content":"",dir:j.dir,...A,..._,ref:k,style:{outline:"none",..._.style},onKeyDown:Ze(_.onKeyDown,W=>{const Z=W.target.closest("[data-radix-menu-content]")===W.currentTarget,te=W.ctrlKey||W.altKey||W.metaKey,ne=W.key.length===1;Z&&(W.key==="Tab"&&W.preventDefault(),!te&&ne&&q(W.key));const ge=E.current;if(W.target!==ge||!h1e.includes(W.key))return;W.preventDefault();const Te=P().filter(je=>!je.disabled).map(je=>je.ref.current);DZ.includes(W.key)&&Te.reverse(),M1e(Te)}),onBlur:Ze(t.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(O.current),D.current="")}),onPointerMove:Ze(t.onPointerMove,zv(W=>{const z=W.target,Z=X.current!==W.clientX;if(W.currentTarget.contains(z)&&Z){const te=W.clientX>X.current?"right":"left";$.current=te,X.current=W.clientX}}))})})})})})})});UZ.displayName=ga;var A1e="MenuGroup",lD=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(yt.div,{role:"group",...r,ref:e})});lD.displayName=A1e;var E1e="MenuLabel",zZ=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(yt.div,{...r,ref:e})});zZ.displayName=E1e;var Qw="MenuItem",oF="menu.itemSelect",xj=N.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=N.useRef(null),a=fb(Qw,t.__scopeMenu),l=aD(Qw,t.__scopeMenu),u=Xt(e,s),d=N.useRef(!1),h=()=>{const m=s.current;if(!n&&m){const g=new CustomEvent(oF,{bubbles:!0,cancelable:!0});m.addEventListener(oF,v=>r==null?void 0:r(v),{once:!0}),MK(m,g),g.defaultPrevented?d.current=!1:a.onClose()}};return o.jsx(qZ,{...i,ref:u,disabled:n,onClick:Ze(t.onClick,h),onPointerDown:m=>{var g;(g=t.onPointerDown)==null||g.call(t,m),d.current=!0},onPointerUp:Ze(t.onPointerUp,m=>{var g;d.current||(g=m.currentTarget)==null||g.click()}),onKeyDown:Ze(t.onKeyDown,m=>{const g=l.searchRef.current!=="";n||g&&m.key===" "||xR.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});xj.displayName=Qw;var qZ=N.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=aD(Qw,n),l=$Z(n),u=N.useRef(null),d=Xt(e,u),[h,m]=N.useState(!1),[g,v]=N.useState("");return N.useEffect(()=>{const b=u.current;b&&v((b.textContent??"").trim())},[s.children]),o.jsx(Uv.ItemSlot,{scope:n,disabled:r,textValue:i??g,children:o.jsx(xX,{asChild:!0,...l,focusable:!r,children:o.jsx(yt.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:Ze(t.onPointerMove,zv(b=>{r?a.onItemLeave(b):(a.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ze(t.onPointerLeave,zv(b=>a.onItemLeave(b))),onFocus:Ze(t.onFocus,()=>m(!0)),onBlur:Ze(t.onBlur,()=>m(!1))})})})}),T1e="MenuCheckboxItem",HZ=N.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return o.jsx(XZ,{scope:t.__scopeMenu,checked:n,children:o.jsx(xj,{role:"menuitemcheckbox","aria-checked":Zw(n)?"mixed":n,...i,ref:e,"data-state":uD(n),onSelect:Ze(i.onSelect,()=>r==null?void 0:r(Zw(n)?!0:!n),{checkForDefaultPrevented:!1})})})});HZ.displayName=T1e;var WZ="MenuRadioGroup",[C1e,k1e]=Qf(WZ,{value:void 0,onValueChange:()=>{}}),GZ=N.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=pi(r);return o.jsx(C1e,{scope:t.__scopeMenu,value:n,onValueChange:s,children:o.jsx(lD,{...i,ref:e})})});GZ.displayName=WZ;var YZ="MenuRadioItem",KZ=N.forwardRef((t,e)=>{const{value:n,...r}=t,i=k1e(YZ,t.__scopeMenu),s=n===i.value;return o.jsx(XZ,{scope:t.__scopeMenu,checked:s,children:o.jsx(xj,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":uD(s),onSelect:Ze(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});KZ.displayName=YZ;var cD="MenuItemIndicator",[XZ,O1e]=Qf(cD,{checked:!1}),QZ=N.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=O1e(cD,n);return o.jsx(Hs,{present:r||Zw(s.checked)||s.checked===!0,children:o.jsx(yt.span,{...i,ref:e,"data-state":uD(s.checked)})})});QZ.displayName=cD;var R1e="MenuSeparator",ZZ=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(yt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});ZZ.displayName=R1e;var P1e="MenuArrow",JZ=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=vj(n);return o.jsx(NQ,{...i,...r,ref:e})});JZ.displayName=P1e;var I1e="MenuSub",[Ize,eJ]=Qf(I1e),Vy="MenuSubTrigger",tJ=N.forwardRef((t,e)=>{const n=Zf(Vy,t.__scopeMenu),r=fb(Vy,t.__scopeMenu),i=eJ(Vy,t.__scopeMenu),s=aD(Vy,t.__scopeMenu),a=N.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=s,d={__scopeMenu:t.__scopeMenu},h=N.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return N.useEffect(()=>h,[h]),N.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),u(null)}},[l,u]),o.jsx(iD,{asChild:!0,...d,children:o.jsx(qZ,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":iJ(n.open),...t,ref:XS(e,i.onTriggerChange),onClick:m=>{var g;(g=t.onClick)==null||g.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ze(t.onPointerMove,zv(m=>{s.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:Ze(t.onPointerLeave,zv(m=>{var v,b;h();const g=(v=n.content)==null?void 0:v.getBoundingClientRect();if(g){const _=(b=n.content)==null?void 0:b.dataset.side,x=_==="right",j=x?-5:5,A=g[x?"left":"right"],C=g[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:m.clientX+j,y:m.clientY},{x:A,y:g.top},{x:C,y:g.top},{x:C,y:g.bottom},{x:A,y:g.bottom}],side:_}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(m),m.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ze(t.onKeyDown,m=>{var v;const g=s.searchRef.current!=="";t.disabled||g&&m.key===" "||m1e[r.dir].includes(m.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),m.preventDefault())})})})});tJ.displayName=Vy;var nJ="MenuSubContent",rJ=N.forwardRef((t,e)=>{const n=FZ(ga,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Zf(ga,t.__scopeMenu),a=fb(ga,t.__scopeMenu),l=eJ(nJ,t.__scopeMenu),u=N.useRef(null),d=Xt(e,u);return o.jsx(Uv.Provider,{scope:t.__scopeMenu,children:o.jsx(Hs,{present:r||s.open,children:o.jsx(Uv.Slot,{scope:t.__scopeMenu,children:o.jsx(oD,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var m;a.isUsingKeyboardRef.current&&((m=u.current)==null||m.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Ze(t.onFocusOutside,h=>{h.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ze(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:Ze(t.onKeyDown,h=>{var v;const m=h.currentTarget.contains(h.target),g=p1e[a.dir].includes(h.key);m&&g&&(s.onOpenChange(!1),(v=l.trigger)==null||v.focus(),h.preventDefault())})})})})})});rJ.displayName=nJ;function iJ(t){return t?"open":"closed"}function Zw(t){return t==="indeterminate"}function uD(t){return Zw(t)?"indeterminate":t?"checked":"unchecked"}function M1e(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function D1e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function L1e(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=D1e(t,Math.max(s,0));i.length===1&&(a=a.filter(d=>d!==n));const u=a.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function $1e(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s],u=e[a],d=l.x,h=l.y,m=u.x,g=u.y;h>r!=g>r&&n<(m-d)*(r-h)/(g-h)+d&&(i=!i)}return i}function V1e(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return $1e(n,e)}function zv(t){return e=>e.pointerType==="mouse"?t(e):void 0}var F1e=VZ,B1e=iD,U1e=BZ,z1e=UZ,q1e=lD,H1e=zZ,W1e=xj,G1e=HZ,Y1e=GZ,K1e=KZ,X1e=QZ,Q1e=ZZ,Z1e=JZ,J1e=tJ,eSe=rJ,bj="DropdownMenu",[tSe,Mze]=qs(bj,[LZ]),ts=LZ(),[nSe,sJ]=tSe(bj),aJ=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:l=!0}=t,u=ts(e),d=N.useRef(null),[h,m]=Sf({prop:i,defaultProp:s??!1,onChange:a,caller:bj});return o.jsx(nSe,{scope:e,triggerId:Vo(),triggerRef:d,contentId:Vo(),open:h,onOpenChange:m,onOpenToggle:N.useCallback(()=>m(g=>!g),[m]),modal:l,children:o.jsx(F1e,{...u,open:h,onOpenChange:m,dir:r,modal:l,children:n})})};aJ.displayName=bj;var oJ="DropdownMenuTrigger",lJ=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=sJ(oJ,n),a=ts(n);return o.jsx(B1e,{asChild:!0,...a,children:o.jsx(yt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:XS(e,s.triggerRef),onPointerDown:Ze(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Ze(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});lJ.displayName=oJ;var rSe="DropdownMenuPortal",cJ=t=>{const{__scopeDropdownMenu:e,...n}=t,r=ts(e);return o.jsx(U1e,{...r,...n})};cJ.displayName=rSe;var uJ="DropdownMenuContent",dJ=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=sJ(uJ,n),s=ts(n),a=N.useRef(!1);return o.jsx(z1e,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Ze(t.onCloseAutoFocus,l=>{var u;a.current||(u=i.triggerRef.current)==null||u.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:Ze(t.onInteractOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,h=u.button===2||d;(!i.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dJ.displayName=uJ;var iSe="DropdownMenuGroup",fJ=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ts(n);return o.jsx(q1e,{...i,...r,ref:e})});fJ.displayName=iSe;var sSe="DropdownMenuLabel",hJ=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ts(n);return o.jsx(H1e,{...i,...r,ref:e})});hJ.displayName=sSe;var aSe="DropdownMenuItem",mJ=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ts(n);return o.jsx(W1e,{...i,...r,ref:e})});mJ.displayName=aSe;var oSe="DropdownMenuCheckboxItem",pJ=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ts(n);return o.jsx(G1e,{...i,...r,ref:e})});pJ.displayName=oSe;var lSe="DropdownMenuRadioGroup",cSe=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ts(n);return o.jsx(Y1e,{...i,...r,ref:e})});cSe.displayName=lSe;var uSe="DropdownMenuRadioItem",gJ=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ts(n);return o.jsx(K1e,{...i,...r,ref:e})});gJ.displayName=uSe;var dSe="DropdownMenuItemIndicator",yJ=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ts(n);return o.jsx(X1e,{...i,...r,ref:e})});yJ.displayName=dSe;var fSe="DropdownMenuSeparator",vJ=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ts(n);return o.jsx(Q1e,{...i,...r,ref:e})});vJ.displayName=fSe;var hSe="DropdownMenuArrow",mSe=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ts(n);return o.jsx(Z1e,{...i,...r,ref:e})});mSe.displayName=hSe;var pSe="DropdownMenuSubTrigger",xJ=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ts(n);return o.jsx(J1e,{...i,...r,ref:e})});xJ.displayName=pSe;var gSe="DropdownMenuSubContent",bJ=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ts(n);return o.jsx(eSe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bJ.displayName=gSe;var ySe=aJ,vSe=lJ,xSe=cJ,_J=dJ,bSe=fJ,wJ=hJ,SJ=mJ,jJ=pJ,NJ=gJ,AJ=yJ,EJ=vJ,TJ=xJ,CJ=bJ;const Om=ySe,Rm=vSe,_Se=bSe,wSe=N.forwardRef(({className:t,inset:e,children:n,...r},i)=>o.jsxs(TJ,{ref:i,className:Xe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,o.jsx(_M,{className:"ml-auto h-4 w-4"})]}));wSe.displayName=TJ.displayName;const SSe=N.forwardRef(({className:t,...e},n)=>o.jsx(CJ,{ref:n,className:Xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));SSe.displayName=CJ.displayName;const lf=N.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(xSe,{children:o.jsx(_J,{ref:r,sideOffset:e,className:Xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));lf.displayName=_J.displayName;const Cn=N.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(SJ,{ref:r,className:Xe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Cn.displayName=SJ.displayName;const jSe=N.forwardRef(({className:t,children:e,checked:n,...r},i)=>o.jsxs(jJ,{ref:i,className:Xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(AJ,{children:o.jsx(TK,{className:"h-4 w-4"})})}),e]}));jSe.displayName=jJ.displayName;const NSe=N.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(NJ,{ref:r,className:Xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(AJ,{children:o.jsx(Cye,{className:"h-2 w-2 fill-current"})})}),e]}));NSe.displayName=NJ.displayName;const hb=N.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(wJ,{ref:r,className:Xe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));hb.displayName=wJ.displayName;const hu=N.forwardRef(({className:t,...e},n)=>o.jsx(EJ,{ref:n,className:Xe("-mx-1 my-1 h-px bg-muted",t),...e}));hu.displayName=EJ.displayName;function ASe(){const{canAccess:t}=lj(),[e,n]=N.useState([]),[r,i]=N.useState(!0),[s,a]=N.useState(null),[l,u]=N.useState(""),[d,h]=N.useState("all"),[m,g]=N.useState("all"),[v,b]=N.useState(!1),[_,x]=N.useState({title:"",description:"",action:null}),[j,A]=N.useState(!1),[C,P]=N.useState(null),T=N.useCallback(async()=>{i(!0),a(null);try{const H=ft(xe,"users"),U=Zt(H,gi("createdAt","desc")),G=(await Vr(U)).docs.map(W=>{var z,Z;return{id:W.id,...W.data(),joinDate:(z=W.data().createdAt)==null?void 0:z.toDate(),lastLogin:(Z=W.data().lastLogin)==null?void 0:Z.toDate()}});n(G)}catch(H){console.error("Error fetching users:",H),a("Failed to load user data. Please check your connection and try again.")}finally{i(!1)}},[]);N.useEffect(()=>{T()},[T]);const I=N.useMemo(()=>e.filter(H=>{const U=`${H.firstName||""} ${H.lastName||""}`,q=H.email||"",G=H.role||"",W=H.status||"";return(U.toLowerCase().includes(l.toLowerCase())||q.toLowerCase().includes(l.toLowerCase()))&&(d==="all"||W===d)&&(m==="all"||G===m)}),[e,l,d,m]),E=async(H,U)=>{try{const q=Je(xe,"users",H);await Zr(q,{status:U}),n(e.map(G=>G.id===H?{...G,status:U}:G))}catch(q){console.error(`Error updating user status to ${U}:`,q),a("Failed to update user status. Please try again.")}},k=async H=>{try{await Ja(Je(xe,"users",H)),n(e.filter(U=>U.id!==H))}catch(U){console.error("Error deleting user:",U),a("Failed to delete user. Please try again.")}},O=H=>{x(H),b(!0)},D=(H=null)=>{P(H),A(!0)},M=()=>{A(!1),T()},V=H=>({super_admin:"Super Admin",brand_manager:"Brand Manager",retail_user:"Retail User",community_user:"Community User"})[H]||H,$=H=>{switch(H){case"active":return o.jsx(un,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"});case"inactive":return o.jsx(un,{variant:"secondary",children:"Inactive"});case"pending_verification":return o.jsx(un,{variant:"outline",className:"border-yellow-500 text-yellow-700",children:"Pending"});case"suspended":return o.jsx(un,{variant:"destructive",children:"Suspended"});default:return o.jsx(un,{variant:"secondary",children:H||"Unknown"})}},X=H=>{switch(H){case"verified":return o.jsx(un,{variant:"default",className:"bg-blue-100 text-blue-800",children:"Verified"});case"pending":return o.jsx(un,{variant:"outline",className:"border-orange-500 text-orange-700",children:"Pending"});case"rejected":return o.jsx(un,{variant:"destructive",children:"Rejected"});default:return o.jsx(un,{variant:"secondary",children:H||"N/A"})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"User Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage user accounts, roles, and permissions"})]}),t(["manage_users"])&&o.jsxs(Oe,{onClick:()=>D(),children:[o.jsx(rv,{className:"mr-2 h-4 w-4"}),"Add User"]})]}),o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"User Directory"}),o.jsx($t,{children:"Search and filter users by status, role, or other criteria"})]}),o.jsxs(Fe,{children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Em,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(bt,{placeholder:"Search users by name or email...",value:l,onChange:H=>u(H.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Om,{children:[o.jsx(Rm,{asChild:!0,children:o.jsxs(Oe,{variant:"outline",children:[o.jsx(rV,{className:"mr-2 h-4 w-4"}),"Status: ",d]})}),o.jsxs(lf,{children:[o.jsx(Cn,{onClick:()=>h("all"),children:"All"}),o.jsx(Cn,{onClick:()=>h("active"),children:"Active"}),o.jsx(Cn,{onClick:()=>h("inactive"),children:"Inactive"}),o.jsx(Cn,{onClick:()=>h("pending_verification"),children:"Pending"}),o.jsx(Cn,{onClick:()=>h("suspended"),children:"Suspended"})]})]}),o.jsxs(Om,{children:[o.jsx(Rm,{asChild:!0,children:o.jsxs(Oe,{variant:"outline",children:[o.jsx(rV,{className:"mr-2 h-4 w-4"}),"Role: ",m]})}),o.jsxs(lf,{children:[o.jsx(Cn,{onClick:()=>g("all"),children:"All"}),o.jsx(Cn,{onClick:()=>g("super_admin"),children:"Super Admin"}),o.jsx(Cn,{onClick:()=>g("brand_manager"),children:"Brand Manager"}),o.jsx(Cn,{onClick:()=>g("retail_user"),children:"Retail User"}),o.jsx(Cn,{onClick:()=>g("community_user"),children:"Community User"})]})]})]})]}),s&&o.jsxs("div",{className:"mb-4 p-4 bg-red-50 text-red-700 border border-red-200 rounded-md flex items-center",children:[o.jsx(Oi,{className:"h-5 w-5 mr-3"}),s]}),o.jsx("div",{className:"rounded-md border",children:o.jsxs(PZ,{children:[o.jsx(IZ,{children:o.jsxs($y,{children:[o.jsx(Ud,{children:"User"}),o.jsx(Ud,{children:"Role"}),o.jsx(Ud,{children:"Status"}),o.jsx(Ud,{children:"Verification"}),o.jsx(Ud,{children:"Last Login"}),o.jsx(Ud,{className:"text-right",children:"Actions"})]})}),o.jsx(MZ,{children:r?o.jsx($y,{children:o.jsx(Ol,{colSpan:6,className:"text-center py-8",children:o.jsxs("div",{className:"flex justify-center items-center",children:[o.jsx(Bl,{className:"h-8 w-8 animate-spin text-muted-foreground"}),o.jsx("span",{className:"ml-4 text-muted-foreground",children:"Loading users..."})]})})}):I.length>0?I.map(H=>o.jsxs($y,{children:[o.jsxs(Ol,{children:[o.jsx("div",{className:"font-medium",children:`${H.firstName||""} ${H.lastName||""}`.trim()||"N/A"}),o.jsxs("div",{className:"text-sm text-muted-foreground flex items-center",children:[o.jsx(RK,{className:"mr-1 h-3 w-3"}),H.email]})]}),o.jsx(Ol,{children:o.jsx(un,{variant:"outline",children:V(H.role)})}),o.jsx(Ol,{children:$(H.status)}),o.jsx(Ol,{children:X(H.verificationStatus)}),o.jsx(Ol,{children:H.lastLogin?new Date(H.lastLogin).toLocaleDateString():"Never"}),o.jsx(Ol,{className:"text-right",children:o.jsxs(Om,{children:[o.jsx(Rm,{asChild:!0,children:o.jsx(Oe,{variant:"ghost",className:"h-8 w-8 p-0",children:o.jsx(kK,{className:"h-4 w-4"})})}),o.jsxs(lf,{align:"end",children:[o.jsx(hb,{children:"Actions"}),o.jsxs(Cn,{children:[o.jsx(zu,{className:"mr-2 h-4 w-4"}),"View Details"]}),t(["manage_users"])&&o.jsxs(o.Fragment,{children:[o.jsxs(Cn,{onClick:()=>D(H),children:[o.jsx(PK,{className:"mr-2 h-4 w-4"}),"Edit User"]}),o.jsx(hu,{}),H.status!=="suspended"?o.jsxs(Cn,{onClick:()=>O({title:"Suspend User?",description:`Are you sure you want to suspend ${H.firstName}? They will lose access to the platform.`,action:()=>E(H.id,"suspended")}),children:[o.jsx(Bve,{className:"mr-2 h-4 w-4"}),"Suspend"]}):o.jsxs(Cn,{onClick:()=>O({title:"Activate User?",description:`Are you sure you want to reactivate ${H.firstName}? They will regain access.`,action:()=>E(H.id,"active")}),children:[o.jsx(jM,{className:"mr-2 h-4 w-4"}),"Activate"]}),o.jsxs(Cn,{className:"text-red-600 focus:text-red-600 focus:bg-red-50",onClick:()=>O({title:"Delete User?",description:`This action is permanent. Are you sure you want to delete ${H.firstName}?`,action:()=>k(H.id)}),children:[o.jsx(ab,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},H.id)):o.jsx($y,{children:o.jsx(Ol,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No users found matching your criteria."})})})]})})]})]}),o.jsx(Xm,{open:j,onOpenChange:A,children:o.jsxs(Nf,{className:"sm:max-w-[600px]",children:[o.jsxs(Qm,{children:[o.jsx(Af,{children:C?"Edit User":"Add New User"}),o.jsx(Ef,{children:C?"Update the details for this user.":"Create a new user profile in the system."})]}),o.jsx(Uwe,{currentUser:C,onSuccess:M})]})}),o.jsx(NZ,{open:v,onOpenChange:b,children:o.jsxs(AZ,{children:[o.jsxs(EZ,{children:[o.jsx(CZ,{children:_.title}),o.jsx(kZ,{children:_.description})]}),o.jsxs(TZ,{children:[o.jsx(RZ,{children:"Cancel"}),o.jsx(OZ,{onClick:()=>{_.action&&_.action(),b(!1)},children:"Confirm"})]})]})})]})}function ESe(){return o.jsx("div",{className:"container mx-auto",children:o.jsx(ASe,{})})}function TSe(){const[t,e]=N.useState([]);N.useEffect(()=>{const i=Zt(ft(xe,"users"),Dt("verified","in",[!1,null])),s=wr(i,a=>{const l=[];a.forEach(u=>l.push({id:u.id,...u.data()})),l.sort((u,d)=>u.verificationStatus==="pending"?-1:1),e(l)});return()=>s()},[]);async function n(i){const s=Je(xe,"users",i);await Zr(s,{verified:!0,verificationStatus:"verified",updatedAt:Ye()})}async function r(i){const s=Je(xe,"users",i);await Zr(s,{verified:!1,verificationStatus:"rejected",updatedAt:Ye()})}return o.jsxs("div",{className:"p-8",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Verify Staff"}),t.length===0?o.jsx("div",{className:"text-gray-600",children:"No pending users."}):o.jsx("div",{className:"space-y-3",children:t.map(i=>o.jsxs("div",{className:"flex items-center justify-between border rounded p-3",children:[o.jsxs("div",{className:"text-sm",children:[o.jsxs("div",{className:"font-semibold",children:[i.firstName," ",i.lastName]}),o.jsx("div",{className:"text-gray-600",children:i.email}),o.jsxs("div",{className:"text-gray-600",children:["Role: ",i.role||"staff"," | Status: ",i.verificationStatus||"pending"]}),i.brandId&&o.jsxs("div",{className:"text-gray-600",children:["Brand: ",i.brandId]}),i.storeName&&o.jsxs("div",{className:"text-gray-600",children:["Store: ",i.storeName]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>n(i.uid||i.id),className:"px-3 py-2 rounded bg-green-600 text-white hover:bg-green-700",children:"Approve"}),o.jsx("button",{onClick:()=>r(i.uid||i.id),className:"px-3 py-2 rounded bg-red-600 text-white hover:bg-red-700",children:"Reject"})]})]},i.id))})]})}function CSe(){const[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,s]=N.useState("all"),[a,l]=N.useState(""),u=ps(),{userRoles:d}=Vn(),h=d==null?void 0:d.includes("super_admin");N.useEffect(()=>{(async()=>{r(!0);try{let v=ft(xe,"brands");i==="assigned"?v=Zt(ft(xe,"brands"),Dt("managerId","!=",null)):i==="unassigned"&&(v=Zt(ft(xe,"brands"),Dt("managerId","==",null)));const _=(await Vr(v)).docs.map(j=>({id:j.id,...j.data()})),x=a?_.filter(j=>{var A;return(A=j.name)==null?void 0:A.toLowerCase().includes(a.toLowerCase())}):_;e(x)}catch(v){console.error("Error fetching brands:",v)}finally{r(!1)}})()},[i,a]);const m=async g=>{if(!h){alert("You don't have permission to delete brands.");return}if(window.confirm("Are you sure you want to delete this brand? This cannot be undone."))try{await Ja(Je(xe,"brands",g)),e(t.filter(v=>v.id!==g))}catch(v){console.error("Error deleting brand:",v),alert("Error deleting brand: "+v.message)}};return o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Brands"}),o.jsx("div",{className:"space-x-2",children:h&&o.jsx("button",{onClick:()=>u("/admin/brands/new"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Create Brand"})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden mb-6",children:[o.jsxs("div",{className:"border-b border-gray-200 p-4 flex flex-col sm:flex-row justify-between space-y-3 sm:space-y-0",children:[o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>s("all"),className:`px-3 py-1 rounded-full text-sm font-medium ${i==="all"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"All Brands"}),o.jsx("button",{onClick:()=>s("assigned"),className:`px-3 py-1 rounded-full text-sm font-medium ${i==="assigned"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"Assigned"}),o.jsx("button",{onClick:()=>s("unassigned"),className:`px-3 py-1 rounded-full text-sm font-medium ${i==="unassigned"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"Unassigned"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Search brands...",value:a,onChange:g=>l(g.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md w-full sm:w-64"}),o.jsx("div",{className:"absolute left-3 top-2.5 text-gray-400",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),o.jsx("div",{className:"p-4",children:n?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),o.jsx("p",{className:"mt-2",children:"Loading brands..."})]}):t.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Brand"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Manager"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Templates"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(g=>{var v;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:g.logoUrl?o.jsx("img",{src:g.logoUrl,alt:g.name,className:"w-full h-full object-cover"}):o.jsx("span",{className:"text-gray-500 font-medium",children:((v=g.name)==null?void 0:v.charAt(0))||"?"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.name}),o.jsx("div",{className:"text-sm text-gray-500",children:g.description||"No description"})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${g.managerId?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:g.managerId?"Managed":"Unassigned"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.managerName||"No manager assigned"}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[g.templateCount||0," templates"]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[o.jsx("button",{onClick:()=>u(`/admin/brands/${g.id}`),className:"text-blue-600 hover:text-blue-900 mr-3",children:"View"}),h&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>u(`/admin/brands/${g.id}/edit`),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),o.jsx("button",{onClick:()=>m(g.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]})]},g.id)})})]})}):o.jsxs("div",{className:"text-center py-16",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),o.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No brands found"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a?"No brands match your search. Try a different term.":"Get started by creating a new brand."}),o.jsx("div",{className:"mt-6",children:h&&!a&&o.jsxs("button",{onClick:()=>u("/admin/brands/new"),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[o.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Create Brand"]})})]})})]})]})}function kSe(){const{user:t}=Vn();if(!t)return{canCreateTemplate:!1,canEditTemplate:!1,canCreateBrand:!1,canManageBrand:()=>!1,canManageUsers:!1,canCreateLesson:()=>!1,canEditLesson:()=>!1,canCreateCommunity:()=>!1,canEditCommunity:()=>!1};const e=t.role===Rw.SUPER_ADMIN,n=t.role===Rw.BRAND_MANAGER;return{canCreateTemplate:e,canEditTemplate:e,canCreateBrand:e,canManageBrand:r=>e?!0:t.managedBrands&&t.managedBrands.includes(r),canManageUsers:e,canCreateLesson:r=>e?!0:n&&t.managedBrands&&t.managedBrands.includes(r),canEditLesson:r=>e?!0:n&&t.managedBrands&&t.managedBrands.includes(r),canCreateCommunity:r=>e?!0:n&&t.managedBrands&&t.managedBrands.includes(r),canEditCommunity:r=>e?!0:n&&t.managedBrands&&t.managedBrands.includes(r)}}const OSe=async()=>{console.log("Seeding templates to Firestore...");try{return await Bs(Je(xe,"templates","template-lesson-1"),{name:"Standard Lesson Template",description:"A standard template for creating lesson content with text, image, and quiz sections",type:"lesson",createdAt:Ye(),updatedAt:Ye(),createdBy:"admin",isGlobal:!0,sections:[{id:"section-intro",type:"text",title:"Introduction",required:!0,placeholder:"Introduce your lesson topic here...",editorConfig:{toolbar:["bold","italic","heading","link"]}},{id:"section-content",type:"text",title:"Main Content",required:!0,placeholder:"Add the main lesson content here...",editorConfig:{toolbar:["bold","italic","heading","link","image","list"]}},{id:"section-image",type:"image",title:"Featured Image",required:!1,placeholder:"Upload an image for this lesson"},{id:"section-quiz",type:"quiz",title:"Knowledge Check",required:!1,placeholder:"Add quiz questions to test understanding",quizConfig:{minQuestions:1,maxQuestions:5,passingScore:70}}]}),await Bs(Je(xe,"templates","template-community-1"),{name:"Standard Community Template",description:"A standard template for creating online communities with discussion areas and resources",type:"community",createdAt:Ye(),updatedAt:Ye(),createdBy:"admin",isGlobal:!0,sections:[{id:"section-about",type:"text",title:"About This Community",required:!0,placeholder:"Describe what this community is about and who it's for"},{id:"section-discussions",type:"discussion",title:"Discussions",required:!0,discussionConfig:{categories:["General","Questions","Announcements"],requireApproval:!1}},{id:"section-resources",type:"resources",title:"Resources",required:!1,resourcesConfig:{types:["documents","links","videos"]}},{id:"section-events",type:"events",title:"Events",required:!1,eventsConfig:{allowRSVP:!0}}]}),console.log(" Templates seeded successfully"),!0}catch(t){return console.error("Error seeding templates:",t),!1}};function lF(){const[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,s]=N.useState("all"),a=ps(),l=kSe();N.useEffect(()=>{(async()=>{r(!0);try{let h;i==="all"?h=ft(xe,"templates"):h=Zt(ft(xe,"templates"),Dt("type","==",i));const g=(await Vr(h)).docs.map(v=>({id:v.id,...v.data()}));e(g)}catch(h){console.error("Error fetching templates:",h)}finally{r(!1)}})()},[i]);const u=async()=>{window.confirm("This will create sample templates in your database. Continue?")&&await OSe()&&window.location.reload()};return o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Content Templates"}),o.jsxs("div",{className:"space-x-2",children:[l.canCreateTemplate&&o.jsx("button",{onClick:()=>a("/admin/templates/new"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Create Template"}),window.location.hostname==="localhost"&&t.length===0&&o.jsx("button",{onClick:u,className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Seed Test Data"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden mb-6",children:[o.jsx("div",{className:"border-b border-gray-200 p-4 flex items-center justify-between",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>s("all"),className:`px-3 py-1 rounded-full text-sm font-medium ${i==="all"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"All Templates"}),o.jsx("button",{onClick:()=>s("lesson"),className:`px-3 py-1 rounded-full text-sm font-medium ${i==="lesson"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"Lesson Templates"}),o.jsx("button",{onClick:()=>s("community"),className:`px-3 py-1 rounded-full text-sm font-medium ${i==="community"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"Community Templates"})]})}),o.jsx("div",{className:"p-4",children:n?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500",children:"Loading templates..."})}):t.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(d=>o.jsx(RSe,{template:d,onEdit:()=>a(`/admin/templates/${d.id}/edit`),onView:()=>a(`/admin/templates/${d.id}/view`),canEdit:l.canEditTemplate},d.id))}):o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500",children:"No templates found. Create your first template to get started!"})})})]})]})}function RSe({template:t,onEdit:e,onView:n,canEdit:r}){var s;const i=a=>a==="lesson"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800";return o.jsxs("div",{className:"bg-white border rounded-lg shadow-sm overflow-hidden hover:shadow transition-shadow duration-200",children:[o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full ${i(t.type)}`,children:t.type==="lesson"?"Lesson":"Community"}),t.isGlobal&&o.jsx("span",{className:"inline-block px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:"Global"})]}),o.jsx("h3",{className:"text-lg font-semibold mt-2",children:t.name}),o.jsx("p",{className:"text-gray-600 mt-1 text-sm line-clamp-2",children:t.description}),o.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[((s=t.sections)==null?void 0:s.length)||0," sections"]})]}),o.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t flex justify-between",children:[o.jsxs("button",{onClick:n,className:"text-sm text-gray-700 hover:text-gray-900 flex items-center",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Preview"]}),r&&o.jsxs("button",{onClick:e,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]})]})]})}function cF(){const t=zs(),e=ps(),{user:n}=Vn(),{id:r}=Bf(),i=t.pathname.includes("/templates/new"),[s,a]=N.useState(!i),[l,u]=N.useState(!1),[d,h]=N.useState({name:"",description:"",type:"lesson",isGlobal:!0,sections:[]});N.useEffect(()=>{if(i){console.log("Creating new template"),a(!1);return}if(!r){console.error("No template ID provided"),a(!1);return}(async()=>{try{console.log(`Fetching template with ID: ${r}`);const A=Je(xe,"templates",r),C=await vi(A);C.exists()?(console.log("Template data loaded"),h(C.data())):(console.error("Template not found"),e("/admin/templates"))}catch(A){console.error("Error fetching template:",A)}finally{a(!1)}})()},[r,i,e]);const m=j=>{const{name:A,value:C,type:P,checked:T}=j.target;h(I=>({...I,[A]:P==="checkbox"?T:C}))},g=()=>{const j=`section-${Date.now()}`;h(A=>({...A,sections:[...A.sections,{id:j,type:"text",title:"New Section",required:!1,placeholder:""}]}))},v=(j,A)=>{h(C=>{const P=[...C.sections];return P[j]={...P[j],...A},{...C,sections:P}})},b=j=>{h(A=>{const C=[...A.sections];return C.splice(j,1),{...A,sections:C}})},_=(j,A)=>{A==="up"&&j===0||A==="down"&&j===d.sections.length-1||h(C=>{const P=[...C.sections],T=A==="up"?j-1:j+1;return[P[j],P[T]]=[P[T],P[j]],{...C,sections:P}})},x=async j=>{j.preventDefault(),u(!0);try{const A={...d,updatedAt:Ye()};if(console.log("Preparing to save template:",A),i){console.log("Creating new template"),A.createdAt=Ye(),A.createdBy=(n==null?void 0:n.uid)||"unknown";const P=(await Ba(ft(xe,"templates"),A)).id;console.log("Created new template with ID:",P),e(`/admin/templates/${P}`)}else{if(!r)throw new Error("Missing template ID");console.log(`Updating template with ID: ${r}`);const C=Je(xe,"templates",r);await Zr(C,A),console.log("Template updated successfully"),e(`/admin/templates/${r}`)}}catch(A){console.error("Error saving template:",A),alert(`Failed to save template: ${A.message}`)}finally{u(!1)}};return s?o.jsx(cr,{requireSuperAdmin:!0,children:o.jsx("div",{className:"text-center py-8",children:"Loading template..."})}):o.jsx(cr,{requireSuperAdmin:!0,children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsx("h1",{className:"text-2xl font-bold",children:i?"Create New Template":"Edit Template"})}),o.jsxs("form",{onSubmit:x,className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-lg font-medium border-b pb-2",children:"Basic Information"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Name *"}),o.jsx("input",{type:"text",name:"name",value:d.name,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{name:"description",value:d.description,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:"3"})]}),o.jsxs("div",{className:"flex space-x-6",children:[o.jsxs("div",{className:"w-1/2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Type *"}),o.jsxs("select",{name:"type",value:d.type,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[o.jsx("option",{value:"lesson",children:"Lesson"}),o.jsx("option",{value:"community",children:"Community"})]})]}),o.jsxs("div",{className:"w-1/2 flex items-center pt-6",children:[o.jsx("input",{type:"checkbox",id:"isGlobal",name:"isGlobal",checked:d.isGlobal,onChange:m,className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),o.jsx("label",{htmlFor:"isGlobal",className:"ml-2 text-sm text-gray-700",children:"Available to all brands (Global Template)"})]})]})]}),o.jsxs("div",{className:"space-y-4 mt-8",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-lg font-medium border-b pb-2",children:"Template Sections"}),o.jsx("button",{type:"button",onClick:g,className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-md text-sm hover:bg-blue-100",children:"Add Section"})]}),d.sections.length===0&&o.jsx("div",{className:"bg-gray-50 border border-dashed border-gray-300 rounded-md p-8 text-center",children:o.jsx("p",{className:"text-gray-500",children:'No sections added yet. Click "Add Section" to create your first section.'})}),d.sections.map((j,A)=>{var C,P,T,I;return o.jsxs("div",{className:"border border-gray-200 rounded-md p-4 bg-gray-50",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("h3",{className:"font-medium",children:["Section ",A+1]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>_(A,"up"),disabled:A===0,className:`p-1 rounded ${A===0?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:bg-gray-200"}`,title:"Move Up",children:""}),o.jsx("button",{type:"button",onClick:()=>_(A,"down"),disabled:A===d.sections.length-1,className:`p-1 rounded ${A===d.sections.length-1?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:bg-gray-200"}`,title:"Move Down",children:""}),o.jsx("button",{type:"button",onClick:()=>b(A),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Remove Section",children:""})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Title"}),o.jsx("input",{type:"text",value:j.title,onChange:E=>v(A,{title:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Type"}),o.jsxs("select",{value:j.type,onChange:E=>v(A,{type:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[o.jsx("option",{value:"text",children:"Text Content"}),o.jsx("option",{value:"image",children:"Image"}),o.jsx("option",{value:"video",children:"Video"}),o.jsx("option",{value:"quiz",children:"Quiz"}),d.type==="community"&&o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"discussion",children:"Discussion"}),o.jsx("option",{value:"events",children:"Events"}),o.jsx("option",{value:"resources",children:"Resources"})]})]})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Placeholder Text"}),o.jsx("input",{type:"text",value:j.placeholder||"",onChange:E=>v(A,{placeholder:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Guidance text for users filling this section"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`required-${j.id}`,checked:j.required||!1,onChange:E=>v(A,{required:E.target.checked}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),o.jsx("label",{htmlFor:`required-${j.id}`,className:"ml-2 text-sm text-gray-700",children:"Required Section"})]}),j.type==="quiz"&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Quiz Settings"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Min Questions"}),o.jsx("input",{type:"number",min:"1",value:((C=j.quizConfig)==null?void 0:C.minQuestions)||1,onChange:E=>v(A,{quizConfig:{...j.quizConfig,minQuestions:parseInt(E.target.value)}}),className:"w-full px-3 py-1 border border-gray-300 rounded-md text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Max Questions"}),o.jsx("input",{type:"number",min:"1",value:((P=j.quizConfig)==null?void 0:P.maxQuestions)||5,onChange:E=>v(A,{quizConfig:{...j.quizConfig,maxQuestions:parseInt(E.target.value)}}),className:"w-full px-3 py-1 border border-gray-300 rounded-md text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Passing Score %"}),o.jsx("input",{type:"number",min:"0",max:"100",value:((T=j.quizConfig)==null?void 0:T.passingScore)||70,onChange:E=>v(A,{quizConfig:{...j.quizConfig,passingScore:parseInt(E.target.value)}}),className:"w-full px-3 py-1 border border-gray-300 rounded-md text-sm"})]})]})]}),j.type==="discussion"&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Discussion Settings"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`requireApproval-${j.id}`,checked:((I=j.discussionConfig)==null?void 0:I.requireApproval)||!1,onChange:E=>v(A,{discussionConfig:{...j.discussionConfig,requireApproval:E.target.checked}}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),o.jsx("label",{htmlFor:`requireApproval-${j.id}`,className:"ml-2 text-sm text-gray-700",children:"Require post approval"})]})]})]},j.id)})]})]}),o.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>e("/admin/templates"),className:"px-4 py-2 border border-gray-300 rounded shadow-sm bg-white text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded shadow-sm hover:bg-blue-700 disabled:bg-blue-400",children:l?"Saving...":i?"Create Template":"Save Changes"})]})]})]})})}function uF(){const{id:t}=Bf(),e=ps(),{user:n,userRoles:r}=Vn(),[i,s]=N.useState(null),[a,l]=N.useState(!0),[u,d]=N.useState("desktop"),[h,m]=N.useState("preview"),[g,v]=N.useState(null),b=r==null?void 0:r.includes("super_admin");return N.useEffect(()=>{(async()=>{try{if(!t)throw new Error("Template ID is required");const x=Je(xe,"templates",t),j=await vi(x);j.exists()?s({id:j.id,...j.data()}):(v("Template not found"),console.error("Template not found"))}catch(x){v(`Error loading template: ${x.message}`),console.error("Error fetching template:",x)}finally{l(!1)}})()},[t]),a?o.jsx(cr,{requireSuperAdmin:!1,children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),o.jsx("p",{className:"mt-2",children:"Loading template..."})]})})}):g?o.jsx(cr,{requireSuperAdmin:!1,children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm text-red-700",children:g})})]})}),o.jsx("div",{className:"mt-4 text-center",children:o.jsx("button",{onClick:()=>e("/admin/templates"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Back to Templates"})})]})}):i?o.jsx(cr,{requireSuperAdmin:!1,children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:i.name}),o.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[o.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full ${i.type==="lesson"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:i.type==="lesson"?"Lesson Template":"Community Template"}),i.isGlobal&&o.jsx("span",{className:"inline-block px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:"Global Template"})]})]}),o.jsxs("div",{className:"space-x-2",children:[o.jsx("button",{onClick:()=>e("/admin/templates"),className:"px-3 py-1 border border-gray-300 rounded text-gray-700 hover:bg-gray-50",children:"Back to Templates"}),b&&o.jsx("button",{onClick:()=>e(`/admin/templates/${t}/edit`),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Edit Template"})]})]}),i.description&&o.jsx("div",{className:"mb-6",children:o.jsx("p",{className:"text-gray-600",children:i.description})}),o.jsx("div",{className:"border-b border-gray-200 mb-6",children:o.jsxs("nav",{className:"flex space-x-8",children:[o.jsx("button",{onClick:()=>m("preview"),className:`pb-4 px-1 ${h==="preview"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Preview"}),o.jsx("button",{onClick:()=>m("structure"),className:`pb-4 px-1 ${h==="structure"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Template Structure"})]})}),h==="preview"?o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[o.jsx("button",{type:"button",onClick:()=>d("desktop"),className:`px-4 py-2 text-sm font-medium rounded-l-lg ${u==="desktop"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:o.jsxs("span",{className:"flex items-center",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Desktop"]})}),o.jsx("button",{type:"button",onClick:()=>d("mobile"),className:`px-4 py-2 text-sm font-medium rounded-r-lg ${u==="mobile"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:o.jsxs("span",{className:"flex items-center",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Mobile"]})})]})}),o.jsx("div",{className:"flex justify-center pb-12",children:o.jsx("div",{className:`${u==="mobile"?"w-full max-w-xs":"w-full max-w-4xl"} transition-all duration-300`,children:o.jsxs("div",{className:`bg-white border rounded-lg shadow-lg overflow-hidden ${u==="mobile"?"mx-auto":""}`,children:[u==="mobile"&&o.jsx("div",{className:"h-6 bg-gray-800 flex justify-center items-center rounded-t-lg",children:o.jsx("div",{className:"w-20 h-1 bg-gray-600 rounded-full"})}),o.jsxs("div",{className:`${u==="mobile"?"p-3":"p-6"}`,children:[o.jsx("h2",{className:"text-lg font-bold mb-4 text-center border-b pb-2",children:i.name}),i.sections&&i.sections.length>0?o.jsx("div",{className:"space-y-6",children:i.sections.map(_=>o.jsx(PSe,{section:_,viewMode:u},_.id))}):o.jsx("div",{className:"text-center py-8 text-gray-500 italic",children:"This template has no sections defined yet."})]})]})})})]}):o.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-lg font-medium mb-4 border-b pb-2",children:"Template Structure"}),i.sections&&i.sections.length>0?o.jsx("div",{className:"space-y-4",children:i.sections.map((_,x)=>o.jsxs("div",{className:"border border-gray-200 rounded-md p-4",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"bg-gray-100 text-gray-700 w-6 h-6 rounded-full inline-flex items-center justify-center mr-2 text-sm",children:x+1}),o.jsx("span",{className:"font-medium",children:_.title}),_.required&&o.jsx("span",{className:"ml-2 text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded-full",children:"Required"})]}),o.jsx("span",{className:"text-sm text-gray-500 font-medium",children:_.type.charAt(0).toUpperCase()+_.type.slice(1)})]}),_.placeholder&&o.jsx("div",{className:"text-sm text-gray-600 mt-1",children:o.jsxs("p",{className:"italic",children:['Placeholder: "',_.placeholder,'"']})}),_.type==="quiz"&&_.quizConfig&&o.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["Quiz with ",_.quizConfig.minQuestions||1," to ",_.quizConfig.maxQuestions||5," questions",_.quizConfig.passingScore&&` (${_.quizConfig.passingScore}% passing score)`]})}),_.type==="discussion"&&_.discussionConfig&&o.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["Discussion board",_.discussionConfig.requireApproval?" (posts require approval)":" (open posting)"]})})]},_.id))}):o.jsx("p",{className:"text-gray-500 italic",children:"This template has no sections defined yet."})]})})]})}):o.jsx(cr,{requireSuperAdmin:!1,children:o.jsx("div",{className:"text-center py-8 text-red-600",children:"Template not found"})})}function PSe({section:t,viewMode:e}){switch(t.type){case"text":return o.jsxs("div",{className:"border border-gray-200 rounded-md p-4",children:[o.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:t.title}),o.jsx("div",{className:"prose max-w-none",children:o.jsx("p",{className:"text-gray-500 italic",children:t.placeholder||"Text content will appear here"})})]});case"image":return o.jsxs("div",{className:"border border-gray-200 rounded-md p-4",children:[o.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:t.title}),o.jsx("div",{className:`bg-gray-100 rounded-md flex items-center justify-center ${e==="mobile"?"h-40":"h-64"}`,children:o.jsxs("div",{className:"text-gray-400 flex flex-col items-center",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),o.jsx("span",{className:"mt-2",children:t.placeholder||"Image will appear here"})]})})]});case"video":return o.jsxs("div",{className:"border border-gray-200 rounded-md p-4",children:[o.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:t.title}),o.jsx("div",{className:`bg-gray-100 rounded-md flex items-center justify-center ${e==="mobile"?"h-48":"h-72"}`,children:o.jsxs("div",{className:"text-gray-400 flex flex-col items-center",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),o.jsx("span",{className:"mt-2",children:t.placeholder||"Video will appear here"})]})})]});case"quiz":return o.jsxs("div",{className:"border border-gray-200 rounded-md p-4",children:[o.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:t.title}),o.jsxs("div",{className:"bg-blue-50 rounded-md p-4",children:[o.jsx("p",{className:"font-medium text-blue-800 mb-2",children:"Sample Quiz Question"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"radio",id:"option-1",name:"sample-quiz",className:"h-4 w-4 text-blue-600"}),o.jsx("label",{htmlFor:"option-1",className:"ml-2 text-gray-700",children:"Answer option 1"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"radio",id:"option-2",name:"sample-quiz",className:"h-4 w-4 text-blue-600"}),o.jsx("label",{htmlFor:"option-2",className:"ml-2 text-gray-700",children:"Answer option 2"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"radio",id:"option-3",name:"sample-quiz",className:"h-4 w-4 text-blue-600"}),o.jsx("label",{htmlFor:"option-3",className:"ml-2 text-gray-700",children:"Answer option 3"})]})]}),o.jsx("div",{className:"mt-4 text-sm text-gray-500",children:t.quizConfig?o.jsxs("p",{children:[t.quizConfig.minQuestions||1," to ",t.quizConfig.maxQuestions||5," questions with ",t.quizConfig.passingScore||70,"% passing score"]}):o.jsx("p",{children:"Quiz settings not configured"})})]})]});case"discussion":return o.jsxs("div",{className:"border border-gray-200 rounded-md p-4",children:[o.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:t.title}),o.jsxs("div",{className:"bg-purple-50 rounded-md p-4",children:[o.jsx("div",{className:"border-b pb-2 mb-3",children:o.jsx("p",{className:"font-medium",children:"Discussion Topics"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[o.jsx("p",{className:"font-medium",children:"Sample Discussion Topic"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Started by User  2 replies"})]}),o.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[o.jsx("p",{className:"font-medium",children:"Another Discussion Topic"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Started by User  5 replies"})]})]}),o.jsx("button",{className:"mt-3 text-sm text-purple-600 font-medium",children:"+ New Topic"})]})]});case"events":return o.jsxs("div",{className:"border border-gray-200 rounded-md p-4",children:[o.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:t.title}),o.jsxs("div",{className:"bg-green-50 rounded-md p-4",children:[o.jsx("div",{className:"border-b pb-2 mb-3",children:o.jsx("p",{className:"font-medium",children:"Upcoming Events"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[o.jsx("p",{className:"font-medium",children:"Virtual Meetup"}),o.jsx("p",{className:"text-sm text-gray-500",children:"July 15, 2025  3:00 PM"})]}),o.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[o.jsx("p",{className:"font-medium",children:"Workshop"}),o.jsx("p",{className:"text-sm text-gray-500",children:"July 22, 2025  10:00 AM"})]})]}),o.jsx("button",{className:"mt-3 text-sm text-green-600 font-medium",children:"+ New Event"})]})]});case"resources":return o.jsxs("div",{className:"border border-gray-200 rounded-md p-4",children:[o.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:t.title}),o.jsxs("div",{className:"bg-amber-50 rounded-md p-4",children:[o.jsx("div",{className:"border-b pb-2 mb-3",children:o.jsx("p",{className:"font-medium",children:"Resources"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200 flex items-center",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-amber-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),o.jsx("p",{children:"Sample PDF Resource"})]}),o.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200 flex items-center",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-amber-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),o.jsx("p",{children:"External Reference Link"})]})]}),o.jsx("button",{className:"mt-3 text-sm text-amber-600 font-medium",children:"+ Add Resource"})]})]});default:return o.jsxs("div",{className:"border border-gray-200 rounded-md p-4",children:[o.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:t.title}),o.jsx("p",{className:"text-gray-500 italic",children:t.placeholder||`${t.type} content will appear here`})]})}}function ISe(){const t=[{title:"Total Visitors",value:"12,543",change:"+14%",trend:"up",period:"from last month",icon:o.jsx(ei,{className:"h-4 w-4 text-muted-foreground"})},{title:"Engagement Rate",value:"58.3%",change:"+7.2%",trend:"up",period:"from last month",icon:o.jsx(zu,{className:"h-4 w-4 text-muted-foreground"})},{title:"Avg. Session Duration",value:"3m 42s",change:"+12s",trend:"up",period:"from last month",icon:o.jsx(nv,{className:"h-4 w-4 text-muted-foreground"})},{title:"Conversion Rate",value:"3.2%",change:"-0.4%",trend:"down",period:"from last month",icon:o.jsx(Tve,{className:"h-4 w-4 text-muted-foreground"})},{title:"Revenue",value:"$48,574",change:"+5.4%",trend:"up",period:"from last month",icon:o.jsx(Go,{className:"h-4 w-4 text-muted-foreground"})},{title:"Growth Rate",value:"12.5%",change:"+2.1%",trend:"up",period:"from last month",icon:o.jsx(Dv,{className:"h-4 w-4 text-muted-foreground"})}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Analytics Dashboard"}),o.jsx("p",{className:"text-muted-foreground",children:"Monitor platform performance, user engagement, and business metrics"})]}),o.jsxs(un,{variant:"outline",className:"text-blue-600 border-blue-600",children:[o.jsx(ZS,{className:"mr-1 h-3.5 w-3.5"}),"Placeholder"]})]}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map((e,n)=>o.jsxs(De,{children:[o.jsxs(He,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ge,{className:"text-sm font-medium",children:e.title}),e.icon]}),o.jsxs(Fe,{children:[o.jsx("div",{className:"text-2xl font-bold",children:e.value}),o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center",children:[e.trend==="up"?o.jsx(iye,{className:"mr-1 h-3.5 w-3.5 text-green-500"}):o.jsx(Jge,{className:"mr-1 h-3.5 w-3.5 text-red-500"}),o.jsx("span",{className:e.trend==="up"?"text-green-500":"text-red-500",children:e.change}),o.jsx("span",{className:"ml-1",children:e.period})]})]})]},n))}),o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Analytics Implementation"}),o.jsx($t,{children:"This is a placeholder for the analytics module"})]}),o.jsxs(Fe,{children:[o.jsx("p",{className:"text-muted-foreground",children:"This is a placeholder implementation of the analytics dashboard. The final module will include:"}),o.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1 text-muted-foreground",children:[o.jsx("li",{children:"Real-time data visualization"}),o.jsx("li",{children:"Custom date range selection"}),o.jsx("li",{children:"Detailed reports and exports"}),o.jsx("li",{children:"User behavior analysis"}),o.jsx("li",{children:"Conversion funnels and goal tracking"}),o.jsx("li",{children:"Integration with Google Analytics"})]})]})]})]})}function MSe(){const t=[{id:1,name:"Eco-Friendly Water Bottle",category:"Drinkware",price:"$24.99",stock:120,status:"Active"},{id:2,name:"Organic Cotton T-Shirt",category:"Apparel",price:"$32.00",stock:85,status:"Active"},{id:3,name:"Bamboo Phone Case",category:"Tech",price:"$18.50",stock:64,status:"Active"},{id:4,name:"Recycled Notebook",category:"Office",price:"$12.99",stock:200,status:"Active"},{id:5,name:"Solar Power Bank",category:"Tech",price:"$45.00",stock:32,status:"Low Stock"}];return o.jsxs("div",{children:[o.jsxs("div",{className:"sm:flex sm:items-center mb-8",children:[o.jsxs("div",{className:"sm:flex-auto",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Products Management"}),o.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Manage your product catalog and inventory."})]}),o.jsx("div",{className:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none",children:o.jsxs("button",{type:"button",className:"flex items-center justify-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500",children:[o.jsx(rv,{className:"h-4 w-4 mr-2"}),"Add Product"]})})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:o.jsx(Em,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),o.jsx("input",{type:"text",className:"block w-full rounded-md border-0 py-1.5 pl-10 pr-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",placeholder:"Search products..."})]})}),o.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"relative px-6 py-3",children:o.jsx("span",{className:"sr-only",children:"Actions"})})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:o.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:o.jsx(Iv,{className:"h-5 w-5 text-gray-500"})})}),o.jsx("div",{className:"ml-4",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.category}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.price}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.stock}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${e.status==="Active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:"Edit"})})]},e.id))})]})})})})]})}var YE={exports:{}},KE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dF;function DSe(){if(dF)return KE;dF=1;var t=pS();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(m,g){var v=g(),b=r({inst:{value:v,getSnapshot:g}}),_=b[0].inst,x=b[1];return s(function(){_.value=v,_.getSnapshot=g,u(_)&&x({inst:_})},[m,v,g]),i(function(){return u(_)&&x({inst:_}),m(function(){u(_)&&x({inst:_})})},[m]),a(v),v}function u(m){var g=m.getSnapshot;m=m.value;try{var v=g();return!n(m,v)}catch{return!0}}function d(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return KE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,KE}var fF;function LSe(){return fF||(fF=1,YE.exports=DSe()),YE.exports}var $Se=LSe();function VSe(){return $Se.useSyncExternalStore(FSe,()=>!0,()=>!1)}function FSe(){return()=>{}}var dD="Avatar",[BSe,Dze]=qs(dD),[USe,kJ]=BSe(dD),OJ=N.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=N.useState("idle");return o.jsx(USe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:o.jsx(yt.span,{...r,ref:e})})});OJ.displayName=dD;var RJ="AvatarImage",PJ=N.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,a=kJ(RJ,n),l=zSe(r,s),u=pi(d=>{i(d),a.onImageLoadingStatusChange(d)});return Br(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?o.jsx(yt.img,{...s,ref:e,src:r}):null});PJ.displayName=RJ;var IJ="AvatarFallback",MJ=N.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=kJ(IJ,n),[a,l]=N.useState(r===void 0);return N.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(u)}},[r]),a&&s.imageLoadingStatus!=="loaded"?o.jsx(yt.span,{...i,ref:e}):null});MJ.displayName=IJ;function hF(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function zSe(t,{referrerPolicy:e,crossOrigin:n}){const r=VSe(),i=N.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,l]=N.useState(()=>hF(s,t));return Br(()=>{l(hF(s,t))},[s,t]),Br(()=>{const u=m=>()=>{l(m)};if(!s)return;const d=u("loaded"),h=u("error");return s.addEventListener("load",d),s.addEventListener("error",h),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",d),s.removeEventListener("error",h)}},[s,n,e]),a}var qSe=OJ,HSe=PJ,WSe=MJ;function Jw({className:t,...e}){return o.jsx(qSe,{"data-slot":"avatar",className:Xe("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function e1({className:t,...e}){return o.jsx(HSe,{"data-slot":"avatar-image",className:Xe("aspect-square size-full",t),...e})}function t1({className:t,...e}){return o.jsx(WSe,{"data-slot":"avatar-fallback",className:Xe("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function GSe(){const{canAccess:t,role:e}=lj(),[n,r]=N.useState([{id:"1",type:"user_registration",title:"New User Registration",description:"Sarah Johnson registered as a new user",actor:{id:"user_123",name:"Sarah Johnson",email:"sarah.johnson@email.com",avatar:"/avatars/sarah.jpg",role:"user"},target:{type:"user",id:"user_123",name:"Sarah Johnson"},metadata:{userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",ipAddress:"192.168.1.100",location:"New York, NY"},timestamp:"2024-01-26T14:30:00Z",severity:"info",category:"user_management",status:"completed"},{id:"2",type:"content_upload",title:"Content Upload",description:'GreenLeaf Organics uploaded new lesson "Sustainable Living Basics"',actor:{id:"brand_1",name:"GreenLeaf Organics",email:"admin@greenleaf.com",avatar:"/avatars/greenleaf.jpg",role:"brand_admin"},target:{type:"content",id:"content_1",name:"Sustainable Living Basics"},metadata:{fileSize:"45.2 MB",fileType:"video/mp4",duration:"25 minutes",category:"Environmental"},timestamp:"2024-01-26T13:15:00Z",severity:"info",category:"content_management",status:"pending_approval"},{id:"3",type:"verification_submitted",title:"Verification Request",description:"EcoTech Solutions submitted verification documents",actor:{id:"brand_2",name:"EcoTech Solutions",email:"verify@ecotech.com",avatar:"/avatars/ecotech.jpg",role:"brand_admin"},target:{type:"verification",id:"verify_456",name:"Business License Verification"},metadata:{documentCount:3,documentTypes:["business_license","tax_id","insurance"],submissionMethod:"web_upload"},timestamp:"2024-01-26T12:45:00Z",severity:"warning",category:"verification",status:"pending_review"},{id:"4",type:"payment_received",title:"Payment Received",description:"Monthly payment received from GreenLeaf Organics",actor:{id:"system",name:"Payment System",email:"payments@engagenatural.com",avatar:"/avatars/system.jpg",role:"system"},target:{type:"payment",id:"payment_789",name:"Monthly Subscription - January 2024"},metadata:{amount:"$5,500.00",paymentMethod:"Credit Card",transactionId:"txn_abc123",brandId:"brand_1"},timestamp:"2024-01-26T11:30:00Z",severity:"success",category:"financial",status:"completed"},{id:"5",type:"security_alert",title:"Security Alert",description:"Multiple failed login attempts detected",actor:{id:"security_system",name:"Security Monitor",email:"security@engagenatural.com",avatar:"/avatars/security.jpg",role:"system"},target:{type:"security",id:"alert_001",name:"Failed Login Attempts"},metadata:{attemptCount:5,ipAddress:"203.0.113.42",targetAccount:"admin@greenleaf.com",timeWindow:"10 minutes"},timestamp:"2024-01-26T10:15:00Z",severity:"critical",category:"security",status:"investigating"},{id:"6",type:"brand_contract_signed",title:"Contract Signed",description:"Pure Beauty Co signed annual partnership contract",actor:{id:"brand_3",name:"Pure Beauty Co",email:"contracts@purebeauty.com",avatar:"/avatars/purebeauty.jpg",role:"brand_admin"},target:{type:"contract",id:"contract_456",name:"Annual Partnership Agreement 2024"},metadata:{contractValue:"$60,000",contractType:"yearly",startDate:"2024-02-01",endDate:"2025-01-31"},timestamp:"2024-01-26T09:45:00Z",severity:"success",category:"business",status:"completed"},{id:"7",type:"system_maintenance",title:"System Maintenance",description:"Scheduled database optimization completed",actor:{id:"system",name:"System Administrator",email:"admin@engagenatural.com",avatar:"/avatars/admin.jpg",role:"super_admin"},target:{type:"system",id:"maintenance_001",name:"Database Optimization"},metadata:{duration:"45 minutes",affectedServices:["content_delivery","user_analytics"],performanceImprovement:"15%"},timestamp:"2024-01-26T08:00:00Z",severity:"info",category:"system",status:"completed"},{id:"8",type:"content_approved",title:"Content Approved",description:'Lesson "Eco-Tech Innovation Workshop" approved for publication',actor:{id:"admin_1",name:"Admin User",email:"admin@engagenatural.com",avatar:"/avatars/admin.jpg",role:"super_admin"},target:{type:"content",id:"content_4",name:"Eco-Tech Innovation Workshop"},metadata:{reviewTime:"2 hours",approvalNotes:"High quality content, approved for immediate publication",brandId:"brand_2"},timestamp:"2024-01-26T07:30:00Z",severity:"success",category:"content_management",status:"completed"}]),[i,s]=N.useState(""),[a,l]=N.useState("all"),[u,d]=N.useState("all"),[h,m]=N.useState("24h"),[g,v]=N.useState(null),[b,_]=N.useState(!1),x={totalActivities:n.length,criticalAlerts:n.filter(k=>k.severity==="critical").length,pendingActions:n.filter(k=>k.status==="pending_review"||k.status==="pending_approval").length,recentUsers:n.filter(k=>k.type==="user_registration"&&j(k.timestamp,"24h")).length,revenueEvents:n.filter(k=>k.category==="financial").length,securityEvents:n.filter(k=>k.category==="security").length};function j(k,O){const D=new Date,M=new Date(k),V=(D-M)/(1e3*60*60);switch(O){case"1h":return V<=1;case"24h":return V<=24;case"7d":return V<=168;case"30d":return V<=720;default:return!0}}const A=n.filter(k=>{const O=k.title.toLowerCase().includes(i.toLowerCase())||k.description.toLowerCase().includes(i.toLowerCase())||k.actor.name.toLowerCase().includes(i.toLowerCase()),D=a==="all"||k.category===a,M=u==="all"||k.severity===u,V=h==="all"||j(k.timestamp,h);return O&&D&&M&&V}),C=k=>{switch(k){case"critical":return o.jsxs(un,{className:"bg-red-100 text-red-800 border-red-200",children:[o.jsx(t_,{className:"w-3 h-3 mr-1"}),"Critical"]});case"warning":return o.jsxs(un,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[o.jsx(t_,{className:"w-3 h-3 mr-1"}),"Warning"]});case"success":return o.jsxs(un,{className:"bg-green-100 text-green-800 border-green-200",children:[o.jsx(cs,{className:"w-3 h-3 mr-1"}),"Success"]});case"info":return o.jsxs(un,{className:"bg-blue-100 text-blue-800 border-blue-200",children:[o.jsx(du,{className:"w-3 h-3 mr-1"}),"Info"]});default:return o.jsx(un,{variant:"secondary",children:k})}},P=k=>{switch(k){case"completed":return o.jsxs(un,{className:"bg-green-100 text-green-800 border-green-200",children:[o.jsx(cs,{className:"w-3 h-3 mr-1"}),"Completed"]});case"pending_review":return o.jsxs(un,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[o.jsx(nv,{className:"w-3 h-3 mr-1"}),"Pending Review"]});case"pending_approval":return o.jsxs(un,{className:"bg-orange-100 text-orange-800 border-orange-200",children:[o.jsx(nv,{className:"w-3 h-3 mr-1"}),"Pending Approval"]});case"investigating":return o.jsxs(un,{className:"bg-red-100 text-red-800 border-red-200",children:[o.jsx(Em,{className:"w-3 h-3 mr-1"}),"Investigating"]});default:return o.jsx(un,{variant:"secondary",children:k})}},T=k=>{switch(k){case"user_registration":return o.jsx(Iw,{className:"h-4 w-4"});case"content_upload":return o.jsx(ZO,{className:"h-4 w-4"});case"verification_submitted":return o.jsx(Mv,{className:"h-4 w-4"});case"payment_received":return o.jsx(Go,{className:"h-4 w-4"});case"security_alert":return o.jsx(t_,{className:"h-4 w-4"});case"brand_contract_signed":return o.jsx(QS,{className:"h-4 w-4"});case"system_maintenance":return o.jsx(lc,{className:"h-4 w-4"});case"content_approved":return o.jsx(cs,{className:"h-4 w-4"});default:return o.jsx(du,{className:"h-4 w-4"})}},I=k=>{const O=new Date(k),M=Math.floor((new Date-O)/(1e3*60));return M<1?"Just now":M<60?`${M}m ago`:M<1440?`${Math.floor(M/60)}h ago`:O.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},E=(k,O)=>{console.log(`${k} activity:`,O)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Activity Feed"}),o.jsx("p",{className:"text-muted-foreground",children:"Real-time monitoring of system activities, user actions, and business events"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Oe,{variant:"outline",children:[o.jsx(Pv,{className:"mr-2 h-4 w-4"}),"Notifications"]}),o.jsxs(Oe,{variant:"outline",children:[o.jsx(sb,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-6",children:[o.jsxs(De,{children:[o.jsxs(He,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ge,{className:"text-sm font-medium",children:"Total Activities"}),o.jsx(du,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Fe,{children:[o.jsx("div",{className:"text-2xl font-bold",children:x.totalActivities}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 24 hours"})]})]}),o.jsxs(De,{children:[o.jsxs(He,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ge,{className:"text-sm font-medium",children:"Critical Alerts"}),o.jsx(t_,{className:"h-4 w-4 text-red-500"})]}),o.jsxs(Fe,{children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:x.criticalAlerts}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Require immediate attention"})]})]}),o.jsxs(De,{children:[o.jsxs(He,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ge,{className:"text-sm font-medium",children:"Pending Actions"}),o.jsx(nv,{className:"h-4 w-4 text-yellow-500"})]}),o.jsxs(Fe,{children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:x.pendingActions}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting review/approval"})]})]}),o.jsxs(De,{children:[o.jsxs(He,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ge,{className:"text-sm font-medium",children:"New Users"}),o.jsx(ei,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Fe,{children:[o.jsx("div",{className:"text-2xl font-bold",children:x.recentUsers}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered today"})]})]}),o.jsxs(De,{children:[o.jsxs(He,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ge,{className:"text-sm font-medium",children:"Revenue Events"}),o.jsx(Go,{className:"h-4 w-4 text-green-500"})]}),o.jsxs(Fe,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.revenueEvents}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Payment activities"})]})]}),o.jsxs(De,{children:[o.jsxs(He,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ge,{className:"text-sm font-medium",children:"Security Events"}),o.jsx(Mv,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Fe,{children:[o.jsx("div",{className:"text-2xl font-bold",children:x.securityEvents}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Security-related activities"})]})]})]}),o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Recent Activities"}),o.jsx($t,{children:"Monitor all system activities, user actions, and business events in real-time"})]}),o.jsxs(Fe,{children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Em,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(bt,{placeholder:"Search activities by title, description, or actor...",value:i,onChange:k=>s(k.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Rs,{value:a,onValueChange:l,children:[o.jsx(ds,{className:"w-40",children:o.jsx(Ps,{placeholder:"Category"})}),o.jsxs(fs,{children:[o.jsx(mt,{value:"all",children:"All Categories"}),o.jsx(mt,{value:"user_management",children:"User Management"}),o.jsx(mt,{value:"content_management",children:"Content"}),o.jsx(mt,{value:"verification",children:"Verification"}),o.jsx(mt,{value:"financial",children:"Financial"}),o.jsx(mt,{value:"security",children:"Security"}),o.jsx(mt,{value:"business",children:"Business"}),o.jsx(mt,{value:"system",children:"System"})]})]}),o.jsxs(Rs,{value:u,onValueChange:d,children:[o.jsx(ds,{className:"w-32",children:o.jsx(Ps,{placeholder:"Severity"})}),o.jsxs(fs,{children:[o.jsx(mt,{value:"all",children:"All Levels"}),o.jsx(mt,{value:"critical",children:"Critical"}),o.jsx(mt,{value:"warning",children:"Warning"}),o.jsx(mt,{value:"success",children:"Success"}),o.jsx(mt,{value:"info",children:"Info"})]})]}),o.jsxs(Rs,{value:h,onValueChange:m,children:[o.jsx(ds,{className:"w-32",children:o.jsx(Ps,{placeholder:"Time Range"})}),o.jsxs(fs,{children:[o.jsx(mt,{value:"1h",children:"Last Hour"}),o.jsx(mt,{value:"24h",children:"Last 24h"}),o.jsx(mt,{value:"7d",children:"Last 7 Days"}),o.jsx(mt,{value:"30d",children:"Last 30 Days"}),o.jsx(mt,{value:"all",children:"All Time"})]})]})]})]}),o.jsx("div",{className:"space-y-4",children:A.map(k=>o.jsxs("div",{className:"flex items-start space-x-4 p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-100 flex items-center justify-center",children:T(k.type)})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-900",children:k.title}),C(k.severity),P(k.status)]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:I(k.timestamp)}),o.jsxs(Om,{children:[o.jsx(Rm,{asChild:!0,children:o.jsxs(Oe,{variant:"ghost",className:"h-8 w-8 p-0",children:[o.jsx("span",{className:"sr-only",children:"Open menu"}),o.jsx(kK,{className:"h-4 w-4"})]})}),o.jsxs(lf,{align:"end",children:[o.jsx(hb,{children:"Actions"}),o.jsxs(Cn,{onClick:()=>{v(k),_(!0)},children:[o.jsx(zu,{className:"mr-2 h-4 w-4"}),"View Details"]}),t(["manage_all_users","approve_verifications"])&&o.jsxs(o.Fragment,{children:[o.jsx(hu,{}),o.jsxs(Cn,{onClick:()=>E("investigate",k.id),children:[o.jsx(Em,{className:"mr-2 h-4 w-4"}),"Investigate"]}),o.jsxs(Cn,{onClick:()=>E("resolve",k.id),children:[o.jsx(cs,{className:"mr-2 h-4 w-4"}),"Mark Resolved"]})]})]})]})]})]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description}),o.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Jw,{className:"h-6 w-6",children:[o.jsx(e1,{src:k.actor.avatar,alt:k.actor.name}),o.jsx(t1,{children:k.actor.name.charAt(0)})]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:k.actor.name})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:k.category.replace("_"," ").toUpperCase()}),k.target&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:[" ",k.target.name]})]})]})]},k.id))}),A.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(du,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No activities found"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]})]})]}),o.jsx(Xm,{open:b,onOpenChange:_,children:o.jsxs(Nf,{className:"max-w-2xl",children:[o.jsxs(Qm,{children:[o.jsxs(Af,{className:"flex items-center gap-2",children:[g&&T(g.type),g==null?void 0:g.title]}),o.jsx(Ef,{children:"Detailed information about this activity"})]}),g&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-2",children:"Activity Information"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Type:"})," ",g.type.replace("_"," ")]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Category:"})," ",g.category.replace("_"," ")]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Timestamp:"})," ",new Date(g.timestamp).toLocaleString()]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:"Severity:"})," ",C(g.severity)]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:"Status:"})," ",P(g.status)]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-2",children:"Actor Information"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Jw,{className:"h-8 w-8",children:[o.jsx(e1,{src:g.actor.avatar,alt:g.actor.name}),o.jsx(t1,{children:g.actor.name.charAt(0)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:g.actor.name}),o.jsx("div",{className:"text-muted-foreground",children:g.actor.email})]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Role:"})," ",g.actor.role.replace("_"," ")]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-2",children:"Description"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]}),g.target&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-2",children:"Target"}),o.jsxs("div",{className:"text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Type:"})," ",g.target.type]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Name:"})," ",g.target.name]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"ID:"})," ",g.target.id]})]})]}),g.metadata&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-2",children:"Additional Details"}),o.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:o.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:JSON.stringify(g.metadata,null,2)})})]})]})]})})]})}function YSe(){return o.jsx("div",{className:"container mx-auto",children:o.jsx(GSe,{})})}var _j="Switch",[KSe,Lze]=qs(_j),[XSe,QSe]=KSe(_j),DJ=N.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:l,value:u="on",onCheckedChange:d,form:h,...m}=t,[g,v]=N.useState(null),b=Xt(e,C=>v(C)),_=N.useRef(!1),x=g?h||!!g.closest("form"):!0,[j,A]=Sf({prop:i,defaultProp:s??!1,onChange:d,caller:_j});return o.jsxs(XSe,{scope:n,checked:j,disabled:l,children:[o.jsx(yt.button,{type:"button",role:"switch","aria-checked":j,"aria-required":a,"data-state":FJ(j),"data-disabled":l?"":void 0,disabled:l,value:u,...m,ref:b,onClick:Ze(t.onClick,C=>{A(P=>!P),x&&(_.current=C.isPropagationStopped(),_.current||C.stopPropagation())})}),x&&o.jsx(VJ,{control:g,bubbles:!_.current,name:r,value:u,checked:j,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});DJ.displayName=_j;var LJ="SwitchThumb",$J=N.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=QSe(LJ,n);return o.jsx(yt.span,{"data-state":FJ(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});$J.displayName=LJ;var ZSe="SwitchBubbleInput",VJ=N.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const a=N.useRef(null),l=Xt(a,s),u=AQ(n),d=fQ(e);return N.useEffect(()=>{const h=a.current;if(!h)return;const m=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==n&&v){const b=new Event("click",{bubbles:r});v.call(h,n),h.dispatchEvent(b)}},[u,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});VJ.displayName=ZSe;function FJ(t){return t?"checked":"unchecked"}var JSe=DJ,eje=$J;function Gn({className:t,...e}){return o.jsx(JSe,{"data-slot":"switch",className:Xe("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(eje,{"data-slot":"switch-thumb",className:Xe("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function tje(){const{canAccess:t,hasRole:e}=lj(),[n,r]=N.useState({general:{siteName:"EngageNatural",siteDescription:"Connecting brands with engaged communities through authentic partnerships",siteUrl:"https://engagenatural.com",adminEmail:"admin@engagenatural.com",supportEmail:"support@engagenatural.com",timezone:"America/New_York",language:"en",maintenanceMode:!1,registrationEnabled:!0,emailVerificationRequired:!0},security:{passwordMinLength:8,passwordRequireSpecialChars:!0,passwordRequireNumbers:!0,passwordRequireUppercase:!0,sessionTimeout:24,maxLoginAttempts:5,lockoutDuration:30,twoFactorRequired:!1,ipWhitelist:[],allowedDomains:["engagenatural.com"],encryptionEnabled:!0,auditLogging:!0},notifications:{emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,adminAlerts:!0,userWelcomeEmails:!0,paymentNotifications:!0,securityAlerts:!0,maintenanceNotifications:!0,marketingEmails:!1,weeklyReports:!0},payments:{currency:"USD",taxRate:8.5,processingFee:2.9,monthlyPlanPrice:5e3,yearlyPlanPrice:5e4,additionalLessonPrice:1e5,trialPeriodDays:14,gracePeriodDays:7,autoRenewal:!0,prorationEnabled:!0,refundPolicy:"partial"},content:{maxFileSize:100,allowedFileTypes:["mp4","pdf","jpg","png","docx"],autoApproval:!1,contentModeration:!0,backupFrequency:"daily",storageLimit:1e3,cdnEnabled:!0,compressionEnabled:!0,watermarkEnabled:!1},integrations:{googleAnalytics:{enabled:!0,trackingId:"GA-XXXXXXXXX",enhancedEcommerce:!0},stripe:{enabled:!0,publicKey:"pk_test_...",webhookSecret:"whsec_..."},sendgrid:{enabled:!0,apiKey:"SG.XXXXXXXXX",fromEmail:"noreply@engagenatural.com"},firebase:{enabled:!0,projectId:"engagenatural-prod",authDomain:"engagenatural-prod.firebaseapp.com"},slack:{enabled:!1,webhookUrl:"",channel:"#admin-alerts"}}}),[i,s]=N.useState("general"),[a,l]=N.useState(!1),[u,d]=N.useState(!1),[h,m]=N.useState(!1),g=(x,j,A)=>{r(C=>({...C,[x]:{...C[x],[j]:A}})),l(!0)},v=(x,j,A,C)=>{r(P=>({...P,[x]:{...P[x],[j]:{...P[x][j],[A]:C}}})),l(!0)},b=async()=>{d(!0);try{await new Promise(x=>setTimeout(x,1e3)),l(!1),console.log("Settings saved:",n)}catch(x){console.error("Error saving settings:",x)}finally{d(!1)}},_=()=>{l(!1),console.log("Settings reset to defaults")};return t(["manage_system_settings"])?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"System Settings"}),o.jsx("p",{className:"text-muted-foreground",children:"Configure platform settings, security, integrations, and system preferences"})]}),o.jsxs("div",{className:"flex gap-2",children:[a&&o.jsx(un,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Unsaved Changes"}),o.jsxs(Oe,{variant:"outline",onClick:_,children:[o.jsx(Km,{className:"mr-2 h-4 w-4"}),"Reset"]}),o.jsxs(Oe,{onClick:b,disabled:u||!a,children:[o.jsx(QO,{className:"mr-2 h-4 w-4"}),u?"Saving...":"Save Changes"]})]})]}),o.jsxs(qu,{value:i,onValueChange:s,className:"space-y-4",children:[o.jsxs(gc,{className:"grid w-full grid-cols-6",children:[o.jsx(bn,{value:"general",children:"General"}),o.jsx(bn,{value:"security",children:"Security"}),o.jsx(bn,{value:"notifications",children:"Notifications"}),o.jsx(bn,{value:"payments",children:"Payments"}),o.jsx(bn,{value:"content",children:"Content"}),o.jsx(bn,{value:"integrations",children:"Integrations"})]}),o.jsx(qn,{value:"general",className:"space-y-4",children:o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsxs(Ge,{className:"flex items-center gap-2",children:[o.jsx(Wye,{className:"h-5 w-5"}),"Site Configuration"]}),o.jsx($t,{children:"Basic site information and global settings"})]}),o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"siteName",children:"Site Name"}),o.jsx(bt,{id:"siteName",value:n.general.siteName,onChange:x=>g("general","siteName",x.target.value)})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"siteUrl",children:"Site URL"}),o.jsx(bt,{id:"siteUrl",value:n.general.siteUrl,onChange:x=>g("general","siteUrl",x.target.value)})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"siteDescription",children:"Site Description"}),o.jsx(wu,{id:"siteDescription",value:n.general.siteDescription,onChange:x=>g("general","siteDescription",x.target.value),rows:3})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"adminEmail",children:"Admin Email"}),o.jsx(bt,{id:"adminEmail",type:"email",value:n.general.adminEmail,onChange:x=>g("general","adminEmail",x.target.value)})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"supportEmail",children:"Support Email"}),o.jsx(bt,{id:"supportEmail",type:"email",value:n.general.supportEmail,onChange:x=>g("general","supportEmail",x.target.value)})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"timezone",children:"Timezone"}),o.jsxs(Rs,{value:n.general.timezone,onValueChange:x=>g("general","timezone",x),children:[o.jsx(ds,{children:o.jsx(Ps,{})}),o.jsxs(fs,{children:[o.jsx(mt,{value:"America/New_York",children:"Eastern Time"}),o.jsx(mt,{value:"America/Chicago",children:"Central Time"}),o.jsx(mt,{value:"America/Denver",children:"Mountain Time"}),o.jsx(mt,{value:"America/Los_Angeles",children:"Pacific Time"}),o.jsx(mt,{value:"UTC",children:"UTC"})]})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"language",children:"Default Language"}),o.jsxs(Rs,{value:n.general.language,onValueChange:x=>g("general","language",x),children:[o.jsx(ds,{children:o.jsx(Ps,{})}),o.jsxs(fs,{children:[o.jsx(mt,{value:"en",children:"English"}),o.jsx(mt,{value:"es",children:"Spanish"}),o.jsx(mt,{value:"fr",children:"French"}),o.jsx(mt,{value:"de",children:"German"})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"maintenanceMode",children:"Maintenance Mode"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Temporarily disable public access to the site"})]}),o.jsx(Gn,{id:"maintenanceMode",checked:n.general.maintenanceMode,onCheckedChange:x=>g("general","maintenanceMode",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"registrationEnabled",children:"User Registration"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow new users to register accounts"})]}),o.jsx(Gn,{id:"registrationEnabled",checked:n.general.registrationEnabled,onCheckedChange:x=>g("general","registrationEnabled",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"emailVerificationRequired",children:"Email Verification"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Require email verification for new accounts"})]}),o.jsx(Gn,{id:"emailVerificationRequired",checked:n.general.emailVerificationRequired,onCheckedChange:x=>g("general","emailVerificationRequired",x)})]})]})]})]})}),o.jsx(qn,{value:"security",className:"space-y-4",children:o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsxs(Ge,{className:"flex items-center gap-2",children:[o.jsx(Mv,{className:"h-5 w-5"}),"Security Configuration"]}),o.jsx($t,{children:"Password policies, session management, and security features"})]}),o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"passwordMinLength",children:"Minimum Password Length"}),o.jsx(bt,{id:"passwordMinLength",type:"number",min:"6",max:"32",value:n.security.passwordMinLength,onChange:x=>g("security","passwordMinLength",parseInt(x.target.value))})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"sessionTimeout",children:"Session Timeout (hours)"}),o.jsx(bt,{id:"sessionTimeout",type:"number",min:"1",max:"168",value:n.security.sessionTimeout,onChange:x=>g("security","sessionTimeout",parseInt(x.target.value))})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"maxLoginAttempts",children:"Max Login Attempts"}),o.jsx(bt,{id:"maxLoginAttempts",type:"number",min:"3",max:"10",value:n.security.maxLoginAttempts,onChange:x=>g("security","maxLoginAttempts",parseInt(x.target.value))})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"lockoutDuration",children:"Lockout Duration (minutes)"}),o.jsx(bt,{id:"lockoutDuration",type:"number",min:"5",max:"1440",value:n.security.lockoutDuration,onChange:x=>g("security","lockoutDuration",parseInt(x.target.value))})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"passwordRequireSpecialChars",children:"Require Special Characters"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Passwords must contain special characters"})]}),o.jsx(Gn,{id:"passwordRequireSpecialChars",checked:n.security.passwordRequireSpecialChars,onCheckedChange:x=>g("security","passwordRequireSpecialChars",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"passwordRequireNumbers",children:"Require Numbers"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Passwords must contain numbers"})]}),o.jsx(Gn,{id:"passwordRequireNumbers",checked:n.security.passwordRequireNumbers,onCheckedChange:x=>g("security","passwordRequireNumbers",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"passwordRequireUppercase",children:"Require Uppercase"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Passwords must contain uppercase letters"})]}),o.jsx(Gn,{id:"passwordRequireUppercase",checked:n.security.passwordRequireUppercase,onCheckedChange:x=>g("security","passwordRequireUppercase",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"twoFactorRequired",children:"Two-Factor Authentication"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Require 2FA for all admin accounts"})]}),o.jsx(Gn,{id:"twoFactorRequired",checked:n.security.twoFactorRequired,onCheckedChange:x=>g("security","twoFactorRequired",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"auditLogging",children:"Audit Logging"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Log all admin actions and security events"})]}),o.jsx(Gn,{id:"auditLogging",checked:n.security.auditLogging,onCheckedChange:x=>g("security","auditLogging",x)})]})]})]})]})}),o.jsx(qn,{value:"notifications",className:"space-y-4",children:o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsxs(Ge,{className:"flex items-center gap-2",children:[o.jsx(Pv,{className:"h-5 w-5"}),"Notification Preferences"]}),o.jsx($t,{children:"Configure email, SMS, and push notification settings"})]}),o.jsx(Fe,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"emailNotifications",children:"Email Notifications"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications via email"})]}),o.jsx(Gn,{id:"emailNotifications",checked:n.notifications.emailNotifications,onCheckedChange:x=>g("notifications","emailNotifications",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"smsNotifications",children:"SMS Notifications"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications via SMS"})]}),o.jsx(Gn,{id:"smsNotifications",checked:n.notifications.smsNotifications,onCheckedChange:x=>g("notifications","smsNotifications",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"pushNotifications",children:"Push Notifications"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Send browser push notifications"})]}),o.jsx(Gn,{id:"pushNotifications",checked:n.notifications.pushNotifications,onCheckedChange:x=>g("notifications","pushNotifications",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"adminAlerts",children:"Admin Alerts"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Critical system alerts for administrators"})]}),o.jsx(Gn,{id:"adminAlerts",checked:n.notifications.adminAlerts,onCheckedChange:x=>g("notifications","adminAlerts",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"userWelcomeEmails",children:"Welcome Emails"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Send welcome emails to new users"})]}),o.jsx(Gn,{id:"userWelcomeEmails",checked:n.notifications.userWelcomeEmails,onCheckedChange:x=>g("notifications","userWelcomeEmails",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"paymentNotifications",children:"Payment Notifications"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Notify about payment events"})]}),o.jsx(Gn,{id:"paymentNotifications",checked:n.notifications.paymentNotifications,onCheckedChange:x=>g("notifications","paymentNotifications",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"securityAlerts",children:"Security Alerts"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Notify about security events"})]}),o.jsx(Gn,{id:"securityAlerts",checked:n.notifications.securityAlerts,onCheckedChange:x=>g("notifications","securityAlerts",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"weeklyReports",children:"Weekly Reports"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Send weekly analytics reports"})]}),o.jsx(Gn,{id:"weeklyReports",checked:n.notifications.weeklyReports,onCheckedChange:x=>g("notifications","weeklyReports",x)})]})]})})]})}),o.jsx(qn,{value:"payments",className:"space-y-4",children:o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsxs(Ge,{className:"flex items-center gap-2",children:[o.jsx(Go,{className:"h-5 w-5"}),"Payment Configuration"]}),o.jsx($t,{children:"Pricing, billing, and payment processing settings"})]}),o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"currency",children:"Currency"}),o.jsxs(Rs,{value:n.payments.currency,onValueChange:x=>g("payments","currency",x),children:[o.jsx(ds,{children:o.jsx(Ps,{})}),o.jsxs(fs,{children:[o.jsx(mt,{value:"USD",children:"USD - US Dollar"}),o.jsx(mt,{value:"EUR",children:"EUR - Euro"}),o.jsx(mt,{value:"GBP",children:"GBP - British Pound"}),o.jsx(mt,{value:"CAD",children:"CAD - Canadian Dollar"})]})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"taxRate",children:"Tax Rate (%)"}),o.jsx(bt,{id:"taxRate",type:"number",step:"0.1",min:"0",max:"50",value:n.payments.taxRate,onChange:x=>g("payments","taxRate",parseFloat(x.target.value))})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"monthlyPlanPrice",children:"Monthly Plan Price ($)"}),o.jsx(bt,{id:"monthlyPlanPrice",type:"number",min:"0",value:n.payments.monthlyPlanPrice/100,onChange:x=>g("payments","monthlyPlanPrice",parseInt(x.target.value)*100)})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"yearlyPlanPrice",children:"Yearly Plan Price ($)"}),o.jsx(bt,{id:"yearlyPlanPrice",type:"number",min:"0",value:n.payments.yearlyPlanPrice/100,onChange:x=>g("payments","yearlyPlanPrice",parseInt(x.target.value)*100)})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"additionalLessonPrice",children:"Additional Lesson Price ($)"}),o.jsx(bt,{id:"additionalLessonPrice",type:"number",min:"0",value:n.payments.additionalLessonPrice/100,onChange:x=>g("payments","additionalLessonPrice",parseInt(x.target.value)*100)})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"trialPeriodDays",children:"Trial Period (days)"}),o.jsx(bt,{id:"trialPeriodDays",type:"number",min:"0",max:"90",value:n.payments.trialPeriodDays,onChange:x=>g("payments","trialPeriodDays",parseInt(x.target.value))})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"autoRenewal",children:"Auto Renewal"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically renew subscriptions"})]}),o.jsx(Gn,{id:"autoRenewal",checked:n.payments.autoRenewal,onCheckedChange:x=>g("payments","autoRenewal",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"prorationEnabled",children:"Proration"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Prorate charges for plan changes"})]}),o.jsx(Gn,{id:"prorationEnabled",checked:n.payments.prorationEnabled,onCheckedChange:x=>g("payments","prorationEnabled",x)})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"refundPolicy",children:"Refund Policy"}),o.jsxs(Rs,{value:n.payments.refundPolicy,onValueChange:x=>g("payments","refundPolicy",x),children:[o.jsx(ds,{children:o.jsx(Ps,{})}),o.jsxs(fs,{children:[o.jsx(mt,{value:"full",children:"Full Refund"}),o.jsx(mt,{value:"partial",children:"Partial Refund"}),o.jsx(mt,{value:"none",children:"No Refunds"})]})]})]})]})]})}),o.jsx(qn,{value:"content",className:"space-y-4",children:o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsxs(Ge,{className:"flex items-center gap-2",children:[o.jsx(Fl,{className:"h-5 w-5"}),"Content Management"]}),o.jsx($t,{children:"File upload limits, content moderation, and storage settings"})]}),o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"maxFileSize",children:"Max File Size (MB)"}),o.jsx(bt,{id:"maxFileSize",type:"number",min:"1",max:"1000",value:n.content.maxFileSize,onChange:x=>g("content","maxFileSize",parseInt(x.target.value))})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"storageLimit",children:"Storage Limit (GB)"}),o.jsx(bt,{id:"storageLimit",type:"number",min:"10",max:"10000",value:n.content.storageLimit,onChange:x=>g("content","storageLimit",parseInt(x.target.value))})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"allowedFileTypes",children:"Allowed File Types"}),o.jsx(bt,{id:"allowedFileTypes",value:n.content.allowedFileTypes.join(", "),onChange:x=>g("content","allowedFileTypes",x.target.value.split(", ")),placeholder:"mp4, pdf, jpg, png, docx"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Separate file extensions with commas"})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"backupFrequency",children:"Backup Frequency"}),o.jsxs(Rs,{value:n.content.backupFrequency,onValueChange:x=>g("content","backupFrequency",x),children:[o.jsx(ds,{children:o.jsx(Ps,{})}),o.jsxs(fs,{children:[o.jsx(mt,{value:"hourly",children:"Hourly"}),o.jsx(mt,{value:"daily",children:"Daily"}),o.jsx(mt,{value:"weekly",children:"Weekly"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"autoApproval",children:"Auto Approval"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically approve uploaded content"})]}),o.jsx(Gn,{id:"autoApproval",checked:n.content.autoApproval,onCheckedChange:x=>g("content","autoApproval",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"contentModeration",children:"Content Moderation"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable automated content moderation"})]}),o.jsx(Gn,{id:"contentModeration",checked:n.content.contentModeration,onCheckedChange:x=>g("content","contentModeration",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"cdnEnabled",children:"CDN Enabled"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Use content delivery network for faster loading"})]}),o.jsx(Gn,{id:"cdnEnabled",checked:n.content.cdnEnabled,onCheckedChange:x=>g("content","cdnEnabled",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"compressionEnabled",children:"Compression"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically compress uploaded files"})]}),o.jsx(Gn,{id:"compressionEnabled",checked:n.content.compressionEnabled,onCheckedChange:x=>g("content","compressionEnabled",x)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"watermarkEnabled",children:"Watermark"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Add watermark to uploaded images"})]}),o.jsx(Gn,{id:"watermarkEnabled",checked:n.content.watermarkEnabled,onCheckedChange:x=>g("content","watermarkEnabled",x)})]})]})]})]})}),o.jsx(qn,{value:"integrations",className:"space-y-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsxs(Ge,{className:"flex items-center gap-2",children:[o.jsx(ZS,{className:"h-5 w-5"}),"Google Analytics"]}),o.jsx($t,{children:"Configure Google Analytics tracking"})]}),o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"gaEnabled",children:"Enable Google Analytics"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Track website analytics"})]}),o.jsx(Gn,{id:"gaEnabled",checked:n.integrations.googleAnalytics.enabled,onCheckedChange:x=>v("integrations","googleAnalytics","enabled",x)})]}),n.integrations.googleAnalytics.enabled&&o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"gaTrackingId",children:"Tracking ID"}),o.jsx(bt,{id:"gaTrackingId",value:n.integrations.googleAnalytics.trackingId,onChange:x=>v("integrations","googleAnalytics","trackingId",x.target.value),placeholder:"GA-XXXXXXXXX"})]})]})]}),o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsxs(Ge,{className:"flex items-center gap-2",children:[o.jsx(Go,{className:"h-5 w-5"}),"Stripe Payment Processing"]}),o.jsx($t,{children:"Configure Stripe for payment processing"})]}),o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"stripeEnabled",children:"Enable Stripe"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Process payments through Stripe"})]}),o.jsx(Gn,{id:"stripeEnabled",checked:n.integrations.stripe.enabled,onCheckedChange:x=>v("integrations","stripe","enabled",x)})]}),n.integrations.stripe.enabled&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"stripePublicKey",children:"Public Key"}),o.jsxs("div",{className:"relative",children:[o.jsx(bt,{id:"stripePublicKey",type:h?"text":"password",value:n.integrations.stripe.publicKey,onChange:x=>v("integrations","stripe","publicKey",x.target.value),placeholder:"pk_test_..."}),o.jsx(Oe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>m(!h),children:h?o.jsx($ye,{className:"h-4 w-4"}):o.jsx(zu,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"stripeWebhookSecret",children:"Webhook Secret"}),o.jsx(bt,{id:"stripeWebhookSecret",type:h?"text":"password",value:n.integrations.stripe.webhookSecret,onChange:x=>v("integrations","stripe","webhookSecret",x.target.value),placeholder:"whsec_..."})]})]})]})]}),o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsxs(Ge,{className:"flex items-center gap-2",children:[o.jsx(RK,{className:"h-5 w-5"}),"SendGrid Email Service"]}),o.jsx($t,{children:"Configure SendGrid for email delivery"})]}),o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"sendgridEnabled",children:"Enable SendGrid"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Send emails through SendGrid"})]}),o.jsx(Gn,{id:"sendgridEnabled",checked:n.integrations.sendgrid.enabled,onCheckedChange:x=>v("integrations","sendgrid","enabled",x)})]}),n.integrations.sendgrid.enabled&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"sendgridApiKey",children:"API Key"}),o.jsx(bt,{id:"sendgridApiKey",type:h?"text":"password",value:n.integrations.sendgrid.apiKey,onChange:x=>v("integrations","sendgrid","apiKey",x.target.value),placeholder:"SG.XXXXXXXXX"})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"sendgridFromEmail",children:"From Email"}),o.jsx(bt,{id:"sendgridFromEmail",type:"email",value:n.integrations.sendgrid.fromEmail,onChange:x=>v("integrations","sendgrid","fromEmail",x.target.value),placeholder:"noreply@engagenatural.com"})]})]})]})]})]})})]})]}):o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Pw,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"Access Restricted"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You don't have permission to access system settings."})]})})}function nje(){return o.jsx("div",{className:"container mx-auto",children:o.jsx(tje,{})})}const rje="modulepreload",ije=function(t){return"/"+t},mF={},pF=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=a(n.map(d=>{if(d=ije(d),d in mF)return;mF[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":rje,h||(g.as="script"),g.crossOrigin="",g.href=d,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((v,b)=>{g.addEventListener("load",v),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},gF="demo-brand";async function sje(t){console.log(" Testing Firestore permissions before seeding demo data...");try{console.log("   Checking if user has super_admin role...");const e=Je(xe,"users",t),n=await vi(e);if(!n.exists())throw new Error(`User document not found for UID: ${t}`);const r=n.data();if(r.role!=="super_admin")throw new Error(`User does not have super_admin role. Current role: ${r.role}`);console.log("     User has super_admin role"),console.log("   Testing write permissions with test document...");const i=await Ba(ft(xe,"test_permissions"),{message:"Permission test for demo seeding",createdBy:t,createdAt:Ye(),isTest:!0});return console.log("     Successfully created test document"),console.log("   Testing delete permissions..."),await Ja(i),console.log("     Successfully deleted test document"),console.log(" All permission tests passed! Proceeding with demo data seeding."),!0}catch(e){throw console.error(" Firestore permission test failed:",e),console.error("   code:",e.code,"| name:",e.name,"| message:",e.message),new Error(`Permission test failed: ${e.message||e}`)}}async function aje(t){console.log(" Creating Firebase Auth accounts for demo users...");let e;const n=SW().find(l=>l.name==="seed");n?e=n:e=dI(bf.options,"seed");const r=lG(e);if(typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&!r._emuConnected)try{gI(r,"http://127.0.0.1:9099",{disableWarnings:!0})}catch{}finally{r._emuConnected=!0}const s=Ci.currentUser,a=[];for(const l of t)try{console.log(`   Creating auth account for ${l.email}`);const u=await XW(r,l.email,l.password);a.push({uid:u.user.uid,email:l.email,displayName:l.displayName}),console.log(`     Created auth account with UID: ${u.user.uid}`),await pw(r)}catch(u){if(u.code==="auth/email-already-in-use"){console.log(`     Account ${l.email} already exists  signing in to retrieve UID`);try{const d=await xI(r,l.email,l.password);a.push({uid:d.user.uid,email:l.email,displayName:l.displayName}),console.log(`     Using existing account with UID: ${d.user.uid}`),await pw(r)}catch(d){if(d.code==="auth/invalid-credential"){console.warn(`     Account ${l.email} exists but password doesn't match 'password123'`),console.warn("     Please either:"),console.warn("       1. Delete the existing account in Firebase Console"),console.warn("       2. Change the password to 'password123'"),console.warn("       3. Use the existing password when logging in"),console.warn("     Continuing with placeholder UID for now...");const h=`EXISTING_ACCOUNT_${l.email.replace(/[@.]/g,"_").toUpperCase()}_${Date.now()}`;a.push({uid:h,email:l.email,displayName:l.displayName}),console.log(`     Using placeholder UID for ${l.email}`)}else throw console.error(`     Failed to sign in to existing account ${l.email}:`,d),new Error(`Account ${l.email} exists but sign-in failed: ${d.message}`)}}else throw console.error(`     Failed to create account for ${l.email}:`,u),new Error(`Failed to create account for ${l.email}: ${u.message}`)}return s&&console.log("   Restoring original user session"),console.log(` Created/verified ${a.length} Firebase Auth accounts`),a}async function oje(t,e){var n,r;console.log(" DEBUGGING: Updated demoSeed.ts file is being used!");try{await sje(t),console.log(" Creating Firebase Auth accounts for demo users...");const s=await aje([{email:"bm.demo@engagenatural.com",password:"password123",displayName:"Alex Morgan"},{email:"staff.demo@engagenatural.com",password:"password123",displayName:"Sam Wilson"}]),a=(n=s.find(j=>j.email==="bm.demo@engagenatural.com"))==null?void 0:n.uid,l=(r=s.find(j=>j.email==="staff.demo@engagenatural.com"))==null?void 0:r.uid;if(!a||!l)throw new Error("Failed to create required Firebase Auth accounts");let u=wo(xe),d=0;const h={};let m=gF;const g=[],v=[],b=[{email:"bm.demo@engagenatural.com",displayName:"Alex Morgan",role:"brand_manager",approved:!0},{email:"bm.pending@demo.com",displayName:"Jordan Taylor",role:"brand_manager",approved:!1}],_=[{email:"staff.demo@engagenatural.com",displayName:"Sam Wilson",retailerIndex:0},{email:"staff.b@demo.com",displayName:"Jamie Lee",retailerIndex:0},{email:"staff.c@demo.com",displayName:"Casey Brown",retailerIndex:1},{email:"staff.d@demo.com",displayName:"Riley Johnson",retailerIndex:1}];console.log(" Testing write to different collection first...");try{const j=Je(ft(xe,"test_brands"));await Bs(j,{test:!0,createdAt:Ye(),uid:t}),console.log("   Successfully wrote to test_brands collection"),await Ja(j),console.log("   Successfully deleted test document")}catch(j){console.error("   Failed to write to test_brands:",j.message)}try{console.log(" Creating brand...");const j=Je(xe,"brands",gF),A={name:"Calm Well Co",slug:"calm-well-co",ownerUid:t,createdAt:Ye(),demoSeed:!0};await Bs(j,A,{merge:!0}),h.brands=1,console.log(`   Brand created with ID: ${m}`),console.log("   Brand committed successfully (direct write)")}catch(j){throw console.error(" Error creating brand:",j),new Error(`Failed to create brand: ${j.message}`)}const x=[];try{console.log(" Creating retailers...");const j=[{chain:"Sprouts",name:"Sprouts  Winter Park",storeCode:"SP-WP",city:"Winter Park",state:"FL",createdAt:Ye(),demoSeed:!0},{chain:"Natural Grocers",name:"Natural Grocers  Denver",storeCode:"NG-DN",city:"Denver",state:"CO",createdAt:Ye(),demoSeed:!0}];for(const A of j){const C=Je(ft(xe,"retailers"));x.push({id:C.id,storeCode:A.storeCode}),u.set(C,A),d++}h.retailers=j.length,console.log(`   Created ${j.length} retailers`),d>0&&(console.log("   Committing batch after RETAILERS creation..."),await u.commit(),u=wo(xe),d=0,console.log("   Batch committed successfully"))}catch(j){throw console.error(" Error creating retailers:",j),new Error(`Failed to create retailers: ${j.message}`)}try{console.log(" Creating user documents..."),b.forEach(P=>Object.assign(P,{brandId:m}));const j=(e==null?void 0:e.brandManagerUid)||a,A={uid:j,email:b[0].email,displayName:b[0].displayName,role:"brand_manager",approved:!0,brandId:m,createdAt:Ye(),demoSeed:!0};u.set(Je(xe,"users",j),A),g.push({id:j,approved:!0}),d++,console.log(`   Created brand manager with ID: ${j}`);const C=(e==null?void 0:e.staffUids)||[];for(let P=0;P<_.length;P++){const T=_[P],I=P===0&&l?l:C[P]||`DEMO_STAFF_${P}_${Date.now()}`;v.push({id:I,email:T.email});const E=x[T.retailerIndex];u.set(Je(xe,"users",I),{uid:I,email:T.email,displayName:T.displayName,role:"staff",verified:!0,verificationStatus:P===0?"approved":"pending",retailerId:E.id,storeCode:E.storeCode,createdAt:Ye(),demoSeed:!0}),d++}h.brand_managers=1,h.staff=v.length,console.log(`   Created ${v.length} staff users`),d>350&&(console.log("   Committing batch due to size limit..."),await u.commit(),u=wo(xe),d=0,console.log("   Batch committed successfully")),d>0&&(console.log("   Committing batch after USER creation..."),await u.commit(),u=wo(xe),d=0,console.log("   Batch committed successfully"))}catch(j){throw console.error(" Error creating user documents:",j),new Error(`Failed to create user documents: ${j.message}`)}try{console.log(" Creating trainings and progress...");const j=[],A=[{brandId:m,authorUid:g[0].id,title:"Rescue Sleep: How to Recommend",description:"Learn how to effectively recommend Rescue Sleep products to customers with sleep concerns.",durationMins:30,modules:["Sleep Basics","Product Information","Customer Scenarios"],published:!0,visibility:"public",createdAt:Ye(),metrics:{enrolled:0,completed:0},sections:[{id:"section1",title:"Understanding Sleep Issues",type:"text",content:"<h2>Common Sleep Problems</h2><p>This section covers the most common sleep issues customers face...</p>"},{id:"section2",title:"Product Features & Benefits",type:"text",content:"<h2>Key Ingredients</h2><p>Our sleep formula contains scientifically-backed ingredients...</p>"},{id:"section3",title:"Customer Interactions",type:"video",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ"}],demoSeed:!0},{brandId:m,authorUid:g[0].id,title:"Bach Flower Basics for Floor Staff",description:"Essential knowledge about Bach Flower remedies for retail staff.",durationMins:45,modules:["History of Bach Flowers","Core Remedies","Recommendation Guide"],published:!0,visibility:"public",createdAt:Ye(),metrics:{enrolled:0,completed:0},sections:[{id:"section1",title:"Bach Flower History",type:"text",content:"<h2>Dr. Edward Bach</h2><p>Learn about the founder of Bach flower remedies...</p>"},{id:"section2",title:"38 Flower Remedies",type:"text",content:"<h2>Core Remedies</h2><p>Understanding the key flower essences and their properties...</p>"}],demoSeed:!0},{brandId:m,authorUid:g[0].id,title:"Spatone Iron: Absorption 101",description:"Understand the science behind Spatone's liquid iron and its superior absorption.",durationMins:20,modules:["Iron Basics","Absorption Science","Customer FAQs"],published:!0,visibility:"public",createdAt:Ye(),metrics:{enrolled:0,completed:0},sections:[{id:"section1",title:"Iron Deficiency Basics",type:"text",content:"<h2>Signs and Symptoms</h2><p>Understanding iron deficiency and its impact...</p>"},{id:"section2",title:"Absorption Science",type:"text",content:"<h2>Liquid vs. Pill Form</h2><p>Why liquid iron has superior absorption rates...</p>"}],demoSeed:!0},{brandId:m,authorUid:g[0].id,title:"Stress & Anxiety Support Products",description:"Comprehensive guide to recommending products for stress and anxiety relief.",durationMins:35,modules:["Understanding Stress","Product Categories","Personalized Recommendations"],published:!0,visibility:"public",createdAt:Ye(),metrics:{enrolled:0,completed:0},sections:[{id:"section1",title:"Stress Physiology",type:"text",content:"<h2>Stress Response</h2><p>The body's response to stress and anxiety...</p>"}],demoSeed:!0},{brandId:m,authorUid:g[0].id,title:"Immune Support Essentials",description:"Learn about our immune support product line and seasonal recommendations.",durationMins:25,modules:["Immune System Basics","Product Overview","Seasonal Strategies"],published:!0,visibility:"public",createdAt:Ye(),metrics:{enrolled:0,completed:0},sections:[{id:"section1",title:"Immune System Overview",type:"text",content:"<h2>Innate vs. Adaptive Immunity</h2><p>Understanding the immune system components...</p>"},{id:"section2",title:"Key Ingredients",type:"text",content:"<h2>Vitamin C, D, and Zinc</h2><p>The science behind key immune supporting nutrients...</p>"},{id:"section3",title:"Elderberry Benefits",type:"text",content:"<h2>Elderberry Research</h2><p>Clinical studies on elderberry for immune support...</p>"},{id:"section4",title:"Seasonal Recommendations",type:"text",content:"<h2>Winter vs Summer</h2><p>Adjusting recommendations based on seasonal needs...</p>"}],demoSeed:!0}];for(const C of A){const P=Je(ft(xe,"trainings"));j.push({id:P.id,title:C.title}),u.set(P,C),d++}h.trainings=A.length,console.log(`   Created ${A.length} trainings`),d>350&&(console.log("   Committing batch due to size limit..."),await u.commit(),u=wo(xe),d=0,console.log("   Batch committed successfully")),d>0&&(console.log("   Committing batch after TRAININGS creation..."),await u.commit(),u=wo(xe),d=0,console.log("   Batch committed successfully"))}catch(j){throw console.error(" Error creating trainings and progress:",j),new Error(`Failed to create trainings and progress: ${j.message}`)}try{console.log(" Creating sample programs and requests...");const j=[],A=[{brandId:m,name:"Spring Wellness Sampler",productName:"Calm Well Essentials Pack",unitsAvailable:100,startDate:new Date,endDate:new Date(Date.now()+30*24*60*60*1e3),createdBy:g[0].id,createdAt:Ye(),demoSeed:!0},{brandId:m,name:"Staff Education Program",productName:"Sleep Support Kit",unitsAvailable:50,startDate:new Date,endDate:new Date(Date.now()+60*24*60*60*1e3),createdBy:g[0].id,createdAt:Ye(),demoSeed:!0}];for(const P of A){const T=Je(ft(xe,"sample_programs"));j.push({id:T.id,name:P.name}),u.set(T,P),d++}h.sample_programs=A.length,console.log(`   Created ${A.length} sample programs`);const C=[{programId:j[0].id,brandId:m,userId:v[0].id,retailerId:x[0].id,quantity:5,status:"pending",createdAt:Ye(),updatedAt:Ye(),demoSeed:!0},{programId:j[0].id,brandId:m,userId:v[1].id,retailerId:x[0].id,quantity:3,status:"approved",createdAt:Ye(),updatedAt:Ye(),demoSeed:!0},{programId:j[1].id,brandId:m,userId:v[2].id,retailerId:x[1].id,quantity:10,status:"shipped",notes:"Please deliver to store manager",createdAt:Ye(),updatedAt:Ye(),demoSeed:!0},{programId:j[1].id,brandId:m,userId:v[3].id,retailerId:x[1].id,quantity:2,status:"denied",notes:"Exceeds store allocation",createdAt:Ye(),updatedAt:Ye(),demoSeed:!0},{programId:j[0].id,brandId:m,userId:v[0].id,retailerId:x[0].id,quantity:15,status:"shipped",createdAt:Ye(),updatedAt:Ye(),demoSeed:!0},{programId:j[1].id,brandId:m,userId:v[1].id,retailerId:x[0].id,quantity:8,status:"pending",createdAt:Ye(),updatedAt:Ye(),demoSeed:!0}];for(const P of C){const T=Je(ft(xe,"sample_requests"));u.set(T,P),d++}h.sample_requests=C.length,console.log(`   Created ${C.length} sample requests`),d>350&&(console.log("   Committing batch due to size limit..."),await u.commit(),u=wo(xe),d=0,console.log("   Batch committed successfully"))}catch(j){throw console.error(" Error creating sample programs and requests:",j),new Error(`Failed to create sample programs and requests: ${j.message}`)}try{console.log(" Creating announcements and communities...");const j=[{brandId:m,title:"New Product Training Available",message:"We've just released a new training module for our Sleep Support line. Complete it by the end of the month for special recognition!",audience:["staff"],retailerIds:[x[0].id],createdBy:g[0].id,createdAt:Ye(),demoSeed:!0},{brandId:m,title:"Upcoming Seasonal Promotion",message:"Get ready for our spring wellness campaign! New promotional materials will be arriving next week. Please set up displays according to the planogram.",audience:["staff"],createdBy:g[0].id,createdAt:Ye(),demoSeed:!0}];for(const P of j){const T=Je(ft(xe,"announcements"));u.set(T,P),d++}h.announcements=j.length,console.log(`   Created ${j.length} announcements`);const A=[],C=[{id:"whats-good",createdByRole:"super_admin",createdBy:t,name:"What's Good",description:"Check out What's Good for the latest product drops and industry buzz!",members:2500,isPublic:!0,requiresVerification:!1,hasEasterEggs:!0,badge:" Open to All",createdAt:Ye(),demoSeed:!0},{id:"supplement-scoop",createdByRole:"super_admin",createdBy:t,name:"Supplement Scoop",description:"Stop guessing what supplements actually work and start getting insider intel from the pros who sell $10M+ in products every year.",members:850,isPublic:!1,requiresVerification:!0,hasEasterEggs:!1,badge:" Verification Required",createdAt:Ye(),demoSeed:!0}];for(const P of C){const T=Je(ft(xe,"communities"),P.id);A.push({id:T.id,name:P.name}),u.set(T,{...P,brandId:m}),d++}h.communities=C.length,console.log(`   Created ${C.length} communities`)}catch(j){throw console.error(" Error creating announcements and communities:",j),new Error(`Failed to create announcements and communities: ${j.message}`)}try{console.log(" Committing final batch..."),await u.commit(),console.log(" All demo data created successfully!")}catch(j){throw console.error(" Error committing final batch:",j),new Error(`Failed to commit final batch: ${j.message}`)}return{counts:h}}catch(i){console.error(" Error seeding demo data:",i);const s={message:i.message||"Unknown error",code:i.code||"unknown",stack:i.stack||"No stack trace available"};throw console.error("Error details:",s),i}}async function lje(){console.log(" Starting demo data reset...");try{console.log("   Testing delete permissions...");const t=await Ba(ft(xe,"test_permissions"),{message:"Reset permission test",createdAt:Ye(),isTest:!0});await Ja(t),console.log("     Delete permissions verified");const e=["brands","retailers","users","trainings","sample_programs","sample_requests","announcements","communities"];for(const n of e)try{console.log(`   Deleting demo documents from ${n}...`),await cje(n)}catch(r){throw console.error(` Error deleting from ${n}:`,r),new Error(`Failed to delete from ${n}: ${r.message}`)}console.log(" All demo data reset successfully!")}catch(t){console.error(" Error resetting demo data:",t);const e={message:t.message||"Unknown error",code:t.code||"unknown",stack:t.stack||"No stack trace available"};throw console.error("Error details:",e),t}}async function cje(t){const e=ft(xe,t),n=Zt(e,Dt("demoSeed","==",!0));try{const r=await Vr(n);if(r.empty){console.log(`     No demo documents found in ${t}`);return}console.log(`     Found ${r.size} demo documents to delete in ${t}`);const i=400,s=[];let a=wo(xe),l=0;r.docs.forEach(u=>{a.delete(u.ref),l++,l>=i&&(s.push(a.commit()),a=wo(xe),l=0)}),l>0&&s.push(a.commit()),await Promise.all(s),console.log(`     Deleted ${r.size} demo documents from ${t}`)}catch(r){throw console.error(` Error querying or deleting from ${t}:`,r),r}}const uje=()=>{const{user:t,isSuperAdmin:e}=Vn(),[n,r]=N.useState(!1),[i,s]=N.useState(null),[a,l]=N.useState(null),[u,d]=N.useState(null),[h,m]=N.useState(!1),[g,v]=N.useState(""),[b,_]=N.useState(""),x=N.useCallback(()=>{l(null),d(null)},[]),j=N.useCallback(async()=>{if(t!=null&&t.uid)try{console.log("  Testing Firestore permissions ");const{doc:P,getDoc:T,addDoc:I,collection:E,serverTimestamp:k,deleteDoc:O}=await pF(async()=>{const{doc:$,getDoc:X,addDoc:H,collection:U,serverTimestamp:q,deleteDoc:G}=await Promise.resolve().then(()=>Fme);return{doc:$,getDoc:X,addDoc:H,collection:U,serverTimestamp:q,deleteDoc:G}},[]),{db:D}=await pF(async()=>{const{db:$}=await Promise.resolve().then(()=>rge);return{db:$}},void 0);console.log("   Test 1: reading current user document");const M=await T(P(D,"users",t.uid));console.log("     exists:",M.exists(),"| data:",M.data()),console.log("   Test 2: creating test_permissions document");const V=await I(E(D,"test_permissions"),{message:"Permission test",createdAt:k(),createdBy:t.uid,isDemo:!0});console.log("     created with id:",V.id),console.log("   Test 3: deleting test_permissions document"),await O(V),console.log("     deleted successfully"),console.log("  All permission tests passed!")}catch(P){console.error("  Firestore permission test failed:",P),console.error("     code:",P.code,"| name:",P.name,"| message:",P.message),d(`${P.code||P.name}: ${P.message}`)}},[t==null?void 0:t.uid]),A=N.useCallback(async()=>{x(),s("seed"),r(!0);const P=b.split(",").map(I=>I.trim()).filter(Boolean),T={};g.trim()&&(T.brandManagerUid=g.trim()),P.length&&(T.staffUids=P);try{const I=await oje(t.uid,T);l(I.counts),d(null)}catch(I){const E=I.code||I.name||"Error";d(`${E}: ${I.message}`),l(null)}finally{r(!1)}},[t==null?void 0:t.uid,g,b,x]),C=N.useCallback(async()=>{x(),s("reset"),r(!0),m(!1);try{await lje(),l({reset:!0}),d(null)}catch(P){const T=P.code||P.name||"Error";d(`${T}: ${P.message}`),l(null)}finally{r(!1)}},[x]);return e?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Demo Data Management"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"Seed or reset demo data for testing and development purposes."}),o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mt-4",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current User Debug Info"}),o.jsxs("div",{className:"text-xs space-y-1 text-gray-600",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"UID:"})," ",(t==null?void 0:t.uid)||"Not available"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Email:"})," ",(t==null?void 0:t.email)||"Not available"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Role:"})," ",(t==null?void 0:t.role)||"Not available"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Is Super Admin:"})," ",e?"Yes":"No"]})]}),o.jsx("div",{className:"mt-4",children:o.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white text-xs font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-colors",children:" Test Firestore Permissions"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:o.jsx(Ym,{className:"h-5 w-5 text-blue-700"})}),o.jsx("h2",{className:"text-lg font-medium",children:"Seed Demo Data"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Creates sample brands, users, trainings, sample requests, and announcements for testing purposes. All created data will be marked as demo data and can be safely removed later."}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Brand Manager UID",o.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),o.jsx("input",{type:"text",value:g,onChange:P=>v(P.target.value),placeholder:"Existing Brand Manager UID",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Staff UIDs",o.jsx("span",{className:"text-gray-400",children:"(comma-separated, optional)"})]}),o.jsx("input",{type:"text",value:b,onChange:P=>_(P.target.value),placeholder:"uid1, uid2, uid3 ",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm"})]})]}),o.jsx("button",{onClick:A,disabled:n,className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 text-white font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors","aria-label":"Seed demo data",children:n&&i==="seed"?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Seeding Data..."]}):"Seed Demo Data"})]})}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"bg-red-100 p-2 rounded-full",children:o.jsx(ab,{className:"h-5 w-5 text-red-700"})}),o.jsx("h2",{className:"text-lg font-medium",children:"Reset Demo Data"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Removes all demo data from the database. This will only delete records marked as demo data and will not affect any real production data."}),o.jsx("button",{onClick:()=>m(!0),disabled:n,className:"w-full py-2 px-4 bg-red-600 hover:bg-red-700 disabled:bg-red-300 text-white font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors","aria-label":"Reset demo data",children:n&&i==="reset"?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting Data..."]}):"Reset Demo Data"})]})})]}),a&&!u&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 animate-fadeIn",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(cs,{className:"h-5 w-5 text-green-600","aria-hidden":"true"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-lg font-medium text-green-800",children:i==="seed"?"Demo Data Created Successfully":"Demo Data Reset Successfully"}),i==="seed"&&o.jsxs("div",{className:"mt-2 text-sm text-green-700",children:[o.jsx("p",{className:"font-medium mb-2",children:"Created the following demo records:"}),o.jsx("ul",{className:"list-disc pl-5 space-y-1",children:Object.entries(a).map(([P,T])=>o.jsxs("li",{children:[P,": ",T]},P))})]}),i==="reset"&&o.jsx("div",{className:"mt-2 text-sm text-green-700",children:o.jsx("p",{children:"All demo data has been successfully removed from the database."})})]})]})}),u&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 animate-fadeIn",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Oi,{className:"h-5 w-5 text-red-600","aria-hidden":"true"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Error"}),o.jsx("div",{className:"mt-2 text-sm text-red-700",children:o.jsx("p",{children:u})})]})]})}),h&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirm Reset"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to reset all demo data? This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Cancel"}),o.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Reset Data"})]})]})}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-yellow-800 mb-2",children:"Important Notes"}),o.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm text-yellow-700",children:[o.jsx("li",{children:"Demo data is intended for testing purposes only and should not be used in production environments."}),o.jsxs("li",{children:["All demo data is marked with ",o.jsx("code",{className:"bg-yellow-100 px-1 py-0.5 rounded",children:"isDemo: true"})," and can be safely removed using the reset function."]}),o.jsxs("li",{children:["When ",o.jsx("code",{className:"bg-yellow-100 px-1 py-0.5 rounded",children:"VITE_USE_EMULATOR=true"}),", demo users are created in Firebase Auth on the local emulator (safe). ",o.jsx("strong",{children:"Do not"})," run seeding against production (",o.jsx("code",{className:"bg-yellow-100 px-1 py-0.5 rounded",children:"VITE_USE_EMULATOR=false"}),"), as it would create real Auth accounts."]}),o.jsx("li",{children:"This feature is only available to super administrators."})]})]})]}):o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:[o.jsx("h2",{className:"text-lg font-medium text-red-800 mb-2",children:"Unauthorized Access"}),o.jsx("p",{className:"text-red-600",children:"This page is only accessible to super administrators."})]})})},dje=()=>{var h;const[t,e]=N.useState({message:"",isError:!1}),[n,r]=N.useState({message:"",isError:!1,count:0}),[i,s]=N.useState(!1),[a,l]=N.useState(!1),u=async()=>{if(!Ci.currentUser){e({message:"No user is currently signed in.",isError:!0});return}s(!0),e({message:"Promoting user...",isError:!1});try{const m=Je(xe,"users",Ci.currentUser.uid);await Bs(m,{role:"super_admin",approved:!0,email:Ci.currentUser.email??null,uid:Ci.currentUser.uid},{merge:!0}),e({message:`Successfully promoted ${Ci.currentUser.email} to super_admin!`,isError:!1})}catch(m){e({message:`Error promoting user: ${m.message}`,isError:!0})}finally{s(!1)}},d=async()=>{l(!0),r({message:"Starting migration...",isError:!1,count:0});try{const m=ft(xe,"users"),g=await Vr(m);let v=0,b=0;for(const _ of g.docs){const x=_.data();if(x.uid&&_.id!==x.uid)try{const j=Je(xe,"users",x.uid);await Bs(j,{...x},{merge:!0}),await Ja(_.ref),v++}catch{b++}}r({message:`Migration complete! ${v} documents migrated.${b>0?` ${b} errors encountered.`:""}`,isError:b>0,count:v})}catch(m){r({message:`Error during migration: ${m.message}`,isError:!0,count:0})}finally{l(!1)}};return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Developer Tools"}),o.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:o.jsxs("p",{className:"text-yellow-700",children:[" These tools modify data directly and are intended for development use only. Current environment: ","Emulator"]})})]}),o.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User Role Management"}),o.jsxs("p",{className:"text-gray-600 mb-4",children:["Promote the current user (",((h=Ci.currentUser)==null?void 0:h.email)||"Not signed in",") to super_admin role."]}),o.jsx("button",{onClick:u,disabled:i||!Ci.currentUser,className:`px-4 py-2 rounded-md ${i?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:i?"Promoting...":"Promote me to super_admin"}),t.message&&o.jsx("div",{className:`mt-4 p-3 rounded-md ${t.isError?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:t.message})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User Document Migration"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Migrate user documents to use their UID as the document ID."}),o.jsx("button",{onClick:d,disabled:a,className:`px-4 py-2 rounded-md ${a?"bg-purple-300 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 text-white"}`,children:a?"Migrating...":"Migrate user docs to UID keys"}),n.message&&o.jsxs("div",{className:`mt-4 p-3 rounded-md ${n.isError?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:[n.message,n.count>0&&o.jsxs("div",{className:"mt-2 font-semibold",children:["Documents migrated: ",n.count]})]})]})]})]})},fje=()=>{const{user:t}=Vn(),e=bf.options.projectId,n="production",r="true",i="true",s=i==="true",l={label:"Emulator",className:"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-200"};return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-1",children:"Environment Check"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Current runtime environment information"})]}),o.jsx(un,{variant:"outline",className:`text-md py-1 px-3 ${l.className}`,children:l.label})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs(De,{children:[o.jsx(He,{className:"pb-2",children:o.jsx(Ge,{className:"text-sm font-medium",children:"Netlify Context"})}),o.jsx(Fe,{children:o.jsx("p",{className:"text-xl font-semibold",children:"undefined"})})]}),o.jsxs(De,{children:[o.jsx(He,{className:"pb-2",children:o.jsx(Ge,{className:"text-sm font-medium",children:"Mode"})}),o.jsx(Fe,{children:o.jsx("p",{className:"text-xl font-semibold",children:n})})]}),o.jsxs(De,{children:[o.jsx(He,{className:"pb-2",children:o.jsx(Ge,{className:"text-sm font-medium",children:"Using Emulator"})}),o.jsx(Fe,{children:o.jsx("p",{className:"text-xl font-semibold",children:r})})]}),o.jsxs(De,{children:[o.jsx(He,{className:"pb-2",children:o.jsxs(Ge,{className:"text-sm font-medium",children:["Show Demo Tools",o.jsx("span",{className:"text-xs text-gray-500",children:"(build-time)"})]})}),o.jsxs(Fe,{children:[o.jsxs("p",{className:"text-sm",children:["Raw:",o.jsx("span",{className:"font-semibold",children:String(i)})]}),o.jsxs("p",{className:"text-sm",children:["Computed:",o.jsx("span",{className:"font-semibold",children:String(s)})]})]})]}),o.jsxs(De,{children:[o.jsx(He,{className:"pb-2",children:o.jsx(Ge,{className:"text-sm font-medium",children:"Firebase Project ID"})}),o.jsx(Fe,{children:o.jsx("p",{className:"text-xl font-semibold",children:e})})]}),o.jsxs(De,{children:[o.jsx(He,{className:"pb-2",children:o.jsx(Ge,{className:"text-sm font-medium",children:"User UID"})}),o.jsx(Fe,{children:o.jsx("p",{className:"text-xl font-semibold",children:(t==null?void 0:t.uid)||"Not authenticated"})})]}),o.jsxs(De,{children:[o.jsx(He,{className:"pb-2",children:o.jsx(Ge,{className:"text-sm font-medium",children:"User Role"})}),o.jsx(Fe,{children:o.jsx("p",{className:"text-xl font-semibold",children:(t==null?void 0:t.role)||"None"})})]})]})]})};function hje(){const t=ps(),e=async()=>{try{await pw(Ci),localStorage.setItem("FORCE_PUBLIC_WEBSITE","true"),t("/?logout=1")}catch{}};return o.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Your account is pending approval"}),o.jsx("p",{className:"text-gray-600 mb-8",children:"We'll email you when it's live."}),o.jsxs(Oe,{onClick:e,className:"flex items-center justify-center",children:[o.jsx(JS,{className:"w-4 h-4 mr-2"}),"Back to home"]})]})})}var fD="Progress",hD=100,[mje,$ze]=qs(fD),[pje,gje]=mje(fD),BJ=N.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=yje,...a}=t;(i||i===0)&&!yF(i)&&console.error(vje(`${i}`,"Progress"));const l=yF(i)?i:hD;r!==null&&!vF(r,l)&&console.error(xje(`${r}`,"Progress"));const u=vF(r,l)?r:null,d=n1(u)?s(u,l):void 0;return o.jsx(pje,{scope:n,value:u,max:l,children:o.jsx(yt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":n1(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":qJ(u,l),"data-value":u??void 0,"data-max":l,...a,ref:e})})});BJ.displayName=fD;var UJ="ProgressIndicator",zJ=N.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=gje(UJ,n);return o.jsx(yt.div,{"data-state":qJ(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});zJ.displayName=UJ;function yje(t,e){return`${Math.round(t/e*100)}%`}function qJ(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function n1(t){return typeof t=="number"}function yF(t){return n1(t)&&!isNaN(t)&&t>0}function vF(t,e){return n1(t)&&!isNaN(t)&&t<=e&&t>=0}function vje(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${hD}\`.`}function xje(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${hD} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var HJ=BJ,bje=zJ;const mD=N.forwardRef(({className:t,value:e,...n},r)=>o.jsx(HJ,{ref:r,className:Xe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(bje,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));mD.displayName=HJ.displayName;var _je="Separator",xF="horizontal",wje=["horizontal","vertical"],WJ=N.forwardRef((t,e)=>{const{decorative:n,orientation:r=xF,...i}=t,s=Sje(r)?r:xF,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return o.jsx(yt.div,{"data-orientation":s,...l,...i,ref:e})});WJ.displayName=_je;function Sje(t){return wje.includes(t)}var jje=WJ;function av({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return o.jsx(jje,{"data-slot":"separator-root",decorative:n,orientation:e,className:Xe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}var XE,bF;function gs(){if(bF)return XE;bF=1;var t=Array.isArray;return XE=t,XE}var QE,_F;function GJ(){if(_F)return QE;_F=1;var t=typeof z0=="object"&&z0&&z0.Object===Object&&z0;return QE=t,QE}var ZE,wF;function el(){if(wF)return ZE;wF=1;var t=GJ(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return ZE=n,ZE}var JE,SF;function mb(){if(SF)return JE;SF=1;var t=el(),e=t.Symbol;return JE=e,JE}var eT,jF;function Nje(){if(jF)return eT;jF=1;var t=mb(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(a){var l=n.call(a,i),u=a[i];try{a[i]=void 0;var d=!0}catch{}var h=r.call(a);return d&&(l?a[i]=u:delete a[i]),h}return eT=s,eT}var tT,NF;function Aje(){if(NF)return tT;NF=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return tT=n,tT}var nT,AF;function vc(){if(AF)return nT;AF=1;var t=mb(),e=Nje(),n=Aje(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(l){return l==null?l===void 0?i:r:s&&s in Object(l)?e(l):n(l)}return nT=a,nT}var rT,EF;function xc(){if(EF)return rT;EF=1;function t(e){return e!=null&&typeof e=="object"}return rT=t,rT}var iT,TF;function Kp(){if(TF)return iT;TF=1;var t=vc(),e=xc(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return iT=r,iT}var sT,CF;function pD(){if(CF)return sT;CF=1;var t=gs(),e=Kp(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){if(t(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||a!=null&&s in Object(a)}return sT=i,sT}var aT,kF;function Gu(){if(kF)return aT;kF=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return aT=t,aT}var oT,OF;function gD(){if(OF)return oT;OF=1;var t=vc(),e=Gu(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(l){if(!e(l))return!1;var u=t(l);return u==r||u==i||u==n||u==s}return oT=a,oT}var lT,RF;function Eje(){if(RF)return lT;RF=1;var t=el(),e=t["__core-js_shared__"];return lT=e,lT}var cT,PF;function Tje(){if(PF)return cT;PF=1;var t=Eje(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return cT=n,cT}var uT,IF;function YJ(){if(IF)return uT;IF=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return uT=n,uT}var dT,MF;function Cje(){if(MF)return dT;MF=1;var t=gD(),e=Tje(),n=Gu(),r=YJ(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,l=Object.prototype,u=a.toString,d=l.hasOwnProperty,h=RegExp("^"+u.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||e(g))return!1;var v=t(g)?h:s;return v.test(r(g))}return dT=m,dT}var fT,DF;function kje(){if(DF)return fT;DF=1;function t(e,n){return e==null?void 0:e[n]}return fT=t,fT}var hT,LF;function Jf(){if(LF)return hT;LF=1;var t=Cje(),e=kje();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return hT=n,hT}var mT,$F;function wj(){if($F)return mT;$F=1;var t=Jf(),e=t(Object,"create");return mT=e,mT}var pT,VF;function Oje(){if(VF)return pT;VF=1;var t=wj();function e(){this.__data__=t?t(null):{},this.size=0}return pT=e,pT}var gT,FF;function Rje(){if(FF)return gT;FF=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return gT=t,gT}var yT,BF;function Pje(){if(BF)return yT;BF=1;var t=wj(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(t){var l=a[s];return l===e?void 0:l}return r.call(a,s)?a[s]:void 0}return yT=i,yT}var vT,UF;function Ije(){if(UF)return vT;UF=1;var t=wj(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return vT=r,vT}var xT,zF;function Mje(){if(zF)return xT;zF=1;var t=wj(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return xT=n,xT}var bT,qF;function Dje(){if(qF)return bT;qF=1;var t=Oje(),e=Rje(),n=Pje(),r=Ije(),i=Mje();function s(a){var l=-1,u=a==null?0:a.length;for(this.clear();++l<u;){var d=a[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,bT=s,bT}var _T,HF;function Lje(){if(HF)return _T;HF=1;function t(){this.__data__=[],this.size=0}return _T=t,_T}var wT,WF;function yD(){if(WF)return wT;WF=1;function t(e,n){return e===n||e!==e&&n!==n}return wT=t,wT}var ST,GF;function Sj(){if(GF)return ST;GF=1;var t=yD();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return ST=e,ST}var jT,YF;function $je(){if(YF)return jT;YF=1;var t=Sj(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var l=s.length-1;return a==l?s.pop():n.call(s,a,1),--this.size,!0}return jT=r,jT}var NT,KF;function Vje(){if(KF)return NT;KF=1;var t=Sj();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return NT=e,NT}var AT,XF;function Fje(){if(XF)return AT;XF=1;var t=Sj();function e(n){return t(this.__data__,n)>-1}return AT=e,AT}var ET,QF;function Bje(){if(QF)return ET;QF=1;var t=Sj();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return ET=e,ET}var TT,ZF;function jj(){if(ZF)return TT;ZF=1;var t=Lje(),e=$je(),n=Vje(),r=Fje(),i=Bje();function s(a){var l=-1,u=a==null?0:a.length;for(this.clear();++l<u;){var d=a[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,TT=s,TT}var CT,JF;function vD(){if(JF)return CT;JF=1;var t=Jf(),e=el(),n=t(e,"Map");return CT=n,CT}var kT,eB;function Uje(){if(eB)return kT;eB=1;var t=Dje(),e=jj(),n=vD();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return kT=r,kT}var OT,tB;function zje(){if(tB)return OT;tB=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return OT=t,OT}var RT,nB;function Nj(){if(nB)return RT;nB=1;var t=zje();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return RT=e,RT}var PT,rB;function qje(){if(rB)return PT;rB=1;var t=Nj();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return PT=e,PT}var IT,iB;function Hje(){if(iB)return IT;iB=1;var t=Nj();function e(n){return t(this,n).get(n)}return IT=e,IT}var MT,sB;function Wje(){if(sB)return MT;sB=1;var t=Nj();function e(n){return t(this,n).has(n)}return MT=e,MT}var DT,aB;function Gje(){if(aB)return DT;aB=1;var t=Nj();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return DT=e,DT}var LT,oB;function xD(){if(oB)return LT;oB=1;var t=Uje(),e=qje(),n=Hje(),r=Wje(),i=Gje();function s(a){var l=-1,u=a==null?0:a.length;for(this.clear();++l<u;){var d=a[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,LT=s,LT}var $T,lB;function KJ(){if(lB)return $T;lB=1;var t=xD(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var a=arguments,l=i?i.apply(this,a):a[0],u=s.cache;if(u.has(l))return u.get(l);var d=r.apply(this,a);return s.cache=u.set(l,d)||u,d};return s.cache=new(n.Cache||t),s}return n.Cache=t,$T=n,$T}var VT,cB;function Yje(){if(cB)return VT;cB=1;var t=KJ(),e=500;function n(r){var i=t(r,function(a){return s.size===e&&s.clear(),a}),s=i.cache;return i}return VT=n,VT}var FT,uB;function Kje(){if(uB)return FT;uB=1;var t=Yje(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(a,l,u,d){s.push(u?d.replace(n,"$1"):l||a)}),s});return FT=r,FT}var BT,dB;function bD(){if(dB)return BT;dB=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return BT=t,BT}var UT,fB;function Xje(){if(fB)return UT;fB=1;var t=mb(),e=bD(),n=gs(),r=Kp(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function a(l){if(typeof l=="string")return l;if(n(l))return e(l,a)+"";if(r(l))return s?s.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return UT=a,UT}var zT,hB;function XJ(){if(hB)return zT;hB=1;var t=Xje();function e(n){return n==null?"":t(n)}return zT=e,zT}var qT,mB;function QJ(){if(mB)return qT;mB=1;var t=gs(),e=pD(),n=Kje(),r=XJ();function i(s,a){return t(s)?s:e(s,a)?[s]:n(r(s))}return qT=i,qT}var HT,pB;function Aj(){if(pB)return HT;pB=1;var t=Kp();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return HT=e,HT}var WT,gB;function _D(){if(gB)return WT;gB=1;var t=QJ(),e=Aj();function n(r,i){i=t(i,r);for(var s=0,a=i.length;r!=null&&s<a;)r=r[e(i[s++])];return s&&s==a?r:void 0}return WT=n,WT}var GT,yB;function ZJ(){if(yB)return GT;yB=1;var t=_D();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return GT=e,GT}var Qje=ZJ();const Vs=Sn(Qje);var YT,vB;function Zje(){if(vB)return YT;vB=1;function t(e){return e==null}return YT=t,YT}var Jje=Zje();const Et=Sn(Jje);var KT,xB;function eNe(){if(xB)return KT;xB=1;var t=vc(),e=gs(),n=xc(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return KT=i,KT}var tNe=eNe();const Rf=Sn(tNe);var nNe=gD();const _t=Sn(nNe);var rNe=Gu();const Xp=Sn(rNe);var XT={exports:{}},vn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bB;function iNe(){if(bB)return vn;bB=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function _(x){if(typeof x=="object"&&x!==null){var j=x.$$typeof;switch(j){case t:switch(x=x.type,x){case n:case i:case r:case d:case h:return x;default:switch(x=x&&x.$$typeof,x){case l:case a:case u:case g:case m:case s:return x;default:return j}}case e:return j}}}return vn.ContextConsumer=a,vn.ContextProvider=s,vn.Element=t,vn.ForwardRef=u,vn.Fragment=n,vn.Lazy=g,vn.Memo=m,vn.Portal=e,vn.Profiler=i,vn.StrictMode=r,vn.Suspense=d,vn.SuspenseList=h,vn.isAsyncMode=function(){return!1},vn.isConcurrentMode=function(){return!1},vn.isContextConsumer=function(x){return _(x)===a},vn.isContextProvider=function(x){return _(x)===s},vn.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},vn.isForwardRef=function(x){return _(x)===u},vn.isFragment=function(x){return _(x)===n},vn.isLazy=function(x){return _(x)===g},vn.isMemo=function(x){return _(x)===m},vn.isPortal=function(x){return _(x)===e},vn.isProfiler=function(x){return _(x)===i},vn.isStrictMode=function(x){return _(x)===r},vn.isSuspense=function(x){return _(x)===d},vn.isSuspenseList=function(x){return _(x)===h},vn.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===d||x===h||x===v||typeof x=="object"&&x!==null&&(x.$$typeof===g||x.$$typeof===m||x.$$typeof===s||x.$$typeof===a||x.$$typeof===u||x.$$typeof===b||x.getModuleId!==void 0)},vn.typeOf=_,vn}var _B;function sNe(){return _B||(_B=1,XT.exports=iNe()),XT.exports}var aNe=sNe(),QT,wB;function JJ(){if(wB)return QT;wB=1;var t=vc(),e=xc(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return QT=r,QT}var ZT,SB;function oNe(){if(SB)return ZT;SB=1;var t=JJ();function e(n){return t(n)&&n!=+n}return ZT=e,ZT}var lNe=oNe();const Qp=Sn(lNe);var cNe=JJ();const uNe=Sn(cNe);var Zi=function(e){return e===0?0:e>0?1:-1},ef=function(e){return Rf(e)&&e.indexOf("%")===e.length-1},Re=function(e){return uNe(e)&&!Qp(e)},dNe=function(e){return Et(e)},ti=function(e){return Re(e)||Rf(e)},fNe=0,eh=function(e){var n=++fNe;return"".concat(e||"").concat(n)},Ji=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(e)&&!Rf(e))return r;var s;if(ef(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Qp(s)&&(s=r),i&&s>n&&(s=n),s},lu=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},hNe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Jr=function(e,n){return Re(e)&&Re(n)?function(r){return e+r*(n-e)}:function(){return n}};function r1(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Vs(r,e))===n})}var mNe=function(e,n){return Re(e)&&Re(n)?e-n:Rf(e)&&Rf(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Pm(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function bR(t){"@babel/helpers - typeof";return bR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bR(t)}var pNe=["viewBox","children"],gNe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],jB=["points","pathLength"],JT={svg:pNe,polygon:jB,polyline:jB},wD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],i1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),!Xp(r))return null;var i={};return Object.keys(r).forEach(function(s){wD.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},yNe=function(e,n,r){return function(i){return e(n,r,i),null}},Pf=function(e,n,r){if(!Xp(e)||bR(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];wD.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=yNe(a,n,r))}),i},vNe=["children"],xNe=["children"];function NB(t,e){if(t==null)return{};var n=bNe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _R(t){"@babel/helpers - typeof";return _R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_R(t)}var AB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Jl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},EB=null,eC=null,SD=function t(e){if(e===EB&&Array.isArray(eC))return eC;var n=[];return N.Children.forEach(e,function(r){Et(r)||(aNe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),eC=n,EB=e,n};function Fs(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Jl(i)}):r=[Jl(e)],SD(t).forEach(function(i){var s=Vs(i,"type.displayName")||Vs(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Es(t,e){var n=Fs(t,e);return n&&n[0]}var TB=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Re(r)||r<=0||!Re(i)||i<=0)},_Ne=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wNe=function(e){return e&&e.type&&Rf(e.type)&&_Ne.indexOf(e.type)>=0},eee=function(e){return e&&_R(e)==="object"&&"clipDot"in e},SNe=function(e,n,r,i){var s,a=(s=JT==null?void 0:JT[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!_t(e)&&(i&&a.includes(n)||gNe.includes(n))||r&&wD.includes(n)},ut=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!Xp(i))return null;var s={};return Object.keys(i).forEach(function(a){var l;SNe((l=i)===null||l===void 0?void 0:l[a],a,n,r)&&(s[a]=i[a])}),s},wR=function t(e,n){if(e===n)return!0;var r=N.Children.count(e);if(r!==N.Children.count(n))return!1;if(r===0)return!0;if(r===1)return CB(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!CB(s,a))return!1}return!0},CB=function(e,n){if(Et(e)&&Et(n))return!0;if(!Et(e)&&!Et(n)){var r=e.props||{},i=r.children,s=NB(r,vNe),a=n.props||{},l=a.children,u=NB(a,xNe);return i&&l?Pm(s,u)&&wR(i,l):!i&&!l?Pm(s,u):!1}return!1},kB=function(e,n){var r=[],i={};return SD(e).forEach(function(s,a){if(wNe(s))r.push(s);else if(s){var l=Jl(s.type),u=n[l]||{},d=u.handler,h=u.once;if(d&&(!h||!i[l])){var m=d(s,l,a);r.push(m),i[l]=!0}}}),r},jNe=function(e){var n=e&&e.type;return n&&AB[n]?AB[n]:null},NNe=function(e,n){return SD(n).indexOf(e)},ANe=["children","width","height","viewBox","className","style","title","desc"];function SR(){return SR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SR.apply(this,arguments)}function ENe(t,e){if(t==null)return{};var n=TNe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jR(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,l=t.title,u=t.desc,d=ENe(t,ANe),h=i||{width:n,height:r,x:0,y:0},m=kt("recharts-surface",s);return Q.createElement("svg",SR({},ut(d,!0,"svg"),{className:m,width:n,height:r,style:a,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),Q.createElement("title",null,l),Q.createElement("desc",null,u),e)}var CNe=["children","className"];function NR(){return NR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NR.apply(this,arguments)}function kNe(t,e){if(t==null)return{};var n=ONe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ONe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Kt=Q.forwardRef(function(t,e){var n=t.children,r=t.className,i=kNe(t,CNe),s=kt("recharts-layer",r);return Q.createElement("g",NR({className:s},ut(i,!0),{ref:e}),n)}),Ua=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},tC,OB;function RNe(){if(OB)return tC;OB=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(s);++i<s;)a[i]=e[i+n];return a}return tC=t,tC}var nC,RB;function PNe(){if(RB)return nC;RB=1;var t=RNe();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return nC=e,nC}var rC,PB;function tee(){if(PB)return rC;PB=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="\\u200d",l=RegExp("["+a+t+i+s+"]");function u(d){return l.test(d)}return rC=u,rC}var iC,IB;function INe(){if(IB)return iC;IB=1;function t(e){return e.split("")}return iC=t,iC}var sC,MB;function MNe(){if(MB)return sC;MB=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="["+t+"]",l="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+u+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",b=d+"?",_="["+s+"]?",x="(?:"+v+"(?:"+[h,m,g].join("|")+")"+_+b+")*",j=_+b+x,A="(?:"+[h+l+"?",l,m,g,a].join("|")+")",C=RegExp(u+"(?="+u+")|"+A+j,"g");function P(T){return T.match(C)||[]}return sC=P,sC}var aC,DB;function DNe(){if(DB)return aC;DB=1;var t=INe(),e=tee(),n=MNe();function r(i){return e(i)?n(i):t(i)}return aC=r,aC}var oC,LB;function LNe(){if(LB)return oC;LB=1;var t=PNe(),e=tee(),n=DNe(),r=XJ();function i(s){return function(a){a=r(a);var l=e(a)?n(a):void 0,u=l?l[0]:a.charAt(0),d=l?t(l,1).join(""):a.slice(1);return u[s]()+d}}return oC=i,oC}var lC,$B;function $Ne(){if($B)return lC;$B=1;var t=LNe(),e=t("toUpperCase");return lC=e,lC}var VNe=$Ne();const Ej=Sn(VNe);function Kn(t){return function(){return t}}const nee=Math.cos,s1=Math.sin,to=Math.sqrt,a1=Math.PI,Tj=2*a1,AR=Math.PI,ER=2*AR,zd=1e-6,FNe=ER-zd;function ree(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function BNe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ree;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class UNe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ree:BNe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,u=r-e,d=i-n,h=a-e,m=l-n,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>zd)if(!(Math.abs(m*u-d*h)>zd)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-a,b=i-l,_=u*u+d*d,x=v*v+b*b,j=Math.sqrt(_),A=Math.sqrt(g),C=s*Math.tan((AR-Math.acos((_+g-x)/(2*j*A)))/2),P=C/A,T=C/j;Math.abs(P-1)>zd&&this._append`L${e+P*h},${n+P*m}`,this._append`A${s},${s},0,0,${+(m*v>h*b)},${this._x1=e+T*u},${this._y1=n+T*d}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=e+l,h=n+u,m=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>zd||Math.abs(this._y1-h)>zd)&&this._append`L${d},${h}`,r&&(g<0&&(g=g%ER+ER),g>FNe?this._append`A${r},${r},0,1,${m},${e-l},${n-u}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:g>zd&&this._append`A${r},${r},0,${+(g>=AR)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function jD(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new UNe(e)}function ND(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function iee(t){this._context=t}iee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Cj(t){return new iee(t)}function see(t){return t[0]}function aee(t){return t[1]}function oee(t,e){var n=Kn(!0),r=null,i=Cj,s=null,a=jD(l);t=typeof t=="function"?t:t===void 0?see:Kn(t),e=typeof e=="function"?e:e===void 0?aee:Kn(e);function l(u){var d,h=(u=ND(u)).length,m,g=!1,v;for(r==null&&(s=i(v=a())),d=0;d<=h;++d)!(d<h&&n(m=u[d],d,u))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(m,d,u),+e(m,d,u));if(v)return s=null,v+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:Kn(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:Kn(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Kn(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),l):r},l}function u_(t,e,n){var r=null,i=Kn(!0),s=null,a=Cj,l=null,u=jD(d);t=typeof t=="function"?t:t===void 0?see:Kn(+t),e=typeof e=="function"?e:Kn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?aee:Kn(+n);function d(m){var g,v,b,_=(m=ND(m)).length,x,j=!1,A,C=new Array(_),P=new Array(_);for(s==null&&(l=a(A=u())),g=0;g<=_;++g){if(!(g<_&&i(x=m[g],g,m))===j)if(j=!j)v=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=g-1;b>=v;--b)l.point(C[b],P[b]);l.lineEnd(),l.areaEnd()}j&&(C[g]=+t(x,g,m),P[g]=+e(x,g,m),l.point(r?+r(x,g,m):C[g],n?+n(x,g,m):P[g]))}if(A)return l=null,A+""||null}function h(){return oee().defined(i).curve(a).context(s)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:Kn(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Kn(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Kn(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:Kn(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Kn(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Kn(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Kn(!!m),d):i},d.curve=function(m){return arguments.length?(a=m,s!=null&&(l=a(s)),d):a},d.context=function(m){return arguments.length?(m==null?s=l=null:l=a(s=m),d):s},d}class lee{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function zNe(t){return new lee(t,!0)}function qNe(t){return new lee(t,!1)}const AD={draw(t,e){const n=to(e/a1);t.moveTo(n,0),t.arc(0,0,n,0,Tj)}},HNe={draw(t,e){const n=to(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},cee=to(1/3),WNe=cee*2,GNe={draw(t,e){const n=to(e/WNe),r=n*cee;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},YNe={draw(t,e){const n=to(e),r=-n/2;t.rect(r,r,n,n)}},KNe=.8908130915292852,uee=s1(a1/10)/s1(7*a1/10),XNe=s1(Tj/10)*uee,QNe=-nee(Tj/10)*uee,ZNe={draw(t,e){const n=to(e*KNe),r=XNe*n,i=QNe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=Tj*s/5,l=nee(a),u=s1(a);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},cC=to(3),JNe={draw(t,e){const n=-to(e/(cC*3));t.moveTo(0,n*2),t.lineTo(-cC*n,-n),t.lineTo(cC*n,-n),t.closePath()}},sa=-.5,aa=to(3)/2,TR=1/to(12),eAe=(TR/2+1)*3,tAe={draw(t,e){const n=to(e/eAe),r=n/2,i=n*TR,s=r,a=n*TR+n,l=-s,u=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,u),t.lineTo(sa*r-aa*i,aa*r+sa*i),t.lineTo(sa*s-aa*a,aa*s+sa*a),t.lineTo(sa*l-aa*u,aa*l+sa*u),t.lineTo(sa*r+aa*i,sa*i-aa*r),t.lineTo(sa*s+aa*a,sa*a-aa*s),t.lineTo(sa*l+aa*u,sa*u-aa*l),t.closePath()}};function nAe(t,e){let n=null,r=jD(i);t=typeof t=="function"?t:Kn(t||AD),e=typeof e=="function"?e:Kn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Kn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Kn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function o1(){}function l1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function dee(t){this._context=t}dee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:l1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:l1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rAe(t){return new dee(t)}function fee(t){this._context=t}fee.prototype={areaStart:o1,areaEnd:o1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:l1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iAe(t){return new fee(t)}function hee(t){this._context=t}hee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:l1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sAe(t){return new hee(t)}function mee(t){this._context=t}mee.prototype={areaStart:o1,areaEnd:o1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function aAe(t){return new mee(t)}function VB(t){return t<0?-1:1}function FB(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(VB(s)+VB(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function BB(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function uC(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function c1(t){this._context=t}c1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uC(this,this._t0,BB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,uC(this,BB(this,n=FB(this,t,e)),n);break;default:uC(this,this._t0,n=FB(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function pee(t){this._context=new gee(t)}(pee.prototype=Object.create(c1.prototype)).point=function(t,e){c1.prototype.point.call(this,e,t)};function gee(t){this._context=t}gee.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function oAe(t){return new c1(t)}function lAe(t){return new pee(t)}function yee(t){this._context=t}yee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=UB(t),i=UB(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function UB(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function cAe(t){return new yee(t)}function kj(t,e){this._context=t,this._t=e}kj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function uAe(t){return new kj(t,.5)}function dAe(t){return new kj(t,0)}function fAe(t){return new kj(t,1)}function ip(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,l=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function CR(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function hAe(t,e){return t[e]}function mAe(t){const e=[];return e.key=t,e}function pAe(){var t=Kn([]),e=CR,n=ip,r=hAe;function i(s){var a=Array.from(t.apply(this,arguments),mAe),l,u=a.length,d=-1,h;for(const m of s)for(l=0,++d;l<u;++l)(a[l][d]=[0,+r(m,a[l].key,d,s)]).data=m;for(l=0,h=ND(e(a));l<u;++l)a[h[l]].index=l;return n(a,h),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Kn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Kn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?CR:typeof s=="function"?s:Kn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??ip,i):n},i}function gAe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}ip(t,e)}}function yAe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}ip(t,e)}}function vAe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,u=0,d=0;l<a;++l){for(var h=t[e[l]],m=h[r][1]||0,g=h[r-1][1]||0,v=(m-g)/2,b=0;b<l;++b){var _=t[e[b]],x=_[r][1]||0,j=_[r-1][1]||0;v+=x-j}u+=m,d+=v*m}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,ip(t,e)}}function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}var xAe=["type","size","sizeType"];function kR(){return kR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kR.apply(this,arguments)}function zB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zB(Object(n),!0).forEach(function(r){bAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bAe(t,e,n){return e=_Ae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Ae(t){var e=wAe(t,"string");return qv(e)=="symbol"?e:e+""}function wAe(t,e){if(qv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SAe(t,e){if(t==null)return{};var n=jAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vee={symbolCircle:AD,symbolCross:HNe,symbolDiamond:GNe,symbolSquare:YNe,symbolStar:ZNe,symbolTriangle:JNe,symbolWye:tAe},NAe=Math.PI/180,AAe=function(e){var n="symbol".concat(Ej(e));return vee[n]||AD},EAe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*NAe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},TAe=function(e,n){vee["symbol".concat(Ej(e))]=n},ED=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,l=a===void 0?"area":a,u=SAe(e,xAe),d=qB(qB({},u),{},{type:r,size:s,sizeType:l}),h=function(){var x=AAe(r),j=nAe().type(x).size(EAe(s,l,r));return j()},m=d.className,g=d.cx,v=d.cy,b=ut(d,!0);return g===+g&&v===+v&&s===+s?Q.createElement("path",kR({},b,{className:kt("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(v,")"),d:h()})):null};ED.registerSymbol=TAe;function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function OR(){return OR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OR.apply(this,arguments)}function HB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CAe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HB(Object(n),!0).forEach(function(r){Hv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bee(r.key),r)}}function RAe(t,e,n){return e&&OAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PAe(t,e,n){return e=u1(e),IAe(t,xee()?Reflect.construct(e,n||[],u1(t).constructor):e.apply(t,n))}function IAe(t,e){if(e&&(sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MAe(t)}function MAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xee=function(){return!!t})()}function u1(t){return u1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u1(t)}function DAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RR(t,e)}function RR(t,e){return RR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RR(t,e)}function Hv(t,e,n){return e=bee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bee(t){var e=LAe(t,"string");return sp(e)=="symbol"?e:e+""}function LAe(t,e){if(sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oa=32,TD=function(t){function e(){return kAe(this,e),PAe(this,e,arguments)}return DAe(e,t),RAe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=oa/2,a=oa/6,l=oa/3,u=r.inactive?i:r.color;if(r.type==="plainline")return Q.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:oa,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return Q.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(oa,"M").concat(2*l,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return Q.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(oa/8,"h").concat(oa,"v").concat(oa*3/4,"h").concat(-oa,"z"),className:"recharts-legend-icon"});if(Q.isValidElement(r.legendIcon)){var d=CAe({},r);return delete d.legendIcon,Q.cloneElement(r.legendIcon,d)}return Q.createElement(ED,{fill:u,cx:s,cy:s,size:oa,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,l=i.layout,u=i.formatter,d=i.inactiveColor,h={x:0,y:0,width:oa,height:oa},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,b){var _=v.formatter||u,x=kt(Hv(Hv({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",v.inactive));if(v.type==="none")return null;var j=_t(v.value)?null:v.value;Ua(!_t(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=v.inactive?d:v.color;return Q.createElement("li",OR({className:x,style:m,key:"legend-item-".concat(b)},Pf(r.props,v,b)),Q.createElement(jR,{width:a,height:a,viewBox:h,style:g},r.renderIcon(v)),Q.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},_?_(j,v,b):j))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return Q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(N.PureComponent);Hv(TD,"displayName","Legend");Hv(TD,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var dC,WB;function $Ae(){if(WB)return dC;WB=1;var t=jj();function e(){this.__data__=new t,this.size=0}return dC=e,dC}var fC,GB;function VAe(){if(GB)return fC;GB=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return fC=t,fC}var hC,YB;function FAe(){if(YB)return hC;YB=1;function t(e){return this.__data__.get(e)}return hC=t,hC}var mC,KB;function BAe(){if(KB)return mC;KB=1;function t(e){return this.__data__.has(e)}return mC=t,mC}var pC,XB;function UAe(){if(XB)return pC;XB=1;var t=jj(),e=vD(),n=xD(),r=200;function i(s,a){var l=this.__data__;if(l instanceof t){var u=l.__data__;if(!e||u.length<r-1)return u.push([s,a]),this.size=++l.size,this;l=this.__data__=new n(u)}return l.set(s,a),this.size=l.size,this}return pC=i,pC}var gC,QB;function _ee(){if(QB)return gC;QB=1;var t=jj(),e=$Ae(),n=VAe(),r=FAe(),i=BAe(),s=UAe();function a(l){var u=this.__data__=new t(l);this.size=u.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,gC=a,gC}var yC,ZB;function zAe(){if(ZB)return yC;ZB=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return yC=e,yC}var vC,JB;function qAe(){if(JB)return vC;JB=1;function t(e){return this.__data__.has(e)}return vC=t,vC}var xC,eU;function wee(){if(eU)return xC;eU=1;var t=xD(),e=zAe(),n=qAe();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,xC=r,xC}var bC,tU;function See(){if(tU)return bC;tU=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return bC=t,bC}var _C,nU;function jee(){if(nU)return _C;nU=1;function t(e,n){return e.has(n)}return _C=t,_C}var wC,rU;function Nee(){if(rU)return wC;rU=1;var t=wee(),e=See(),n=jee(),r=1,i=2;function s(a,l,u,d,h,m){var g=u&r,v=a.length,b=l.length;if(v!=b&&!(g&&b>v))return!1;var _=m.get(a),x=m.get(l);if(_&&x)return _==l&&x==a;var j=-1,A=!0,C=u&i?new t:void 0;for(m.set(a,l),m.set(l,a);++j<v;){var P=a[j],T=l[j];if(d)var I=g?d(T,P,j,l,a,m):d(P,T,j,a,l,m);if(I!==void 0){if(I)continue;A=!1;break}if(C){if(!e(l,function(E,k){if(!n(C,k)&&(P===E||h(P,E,u,d,m)))return C.push(k)})){A=!1;break}}else if(!(P===T||h(P,T,u,d,m))){A=!1;break}}return m.delete(a),m.delete(l),A}return wC=s,wC}var SC,iU;function HAe(){if(iU)return SC;iU=1;var t=el(),e=t.Uint8Array;return SC=e,SC}var jC,sU;function WAe(){if(sU)return jC;sU=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return jC=t,jC}var NC,aU;function CD(){if(aU)return NC;aU=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return NC=t,NC}var AC,oU;function GAe(){if(oU)return AC;oU=1;var t=mb(),e=HAe(),n=yD(),r=Nee(),i=WAe(),s=CD(),a=1,l=2,u="[object Boolean]",d="[object Date]",h="[object Error]",m="[object Map]",g="[object Number]",v="[object RegExp]",b="[object Set]",_="[object String]",x="[object Symbol]",j="[object ArrayBuffer]",A="[object DataView]",C=t?t.prototype:void 0,P=C?C.valueOf:void 0;function T(I,E,k,O,D,M,V){switch(k){case A:if(I.byteLength!=E.byteLength||I.byteOffset!=E.byteOffset)return!1;I=I.buffer,E=E.buffer;case j:return!(I.byteLength!=E.byteLength||!M(new e(I),new e(E)));case u:case d:case g:return n(+I,+E);case h:return I.name==E.name&&I.message==E.message;case v:case _:return I==E+"";case m:var $=i;case b:var X=O&a;if($||($=s),I.size!=E.size&&!X)return!1;var H=V.get(I);if(H)return H==E;O|=l,V.set(I,E);var U=r($(I),$(E),O,D,M,V);return V.delete(I),U;case x:if(P)return P.call(I)==P.call(E)}return!1}return AC=T,AC}var EC,lU;function Aee(){if(lU)return EC;lU=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return EC=t,EC}var TC,cU;function YAe(){if(cU)return TC;cU=1;var t=Aee(),e=gs();function n(r,i,s){var a=i(r);return e(r)?a:t(a,s(r))}return TC=n,TC}var CC,uU;function KAe(){if(uU)return CC;uU=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var l=e[r];n(l,r,e)&&(a[s++]=l)}return a}return CC=t,CC}var kC,dU;function XAe(){if(dU)return kC;dU=1;function t(){return[]}return kC=t,kC}var OC,fU;function QAe(){if(fU)return OC;fU=1;var t=KAe(),e=XAe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(l){return r.call(a,l)}))}:e;return OC=s,OC}var RC,hU;function ZAe(){if(hU)return RC;hU=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return RC=t,RC}var PC,mU;function JAe(){if(mU)return PC;mU=1;var t=vc(),e=xc(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return PC=r,PC}var IC,pU;function kD(){if(pU)return IC;pU=1;var t=JAe(),e=xc(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return IC=s,IC}var Fy={exports:{}},MC,gU;function eEe(){if(gU)return MC;gU=1;function t(){return!1}return MC=t,MC}Fy.exports;var yU;function Eee(){return yU||(yU=1,function(t,e){var n=el(),r=eEe(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,l=a?n.Buffer:void 0,u=l?l.isBuffer:void 0,d=u||r;t.exports=d}(Fy,Fy.exports)),Fy.exports}var DC,vU;function OD(){if(vU)return DC;vU=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return DC=n,DC}var LC,xU;function RD(){if(xU)return LC;xU=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return LC=e,LC}var $C,bU;function tEe(){if(bU)return $C;bU=1;var t=vc(),e=RD(),n=xc(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",l="[object Error]",u="[object Function]",d="[object Map]",h="[object Number]",m="[object Object]",g="[object RegExp]",v="[object Set]",b="[object String]",_="[object WeakMap]",x="[object ArrayBuffer]",j="[object DataView]",A="[object Float32Array]",C="[object Float64Array]",P="[object Int8Array]",T="[object Int16Array]",I="[object Int32Array]",E="[object Uint8Array]",k="[object Uint8ClampedArray]",O="[object Uint16Array]",D="[object Uint32Array]",M={};M[A]=M[C]=M[P]=M[T]=M[I]=M[E]=M[k]=M[O]=M[D]=!0,M[r]=M[i]=M[x]=M[s]=M[j]=M[a]=M[l]=M[u]=M[d]=M[h]=M[m]=M[g]=M[v]=M[b]=M[_]=!1;function V($){return n($)&&e($.length)&&!!M[t($)]}return $C=V,$C}var VC,_U;function Tee(){if(_U)return VC;_U=1;function t(e){return function(n){return e(n)}}return VC=t,VC}var By={exports:{}};By.exports;var wU;function nEe(){return wU||(wU=1,function(t,e){var n=GJ(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,l=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();t.exports=l}(By,By.exports)),By.exports}var FC,SU;function Cee(){if(SU)return FC;SU=1;var t=tEe(),e=Tee(),n=nEe(),r=n&&n.isTypedArray,i=r?e(r):t;return FC=i,FC}var BC,jU;function rEe(){if(jU)return BC;jU=1;var t=ZAe(),e=kD(),n=gs(),r=Eee(),i=OD(),s=Cee(),a=Object.prototype,l=a.hasOwnProperty;function u(d,h){var m=n(d),g=!m&&e(d),v=!m&&!g&&r(d),b=!m&&!g&&!v&&s(d),_=m||g||v||b,x=_?t(d.length,String):[],j=x.length;for(var A in d)(h||l.call(d,A))&&!(_&&(A=="length"||v&&(A=="offset"||A=="parent")||b&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,j)))&&x.push(A);return x}return BC=u,BC}var UC,NU;function iEe(){if(NU)return UC;NU=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return UC=e,UC}var zC,AU;function kee(){if(AU)return zC;AU=1;function t(e,n){return function(r){return e(n(r))}}return zC=t,zC}var qC,EU;function sEe(){if(EU)return qC;EU=1;var t=kee(),e=t(Object.keys,Object);return qC=e,qC}var HC,TU;function aEe(){if(TU)return HC;TU=1;var t=iEe(),e=sEe(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var l in Object(s))r.call(s,l)&&l!="constructor"&&a.push(l);return a}return HC=i,HC}var WC,CU;function pb(){if(CU)return WC;CU=1;var t=gD(),e=RD();function n(r){return r!=null&&e(r.length)&&!t(r)}return WC=n,WC}var GC,kU;function Oj(){if(kU)return GC;kU=1;var t=rEe(),e=aEe(),n=pb();function r(i){return n(i)?t(i):e(i)}return GC=r,GC}var YC,OU;function oEe(){if(OU)return YC;OU=1;var t=YAe(),e=QAe(),n=Oj();function r(i){return t(i,n,e)}return YC=r,YC}var KC,RU;function lEe(){if(RU)return KC;RU=1;var t=oEe(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,l,u,d,h){var m=l&e,g=t(s),v=g.length,b=t(a),_=b.length;if(v!=_&&!m)return!1;for(var x=v;x--;){var j=g[x];if(!(m?j in a:r.call(a,j)))return!1}var A=h.get(s),C=h.get(a);if(A&&C)return A==a&&C==s;var P=!0;h.set(s,a),h.set(a,s);for(var T=m;++x<v;){j=g[x];var I=s[j],E=a[j];if(u)var k=m?u(E,I,j,a,s,h):u(I,E,j,s,a,h);if(!(k===void 0?I===E||d(I,E,l,u,h):k)){P=!1;break}T||(T=j=="constructor")}if(P&&!T){var O=s.constructor,D=a.constructor;O!=D&&"constructor"in s&&"constructor"in a&&!(typeof O=="function"&&O instanceof O&&typeof D=="function"&&D instanceof D)&&(P=!1)}return h.delete(s),h.delete(a),P}return KC=i,KC}var XC,PU;function cEe(){if(PU)return XC;PU=1;var t=Jf(),e=el(),n=t(e,"DataView");return XC=n,XC}var QC,IU;function uEe(){if(IU)return QC;IU=1;var t=Jf(),e=el(),n=t(e,"Promise");return QC=n,QC}var ZC,MU;function Oee(){if(MU)return ZC;MU=1;var t=Jf(),e=el(),n=t(e,"Set");return ZC=n,ZC}var JC,DU;function dEe(){if(DU)return JC;DU=1;var t=Jf(),e=el(),n=t(e,"WeakMap");return JC=n,JC}var e2,LU;function fEe(){if(LU)return e2;LU=1;var t=cEe(),e=vD(),n=uEe(),r=Oee(),i=dEe(),s=vc(),a=YJ(),l="[object Map]",u="[object Object]",d="[object Promise]",h="[object Set]",m="[object WeakMap]",g="[object DataView]",v=a(t),b=a(e),_=a(n),x=a(r),j=a(i),A=s;return(t&&A(new t(new ArrayBuffer(1)))!=g||e&&A(new e)!=l||n&&A(n.resolve())!=d||r&&A(new r)!=h||i&&A(new i)!=m)&&(A=function(C){var P=s(C),T=P==u?C.constructor:void 0,I=T?a(T):"";if(I)switch(I){case v:return g;case b:return l;case _:return d;case x:return h;case j:return m}return P}),e2=A,e2}var t2,$U;function hEe(){if($U)return t2;$U=1;var t=_ee(),e=Nee(),n=GAe(),r=lEe(),i=fEe(),s=gs(),a=Eee(),l=Cee(),u=1,d="[object Arguments]",h="[object Array]",m="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function b(_,x,j,A,C,P){var T=s(_),I=s(x),E=T?h:i(_),k=I?h:i(x);E=E==d?m:E,k=k==d?m:k;var O=E==m,D=k==m,M=E==k;if(M&&a(_)){if(!a(x))return!1;T=!0,O=!1}if(M&&!O)return P||(P=new t),T||l(_)?e(_,x,j,A,C,P):n(_,x,E,j,A,C,P);if(!(j&u)){var V=O&&v.call(_,"__wrapped__"),$=D&&v.call(x,"__wrapped__");if(V||$){var X=V?_.value():_,H=$?x.value():x;return P||(P=new t),C(X,H,j,A,P)}}return M?(P||(P=new t),r(_,x,j,A,C,P)):!1}return t2=b,t2}var n2,VU;function PD(){if(VU)return n2;VU=1;var t=hEe(),e=xc();function n(r,i,s,a,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,a,n,l)}return n2=n,n2}var r2,FU;function mEe(){if(FU)return r2;FU=1;var t=_ee(),e=PD(),n=1,r=2;function i(s,a,l,u){var d=l.length,h=d,m=!u;if(s==null)return!h;for(s=Object(s);d--;){var g=l[d];if(m&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++d<h;){g=l[d];var v=g[0],b=s[v],_=g[1];if(m&&g[2]){if(b===void 0&&!(v in s))return!1}else{var x=new t;if(u)var j=u(b,_,v,s,a,x);if(!(j===void 0?e(_,b,n|r,u,x):j))return!1}}return!0}return r2=i,r2}var i2,BU;function Ree(){if(BU)return i2;BU=1;var t=Gu();function e(n){return n===n&&!t(n)}return i2=e,i2}var s2,UU;function pEe(){if(UU)return s2;UU=1;var t=Ree(),e=Oj();function n(r){for(var i=e(r),s=i.length;s--;){var a=i[s],l=r[a];i[s]=[a,l,t(l)]}return i}return s2=n,s2}var a2,zU;function Pee(){if(zU)return a2;zU=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return a2=t,a2}var o2,qU;function gEe(){if(qU)return o2;qU=1;var t=mEe(),e=pEe(),n=Pee();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(a){return a===i||t(a,i,s)}}return o2=r,o2}var l2,HU;function yEe(){if(HU)return l2;HU=1;function t(e,n){return e!=null&&n in Object(e)}return l2=t,l2}var c2,WU;function vEe(){if(WU)return c2;WU=1;var t=QJ(),e=kD(),n=gs(),r=OD(),i=RD(),s=Aj();function a(l,u,d){u=t(u,l);for(var h=-1,m=u.length,g=!1;++h<m;){var v=s(u[h]);if(!(g=l!=null&&d(l,v)))break;l=l[v]}return g||++h!=m?g:(m=l==null?0:l.length,!!m&&i(m)&&r(v,m)&&(n(l)||e(l)))}return c2=a,c2}var u2,GU;function xEe(){if(GU)return u2;GU=1;var t=yEe(),e=vEe();function n(r,i){return r!=null&&e(r,i,t)}return u2=n,u2}var d2,YU;function bEe(){if(YU)return d2;YU=1;var t=PD(),e=ZJ(),n=xEe(),r=pD(),i=Ree(),s=Pee(),a=Aj(),l=1,u=2;function d(h,m){return r(h)&&i(m)?s(a(h),m):function(g){var v=e(g,h);return v===void 0&&v===m?n(g,h):t(m,v,l|u)}}return d2=d,d2}var f2,KU;function Zp(){if(KU)return f2;KU=1;function t(e){return e}return f2=t,f2}var h2,XU;function _Ee(){if(XU)return h2;XU=1;function t(e){return function(n){return n==null?void 0:n[e]}}return h2=t,h2}var m2,QU;function wEe(){if(QU)return m2;QU=1;var t=_D();function e(n){return function(r){return t(r,n)}}return m2=e,m2}var p2,ZU;function SEe(){if(ZU)return p2;ZU=1;var t=_Ee(),e=wEe(),n=pD(),r=Aj();function i(s){return n(s)?t(r(s)):e(s)}return p2=i,p2}var g2,JU;function tl(){if(JU)return g2;JU=1;var t=gEe(),e=bEe(),n=Zp(),r=gs(),i=SEe();function s(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):i(a)}return g2=s,g2}var y2,e9;function Iee(){if(e9)return y2;e9=1;function t(e,n,r,i){for(var s=e.length,a=r+(i?1:-1);i?a--:++a<s;)if(n(e[a],a,e))return a;return-1}return y2=t,y2}var v2,t9;function jEe(){if(t9)return v2;t9=1;function t(e){return e!==e}return v2=t,v2}var x2,n9;function NEe(){if(n9)return x2;n9=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return x2=t,x2}var b2,r9;function AEe(){if(r9)return b2;r9=1;var t=Iee(),e=jEe(),n=NEe();function r(i,s,a){return s===s?n(i,s,a):t(i,e,a)}return b2=r,b2}var _2,i9;function EEe(){if(i9)return _2;i9=1;var t=AEe();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return _2=e,_2}var w2,s9;function TEe(){if(s9)return w2;s9=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return w2=t,w2}var S2,a9;function CEe(){if(a9)return S2;a9=1;function t(){}return S2=t,S2}var j2,o9;function kEe(){if(o9)return j2;o9=1;var t=Oee(),e=CEe(),n=CD(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return j2=i,j2}var N2,l9;function OEe(){if(l9)return N2;l9=1;var t=wee(),e=EEe(),n=TEe(),r=jee(),i=kEe(),s=CD(),a=200;function l(u,d,h){var m=-1,g=e,v=u.length,b=!0,_=[],x=_;if(h)b=!1,g=n;else if(v>=a){var j=d?null:i(u);if(j)return s(j);b=!1,g=r,x=new t}else x=d?[]:_;e:for(;++m<v;){var A=u[m],C=d?d(A):A;if(A=h||A!==0?A:0,b&&C===C){for(var P=x.length;P--;)if(x[P]===C)continue e;d&&x.push(C),_.push(A)}else g(x,C,h)||(x!==_&&x.push(C),_.push(A))}return _}return N2=l,N2}var A2,c9;function REe(){if(c9)return A2;c9=1;var t=tl(),e=OEe();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return A2=n,A2}var PEe=REe();const u9=Sn(PEe);function Mee(t,e,n){return e===!0?u9(t,n):_t(e)?u9(t,e):t}function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}var IEe=["ref"];function d9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d9(Object(n),!0).forEach(function(r){Rj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lee(r.key),r)}}function DEe(t,e,n){return e&&f9(t.prototype,e),n&&f9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LEe(t,e,n){return e=d1(e),$Ee(t,Dee()?Reflect.construct(e,n||[],d1(t).constructor):e.apply(t,n))}function $Ee(t,e){if(e&&(ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VEe(t)}function VEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dee=function(){return!!t})()}function d1(t){return d1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d1(t)}function FEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PR(t,e)}function PR(t,e){return PR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PR(t,e)}function Rj(t,e,n){return e=Lee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lee(t){var e=BEe(t,"string");return ap(e)=="symbol"?e:e+""}function BEe(t,e){if(ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function UEe(t,e){if(t==null)return{};var n=zEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qEe(t){return t.value}function HEe(t,e){if(Q.isValidElement(t))return Q.cloneElement(t,e);if(typeof t=="function")return Q.createElement(t,e);e.ref;var n=UEe(e,IEe);return Q.createElement(TD,n)}var h9=1,ko=function(t){function e(){var n;MEe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=LEe(this,e,[].concat(i)),Rj(n,"lastBoundingBox",{width:-1,height:-1}),n}return FEe(e,t),DEe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>h9||Math.abs(i.height-this.lastBoundingBox.height)>h9)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Cl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,l=i.verticalAlign,u=i.margin,d=i.chartWidth,h=i.chartHeight,m,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();m={left:((d||0)-v.width)/2}}else m=a==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();g={top:((h||0)-b.height)/2}}else g=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Cl(Cl({},m),g)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,l=i.height,u=i.wrapperStyle,d=i.payloadUniqBy,h=i.payload,m=Cl(Cl({position:"absolute",width:a||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return Q.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(v){r.wrapperNode=v}},HEe(s,Cl(Cl({},this.props),{},{payload:Mee(h,d,qEe)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Cl(Cl({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&Re(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(N.PureComponent);Rj(ko,"displayName","Legend");Rj(ko,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var E2,m9;function WEe(){if(m9)return E2;m9=1;var t=mb(),e=kD(),n=gs(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return E2=i,E2}var T2,p9;function $ee(){if(p9)return T2;p9=1;var t=Aee(),e=WEe();function n(r,i,s,a,l){var u=-1,d=r.length;for(s||(s=e),l||(l=[]);++u<d;){var h=r[u];i>0&&s(h)?i>1?n(h,i-1,s,a,l):t(l,h):a||(l[l.length]=h)}return l}return T2=n,T2}var C2,g9;function GEe(){if(g9)return C2;g9=1;function t(e){return function(n,r,i){for(var s=-1,a=Object(n),l=i(n),u=l.length;u--;){var d=l[e?u:++s];if(r(a[d],d,a)===!1)break}return n}}return C2=t,C2}var k2,y9;function YEe(){if(y9)return k2;y9=1;var t=GEe(),e=t();return k2=e,k2}var O2,v9;function Vee(){if(v9)return O2;v9=1;var t=YEe(),e=Oj();function n(r,i){return r&&t(r,i,e)}return O2=n,O2}var R2,x9;function KEe(){if(x9)return R2;x9=1;var t=pb();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var a=i.length,l=r?a:-1,u=Object(i);(r?l--:++l<a)&&s(u[l],l,u)!==!1;);return i}}return R2=e,R2}var P2,b9;function ID(){if(b9)return P2;b9=1;var t=Vee(),e=KEe(),n=e(t);return P2=n,P2}var I2,_9;function Fee(){if(_9)return I2;_9=1;var t=ID(),e=pb();function n(r,i){var s=-1,a=e(r)?Array(r.length):[];return t(r,function(l,u,d){a[++s]=i(l,u,d)}),a}return I2=n,I2}var M2,w9;function XEe(){if(w9)return M2;w9=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return M2=t,M2}var D2,S9;function QEe(){if(S9)return D2;S9=1;var t=Kp();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,a=n===n,l=t(n),u=r!==void 0,d=r===null,h=r===r,m=t(r);if(!d&&!m&&!l&&n>r||l&&u&&h&&!d&&!m||s&&u&&h||!i&&h||!a)return 1;if(!s&&!l&&!m&&n<r||m&&i&&a&&!s&&!l||d&&i&&a||!u&&a||!h)return-1}return 0}return D2=e,D2}var L2,j9;function ZEe(){if(j9)return L2;j9=1;var t=QEe();function e(n,r,i){for(var s=-1,a=n.criteria,l=r.criteria,u=a.length,d=i.length;++s<u;){var h=t(a[s],l[s]);if(h){if(s>=d)return h;var m=i[s];return h*(m=="desc"?-1:1)}}return n.index-r.index}return L2=e,L2}var $2,N9;function JEe(){if(N9)return $2;N9=1;var t=bD(),e=_D(),n=tl(),r=Fee(),i=XEe(),s=Tee(),a=ZEe(),l=Zp(),u=gs();function d(h,m,g){m.length?m=t(m,function(_){return u(_)?function(x){return e(x,_.length===1?_[0]:_)}:_}):m=[l];var v=-1;m=t(m,s(n));var b=r(h,function(_,x,j){var A=t(m,function(C){return C(_)});return{criteria:A,index:++v,value:_}});return i(b,function(_,x){return a(_,x,g)})}return $2=d,$2}var V2,A9;function eTe(){if(A9)return V2;A9=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return V2=t,V2}var F2,E9;function tTe(){if(E9)return F2;E9=1;var t=eTe(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var a=arguments,l=-1,u=e(a.length-i,0),d=Array(u);++l<u;)d[l]=a[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=a[l];return h[i]=s(d),t(r,this,h)}}return F2=n,F2}var B2,T9;function nTe(){if(T9)return B2;T9=1;function t(e){return function(){return e}}return B2=t,B2}var U2,C9;function Bee(){if(C9)return U2;C9=1;var t=Jf(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return U2=e,U2}var z2,k9;function rTe(){if(k9)return z2;k9=1;var t=nTe(),e=Bee(),n=Zp(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return z2=r,z2}var q2,O9;function iTe(){if(O9)return q2;O9=1;var t=800,e=16,n=Date.now;function r(i){var s=0,a=0;return function(){var l=n(),u=e-(l-a);if(a=l,u>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return q2=r,q2}var H2,R9;function sTe(){if(R9)return H2;R9=1;var t=rTe(),e=iTe(),n=e(t);return H2=n,H2}var W2,P9;function aTe(){if(P9)return W2;P9=1;var t=Zp(),e=tTe(),n=sTe();function r(i,s){return n(e(i,s,t),i+"")}return W2=r,W2}var G2,I9;function Pj(){if(I9)return G2;I9=1;var t=yD(),e=pb(),n=OD(),r=Gu();function i(s,a,l){if(!r(l))return!1;var u=typeof a;return(u=="number"?e(l)&&n(a,l.length):u=="string"&&a in l)?t(l[a],s):!1}return G2=i,G2}var Y2,M9;function oTe(){if(M9)return Y2;M9=1;var t=$ee(),e=JEe(),n=aTe(),r=Pj(),i=n(function(s,a){if(s==null)return[];var l=a.length;return l>1&&r(s,a[0],a[1])?a=[]:l>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(s,t(a,1),[])});return Y2=i,Y2}var lTe=oTe();const MD=Sn(lTe);function Wv(t){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(t)}function IR(){return IR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IR.apply(this,arguments)}function cTe(t,e){return hTe(t)||fTe(t,e)||dTe(t,e)||uTe()}function uTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dTe(t,e){if(t){if(typeof t=="string")return D9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D9(t,e)}}function D9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function hTe(t){if(Array.isArray(t))return t}function L9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L9(Object(n),!0).forEach(function(r){mTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mTe(t,e,n){return e=pTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pTe(t){var e=gTe(t,"string");return Wv(e)=="symbol"?e:e+""}function gTe(t,e){if(Wv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yTe(t){return Array.isArray(t)&&ti(t[0])&&ti(t[1])?t.join(" ~ "):t}var vTe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,l=a===void 0?{}:a,u=e.labelStyle,d=u===void 0?{}:u,h=e.payload,m=e.formatter,g=e.itemSorter,v=e.wrapperClassName,b=e.labelClassName,_=e.label,x=e.labelFormatter,j=e.accessibilityLayer,A=j===void 0?!1:j,C=function(){if(h&&h.length){var V={padding:0,margin:0},$=(g?MD(h,g):h).map(function(X,H){if(X.type==="none")return null;var U=K2({display:"block",paddingTop:4,paddingBottom:4,color:X.color||"#000"},l),q=X.formatter||m||yTe,G=X.value,W=X.name,z=G,Z=W;if(q&&z!=null&&Z!=null){var te=q(G,W,X,H,h);if(Array.isArray(te)){var ne=cTe(te,2);z=ne[0],Z=ne[1]}else z=te}return Q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:U},ti(Z)?Q.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,ti(Z)?Q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Q.createElement("span",{className:"recharts-tooltip-item-value"},z),Q.createElement("span",{className:"recharts-tooltip-item-unit"},X.unit||""))});return Q.createElement("ul",{className:"recharts-tooltip-item-list",style:V},$)}return null},P=K2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),T=K2({margin:0},d),I=!Et(_),E=I?_:"",k=kt("recharts-default-tooltip",v),O=kt("recharts-tooltip-label",b);I&&x&&h!==void 0&&h!==null&&(E=x(_,h));var D=A?{role:"status","aria-live":"assertive"}:{};return Q.createElement("div",IR({className:k,style:P},D),Q.createElement("p",{className:O,style:T},Q.isValidElement(E)?E:"".concat(E)),C())};function Gv(t){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function d_(t,e,n){return e=xTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xTe(t){var e=bTe(t,"string");return Gv(e)=="symbol"?e:e+""}function bTe(t,e){if(Gv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hy="recharts-tooltip-wrapper",_Te={visibility:"hidden"};function wTe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return kt(hy,d_(d_(d_(d_({},"".concat(hy,"-right"),Re(n)&&e&&Re(e.x)&&n>=e.x),"".concat(hy,"-left"),Re(n)&&e&&Re(e.x)&&n<e.x),"".concat(hy,"-bottom"),Re(r)&&e&&Re(e.y)&&r>=e.y),"".concat(hy,"-top"),Re(r)&&e&&Re(e.y)&&r<e.y))}function $9(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,l=t.tooltipDimension,u=t.viewBox,d=t.viewBoxDimension;if(s&&Re(s[r]))return s[r];var h=n[r]-l-i,m=n[r]+i;if(e[r])return a[r]?h:m;if(a[r]){var g=h,v=u[r];return g<v?Math.max(m,u[r]):Math.max(h,u[r])}var b=m+l,_=u[r]+d;return b>_?Math.max(h,u[r]):Math.max(m,u[r])}function STe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function jTe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,l=t.useTranslate3d,u=t.viewBox,d,h,m;return a.height>0&&a.width>0&&n?(h=$9({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),m=$9({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),d=STe({translateX:h,translateY:m,useTranslate3d:l})):d=_Te,{cssProperties:d,cssClasses:wTe({translateX:h,translateY:m,coordinate:n})}}function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}function V9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V9(Object(n),!0).forEach(function(r){DR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ATe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zee(r.key),r)}}function ETe(t,e,n){return e&&ATe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TTe(t,e,n){return e=f1(e),CTe(t,Uee()?Reflect.construct(e,n||[],f1(t).constructor):e.apply(t,n))}function CTe(t,e){if(e&&(op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kTe(t)}function kTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uee=function(){return!!t})()}function f1(t){return f1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f1(t)}function OTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MR(t,e)}function MR(t,e){return MR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MR(t,e)}function DR(t,e,n){return e=zee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zee(t){var e=RTe(t,"string");return op(e)=="symbol"?e:e+""}function RTe(t,e){if(op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var B9=1,PTe=function(t){function e(){var n;NTe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=TTe(this,e,[].concat(i)),DR(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),DR(n,"handleKeyDown",function(a){if(a.key==="Escape"){var l,u,d,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(d=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),n}return OTe(e,t),ETe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>B9||Math.abs(r.height-this.state.lastBoundingBox.height)>B9)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,d=i.children,h=i.coordinate,m=i.hasPayload,g=i.isAnimationActive,v=i.offset,b=i.position,_=i.reverseDirection,x=i.useTranslate3d,j=i.viewBox,A=i.wrapperStyle,C=jTe({allowEscapeViewBox:a,coordinate:h,offsetTopLeft:v,position:b,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:j}),P=C.cssClasses,T=C.cssProperties,I=F9(F9({transition:g&&s?"transform ".concat(l,"ms ").concat(u):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},A);return Q.createElement("div",{tabIndex:-1,className:P,style:I,ref:function(k){r.wrapperNode=k}},d)}}])}(N.PureComponent),ITe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Yu={isSsr:ITe()};function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function U9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U9(Object(n),!0).forEach(function(r){DD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hee(r.key),r)}}function LTe(t,e,n){return e&&DTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Te(t,e,n){return e=h1(e),VTe(t,qee()?Reflect.construct(e,n||[],h1(t).constructor):e.apply(t,n))}function VTe(t,e){if(e&&(lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FTe(t)}function FTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qee=function(){return!!t})()}function h1(t){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h1(t)}function BTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LR(t,e)}function LR(t,e){return LR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LR(t,e)}function DD(t,e,n){return e=Hee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hee(t){var e=UTe(t,"string");return lp(e)=="symbol"?e:e+""}function UTe(t,e){if(lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zTe(t){return t.dataKey}function qTe(t,e){return Q.isValidElement(t)?Q.cloneElement(t,e):typeof t=="function"?Q.createElement(t,e):Q.createElement(vTe,e)}var Xi=function(t){function e(){return MTe(this,e),$Te(this,e,arguments)}return BTe(e,t),LTe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,d=i.content,h=i.coordinate,m=i.filterNull,g=i.isAnimationActive,v=i.offset,b=i.payload,_=i.payloadUniqBy,x=i.position,j=i.reverseDirection,A=i.useTranslate3d,C=i.viewBox,P=i.wrapperStyle,T=b??[];m&&T.length&&(T=Mee(b.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),_,zTe));var I=T.length>0;return Q.createElement(PTe,{allowEscapeViewBox:a,animationDuration:l,animationEasing:u,isAnimationActive:g,active:s,coordinate:h,hasPayload:I,offset:v,position:x,reverseDirection:j,useTranslate3d:A,viewBox:C,wrapperStyle:P},qTe(d,z9(z9({},this.props),{},{payload:T})))}}])}(N.PureComponent);DD(Xi,"displayName","Tooltip");DD(Xi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Yu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var X2,q9;function HTe(){if(q9)return X2;q9=1;var t=el(),e=function(){return t.Date.now()};return X2=e,X2}var Q2,H9;function WTe(){if(H9)return Q2;H9=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Q2=e,Q2}var Z2,W9;function GTe(){if(W9)return Z2;W9=1;var t=WTe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Z2=n,Z2}var J2,G9;function Wee(){if(G9)return J2;G9=1;var t=GTe(),e=Gu(),n=Kp(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt;function u(d){if(typeof d=="number")return d;if(n(d))return r;if(e(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=e(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=s.test(d);return m||a.test(d)?l(d.slice(2),m?2:8):i.test(d)?r:+d}return J2=u,J2}var ek,Y9;function YTe(){if(Y9)return ek;Y9=1;var t=Gu(),e=HTe(),n=Wee(),r="Expected a function",i=Math.max,s=Math.min;function a(l,u,d){var h,m,g,v,b,_,x=0,j=!1,A=!1,C=!0;if(typeof l!="function")throw new TypeError(r);u=n(u)||0,t(d)&&(j=!!d.leading,A="maxWait"in d,g=A?i(n(d.maxWait)||0,u):g,C="trailing"in d?!!d.trailing:C);function P($){var X=h,H=m;return h=m=void 0,x=$,v=l.apply(H,X),v}function T($){return x=$,b=setTimeout(k,u),j?P($):v}function I($){var X=$-_,H=$-x,U=u-X;return A?s(U,g-H):U}function E($){var X=$-_,H=$-x;return _===void 0||X>=u||X<0||A&&H>=g}function k(){var $=e();if(E($))return O($);b=setTimeout(k,I($))}function O($){return b=void 0,C&&h?P($):(h=m=void 0,v)}function D(){b!==void 0&&clearTimeout(b),x=0,h=_=m=b=void 0}function M(){return b===void 0?v:O(e())}function V(){var $=e(),X=E($);if(h=arguments,m=this,_=$,X){if(b===void 0)return T(_);if(A)return clearTimeout(b),b=setTimeout(k,u),P(_)}return b===void 0&&(b=setTimeout(k,u)),v}return V.cancel=D,V.flush=M,V}return ek=a,ek}var tk,K9;function KTe(){if(K9)return tk;K9=1;var t=YTe(),e=Gu(),n="Expected a function";function r(i,s,a){var l=!0,u=!0;if(typeof i!="function")throw new TypeError(n);return e(a)&&(l="leading"in a?!!a.leading:l,u="trailing"in a?!!a.trailing:u),t(i,s,{leading:l,maxWait:s,trailing:u})}return tk=r,tk}var XTe=KTe();const Gee=Sn(XTe);function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function X9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X9(Object(n),!0).forEach(function(r){QTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QTe(t,e,n){return e=ZTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZTe(t){var e=JTe(t,"string");return Yv(e)=="symbol"?e:e+""}function JTe(t,e){if(Yv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eCe(t,e){return iCe(t)||rCe(t,e)||nCe(t,e)||tCe()}function tCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nCe(t,e){if(t){if(typeof t=="string")return Q9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q9(t,e)}}function Q9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function iCe(t){if(Array.isArray(t))return t}var em=N.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,l=t.height,u=l===void 0?"100%":l,d=t.minWidth,h=d===void 0?0:d,m=t.minHeight,g=t.maxHeight,v=t.children,b=t.debounce,_=b===void 0?0:b,x=t.id,j=t.className,A=t.onResize,C=t.style,P=C===void 0?{}:C,T=N.useRef(null),I=N.useRef();I.current=A,N.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var E=N.useState({containerWidth:i.width,containerHeight:i.height}),k=eCe(E,2),O=k[0],D=k[1],M=N.useCallback(function($,X){D(function(H){var U=Math.round($),q=Math.round(X);return H.containerWidth===U&&H.containerHeight===q?H:{containerWidth:U,containerHeight:q}})},[]);N.useEffect(function(){var $=function(W){var z,Z=W[0].contentRect,te=Z.width,ne=Z.height;M(te,ne),(z=I.current)===null||z===void 0||z.call(I,te,ne)};_>0&&($=Gee($,_,{trailing:!0,leading:!1}));var X=new ResizeObserver($),H=T.current.getBoundingClientRect(),U=H.width,q=H.height;return M(U,q),X.observe(T.current),function(){X.disconnect()}},[M,_]);var V=N.useMemo(function(){var $=O.containerWidth,X=O.containerHeight;if($<0||X<0)return null;Ua(ef(a)||ef(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,u),Ua(!n||n>0,"The aspect(%s) must be greater than zero.",n);var H=ef(a)?$:a,U=ef(u)?X:u;n&&n>0&&(H?U=H/n:U&&(H=U*n),g&&U>g&&(U=g)),Ua(H>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,U,a,u,h,m,n);var q=!Array.isArray(v)&&Jl(v.type).endsWith("Chart");return Q.Children.map(v,function(G){return Q.isValidElement(G)?N.cloneElement(G,f_({width:H,height:U},q?{style:f_({height:"100%",width:"100%",maxHeight:U,maxWidth:H},G.props.style)}:{})):G})},[n,v,u,g,m,h,O,a]);return Q.createElement("div",{id:x?"".concat(x):void 0,className:kt("recharts-responsive-container",j),style:f_(f_({},P),{},{width:a,height:u,minWidth:h,minHeight:m,maxHeight:g}),ref:T},V)}),Ml=function(e){return null};Ml.displayName="Cell";function Kv(t){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}function Z9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z9(Object(n),!0).forEach(function(r){sCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sCe(t,e,n){return e=aCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aCe(t){var e=oCe(t,"string");return Kv(e)=="symbol"?e:e+""}function oCe(t,e){if(Kv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tm={widthCache:{},cacheCount:0},lCe=2e3,cCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},J9="recharts_measurement_span";function uCe(t){var e=$R({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ov=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Yu.isSsr)return{width:0,height:0};var r=uCe(n),i=JSON.stringify({text:e,copyStyle:r});if(tm.widthCache[i])return tm.widthCache[i];try{var s=document.getElementById(J9);s||(s=document.createElement("span"),s.setAttribute("id",J9),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=$R($R({},cCe),r);Object.assign(s.style,a),s.textContent="".concat(e);var l=s.getBoundingClientRect(),u={width:l.width,height:l.height};return tm.widthCache[i]=u,++tm.cacheCount>lCe&&(tm.cacheCount=0,tm.widthCache={}),u}catch{return{width:0,height:0}}},dCe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Xv(t){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}function m1(t,e){return pCe(t)||mCe(t,e)||hCe(t,e)||fCe()}function fCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hCe(t,e){if(t){if(typeof t=="string")return ez(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ez(t,e)}}function ez(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function pCe(t){if(Array.isArray(t))return t}function gCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vCe(r.key),r)}}function yCe(t,e,n){return e&&tz(t.prototype,e),n&&tz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vCe(t){var e=xCe(t,"string");return Xv(e)=="symbol"?e:e+""}function xCe(t,e){if(Xv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_Ce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Yee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wCe=Object.keys(Yee),pm="NaN";function SCe(t,e){return t*Yee[e]}var h_=function(){function t(e,n){gCe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!bCe.test(n)&&(this.num=NaN,this.unit=""),wCe.includes(n)&&(this.num=SCe(e,n),this.unit="px")}return yCe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=_Ce.exec(n))!==null&&r!==void 0?r:[],s=m1(i,3),a=s[1],l=s[2];return new t(parseFloat(a),l??"")}}])}();function Kee(t){if(t.includes(pm))return pm;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=nz.exec(e))!==null&&n!==void 0?n:[],i=m1(r,4),s=i[1],a=i[2],l=i[3],u=h_.parse(s??""),d=h_.parse(l??""),h=a==="*"?u.multiply(d):u.divide(d);if(h.isNaN())return pm;e=e.replace(nz,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,g=(m=rz.exec(e))!==null&&m!==void 0?m:[],v=m1(g,4),b=v[1],_=v[2],x=v[3],j=h_.parse(b??""),A=h_.parse(x??""),C=_==="+"?j.add(A):j.subtract(A);if(C.isNaN())return pm;e=e.replace(rz,C.toString())}return e}var iz=/\(([^()]*)\)/;function jCe(t){for(var e=t;e.includes("(");){var n=iz.exec(e),r=m1(n,2),i=r[1];e=e.replace(iz,Kee(i))}return e}function NCe(t){var e=t.replace(/\s+/g,"");return e=jCe(e),e=Kee(e),e}function ACe(t){try{return NCe(t)}catch{return pm}}function nk(t){var e=ACe(t.slice(5,-1));return e===pm?"":e}var ECe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],TCe=["dx","dy","angle","className","breakAll"];function VR(){return VR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VR.apply(this,arguments)}function sz(t,e){if(t==null)return{};var n=CCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function az(t,e){return PCe(t)||RCe(t,e)||OCe(t,e)||kCe()}function kCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OCe(t,e){if(t){if(typeof t=="string")return oz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oz(t,e)}}function oz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function PCe(t){if(Array.isArray(t))return t}var Xee=/[ \f\n\r\t\v\u2028\u2029]+/,Qee=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Et(n)||(r?s=n.toString().split(""):s=n.toString().split(Xee));var a=s.map(function(u){return{word:u,width:ov(u,i).width}}),l=r?0:ov("",i).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},ICe=function(e,n,r,i,s){var a=e.maxLines,l=e.children,u=e.style,d=e.breakAll,h=Re(a),m=l,g=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(U,q){var G=q.word,W=q.width,z=U[U.length-1];if(z&&(i==null||s||z.width+W+r<Number(i)))z.words.push(G),z.width+=W+r;else{var Z={words:[G],width:W};U.push(Z)}return U},[])},v=g(n),b=function(H){return H.reduce(function(U,q){return U.width>q.width?U:q})};if(!h)return v;for(var _="",x=function(H){var U=m.slice(0,H),q=Qee({breakAll:d,style:u,children:U+_}).wordsWithComputedWidth,G=g(q),W=G.length>a||b(G).width>Number(i);return[W,G]},j=0,A=m.length-1,C=0,P;j<=A&&C<=m.length-1;){var T=Math.floor((j+A)/2),I=T-1,E=x(I),k=az(E,2),O=k[0],D=k[1],M=x(T),V=az(M,1),$=V[0];if(!O&&!$&&(j=T+1),O&&$&&(A=T-1),!O&&$){P=D;break}C++}return P||v},lz=function(e){var n=Et(e)?[]:e.toString().split(Xee);return[{words:n}]},MCe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,l=e.maxLines;if((n||r)&&!Yu.isSsr){var u,d,h=Qee({breakAll:a,children:i,style:s});if(h){var m=h.wordsWithComputedWidth,g=h.spaceWidth;u=m,d=g}else return lz(i);return ICe({breakAll:a,children:i,maxLines:l,style:s},u,d,n,r)}return lz(i)},cz="#808080",If=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,l=a===void 0?"1em":a,u=e.capHeight,d=u===void 0?"0.71em":u,h=e.scaleToFit,m=h===void 0?!1:h,g=e.textAnchor,v=g===void 0?"start":g,b=e.verticalAnchor,_=b===void 0?"end":b,x=e.fill,j=x===void 0?cz:x,A=sz(e,ECe),C=N.useMemo(function(){return MCe({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:m,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,m,A.style,A.width]),P=A.dx,T=A.dy,I=A.angle,E=A.className,k=A.breakAll,O=sz(A,TCe);if(!ti(r)||!ti(s))return null;var D=r+(Re(P)?P:0),M=s+(Re(T)?T:0),V;switch(_){case"start":V=nk("calc(".concat(d,")"));break;case"middle":V=nk("calc(".concat((C.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:V=nk("calc(".concat(C.length-1," * -").concat(l,")"));break}var $=[];if(m){var X=C[0].width,H=A.width;$.push("scale(".concat((Re(H)?H/X:1)/X,")"))}return I&&$.push("rotate(".concat(I,", ").concat(D,", ").concat(M,")")),$.length&&(O.transform=$.join(" ")),Q.createElement("text",VR({},ut(O,!0),{x:D,y:M,className:kt("recharts-text",E),textAnchor:v,fill:j.includes("url")?cz:j}),C.map(function(U,q){var G=U.words.join(k?"":" ");return Q.createElement("tspan",{x:D,dy:q===0?V:l,key:"".concat(G,"-").concat(q)},G)}))};function ju(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function DCe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function LD(t){let e,n,r;t.length!==2?(e=ju,n=(l,u)=>ju(t(l),u),r=(l,u)=>t(l)-u):(e=t===ju||t===DCe?t:LCe,n=t,r=t);function i(l,u,d=0,h=l.length){if(d<h){if(e(u,u)!==0)return h;do{const m=d+h>>>1;n(l[m],u)<0?d=m+1:h=m}while(d<h)}return d}function s(l,u,d=0,h=l.length){if(d<h){if(e(u,u)!==0)return h;do{const m=d+h>>>1;n(l[m],u)<=0?d=m+1:h=m}while(d<h)}return d}function a(l,u,d=0,h=l.length){const m=i(l,u,d,h-1);return m>d&&r(l[m-1],u)>-r(l[m],u)?m-1:m}return{left:i,center:a,right:s}}function LCe(){return 0}function Zee(t){return t===null?NaN:+t}function*$Ce(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const VCe=LD(ju),gb=VCe.right;LD(Zee).center;class uz extends Map{constructor(e,n=UCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dz(this,e))}has(e){return super.has(dz(this,e))}set(e,n){return super.set(FCe(this,e),n)}delete(e){return super.delete(BCe(this,e))}}function dz({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function FCe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function BCe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function UCe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function zCe(t=ju){if(t===ju)return Jee;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Jee(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const qCe=Math.sqrt(50),HCe=Math.sqrt(10),WCe=Math.sqrt(2);function p1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=qCe?10:s>=HCe?5:s>=WCe?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/a,l=Math.round(t*d),u=Math.round(e*d),l/d<t&&++l,u/d>e&&--u,d=-d):(d=Math.pow(10,i)*a,l=Math.round(t/d),u=Math.round(e/d),l*d<t&&++l,u*d>e&&--u),u<l&&.5<=n&&n<2?p1(t,e,n*2):[l,u,d]}function FR(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?p1(e,t,n):p1(t,e,n);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(r)if(a<0)for(let d=0;d<l;++d)u[d]=(s-d)/-a;else for(let d=0;d<l;++d)u[d]=(s-d)*a;else if(a<0)for(let d=0;d<l;++d)u[d]=(i+d)/-a;else for(let d=0;d<l;++d)u[d]=(i+d)*a;return u}function BR(t,e,n){return e=+e,t=+t,n=+n,p1(t,e,n)[2]}function UR(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?BR(e,t,n):BR(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function fz(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function hz(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ete(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Jee:zCe(i);r>n;){if(r-n>600){const u=r-n+1,d=e-n+1,h=Math.log(u),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(u-m)/u)*(d-u/2<0?-1:1),v=Math.max(n,Math.floor(e-d*m/u+g)),b=Math.min(r,Math.floor(e+(u-d)*m/u+g));ete(t,e,v,b,i)}const s=t[e];let a=n,l=r;for(my(t,n,e),i(t[r],s)>0&&my(t,n,r);a<l;){for(my(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?my(t,n,l):(++l,my(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function my(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function GCe(t,e,n){if(t=Float64Array.from($Ce(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return hz(t);if(e>=1)return fz(t);var r,i=(r-1)*e,s=Math.floor(i),a=fz(ete(t,s).subarray(0,s+1)),l=hz(t.subarray(s+1));return a+(l-a)*(i-s)}}function YCe(t,e,n=Zee){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function KCe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function wa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function bc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const zR=Symbol("implicit");function $D(){var t=new uz,e=[],n=[],r=zR;function i(s){let a=t.get(s);if(a===void 0){if(r!==zR)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new uz;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return $D(e,n).unknown(r)},wa.apply(i,arguments),i}function Qv(){var t=$D().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,u=0,d=0,h=.5;delete t.unknown;function m(){var g=e().length,v=i<r,b=v?i:r,_=v?r:i;s=(_-b)/Math.max(1,g-u+d*2),l&&(s=Math.floor(s)),b+=(_-b-s*(g-u))*h,a=s*(1-u),l&&(b=Math.round(b),a=Math.round(a));var x=KCe(g).map(function(j){return b+s*j});return n(v?x.reverse():x)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(g){return arguments.length?(l=!!g,m()):l},t.padding=function(g){return arguments.length?(u=Math.min(1,d=+g),m()):u},t.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),m()):u},t.paddingOuter=function(g){return arguments.length?(d=+g,m()):d},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},t.copy=function(){return Qv(e(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(h)},wa.apply(m(),arguments)}function tte(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return tte(e())},t}function lv(){return tte(Qv.apply(null,arguments).paddingInner(1))}function VD(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function nte(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function yb(){}var Zv=.7,g1=1/Zv,Im="\\s*([+-]?\\d+)\\s*",Jv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XCe=/^#([0-9a-f]{3,8})$/,QCe=new RegExp(`^rgb\\(${Im},${Im},${Im}\\)$`),ZCe=new RegExp(`^rgb\\(${Uo},${Uo},${Uo}\\)$`),JCe=new RegExp(`^rgba\\(${Im},${Im},${Im},${Jv}\\)$`),e2e=new RegExp(`^rgba\\(${Uo},${Uo},${Uo},${Jv}\\)$`),t2e=new RegExp(`^hsl\\(${Jv},${Uo},${Uo}\\)$`),n2e=new RegExp(`^hsla\\(${Jv},${Uo},${Uo},${Jv}\\)$`),mz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};VD(yb,ex,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pz,formatHex:pz,formatHex8:r2e,formatHsl:i2e,formatRgb:gz,toString:gz});function pz(){return this.rgb().formatHex()}function r2e(){return this.rgb().formatHex8()}function i2e(){return rte(this).formatHsl()}function gz(){return this.rgb().formatRgb()}function ex(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=XCe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?yz(e):n===3?new ms(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?m_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?m_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=QCe.exec(t))?new ms(e[1],e[2],e[3],1):(e=ZCe.exec(t))?new ms(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=JCe.exec(t))?m_(e[1],e[2],e[3],e[4]):(e=e2e.exec(t))?m_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=t2e.exec(t))?bz(e[1],e[2]/100,e[3]/100,1):(e=n2e.exec(t))?bz(e[1],e[2]/100,e[3]/100,e[4]):mz.hasOwnProperty(t)?yz(mz[t]):t==="transparent"?new ms(NaN,NaN,NaN,0):null}function yz(t){return new ms(t>>16&255,t>>8&255,t&255,1)}function m_(t,e,n,r){return r<=0&&(t=e=n=NaN),new ms(t,e,n,r)}function s2e(t){return t instanceof yb||(t=ex(t)),t?(t=t.rgb(),new ms(t.r,t.g,t.b,t.opacity)):new ms}function qR(t,e,n,r){return arguments.length===1?s2e(t):new ms(t,e,n,r??1)}function ms(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}VD(ms,qR,nte(yb,{brighter(t){return t=t==null?g1:Math.pow(g1,t),new ms(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zv:Math.pow(Zv,t),new ms(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ms(cf(this.r),cf(this.g),cf(this.b),y1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vz,formatHex:vz,formatHex8:a2e,formatRgb:xz,toString:xz}));function vz(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}`}function a2e(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}${tf((isNaN(this.opacity)?1:this.opacity)*255)}`}function xz(){const t=y1(this.opacity);return`${t===1?"rgb(":"rgba("}${cf(this.r)}, ${cf(this.g)}, ${cf(this.b)}${t===1?")":`, ${t})`}`}function y1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function cf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function tf(t){return t=cf(t),(t<16?"0":"")+t.toString(16)}function bz(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new La(t,e,n,r)}function rte(t){if(t instanceof La)return new La(t.h,t.s,t.l,t.opacity);if(t instanceof yb||(t=ex(t)),!t)return new La;if(t instanceof La)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,u=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=u<.5?s+i:2-s-i,a*=60):l=u>0&&u<1?0:a,new La(a,l,u,t.opacity)}function o2e(t,e,n,r){return arguments.length===1?rte(t):new La(t,e,n,r??1)}function La(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}VD(La,o2e,nte(yb,{brighter(t){return t=t==null?g1:Math.pow(g1,t),new La(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zv:Math.pow(Zv,t),new La(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ms(rk(t>=240?t-240:t+120,i,r),rk(t,i,r),rk(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new La(_z(this.h),p_(this.s),p_(this.l),y1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=y1(this.opacity);return`${t===1?"hsl(":"hsla("}${_z(this.h)}, ${p_(this.s)*100}%, ${p_(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _z(t){return t=(t||0)%360,t<0?t+360:t}function p_(t){return Math.max(0,Math.min(1,t||0))}function rk(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const FD=t=>()=>t;function l2e(t,e){return function(n){return t+n*e}}function c2e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function u2e(t){return(t=+t)==1?ite:function(e,n){return n-e?c2e(e,n,t):FD(isNaN(e)?n:e)}}function ite(t,e){var n=e-t;return n?l2e(t,n):FD(isNaN(t)?e:t)}const wz=function t(e){var n=u2e(e);function r(i,s){var a=n((i=qR(i)).r,(s=qR(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),d=ite(i.opacity,s.opacity);return function(h){return i.r=a(h),i.g=l(h),i.b=u(h),i.opacity=d(h),i+""}}return r.gamma=t,r}(1);function d2e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function f2e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function h2e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Jp(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function m2e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function v1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function p2e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Jp(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var HR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ik=new RegExp(HR.source,"g");function g2e(t){return function(){return t}}function y2e(t){return function(e){return t(e)+""}}function v2e(t,e){var n=HR.lastIndex=ik.lastIndex=0,r,i,s,a=-1,l=[],u=[];for(t=t+"",e=e+"";(r=HR.exec(t))&&(i=ik.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:v1(r,i)})),n=ik.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?y2e(u[0].x):g2e(e):(e=u.length,function(d){for(var h=0,m;h<e;++h)l[(m=u[h]).i]=m.x(d);return l.join("")})}function Jp(t,e){var n=typeof e,r;return e==null||n==="boolean"?FD(e):(n==="number"?v1:n==="string"?(r=ex(e))?(e=r,wz):v2e:e instanceof ex?wz:e instanceof Date?m2e:f2e(e)?d2e:Array.isArray(e)?h2e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?p2e:v1)(t,e)}function BD(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function x2e(t,e){e===void 0&&(e=t,t=Jp);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function b2e(t){return function(){return t}}function x1(t){return+t}var Sz=[0,1];function es(t){return t}function WR(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:b2e(isNaN(e)?NaN:.5)}function _2e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function w2e(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=WR(i,r),s=n(a,s)):(r=WR(r,i),s=n(s,a)),function(l){return s(r(l))}}function S2e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=WR(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var u=gb(t,l,1,r)-1;return s[u](i[u](l))}}function vb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ij(){var t=Sz,e=Sz,n=Jp,r,i,s,a=es,l,u,d;function h(){var g=Math.min(t.length,e.length);return a!==es&&(a=_2e(t[0],t[g-1])),l=g>2?S2e:w2e,u=d=null,m}function m(g){return g==null||isNaN(g=+g)?s:(u||(u=l(t.map(r),e,n)))(r(a(g)))}return m.invert=function(g){return a(i((d||(d=l(e,t.map(r),v1)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,x1),h()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),n=BD,h()},m.clamp=function(g){return arguments.length?(a=g?!0:es,h()):a!==es},m.interpolate=function(g){return arguments.length?(n=g,h()):n},m.unknown=function(g){return arguments.length?(s=g,m):s},function(g,v){return r=g,i=v,h()}}function UD(){return Ij()(es,es)}function j2e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function b1(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function cp(t){return t=b1(Math.abs(t)),t?t[1]:NaN}function N2e(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function A2e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var E2e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tx(t){if(!(e=E2e.exec(t)))throw new Error("invalid format: "+t);var e;return new zD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}tx.prototype=zD.prototype;function zD(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}zD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function T2e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ste;function C2e(t,e){var n=b1(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(ste=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+b1(t,Math.max(0,e+s-1))[0]}function jz(t,e){var n=b1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Nz={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:j2e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jz(t*100,e),r:jz,s:C2e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Az(t){return t}var Ez=Array.prototype.map,Tz=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function k2e(t){var e=t.grouping===void 0||t.thousands===void 0?Az:N2e(Ez.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Az:A2e(Ez.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function d(m){m=tx(m);var g=m.fill,v=m.align,b=m.sign,_=m.symbol,x=m.zero,j=m.width,A=m.comma,C=m.precision,P=m.trim,T=m.type;T==="n"?(A=!0,T="g"):Nz[T]||(C===void 0&&(C=12),P=!0,T="g"),(x||g==="0"&&v==="=")&&(x=!0,g="0",v="=");var I=_==="$"?n:_==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",E=_==="$"?r:/[%p]/.test(T)?a:"",k=Nz[T],O=/[defgprs%]/.test(T);C=C===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function D(M){var V=I,$=E,X,H,U;if(T==="c")$=k(M)+$,M="";else{M=+M;var q=M<0||1/M<0;if(M=isNaN(M)?u:k(Math.abs(M),C),P&&(M=T2e(M)),q&&+M==0&&b!=="+"&&(q=!1),V=(q?b==="("?b:l:b==="-"||b==="("?"":b)+V,$=(T==="s"?Tz[8+ste/3]:"")+$+(q&&b==="("?")":""),O){for(X=-1,H=M.length;++X<H;)if(U=M.charCodeAt(X),48>U||U>57){$=(U===46?i+M.slice(X+1):M.slice(X))+$,M=M.slice(0,X);break}}}A&&!x&&(M=e(M,1/0));var G=V.length+M.length+$.length,W=G<j?new Array(j-G+1).join(g):"";switch(A&&x&&(M=e(W+M,W.length?j-$.length:1/0),W=""),v){case"<":M=V+M+$+W;break;case"=":M=V+W+M+$;break;case"^":M=W.slice(0,G=W.length>>1)+V+M+$+W.slice(G);break;default:M=W+V+M+$;break}return s(M)}return D.toString=function(){return m+""},D}function h(m,g){var v=d((m=tx(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(cp(g)/3)))*3,_=Math.pow(10,-b),x=Tz[8+b/3];return function(j){return v(_*j)+x}}return{format:d,formatPrefix:h}}var g_,qD,ate;O2e({thousands:",",grouping:[3],currency:["$",""]});function O2e(t){return g_=k2e(t),qD=g_.format,ate=g_.formatPrefix,g_}function R2e(t){return Math.max(0,-cp(Math.abs(t)))}function P2e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cp(e)/3)))*3-cp(Math.abs(t)))}function I2e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cp(e)-cp(t))+1}function ote(t,e,n,r){var i=UR(t,e,n),s;switch(r=tx(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=P2e(i,a))&&(r.precision=s),ate(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=I2e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=R2e(i))&&(r.precision=s-(r.type==="%")*2);break}}return qD(r)}function Ku(t){var e=t.domain;return t.ticks=function(n){var r=e();return FR(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return ote(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],u,d,h=10;for(l<a&&(d=a,a=l,l=d,d=i,i=s,s=d);h-- >0;){if(d=BR(a,l,n),d===u)return r[i]=a,r[s]=l,e(r);if(d>0)a=Math.floor(a/d)*d,l=Math.ceil(l/d)*d;else if(d<0)a=Math.ceil(a*d)/d,l=Math.floor(l*d)/d;else break;u=d}return t},t}function _1(){var t=UD();return t.copy=function(){return vb(t,_1())},wa.apply(t,arguments),Ku(t)}function lte(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,x1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return lte(t).unknown(e)},t=arguments.length?Array.from(t,x1):[0,1],Ku(n)}function cte(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function Cz(t){return Math.log(t)}function kz(t){return Math.exp(t)}function M2e(t){return-Math.log(-t)}function D2e(t){return-Math.exp(-t)}function L2e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $2e(t){return t===10?L2e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function V2e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Oz(t){return(e,n)=>-t(-e,n)}function HD(t){const e=t(Cz,kz),n=e.domain;let r=10,i,s;function a(){return i=V2e(r),s=$2e(r),n()[0]<0?(i=Oz(i),s=Oz(s),t(M2e,D2e)):t(Cz,kz),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const u=n();let d=u[0],h=u[u.length-1];const m=h<d;m&&([d,h]=[h,d]);let g=i(d),v=i(h),b,_;const x=l==null?10:+l;let j=[];if(!(r%1)&&v-g<x){if(g=Math.floor(g),v=Math.ceil(v),d>0){for(;g<=v;++g)for(b=1;b<r;++b)if(_=g<0?b/s(-g):b*s(g),!(_<d)){if(_>h)break;j.push(_)}}else for(;g<=v;++g)for(b=r-1;b>=1;--b)if(_=g>0?b/s(-g):b*s(g),!(_<d)){if(_>h)break;j.push(_)}j.length*2<x&&(j=FR(d,h,x))}else j=FR(g,v,Math.min(v-g,x)).map(s);return m?j.reverse():j},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=tx(u)).precision==null&&(u.trim=!0),u=qD(u)),l===1/0)return u;const d=Math.max(1,r*l/e.ticks().length);return h=>{let m=h/s(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?u(h):""}},e.nice=()=>n(cte(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function ute(){const t=HD(Ij()).domain([1,10]);return t.copy=()=>vb(t,ute()).base(t.base()),wa.apply(t,arguments),t}function Rz(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Pz(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function WD(t){var e=1,n=t(Rz(e),Pz(e));return n.constant=function(r){return arguments.length?t(Rz(e=+r),Pz(e)):e},Ku(n)}function dte(){var t=WD(Ij());return t.copy=function(){return vb(t,dte()).constant(t.constant())},wa.apply(t,arguments)}function Iz(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function F2e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function B2e(t){return t<0?-t*t:t*t}function GD(t){var e=t(es,es),n=1;function r(){return n===1?t(es,es):n===.5?t(F2e,B2e):t(Iz(n),Iz(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ku(e)}function YD(){var t=GD(Ij());return t.copy=function(){return vb(t,YD()).exponent(t.exponent())},wa.apply(t,arguments),t}function U2e(){return YD.apply(null,arguments).exponent(.5)}function Mz(t){return Math.sign(t)*t*t}function z2e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function fte(){var t=UD(),e=[0,1],n=!1,r;function i(s){var a=z2e(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(Mz(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,x1)).map(Mz)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return fte(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},wa.apply(i,arguments),Ku(i)}function hte(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=YCe(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[gb(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ju),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return hte().domain(t).range(e).unknown(r)},wa.apply(s,arguments)}function mte(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(u){return u!=null&&u<=u?i[gb(r,u,0,n)]:s}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},a.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},a.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return mte().domain([t,e]).range(i).unknown(s)},wa.apply(Ku(a),arguments)}function pte(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[gb(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return pte().domain(t).range(e).unknown(n)},wa.apply(i,arguments)}const sk=new Date,ak=new Date;function ii(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const u=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return u;let d;do u.push(d=new Date(+s)),e(s,l),t(s);while(d<s&&s<a);return u},i.filter=s=>ii(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(sk.setTime(+s),ak.setTime(+a),t(sk),t(ak),Math.floor(n(sk,ak))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const w1=ii(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);w1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ii(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):w1);w1.range;const Ul=1e3,ma=Ul*60,zl=ma*60,fc=zl*24,KD=fc*7,Dz=fc*30,ok=fc*365,nf=ii(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ul)},(t,e)=>(e-t)/Ul,t=>t.getUTCSeconds());nf.range;const XD=ii(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ul)},(t,e)=>{t.setTime(+t+e*ma)},(t,e)=>(e-t)/ma,t=>t.getMinutes());XD.range;const QD=ii(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ma)},(t,e)=>(e-t)/ma,t=>t.getUTCMinutes());QD.range;const ZD=ii(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ul-t.getMinutes()*ma)},(t,e)=>{t.setTime(+t+e*zl)},(t,e)=>(e-t)/zl,t=>t.getHours());ZD.range;const JD=ii(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zl)},(t,e)=>(e-t)/zl,t=>t.getUTCHours());JD.range;const xb=ii(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ma)/fc,t=>t.getDate()-1);xb.range;const Mj=ii(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fc,t=>t.getUTCDate()-1);Mj.range;const gte=ii(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fc,t=>Math.floor(t/fc));gte.range;function th(t){return ii(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ma)/KD)}const Dj=th(0),S1=th(1),q2e=th(2),H2e=th(3),up=th(4),W2e=th(5),G2e=th(6);Dj.range;S1.range;q2e.range;H2e.range;up.range;W2e.range;G2e.range;function nh(t){return ii(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/KD)}const Lj=nh(0),j1=nh(1),Y2e=nh(2),K2e=nh(3),dp=nh(4),X2e=nh(5),Q2e=nh(6);Lj.range;j1.range;Y2e.range;K2e.range;dp.range;X2e.range;Q2e.range;const e4=ii(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());e4.range;const t4=ii(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());t4.range;const hc=ii(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());hc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ii(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});hc.range;const mc=ii(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());mc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ii(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});mc.range;function yte(t,e,n,r,i,s){const a=[[nf,1,Ul],[nf,5,5*Ul],[nf,15,15*Ul],[nf,30,30*Ul],[s,1,ma],[s,5,5*ma],[s,15,15*ma],[s,30,30*ma],[i,1,zl],[i,3,3*zl],[i,6,6*zl],[i,12,12*zl],[r,1,fc],[r,2,2*fc],[n,1,KD],[e,1,Dz],[e,3,3*Dz],[t,1,ok]];function l(d,h,m){const g=h<d;g&&([d,h]=[h,d]);const v=m&&typeof m.range=="function"?m:u(d,h,m),b=v?v.range(d,+h+1):[];return g?b.reverse():b}function u(d,h,m){const g=Math.abs(h-d)/m,v=LD(([,,x])=>x).right(a,g);if(v===a.length)return t.every(UR(d/ok,h/ok,m));if(v===0)return w1.every(Math.max(UR(d,h,m),1));const[b,_]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return b.every(_)}return[l,u]}const[Z2e,J2e]=yte(mc,t4,Lj,gte,JD,QD),[eke,tke]=yte(hc,e4,Dj,xb,ZD,XD);function lk(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ck(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function py(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function nke(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,u=t.shortMonths,d=gy(i),h=yy(i),m=gy(s),g=yy(s),v=gy(a),b=yy(a),_=gy(l),x=yy(l),j=gy(u),A=yy(u),C={a:q,A:G,b:W,B:z,c:null,d:Uz,e:Uz,f:Nke,g:Mke,G:Lke,H:wke,I:Ske,j:jke,L:vte,m:Ake,M:Eke,p:Z,q:te,Q:Hz,s:Wz,S:Tke,u:Cke,U:kke,V:Oke,w:Rke,W:Pke,x:null,X:null,y:Ike,Y:Dke,Z:$ke,"%":qz},P={a:ne,A:ge,b:Ce,B:Te,c:null,d:zz,e:zz,f:Uke,g:Zke,G:eOe,H:Vke,I:Fke,j:Bke,L:bte,m:zke,M:qke,p:je,q:ce,Q:Hz,s:Wz,S:Hke,u:Wke,U:Gke,V:Yke,w:Kke,W:Xke,x:null,X:null,y:Qke,Y:Jke,Z:tOe,"%":qz},T={a:D,A:M,b:V,B:$,c:X,d:Fz,e:Fz,f:vke,g:Vz,G:$z,H:Bz,I:Bz,j:mke,L:yke,m:hke,M:pke,p:O,q:fke,Q:bke,s:_ke,S:gke,u:oke,U:lke,V:cke,w:ake,W:uke,x:H,X:U,y:Vz,Y:$z,Z:dke,"%":xke};C.x=I(n,C),C.X=I(r,C),C.c=I(e,C),P.x=I(n,P),P.X=I(r,P),P.c=I(e,P);function I(oe,we){return function(Ne){var ue=[],Ue=-1,We=0,jt=oe.length,ht,At,Ur;for(Ne instanceof Date||(Ne=new Date(+Ne));++Ue<jt;)oe.charCodeAt(Ue)===37&&(ue.push(oe.slice(We,Ue)),(At=Lz[ht=oe.charAt(++Ue)])!=null?ht=oe.charAt(++Ue):At=ht==="e"?" ":"0",(Ur=we[ht])&&(ht=Ur(Ne,At)),ue.push(ht),We=Ue+1);return ue.push(oe.slice(We,Ue)),ue.join("")}}function E(oe,we){return function(Ne){var ue=py(1900,void 0,1),Ue=k(ue,oe,Ne+="",0),We,jt;if(Ue!=Ne.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(we&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(We=ck(py(ue.y,0,1)),jt=We.getUTCDay(),We=jt>4||jt===0?j1.ceil(We):j1(We),We=Mj.offset(We,(ue.V-1)*7),ue.y=We.getUTCFullYear(),ue.m=We.getUTCMonth(),ue.d=We.getUTCDate()+(ue.w+6)%7):(We=lk(py(ue.y,0,1)),jt=We.getDay(),We=jt>4||jt===0?S1.ceil(We):S1(We),We=xb.offset(We,(ue.V-1)*7),ue.y=We.getFullYear(),ue.m=We.getMonth(),ue.d=We.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),jt="Z"in ue?ck(py(ue.y,0,1)).getUTCDay():lk(py(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(jt+5)%7:ue.w+ue.U*7-(jt+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,ck(ue)):lk(ue)}}function k(oe,we,Ne,ue){for(var Ue=0,We=we.length,jt=Ne.length,ht,At;Ue<We;){if(ue>=jt)return-1;if(ht=we.charCodeAt(Ue++),ht===37){if(ht=we.charAt(Ue++),At=T[ht in Lz?we.charAt(Ue++):ht],!At||(ue=At(oe,Ne,ue))<0)return-1}else if(ht!=Ne.charCodeAt(ue++))return-1}return ue}function O(oe,we,Ne){var ue=d.exec(we.slice(Ne));return ue?(oe.p=h.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function D(oe,we,Ne){var ue=v.exec(we.slice(Ne));return ue?(oe.w=b.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function M(oe,we,Ne){var ue=m.exec(we.slice(Ne));return ue?(oe.w=g.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function V(oe,we,Ne){var ue=j.exec(we.slice(Ne));return ue?(oe.m=A.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function $(oe,we,Ne){var ue=_.exec(we.slice(Ne));return ue?(oe.m=x.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function X(oe,we,Ne){return k(oe,e,we,Ne)}function H(oe,we,Ne){return k(oe,n,we,Ne)}function U(oe,we,Ne){return k(oe,r,we,Ne)}function q(oe){return a[oe.getDay()]}function G(oe){return s[oe.getDay()]}function W(oe){return u[oe.getMonth()]}function z(oe){return l[oe.getMonth()]}function Z(oe){return i[+(oe.getHours()>=12)]}function te(oe){return 1+~~(oe.getMonth()/3)}function ne(oe){return a[oe.getUTCDay()]}function ge(oe){return s[oe.getUTCDay()]}function Ce(oe){return u[oe.getUTCMonth()]}function Te(oe){return l[oe.getUTCMonth()]}function je(oe){return i[+(oe.getUTCHours()>=12)]}function ce(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var we=I(oe+="",C);return we.toString=function(){return oe},we},parse:function(oe){var we=E(oe+="",!1);return we.toString=function(){return oe},we},utcFormat:function(oe){var we=I(oe+="",P);return we.toString=function(){return oe},we},utcParse:function(oe){var we=E(oe+="",!0);return we.toString=function(){return oe},we}}}var Lz={"-":"",_:" ",0:"0"},xi=/^\s*\d+/,rke=/^%/,ike=/[\\^$*+?|[\]().{}]/g;function mn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function ske(t){return t.replace(ike,"\\$&")}function gy(t){return new RegExp("^(?:"+t.map(ske).join("|")+")","i")}function yy(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ake(t,e,n){var r=xi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function oke(t,e,n){var r=xi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function lke(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cke(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uke(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function $z(t,e,n){var r=xi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Vz(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dke(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fke(t,e,n){var r=xi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function hke(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Fz(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function mke(t,e,n){var r=xi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Bz(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pke(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gke(t,e,n){var r=xi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function yke(t,e,n){var r=xi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vke(t,e,n){var r=xi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xke(t,e,n){var r=rke.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bke(t,e,n){var r=xi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function _ke(t,e,n){var r=xi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Uz(t,e){return mn(t.getDate(),e,2)}function wke(t,e){return mn(t.getHours(),e,2)}function Ske(t,e){return mn(t.getHours()%12||12,e,2)}function jke(t,e){return mn(1+xb.count(hc(t),t),e,3)}function vte(t,e){return mn(t.getMilliseconds(),e,3)}function Nke(t,e){return vte(t,e)+"000"}function Ake(t,e){return mn(t.getMonth()+1,e,2)}function Eke(t,e){return mn(t.getMinutes(),e,2)}function Tke(t,e){return mn(t.getSeconds(),e,2)}function Cke(t){var e=t.getDay();return e===0?7:e}function kke(t,e){return mn(Dj.count(hc(t)-1,t),e,2)}function xte(t){var e=t.getDay();return e>=4||e===0?up(t):up.ceil(t)}function Oke(t,e){return t=xte(t),mn(up.count(hc(t),t)+(hc(t).getDay()===4),e,2)}function Rke(t){return t.getDay()}function Pke(t,e){return mn(S1.count(hc(t)-1,t),e,2)}function Ike(t,e){return mn(t.getFullYear()%100,e,2)}function Mke(t,e){return t=xte(t),mn(t.getFullYear()%100,e,2)}function Dke(t,e){return mn(t.getFullYear()%1e4,e,4)}function Lke(t,e){var n=t.getDay();return t=n>=4||n===0?up(t):up.ceil(t),mn(t.getFullYear()%1e4,e,4)}function $ke(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mn(e/60|0,"0",2)+mn(e%60,"0",2)}function zz(t,e){return mn(t.getUTCDate(),e,2)}function Vke(t,e){return mn(t.getUTCHours(),e,2)}function Fke(t,e){return mn(t.getUTCHours()%12||12,e,2)}function Bke(t,e){return mn(1+Mj.count(mc(t),t),e,3)}function bte(t,e){return mn(t.getUTCMilliseconds(),e,3)}function Uke(t,e){return bte(t,e)+"000"}function zke(t,e){return mn(t.getUTCMonth()+1,e,2)}function qke(t,e){return mn(t.getUTCMinutes(),e,2)}function Hke(t,e){return mn(t.getUTCSeconds(),e,2)}function Wke(t){var e=t.getUTCDay();return e===0?7:e}function Gke(t,e){return mn(Lj.count(mc(t)-1,t),e,2)}function _te(t){var e=t.getUTCDay();return e>=4||e===0?dp(t):dp.ceil(t)}function Yke(t,e){return t=_te(t),mn(dp.count(mc(t),t)+(mc(t).getUTCDay()===4),e,2)}function Kke(t){return t.getUTCDay()}function Xke(t,e){return mn(j1.count(mc(t)-1,t),e,2)}function Qke(t,e){return mn(t.getUTCFullYear()%100,e,2)}function Zke(t,e){return t=_te(t),mn(t.getUTCFullYear()%100,e,2)}function Jke(t,e){return mn(t.getUTCFullYear()%1e4,e,4)}function eOe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?dp(t):dp.ceil(t),mn(t.getUTCFullYear()%1e4,e,4)}function tOe(){return"+0000"}function qz(){return"%"}function Hz(t){return+t}function Wz(t){return Math.floor(+t/1e3)}var nm,wte,Ste;nOe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nOe(t){return nm=nke(t),wte=nm.format,nm.parse,Ste=nm.utcFormat,nm.utcParse,nm}function rOe(t){return new Date(t)}function iOe(t){return t instanceof Date?+t:+new Date(+t)}function n4(t,e,n,r,i,s,a,l,u,d){var h=UD(),m=h.invert,g=h.domain,v=d(".%L"),b=d(":%S"),_=d("%I:%M"),x=d("%I %p"),j=d("%a %d"),A=d("%b %d"),C=d("%B"),P=d("%Y");function T(I){return(u(I)<I?v:l(I)<I?b:a(I)<I?_:s(I)<I?x:r(I)<I?i(I)<I?j:A:n(I)<I?C:P)(I)}return h.invert=function(I){return new Date(m(I))},h.domain=function(I){return arguments.length?g(Array.from(I,iOe)):g().map(rOe)},h.ticks=function(I){var E=g();return t(E[0],E[E.length-1],I??10)},h.tickFormat=function(I,E){return E==null?T:d(E)},h.nice=function(I){var E=g();return(!I||typeof I.range!="function")&&(I=e(E[0],E[E.length-1],I??10)),I?g(cte(E,I)):h},h.copy=function(){return vb(h,n4(t,e,n,r,i,s,a,l,u,d))},h}function sOe(){return wa.apply(n4(eke,tke,hc,e4,Dj,xb,ZD,XD,nf,wte).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aOe(){return wa.apply(n4(Z2e,J2e,mc,t4,Lj,Mj,JD,QD,nf,Ste).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $j(){var t=0,e=1,n,r,i,s,a=es,l=!1,u;function d(m){return m==null||isNaN(m=+m)?u:a(i===0?.5:(m=(s(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(a=m,d):a};function h(m){return function(g){var v,b;return arguments.length?([v,b]=g,a=m(v,b),d):[a(0),a(1)]}}return d.range=h(Jp),d.rangeRound=h(BD),d.unknown=function(m){return arguments.length?(u=m,d):u},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function Xu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function jte(){var t=Ku($j()(es));return t.copy=function(){return Xu(t,jte())},bc.apply(t,arguments)}function Nte(){var t=HD($j()).domain([1,10]);return t.copy=function(){return Xu(t,Nte()).base(t.base())},bc.apply(t,arguments)}function Ate(){var t=WD($j());return t.copy=function(){return Xu(t,Ate()).constant(t.constant())},bc.apply(t,arguments)}function r4(){var t=GD($j());return t.copy=function(){return Xu(t,r4()).exponent(t.exponent())},bc.apply(t,arguments)}function oOe(){return r4.apply(null,arguments).exponent(.5)}function Ete(){var t=[],e=es;function n(r){if(r!=null&&!isNaN(r=+r))return e((gb(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ju),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>GCe(t,s/r))},n.copy=function(){return Ete(e).domain(t)},bc.apply(n,arguments)}function Vj(){var t=0,e=.5,n=1,r=1,i,s,a,l,u,d=es,h,m=!1,g;function v(_){return isNaN(_=+_)?g:(_=.5+((_=+h(_))-s)*(r*_<r*s?l:u),d(m?Math.max(0,Math.min(1,_)):_))}v.domain=function(_){return arguments.length?([t,e,n]=_,i=h(t=+t),s=h(e=+e),a=h(n=+n),l=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,v):[t,e,n]},v.clamp=function(_){return arguments.length?(m=!!_,v):m},v.interpolator=function(_){return arguments.length?(d=_,v):d};function b(_){return function(x){var j,A,C;return arguments.length?([j,A,C]=x,d=x2e(_,[j,A,C]),v):[d(0),d(.5),d(1)]}}return v.range=b(Jp),v.rangeRound=b(BD),v.unknown=function(_){return arguments.length?(g=_,v):g},function(_){return h=_,i=_(t),s=_(e),a=_(n),l=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,v}}function Tte(){var t=Ku(Vj()(es));return t.copy=function(){return Xu(t,Tte())},bc.apply(t,arguments)}function Cte(){var t=HD(Vj()).domain([.1,1,10]);return t.copy=function(){return Xu(t,Cte()).base(t.base())},bc.apply(t,arguments)}function kte(){var t=WD(Vj());return t.copy=function(){return Xu(t,kte()).constant(t.constant())},bc.apply(t,arguments)}function i4(){var t=GD(Vj());return t.copy=function(){return Xu(t,i4()).exponent(t.exponent())},bc.apply(t,arguments)}function lOe(){return i4.apply(null,arguments).exponent(.5)}const Gz=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qv,scaleDiverging:Tte,scaleDivergingLog:Cte,scaleDivergingPow:i4,scaleDivergingSqrt:lOe,scaleDivergingSymlog:kte,scaleIdentity:lte,scaleImplicit:zR,scaleLinear:_1,scaleLog:ute,scaleOrdinal:$D,scalePoint:lv,scalePow:YD,scaleQuantile:hte,scaleQuantize:mte,scaleRadial:fte,scaleSequential:jte,scaleSequentialLog:Nte,scaleSequentialPow:r4,scaleSequentialQuantile:Ete,scaleSequentialSqrt:oOe,scaleSequentialSymlog:Ate,scaleSqrt:U2e,scaleSymlog:dte,scaleThreshold:pte,scaleTime:sOe,scaleUtc:aOe,tickFormat:ote},Symbol.toStringTag,{value:"Module"}));var uk,Yz;function Fj(){if(Yz)return uk;Yz=1;var t=Kp();function e(n,r,i){for(var s=-1,a=n.length;++s<a;){var l=n[s],u=r(l);if(u!=null&&(d===void 0?u===u&&!t(u):i(u,d)))var d=u,h=l}return h}return uk=e,uk}var dk,Kz;function Ote(){if(Kz)return dk;Kz=1;function t(e,n){return e>n}return dk=t,dk}var fk,Xz;function cOe(){if(Xz)return fk;Xz=1;var t=Fj(),e=Ote(),n=Zp();function r(i){return i&&i.length?t(i,n,e):void 0}return fk=r,fk}var uOe=cOe();const mu=Sn(uOe);var hk,Qz;function Rte(){if(Qz)return hk;Qz=1;function t(e,n){return e<n}return hk=t,hk}var mk,Zz;function dOe(){if(Zz)return mk;Zz=1;var t=Fj(),e=Rte(),n=Zp();function r(i){return i&&i.length?t(i,n,e):void 0}return mk=r,mk}var fOe=dOe();const Bj=Sn(fOe);var pk,Jz;function hOe(){if(Jz)return pk;Jz=1;var t=bD(),e=tl(),n=Fee(),r=gs();function i(s,a){var l=r(s)?t:n;return l(s,e(a,3))}return pk=i,pk}var gk,e8;function mOe(){if(e8)return gk;e8=1;var t=$ee(),e=hOe();function n(r,i){return t(e(r,i),1)}return gk=n,gk}var pOe=mOe();const gOe=Sn(pOe);var yk,t8;function yOe(){if(t8)return yk;t8=1;var t=PD();function e(n,r){return t(n,r)}return yk=e,yk}var vOe=yOe();const Mf=Sn(vOe);var eg=1e9,xOe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},a4,ir=!0,va="[DecimalError] ",uf=va+"Invalid argument: ",s4=va+"Exponent out of range: ",tg=Math.floor,qd=Math.pow,bOe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Is,di=1e7,er=7,Pte=9007199254740991,N1=tg(Pte/er),et={};et.absoluteValue=et.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};et.comparedTo=et.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};et.decimalPlaces=et.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*er;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};et.dividedBy=et.div=function(t){return ec(this,new this.constructor(t))};et.dividedToIntegerBy=et.idiv=function(t){var e=this,n=e.constructor;return Hn(ec(e,new n(t),0,1),n.precision)};et.equals=et.eq=function(t){return!this.cmp(t)};et.exponent=function(){return Fr(this)};et.greaterThan=et.gt=function(t){return this.cmp(t)>0};et.greaterThanOrEqualTo=et.gte=function(t){return this.cmp(t)>=0};et.isInteger=et.isint=function(){return this.e>this.d.length-2};et.isNegative=et.isneg=function(){return this.s<0};et.isPositive=et.ispos=function(){return this.s>0};et.isZero=function(){return this.s===0};et.lessThan=et.lt=function(t){return this.cmp(t)<0};et.lessThanOrEqualTo=et.lte=function(t){return this.cmp(t)<1};et.logarithm=et.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Is))throw Error(va+"NaN");if(n.s<1)throw Error(va+(n.s?"NaN":"-Infinity"));return n.eq(Is)?new r(0):(ir=!1,e=ec(nx(n,s),nx(t,s),s),ir=!0,Hn(e,i))};et.minus=et.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Dte(e,t):Ite(e,(t.s=-t.s,t))};et.modulo=et.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(va+"NaN");return n.s?(ir=!1,e=ec(n,t,0,1).times(t),ir=!0,n.minus(e)):Hn(new r(n),i)};et.naturalExponential=et.exp=function(){return Mte(this)};et.naturalLogarithm=et.ln=function(){return nx(this)};et.negated=et.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};et.plus=et.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Ite(e,t):Dte(e,(t.s=-t.s,t))};et.precision=et.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(uf+t);if(e=Fr(i)+1,r=i.d.length-1,n=r*er+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};et.squareRoot=et.sqrt=function(){var t,e,n,r,i,s,a,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(va+"NaN")}for(t=Fr(l),ir=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Oo(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=tg((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=a=n+3;;)if(s=r,r=s.plus(ec(l,s,a+2)).times(.5),Oo(s.d).slice(0,a)===(e=Oo(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Hn(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;a+=4}return ir=!0,Hn(r,n)};et.times=et.mul=function(t){var e,n,r,i,s,a,l,u,d,h=this,m=h.constructor,g=h.d,v=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,u=g.length,d=v.length,u<d&&(s=g,g=v,v=s,a=u,u=d,d=a),s=[],a=u+d,r=a;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=u+r;i>r;)l=s[i]+v[r]*g[i-r-1]+e,s[i--]=l%di|0,e=l/di|0;s[i]=(s[i]+e)%di|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,ir?Hn(t,m.precision):t};et.toDecimalPlaces=et.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ko(t,0,eg),e===void 0?e=r.rounding:Ko(e,0,8),Hn(n,t+Fr(n)+1,e))};et.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Df(r,!0):(Ko(t,0,eg),e===void 0?e=i.rounding:Ko(e,0,8),r=Hn(new i(r),t+1,e),n=Df(r,!0,t+1)),n};et.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Df(i):(Ko(t,0,eg),e===void 0?e=s.rounding:Ko(e,0,8),r=Hn(new s(i),t+Fr(i)+1,e),n=Df(r.abs(),!1,t+Fr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};et.toInteger=et.toint=function(){var t=this,e=t.constructor;return Hn(new e(t),Fr(t)+1,e.rounding)};et.toNumber=function(){return+this};et.toPower=et.pow=function(t){var e,n,r,i,s,a,l=this,u=l.constructor,d=12,h=+(t=new u(t));if(!t.s)return new u(Is);if(l=new u(l),!l.s){if(t.s<1)throw Error(va+"Infinity");return l}if(l.eq(Is))return l;if(r=u.precision,t.eq(Is))return Hn(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=l.s,a){if((n=h<0?-h:h)<=Pte){for(i=new u(Is),e=Math.ceil(r/er+4),ir=!1;n%2&&(i=i.times(l),r8(i.d,e)),n=tg(n/2),n!==0;)l=l.times(l),r8(l.d,e);return ir=!0,t.s<0?new u(Is).div(i):Hn(i,r)}}else if(s<0)throw Error(va+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,ir=!1,i=t.times(nx(l,r+d)),ir=!0,i=Mte(i),i.s=s,i};et.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Fr(i),r=Df(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ko(t,1,eg),e===void 0?e=s.rounding:Ko(e,0,8),i=Hn(new s(i),t,e),n=Fr(i),r=Df(i,t<=n||n<=s.toExpNeg,t)),r};et.toSignificantDigits=et.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ko(t,1,eg),e===void 0?e=r.rounding:Ko(e,0,8)),Hn(new r(n),t,e)};et.toString=et.valueOf=et.val=et.toJSON=et[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Fr(t),n=t.constructor;return Df(t,e<=n.toExpNeg||e>=n.toExpPos)};function Ite(t,e){var n,r,i,s,a,l,u,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),ir?Hn(e,m):e;if(u=t.d,d=e.d,a=t.e,i=e.e,u=u.slice(),s=a-i,s){for(s<0?(r=u,s=-s,l=d.length):(r=d,i=a,l=u.length),a=Math.ceil(m/er),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=u.length,s=d.length,l-s<0&&(s=l,r=d,d=u,u=r),n=0;s;)n=(u[--s]=u[s]+d[s]+n)/di|0,u[s]%=di;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,ir?Hn(e,m):e}function Ko(t,e,n){if(t!==~~t||t<e||t>n)throw Error(uf+t)}function Oo(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=er-r.length,n&&(s+=tu(n)),s+=r;a=t[e],r=a+"",n=er-r.length,n&&(s+=tu(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var ec=function(){function t(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%di|0,a=s/di|0;return a&&r.unshift(a),r}function e(r,i,s,a){var l,u;if(s!=a)u=s>a?1:-1;else for(l=u=0;l<s;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*di+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,u,d,h,m,g,v,b,_,x,j,A,C,P,T,I,E,k,O=r.constructor,D=r.s==i.s?1:-1,M=r.d,V=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(va+"Division by zero");for(u=r.e-i.e,E=V.length,T=M.length,v=new O(D),b=v.d=[],d=0;V[d]==(M[d]||0);)++d;if(V[d]>(M[d]||0)&&--u,s==null?A=s=O.precision:a?A=s+(Fr(r)-Fr(i))+1:A=s,A<0)return new O(0);if(A=A/er+2|0,d=0,E==1)for(h=0,V=V[0],A++;(d<T||h)&&A--;d++)C=h*di+(M[d]||0),b[d]=C/V|0,h=C%V|0;else{for(h=di/(V[0]+1)|0,h>1&&(V=t(V,h),M=t(M,h),E=V.length,T=M.length),P=E,_=M.slice(0,E),x=_.length;x<E;)_[x++]=0;k=V.slice(),k.unshift(0),I=V[0],V[1]>=di/2&&++I;do h=0,l=e(V,_,E,x),l<0?(j=_[0],E!=x&&(j=j*di+(_[1]||0)),h=j/I|0,h>1?(h>=di&&(h=di-1),m=t(V,h),g=m.length,x=_.length,l=e(m,_,g,x),l==1&&(h--,n(m,E<g?k:V,g))):(h==0&&(l=h=1),m=V.slice()),g=m.length,g<x&&m.unshift(0),n(_,m,x),l==-1&&(x=_.length,l=e(V,_,E,x),l<1&&(h++,n(_,E<x?k:V,x))),x=_.length):l===0&&(h++,_=[0]),b[d++]=h,l&&_[0]?_[x++]=M[P]||0:(_=[M[P]],x=1);while((P++<T||_[0]!==void 0)&&A--)}return b[0]||b.shift(),v.e=u,Hn(v,a?s+Fr(v)+1:s)}}();function Mte(t,e){var n,r,i,s,a,l,u=0,d=0,h=t.constructor,m=h.precision;if(Fr(t)>16)throw Error(s4+Fr(t));if(!t.s)return new h(Is);for(ir=!1,l=m,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log(qd(2,d))/Math.LN10*2+5|0,l+=r,n=i=s=new h(Is),h.precision=l;;){if(i=Hn(i.times(t),l),n=n.times(++u),a=s.plus(ec(i,n,l)),Oo(a.d).slice(0,l)===Oo(s.d).slice(0,l)){for(;d--;)s=Hn(s.times(s),l);return h.precision=m,e==null?(ir=!0,Hn(s,m)):s}s=a}}function Fr(t){for(var e=t.e*er,n=t.d[0];n>=10;n/=10)e++;return e}function vk(t,e,n){if(e>t.LN10.sd())throw ir=!0,n&&(t.precision=n),Error(va+"LN10 precision limit exceeded");return Hn(new t(t.LN10),e)}function tu(t){for(var e="";t--;)e+="0";return e}function nx(t,e){var n,r,i,s,a,l,u,d,h,m=1,g=10,v=t,b=v.d,_=v.constructor,x=_.precision;if(v.s<1)throw Error(va+(v.s?"NaN":"-Infinity"));if(v.eq(Is))return new _(0);if(e==null?(ir=!1,d=x):d=e,v.eq(10))return e==null&&(ir=!0),vk(_,d);if(d+=g,_.precision=d,n=Oo(b),r=n.charAt(0),s=Fr(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Oo(v.d),r=n.charAt(0),m++;s=Fr(v),r>1?(v=new _("0."+n),s++):v=new _(r+"."+n.slice(1))}else return u=vk(_,d+2,x).times(s+""),v=nx(new _(r+"."+n.slice(1)),d-g).plus(u),_.precision=x,e==null?(ir=!0,Hn(v,x)):v;for(l=a=v=ec(v.minus(Is),v.plus(Is),d),h=Hn(v.times(v),d),i=3;;){if(a=Hn(a.times(h),d),u=l.plus(ec(a,new _(i),d)),Oo(u.d).slice(0,d)===Oo(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(vk(_,d+2,x).times(s+""))),l=ec(l,new _(m),d),_.precision=x,e==null?(ir=!0,Hn(l,x)):l;l=u,i+=2}}function n8(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=tg(n/er),t.d=[],r=(n+1)%er,n<0&&(r+=er),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=er;r<i;)t.d.push(+e.slice(r,r+=er));e=e.slice(r),r=er-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ir&&(t.e>N1||t.e<-N1))throw Error(s4+n)}else t.s=0,t.e=0,t.d=[0];return t}function Hn(t,e,n){var r,i,s,a,l,u,d,h,m=t.d;for(a=1,s=m[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=er,i=e,d=m[h=0];else{if(h=Math.ceil((r+1)/er),s=m.length,h>=s)return t;for(d=s=m[h],a=1;s>=10;s/=10)a++;r%=er,i=r-er+a}if(n!==void 0&&(s=qd(10,a-i-1),l=d/s%10|0,u=e<0||m[h+1]!==void 0||d%s,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/qd(10,a-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return u?(s=Fr(t),m.length=1,e=e-s-1,m[0]=qd(10,(er-e%er)%er),t.e=tg(-e/er)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,s=1,h--):(m.length=h+1,s=qd(10,er-r),m[h]=i>0?(d/qd(10,a-i)%qd(10,i)|0)*s:0),u)for(;;)if(h==0){(m[0]+=s)==di&&(m[0]=1,++t.e);break}else{if(m[h]+=s,m[h]!=di)break;m[h--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(ir&&(t.e>N1||t.e<-N1))throw Error(s4+Fr(t));return t}function Dte(t,e){var n,r,i,s,a,l,u,d,h,m,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),ir?Hn(e,v):e;if(u=t.d,m=e.d,r=e.e,d=t.e,u=u.slice(),a=d-r,a){for(h=a<0,h?(n=u,a=-a,l=m.length):(n=m,r=d,l=u.length),i=Math.max(Math.ceil(v/er),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=m.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=m[i]){h=u[i]<m[i];break}a=0}for(h&&(n=u,u=m,m=n,e.s=-e.s),l=u.length,i=m.length-l;i>0;--i)u[l++]=0;for(i=m.length;i>a;){if(u[--i]<m[i]){for(s=i;s&&u[--s]===0;)u[s]=di-1;--u[s],u[i]+=di}u[i]-=m[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,ir?Hn(e,v):e):new g(0)}function Df(t,e,n){var r,i=Fr(t),s=Oo(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+tu(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+tu(-i-1)+s,n&&(r=n-a)>0&&(s+=tu(r))):i>=a?(s+=tu(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+tu(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=tu(r))),t.s<0?"-"+s:s}function r8(t,e){if(t.length>e)return t.length=e,!0}function Lte(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(uf+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return n8(a,s.toString())}else if(typeof s!="string")throw Error(uf+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,bOe.test(s))n8(a,s);else throw Error(uf+s)}if(i.prototype=et,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Lte,i.config=i.set=_Oe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function _Oe(t){if(!t||typeof t!="object")throw Error(va+"Object expected");var e,n,r,i=["precision",1,eg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(tg(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(uf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(uf+n+": "+r);return this}var a4=Lte(xOe);Is=new a4(1);const Ln=a4;function wOe(t){return AOe(t)||NOe(t)||jOe(t)||SOe()}function SOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jOe(t,e){if(t){if(typeof t=="string")return GR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GR(t,e)}}function NOe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function AOe(t){if(Array.isArray(t))return GR(t)}function GR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var EOe=function(e){return e},$te={},Vte=function(e){return e===$te},i8=function(e){return function n(){return arguments.length===0||arguments.length===1&&Vte(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},TOe=function t(e,n){return e===1?n:i8(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(l){return l!==$te}).length;return a>=e?n.apply(void 0,i):t(e-a,i8(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=i.map(function(m){return Vte(m)?u.shift():m});return n.apply(void 0,wOe(h).concat(u))}))})},Uj=function(e){return TOe(e.length,e)},YR=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},COe=Uj(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),kOe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return EOe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(l,u){return u(l)},s.apply(void 0,arguments))}},KR=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Fte=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(l,u){return l===n[u]})||(n=s,r=e.apply(void 0,s)),r}};function OOe(t){var e;return t===0?e=1:e=Math.floor(new Ln(t).abs().log(10).toNumber())+1,e}function ROe(t,e,n){for(var r=new Ln(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var POe=Uj(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),IOe=Uj(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),MOe=Uj(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const zj={rangeStep:ROe,getDigitCount:OOe,interpolateNumber:POe,uninterpolateNumber:IOe,uninterpolateTruncation:MOe};function XR(t){return $Oe(t)||LOe(t)||Bte(t)||DOe()}function DOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LOe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function $Oe(t){if(Array.isArray(t))return QR(t)}function rx(t,e){return BOe(t)||FOe(t,e)||Bte(t,e)||VOe()}function VOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bte(t,e){if(t){if(typeof t=="string")return QR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QR(t,e)}}function QR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FOe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),l;!(r=(l=a.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(u){i=!0,s=u}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function BOe(t){if(Array.isArray(t))return t}function Ute(t){var e=rx(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function zte(t,e,n){if(t.lte(0))return new Ln(0);var r=zj.getDigitCount(t.toNumber()),i=new Ln(10).pow(r),s=t.div(i),a=r!==1?.05:.1,l=new Ln(Math.ceil(s.div(a).toNumber())).add(n).mul(a),u=l.mul(i);return e?u:new Ln(Math.ceil(u))}function UOe(t,e,n){var r=1,i=new Ln(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ln(10).pow(zj.getDigitCount(t)-1),i=new Ln(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ln(Math.floor(t)))}else t===0?i=new Ln(Math.floor((e-1)/2)):n||(i=new Ln(Math.floor(t)));var a=Math.floor((e-1)/2),l=kOe(COe(function(u){return i.add(new Ln(u-a).mul(r)).toNumber()}),YR);return l(0,e)}function qte(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ln(0),tickMin:new Ln(0),tickMax:new Ln(0)};var s=zte(new Ln(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Ln(0):(a=new Ln(t).add(e).div(2),a=a.sub(new Ln(a).mod(s)));var l=Math.ceil(a.sub(t).div(s).toNumber()),u=Math.ceil(new Ln(e).sub(a).div(s).toNumber()),d=l+u+1;return d>n?qte(t,e,n,r,i+1):(d<n&&(u=e>0?u+(n-d):u,l=e>0?l:l+(n-d)),{step:s,tickMin:a.sub(new Ln(l).mul(s)),tickMax:a.add(new Ln(u).mul(s))})}function zOe(t){var e=rx(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),l=Ute([n,r]),u=rx(l,2),d=u[0],h=u[1];if(d===-1/0||h===1/0){var m=h===1/0?[d].concat(XR(YR(0,i-1).map(function(){return 1/0}))):[].concat(XR(YR(0,i-1).map(function(){return-1/0})),[h]);return n>r?KR(m):m}if(d===h)return UOe(d,i,s);var g=qte(d,h,a,s),v=g.step,b=g.tickMin,_=g.tickMax,x=zj.rangeStep(b,_.add(new Ln(.1).mul(v)),v);return n>r?KR(x):x}function qOe(t,e){var n=rx(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Ute([r,i]),l=rx(a,2),u=l[0],d=l[1];if(u===-1/0||d===1/0)return[r,i];if(u===d)return[u];var h=Math.max(e,2),m=zte(new Ln(d).sub(u).div(h-1),s,0),g=[].concat(XR(zj.rangeStep(new Ln(u),new Ln(d).sub(new Ln(.99).mul(m)),m)),[d]);return r>i?KR(g):g}var HOe=Fte(zOe),WOe=Fte(qOe),GOe="Invariant failed";function Lf(t,e){throw new Error(GOe)}var YOe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function A1(){return A1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A1.apply(this,arguments)}function KOe(t,e){return JOe(t)||ZOe(t,e)||QOe(t,e)||XOe()}function XOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QOe(t,e){if(t){if(typeof t=="string")return s8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s8(t,e)}}function s8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function JOe(t){if(Array.isArray(t))return t}function eRe(t,e){if(t==null)return{};var n=tRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gte(r.key),r)}}function iRe(t,e,n){return e&&rRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sRe(t,e,n){return e=E1(e),aRe(t,Hte()?Reflect.construct(e,n||[],E1(t).constructor):e.apply(t,n))}function aRe(t,e){if(e&&(fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oRe(t)}function oRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hte=function(){return!!t})()}function E1(t){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E1(t)}function lRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZR(t,e)}function ZR(t,e){return ZR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZR(t,e)}function Wte(t,e,n){return e=Gte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gte(t){var e=cRe(t,"string");return fp(e)=="symbol"?e:e+""}function cRe(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bb=function(t){function e(){return nRe(this,e),sRe(this,e,arguments)}return lRe(e,t),iRe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,l=r.dataKey,u=r.data,d=r.dataPointFormatter,h=r.xAxis,m=r.yAxis,g=eRe(r,YOe),v=ut(g,!1);this.props.direction==="x"&&h.type!=="number"&&Lf();var b=u.map(function(_){var x=d(_,l),j=x.x,A=x.y,C=x.value,P=x.errorVal;if(!P)return null;var T=[],I,E;if(Array.isArray(P)){var k=KOe(P,2);I=k[0],E=k[1]}else I=E=P;if(s==="vertical"){var O=h.scale,D=A+i,M=D+a,V=D-a,$=O(C-I),X=O(C+E);T.push({x1:X,y1:M,x2:X,y2:V}),T.push({x1:$,y1:D,x2:X,y2:D}),T.push({x1:$,y1:M,x2:$,y2:V})}else if(s==="horizontal"){var H=m.scale,U=j+i,q=U-a,G=U+a,W=H(C-I),z=H(C+E);T.push({x1:q,y1:z,x2:G,y2:z}),T.push({x1:U,y1:W,x2:U,y2:z}),T.push({x1:q,y1:W,x2:G,y2:W})}return Q.createElement(Kt,A1({className:"recharts-errorBar",key:"bar-".concat(T.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},v),T.map(function(Z){return Q.createElement("line",A1({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return Q.createElement(Kt,{className:"recharts-errorBars"},b)}}])}(Q.Component);Wte(bb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Wte(bb,"displayName","ErrorBar");function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(t)}function a8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(n),!0).forEach(function(r){uRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uRe(t,e,n){return e=dRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dRe(t){var e=fRe(t,"string");return ix(e)=="symbol"?e:e+""}function fRe(t,e){if(ix(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ix(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yte=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=Es(n,ko);if(!a)return null;var l=ko.defaultProps,u=l!==void 0?Pd(Pd({},l),a.props):{},d;return a.props&&a.props.payload?d=a.props&&a.props.payload:s==="children"?d=(r||[]).reduce(function(h,m){var g=m.item,v=m.props,b=v.sectors||v.data||[];return h.concat(b.map(function(_){return{type:a.props.iconType||g.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):d=(r||[]).map(function(h){var m=h.item,g=m.type.defaultProps,v=g!==void 0?Pd(Pd({},g),m.props):{},b=v.dataKey,_=v.name,x=v.legendType,j=v.hide;return{inactive:j,dataKey:b,type:u.iconType||x||"square",color:o4(m),value:_||b,payload:v}}),Pd(Pd(Pd({},u),ko.getWithHeight(a,i)),{},{payload:d,item:a})};function sx(t){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(t)}function o8(t){return gRe(t)||pRe(t)||mRe(t)||hRe()}function hRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mRe(t,e){if(t){if(typeof t=="string")return JR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JR(t,e)}}function pRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gRe(t){if(Array.isArray(t))return JR(t)}function JR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l8(Object(n),!0).forEach(function(r){Mm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mm(t,e,n){return e=yRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yRe(t){var e=vRe(t,"string");return sx(e)=="symbol"?e:e+""}function vRe(t,e){if(sx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sr(t,e,n){return Et(t)||Et(e)?n:ti(e)?Vs(t,e,n):_t(e)?e(t):n}function cv(t,e,n,r){var i=gOe(t,function(l){return Sr(l,e)});if(n==="number"){var s=i.filter(function(l){return Re(l)||parseFloat(l)});return s.length?[Bj(s),mu(s)]:[1/0,-1/0]}var a=r?i.filter(function(l){return!Et(l)}):i;return a.map(function(l){return ti(l)||l instanceof Date?l:""})}var xRe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var u=s.range,d=0;d<l;d++){var h=d>0?i[d-1].coordinate:i[l-1].coordinate,m=i[d].coordinate,g=d>=l-1?i[0].coordinate:i[d+1].coordinate,v=void 0;if(Zi(m-h)!==Zi(g-m)){var b=[];if(Zi(g-m)===Zi(u[1]-u[0])){v=g;var _=m+u[1]-u[0];b[0]=Math.min(_,(_+h)/2),b[1]=Math.max(_,(_+h)/2)}else{v=h;var x=g+u[1]-u[0];b[0]=Math.min(m,(x+m)/2),b[1]=Math.max(m,(x+m)/2)}var j=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(e>j[0]&&e<=j[1]||e>=b[0]&&e<=b[1]){a=i[d].index;break}}else{var A=Math.min(h,g),C=Math.max(h,g);if(e>(A+m)/2&&e<=(C+m)/2){a=i[d].index;break}}}else for(var P=0;P<l;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<l-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===l-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){a=r[P].index;break}return a},o4=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?gr(gr({},e.type.defaultProps),e.props):e.props,a=s.stroke,l=s.fill,u;switch(i){case"Line":u=a;break;case"Area":case"Radar":u=a&&a!=="none"?a:l;break;default:u=l;break}return u},bRe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},l=Object.keys(s),u=0,d=l.length;u<d;u++)for(var h=s[l[u]].stackGroups,m=Object.keys(h),g=0,v=m.length;g<v;g++){var b=h[m[g]],_=b.items,x=b.cateAxisId,j=_.filter(function(E){return Jl(E.type).indexOf("Bar")>=0});if(j&&j.length){var A=j[0].type.defaultProps,C=A!==void 0?gr(gr({},A),j[0].props):j[0].props,P=C.barSize,T=C[x];a[T]||(a[T]=[]);var I=Et(P)?n:P;a[T].push({item:j[0],stackList:j.slice(1),barSize:Et(I)?void 0:Ji(I,r,0)})}}return a},_Re=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,l=e.maxBarSize,u=a.length;if(u<1)return null;var d=Ji(n,i,0,!0),h,m=[];if(a[0].barSize===+a[0].barSize){var g=!1,v=i/u,b=a.reduce(function(P,T){return P+T.barSize||0},0);b+=(u-1)*d,b>=i&&(b-=(u-1)*d,d=0),b>=i&&v>0&&(g=!0,v*=.9,b=u*v);var _=(i-b)/2>>0,x={offset:_-d,size:0};h=a.reduce(function(P,T){var I={item:T.item,position:{offset:x.offset+x.size+d,size:g?v:T.barSize}},E=[].concat(o8(P),[I]);return x=E[E.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(k){E.push({item:k,position:x})}),E},m)}else{var j=Ji(r,i,0,!0);i-2*j-(u-1)*d<=0&&(d=0);var A=(i-2*j-(u-1)*d)/u;A>1&&(A>>=0);var C=l===+l?Math.min(A,l):A;h=a.reduce(function(P,T,I){var E=[].concat(o8(P),[{item:T.item,position:{offset:j+(A+d)*I+(A-C)/2,size:C}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(k){E.push({item:k,position:E[E.length-1].position})}),E},m)}return h},wRe=function(e,n,r,i){var s=r.children,a=r.width,l=r.margin,u=a-(l.left||0)-(l.right||0),d=Yte({children:s,legendWidth:u});if(d){var h=i||{},m=h.width,g=h.height,v=d.align,b=d.verticalAlign,_=d.layout;if((_==="vertical"||_==="horizontal"&&b==="middle")&&v!=="center"&&Re(e[v]))return gr(gr({},e),{},Mm({},v,e[v]+(m||0)));if((_==="horizontal"||_==="vertical"&&v==="center")&&b!=="middle"&&Re(e[b]))return gr(gr({},e),{},Mm({},b,e[b]+(g||0)))}return e},SRe=function(e,n,r){return Et(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Kte=function(e,n,r,i,s){var a=n.props.children,l=Fs(a,bb).filter(function(d){return SRe(i,s,d.props.direction)});if(l&&l.length){var u=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,h){var m=Sr(h,r);if(Et(m))return d;var g=Array.isArray(m)?[Bj(m),mu(m)]:[m,m],v=u.reduce(function(b,_){var x=Sr(h,_,0),j=g[0]-Math.abs(Array.isArray(x)?x[0]:x),A=g[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(j,b[0]),Math.max(A,b[1])]},[1/0,-1/0]);return[Math.min(v[0],d[0]),Math.max(v[1],d[1])]},[1/0,-1/0])}return null},jRe=function(e,n,r,i,s){var a=n.map(function(l){return Kte(e,l,r,s,i)}).filter(function(l){return!Et(l)});return a&&a.length?a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},Xte=function(e,n,r,i,s){var a=n.map(function(u){var d=u.props.dataKey;return r==="number"&&d&&Kte(e,u,d,i)||cv(e,d,r,s)});if(r==="number")return a.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);var l={};return a.reduce(function(u,d){for(var h=0,m=d.length;h<m;h++)l[d[h]]||(l[d[h]]=!0,u.push(d[h]));return u},[])},Qte=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Zte=function(e,n,r,i){if(i)return e.map(function(u){return u.coordinate});var s,a,l=e.map(function(u){return u.coordinate===n&&(s=!0),u.coordinate===r&&(a=!0),u.coordinate});return s||l.push(n),a||l.push(r),l},ql=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,l=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/u:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Zi(l[0]-l[1])*2*d:d,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var g=s?s.indexOf(m):m;return{coordinate:i(g)+d,value:m,offset:d}});return h.filter(function(m){return!Qp(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,g){return{coordinate:i(m)+d,value:m,index:g,offset:d}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+d,value:m,offset:d}}):i.domain().map(function(m,g){return{coordinate:i(m)+d,value:s?s[m]:m,index:g,offset:d}})},xk=new WeakMap,y_=function(e,n){if(typeof n!="function")return e;xk.has(e)||xk.set(e,new WeakMap);var r=xk.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Jte=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,l=e.axisType;if(i==="auto")return a==="radial"&&l==="radiusAxis"?{scale:Qv(),realScaleType:"band"}:a==="radial"&&l==="angleAxis"?{scale:_1(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:lv(),realScaleType:"point"}:s==="category"?{scale:Qv(),realScaleType:"band"}:{scale:_1(),realScaleType:"linear"};if(Rf(i)){var u="scale".concat(Ej(i));return{scale:(Gz[u]||lv)(),realScaleType:Gz[u]?u:"point"}}return _t(i)?{scale:i}:{scale:lv(),realScaleType:"point"}},c8=1e-4,ene=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-c8,a=Math.max(i[0],i[1])+c8,l=e(n[0]),u=e(n[r-1]);(l<s||l>a||u<s||u>a)&&e.domain([n[0],n[r-1]])}},NRe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},ARe=function(e,n){if(!n||n.length!==2||!Re(n[0])||!Re(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!Re(e[0])||e[0]<r)&&(s[0]=r),(!Re(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},ERe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,l=0;l<n;++l){var u=Qp(e[l][r][1])?e[l][r][0]:e[l][r][1];u>=0?(e[l][r][0]=s,e[l][r][1]=s+u,s=e[l][r][1]):(e[l][r][0]=a,e[l][r][1]=a+u,a=e[l][r][1])}},TRe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var l=Qp(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},CRe={sign:ERe,expand:gAe,none:ip,silhouette:yAe,wiggle:vAe,positive:TRe},kRe=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),s=CRe[r],a=pAe().keys(i).value(function(l,u){return+Sr(l,u,0)}).order(CR).offset(s);return a(e)},ORe=function(e,n,r,i,s,a){if(!e)return null;var l=a?n.reverse():n,u={},d=l.reduce(function(m,g){var v,b=(v=g.type)!==null&&v!==void 0&&v.defaultProps?gr(gr({},g.type.defaultProps),g.props):g.props,_=b.stackId,x=b.hide;if(x)return m;var j=b[r],A=m[j]||{hasStack:!1,stackGroups:{}};if(ti(_)){var C=A.stackGroups[_]||{numericAxisId:r,cateAxisId:i,items:[]};C.items.push(g),A.hasStack=!0,A.stackGroups[_]=C}else A.stackGroups[eh("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return gr(gr({},m),{},Mm({},j,A))},u),h={};return Object.keys(d).reduce(function(m,g){var v=d[g];if(v.hasStack){var b={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(_,x){var j=v.stackGroups[x];return gr(gr({},_),{},Mm({},x,{numericAxisId:r,cateAxisId:i,items:j.items,stackedData:kRe(e,j.items,s)}))},b)}return gr(gr({},m),{},Mm({},g,v))},h)},tne=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,l=n.allowDecimals,u=r||n.scale;if(u!=="auto"&&u!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var d=e.domain();if(!d.length)return null;var h=HOe(d,s,l);return e.domain([Bj(h),mu(h)]),{niceTicks:h}}if(s&&i==="number"){var m=e.domain(),g=WOe(m,s,l);return{niceTicks:g}}return null};function T1(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Et(i[e.dataKey])){var l=r1(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var u=Sr(i,Et(a)?e.dataKey:a);return Et(u)?null:e.scale(u)}var u8=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var u=Sr(a,n.dataKey,n.domain[l]);return Et(u)?null:n.scale(u)-s/2+i},RRe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},PRe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?gr(gr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(ti(s)){var a=n[s];if(a){var l=a.items.indexOf(e);return l>=0?a.stackedData[l]:null}}return null},IRe=function(e){return e.reduce(function(n,r){return[Bj(r.concat([n[0]]).filter(Re)),mu(r.concat([n[1]]).filter(Re))]},[1/0,-1/0])},nne=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],l=a.stackedData,u=l.reduce(function(d,h){var m=IRe(h.slice(n,r+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},d8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,f8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eP=function(e,n,r){if(_t(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Re(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(d8.test(e[0])){var s=+d8.exec(e[0])[1];i[0]=n[0]-s}else _t(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Re(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(f8.test(e[1])){var a=+f8.exec(e[1])[1];i[1]=n[1]+a}else _t(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},C1=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=MD(n,function(m){return m.coordinate}),a=1/0,l=1,u=s.length;l<u;l++){var d=s[l],h=s[l-1];a=Math.min((d.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},h8=function(e,n,r){return!e||!e.length||Mf(e,Vs(r,"type.defaultProps.domain"))?n:e},rne=function(e,n){var r=e.type.defaultProps?gr(gr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,l=r.formatter,u=r.tooltipType,d=r.chartType,h=r.hide;return gr(gr({},ut(e,!1)),{},{dataKey:i,unit:a,formatter:l,name:s||i,color:o4(e),value:Sr(n,i),type:u,payload:n,chartType:d,hide:h})};function ax(t){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ax(t)}function m8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Il(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m8(Object(n),!0).forEach(function(r){ine(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ine(t,e,n){return e=MRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MRe(t){var e=DRe(t,"string");return ax(e)=="symbol"?e:e+""}function DRe(t,e){if(ax(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ax(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LRe(t,e){return BRe(t)||FRe(t,e)||VRe(t,e)||$Re()}function $Re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VRe(t,e){if(t){if(typeof t=="string")return p8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p8(t,e)}}function p8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FRe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function BRe(t){if(Array.isArray(t))return t}var k1=Math.PI/180,URe=function(e){return e*180/Math.PI},Xn=function(e,n,r,i){return{x:e+Math.cos(-k1*i)*r,y:n+Math.sin(-k1*i)*r}},sne=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},zRe=function(e,n,r,i,s){var a=e.width,l=e.height,u=e.startAngle,d=e.endAngle,h=Ji(e.cx,a,a/2),m=Ji(e.cy,l,l/2),g=sne(a,l,r),v=Ji(e.innerRadius,g,0),b=Ji(e.outerRadius,g,g*.8),_=Object.keys(n);return _.reduce(function(x,j){var A=n[j],C=A.domain,P=A.reversed,T;if(Et(A.range))i==="angleAxis"?T=[u,d]:i==="radiusAxis"&&(T=[v,b]),P&&(T=[T[1],T[0]]);else{T=A.range;var I=T,E=LRe(I,2);u=E[0],d=E[1]}var k=Jte(A,s),O=k.realScaleType,D=k.scale;D.domain(C).range(T),ene(D);var M=tne(D,Il(Il({},A),{},{realScaleType:O})),V=Il(Il(Il({},A),M),{},{range:T,radius:b,realScaleType:O,scale:D,cx:h,cy:m,innerRadius:v,outerRadius:b,startAngle:u,endAngle:d});return Il(Il({},x),{},ine({},j,V))},{})},qRe=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},HRe=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,l=qRe({x:r,y:i},{x:s,y:a});if(l<=0)return{radius:l};var u=(r-s)/l,d=Math.acos(u);return i>a&&(d=2*Math.PI-d),{radius:l,angle:URe(d),angleInRadian:d}},WRe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},GRe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),l=Math.min(s,a);return e+l*360},g8=function(e,n){var r=e.x,i=e.y,s=HRe({x:r,y:i},n),a=s.radius,l=s.angle,u=n.innerRadius,d=n.outerRadius;if(a<u||a>d)return!1;if(a===0)return!0;var h=WRe(n),m=h.startAngle,g=h.endAngle,v=l,b;if(m<=g){for(;v>g;)v-=360;for(;v<m;)v+=360;b=v>=m&&v<=g}else{for(;v>m;)v-=360;for(;v<g;)v+=360;b=v>=g&&v<=m}return b?Il(Il({},n),{},{radius:a,angle:GRe(v,n)}):null},ane=function(e){return!N.isValidElement(e)&&!_t(e)&&typeof e!="boolean"?e.className:""};function ox(t){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ox(t)}var YRe=["offset"];function KRe(t){return JRe(t)||ZRe(t)||QRe(t)||XRe()}function XRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QRe(t,e){if(t){if(typeof t=="string")return tP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tP(t,e)}}function ZRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JRe(t){if(Array.isArray(t))return tP(t)}function tP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ePe(t,e){if(t==null)return{};var n=tPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function y8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y8(Object(n),!0).forEach(function(r){nPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nPe(t,e,n){return e=rPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rPe(t){var e=iPe(t,"string");return ox(e)=="symbol"?e:e+""}function iPe(t,e){if(ox(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ox(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lx.apply(this,arguments)}var sPe=function(e){var n=e.value,r=e.formatter,i=Et(e.children)?n:e.children;return _t(r)?r(i):i},aPe=function(e,n){var r=Zi(n-e),i=Math.min(Math.abs(n-e),360);return r*i},oPe=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,l=e.className,u=s,d=u.cx,h=u.cy,m=u.innerRadius,g=u.outerRadius,v=u.startAngle,b=u.endAngle,_=u.clockWise,x=(m+g)/2,j=aPe(v,b),A=j>=0?1:-1,C,P;i==="insideStart"?(C=v+A*a,P=_):i==="insideEnd"?(C=b-A*a,P=!_):i==="end"&&(C=b+A*a,P=_),P=j<=0?P:!P;var T=Xn(d,h,x,C),I=Xn(d,h,x,C+(P?1:-1)*359),E="M".concat(T.x,",").concat(T.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(P?0:1,`,
    `).concat(I.x,",").concat(I.y),k=Et(e.id)?eh("recharts-radial-line-"):e.id;return Q.createElement("text",lx({},r,{dominantBaseline:"central",className:kt("recharts-radial-bar-label",l)}),Q.createElement("defs",null,Q.createElement("path",{id:k,d:E})),Q.createElement("textPath",{xlinkHref:"#".concat(k)},n))},lPe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,l=s.cy,u=s.innerRadius,d=s.outerRadius,h=s.startAngle,m=s.endAngle,g=(h+m)/2;if(i==="outside"){var v=Xn(a,l,d+r,g),b=v.x,_=v.y;return{x:b,y:_,textAnchor:b>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(u+d)/2,j=Xn(a,l,x,g),A=j.x,C=j.y;return{x:A,y:C,textAnchor:"middle",verticalAnchor:"middle"}},cPe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,l=a.x,u=a.y,d=a.width,h=a.height,m=h>=0?1:-1,g=m*i,v=m>0?"end":"start",b=m>0?"start":"end",_=d>=0?1:-1,x=_*i,j=_>0?"end":"start",A=_>0?"start":"end";if(s==="top"){var C={x:l+d/2,y:u-m*i,textAnchor:"middle",verticalAnchor:v};return Xr(Xr({},C),r?{height:Math.max(u-r.y,0),width:d}:{})}if(s==="bottom"){var P={x:l+d/2,y:u+h+g,textAnchor:"middle",verticalAnchor:b};return Xr(Xr({},P),r?{height:Math.max(r.y+r.height-(u+h),0),width:d}:{})}if(s==="left"){var T={x:l-x,y:u+h/2,textAnchor:j,verticalAnchor:"middle"};return Xr(Xr({},T),r?{width:Math.max(T.x-r.x,0),height:h}:{})}if(s==="right"){var I={x:l+d+x,y:u+h/2,textAnchor:A,verticalAnchor:"middle"};return Xr(Xr({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:h}:{})}var E=r?{width:d,height:h}:{};return s==="insideLeft"?Xr({x:l+x,y:u+h/2,textAnchor:A,verticalAnchor:"middle"},E):s==="insideRight"?Xr({x:l+d-x,y:u+h/2,textAnchor:j,verticalAnchor:"middle"},E):s==="insideTop"?Xr({x:l+d/2,y:u+g,textAnchor:"middle",verticalAnchor:b},E):s==="insideBottom"?Xr({x:l+d/2,y:u+h-g,textAnchor:"middle",verticalAnchor:v},E):s==="insideTopLeft"?Xr({x:l+x,y:u+g,textAnchor:A,verticalAnchor:b},E):s==="insideTopRight"?Xr({x:l+d-x,y:u+g,textAnchor:j,verticalAnchor:b},E):s==="insideBottomLeft"?Xr({x:l+x,y:u+h-g,textAnchor:A,verticalAnchor:v},E):s==="insideBottomRight"?Xr({x:l+d-x,y:u+h-g,textAnchor:j,verticalAnchor:v},E):Xp(s)&&(Re(s.x)||ef(s.x))&&(Re(s.y)||ef(s.y))?Xr({x:l+Ji(s.x,d),y:u+Ji(s.y,h),textAnchor:"end",verticalAnchor:"end"},E):Xr({x:l+d/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},E)},uPe=function(e){return"cx"in e&&Re(e.cx)};function hi(t){var e=t.offset,n=e===void 0?5:e,r=ePe(t,YRe),i=Xr({offset:n},r),s=i.viewBox,a=i.position,l=i.value,u=i.children,d=i.content,h=i.className,m=h===void 0?"":h,g=i.textBreakAll;if(!s||Et(l)&&Et(u)&&!N.isValidElement(d)&&!_t(d))return null;if(N.isValidElement(d))return N.cloneElement(d,i);var v;if(_t(d)){if(v=N.createElement(d,i),N.isValidElement(v))return v}else v=sPe(i);var b=uPe(s),_=ut(i,!0);if(b&&(a==="insideStart"||a==="insideEnd"||a==="end"))return oPe(i,v,_);var x=b?lPe(i):cPe(i);return Q.createElement(If,lx({className:kt("recharts-label",m)},_,x,{breakAll:g}),v)}hi.displayName="Label";var one=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,l=e.r,u=e.radius,d=e.innerRadius,h=e.outerRadius,m=e.x,g=e.y,v=e.top,b=e.left,_=e.width,x=e.height,j=e.clockWise,A=e.labelViewBox;if(A)return A;if(Re(_)&&Re(x)){if(Re(m)&&Re(g))return{x:m,y:g,width:_,height:x};if(Re(v)&&Re(b))return{x:v,y:b,width:_,height:x}}return Re(m)&&Re(g)?{x:m,y:g,width:0,height:0}:Re(n)&&Re(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:d||0,outerRadius:h||u||l||0,clockWise:j}:e.viewBox?e.viewBox:{}},dPe=function(e,n){return e?e===!0?Q.createElement(hi,{key:"label-implicit",viewBox:n}):ti(e)?Q.createElement(hi,{key:"label-implicit",viewBox:n,value:e}):N.isValidElement(e)?e.type===hi?N.cloneElement(e,{key:"label-implicit",viewBox:n}):Q.createElement(hi,{key:"label-implicit",content:e,viewBox:n}):_t(e)?Q.createElement(hi,{key:"label-implicit",content:e,viewBox:n}):Xp(e)?Q.createElement(hi,lx({viewBox:n},e,{key:"label-implicit"})):null:null},fPe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=one(e),a=Fs(i,hi).map(function(u,d){return N.cloneElement(u,{viewBox:n||s,key:"label-".concat(d)})});if(!r)return a;var l=dPe(e.label,n||s);return[l].concat(KRe(a))};hi.parseViewBox=one;hi.renderCallByParent=fPe;var bk,v8;function hPe(){if(v8)return bk;v8=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return bk=t,bk}var mPe=hPe();const pPe=Sn(mPe);function cx(t){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cx(t)}var gPe=["valueAccessor"],yPe=["data","dataKey","clockWise","id","textBreakAll"];function vPe(t){return wPe(t)||_Pe(t)||bPe(t)||xPe()}function xPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bPe(t,e){if(t){if(typeof t=="string")return nP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nP(t,e)}}function _Pe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wPe(t){if(Array.isArray(t))return nP(t)}function nP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O1.apply(this,arguments)}function x8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(n),!0).forEach(function(r){SPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SPe(t,e,n){return e=jPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jPe(t){var e=NPe(t,"string");return cx(e)=="symbol"?e:e+""}function NPe(t,e){if(cx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _8(t,e){if(t==null)return{};var n=APe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function APe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var EPe=function(e){return Array.isArray(e.value)?pPe(e.value):e.value};function zo(t){var e=t.valueAccessor,n=e===void 0?EPe:e,r=_8(t,gPe),i=r.data,s=r.dataKey,a=r.clockWise,l=r.id,u=r.textBreakAll,d=_8(r,yPe);return!i||!i.length?null:Q.createElement(Kt,{className:"recharts-label-list"},i.map(function(h,m){var g=Et(s)?n(h,m):Sr(h&&h.payload,s),v=Et(l)?{}:{id:"".concat(l,"-").concat(m)};return Q.createElement(hi,O1({},ut(h,!0),d,v,{parentViewBox:h.parentViewBox,value:g,textBreakAll:u,viewBox:hi.parseViewBox(Et(a)?h:b8(b8({},h),{},{clockWise:a})),key:"label-".concat(m),index:m}))}))}zo.displayName="LabelList";function TPe(t,e){return t?t===!0?Q.createElement(zo,{key:"labelList-implicit",data:e}):Q.isValidElement(t)||_t(t)?Q.createElement(zo,{key:"labelList-implicit",data:e,content:t}):Xp(t)?Q.createElement(zo,O1({data:e},t,{key:"labelList-implicit"})):null:null}function CPe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Fs(r,zo).map(function(a,l){return N.cloneElement(a,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var s=TPe(t.label,e);return[s].concat(vPe(i))}zo.renderCallByParent=CPe;function ux(t){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ux(t)}function rP(){return rP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rP.apply(this,arguments)}function w8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(n),!0).forEach(function(r){kPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kPe(t,e,n){return e=OPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OPe(t){var e=RPe(t,"string");return ux(e)=="symbol"?e:e+""}function RPe(t,e){if(ux(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ux(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PPe=function(e,n){var r=Zi(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},v_=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,l=e.isExternal,u=e.cornerRadius,d=e.cornerIsExternal,h=u*(l?1:-1)+i,m=Math.asin(u/h)/k1,g=d?s:s+a*m,v=Xn(n,r,h,g),b=Xn(n,r,i,g),_=d?s-a*m:s,x=Xn(n,r,h*Math.cos(m*k1),_);return{center:v,circleTangency:b,lineTangency:x,theta:m}},lne=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,l=e.endAngle,u=PPe(a,l),d=a+u,h=Xn(n,r,s,a),m=Xn(n,r,s,d),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var v=Xn(n,r,i,a),b=Xn(n,r,i,d);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},IPe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,l=e.forceCornerRadius,u=e.cornerIsExternal,d=e.startAngle,h=e.endAngle,m=Zi(h-d),g=v_({cx:n,cy:r,radius:s,angle:d,sign:m,cornerRadius:a,cornerIsExternal:u}),v=g.circleTangency,b=g.lineTangency,_=g.theta,x=v_({cx:n,cy:r,radius:s,angle:h,sign:-m,cornerRadius:a,cornerIsExternal:u}),j=x.circleTangency,A=x.lineTangency,C=x.theta,P=u?Math.abs(d-h):Math.abs(d-h)-_-C;if(P<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):lne({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:d,endAngle:h});var T="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(P>180),",").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var I=v_({cx:n,cy:r,radius:i,angle:d,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),E=I.circleTangency,k=I.lineTangency,O=I.theta,D=v_({cx:n,cy:r,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),M=D.circleTangency,V=D.lineTangency,$=D.theta,X=u?Math.abs(d-h):Math.abs(d-h)-O-$;if(X<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(V.x,",").concat(V.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(X>180),",").concat(+(m>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},MPe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cne=function(e){var n=S8(S8({},MPe),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,l=n.cornerRadius,u=n.forceCornerRadius,d=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,g=n.className;if(a<s||h===m)return null;var v=kt("recharts-sector",g),b=a-s,_=Ji(l,b,0,!0),x;return _>0&&Math.abs(h-m)<360?x=IPe({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(_,b/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:m}):x=lne({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:h,endAngle:m}),Q.createElement("path",rP({},ut(n,!0),{className:v,d:x,role:"img"}))};function dx(t){"@babel/helpers - typeof";return dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dx(t)}function iP(){return iP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iP.apply(this,arguments)}function j8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j8(Object(n),!0).forEach(function(r){DPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DPe(t,e,n){return e=LPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LPe(t){var e=$Pe(t,"string");return dx(e)=="symbol"?e:e+""}function $Pe(t,e){if(dx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A8={curveBasisClosed:iAe,curveBasisOpen:sAe,curveBasis:rAe,curveBumpX:zNe,curveBumpY:qNe,curveLinearClosed:aAe,curveLinear:Cj,curveMonotoneX:oAe,curveMonotoneY:lAe,curveNatural:cAe,curveStep:uAe,curveStepAfter:fAe,curveStepBefore:dAe},x_=function(e){return e.x===+e.x&&e.y===+e.y},vy=function(e){return e.x},xy=function(e){return e.y},VPe=function(e,n){if(_t(e))return e;var r="curve".concat(Ej(e));return(r==="curveMonotone"||r==="curveBump")&&n?A8["".concat(r).concat(n==="vertical"?"Y":"X")]:A8[r]||Cj},FPe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,l=e.layout,u=e.connectNulls,d=u===void 0?!1:u,h=VPe(r,l),m=d?s.filter(function(_){return x_(_)}):s,g;if(Array.isArray(a)){var v=d?a.filter(function(_){return x_(_)}):a,b=m.map(function(_,x){return N8(N8({},_),{},{base:v[x]})});return l==="vertical"?g=u_().y(xy).x1(vy).x0(function(_){return _.base.x}):g=u_().x(vy).y1(xy).y0(function(_){return _.base.y}),g.defined(x_).curve(h),g(b)}return l==="vertical"&&Re(a)?g=u_().y(xy).x1(vy).x0(a):Re(a)?g=u_().x(vy).y1(xy).y0(a):g=oee().x(vy).y(xy),g.defined(x_).curve(h),g(m)},df=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?FPe(e):i;return N.createElement("path",iP({},ut(e,!1),i1(e),{className:kt("recharts-curve",n),d:a,ref:s}))},_k={exports:{}},wk,E8;function BPe(){if(E8)return wk;E8=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wk=t,wk}var Sk,T8;function UPe(){if(T8)return Sk;T8=1;var t=BPe();function e(){}function n(){}return n.resetWarningCache=e,Sk=function(){function r(a,l,u,d,h,m){if(m!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},Sk}var C8;function zPe(){return C8||(C8=1,_k.exports=UPe()()),_k.exports}var qPe=zPe();const xn=Sn(qPe);var HPe=Object.getOwnPropertyNames,WPe=Object.getOwnPropertySymbols,GPe=Object.prototype.hasOwnProperty;function k8(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function b_(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),l=s.get(r);if(a&&l)return a===r&&l===n;s.set(n,r),s.set(r,n);var u=t(n,r,i);return s.delete(n),s.delete(r),u}}function O8(t){return HPe(t).concat(WPe(t))}var YPe=Object.hasOwn||function(t,e){return GPe.call(t,e)};function rh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var KPe="__v",XPe="__o",QPe="_owner",R8=Object.getOwnPropertyDescriptor,P8=Object.keys;function ZPe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function JPe(t,e){return rh(t.getTime(),e.getTime())}function eIe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function tIe(t,e){return t===e}function I8(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,l,u=0;(a=s.next())&&!a.done;){for(var d=e.entries(),h=!1,m=0;(l=d.next())&&!l.done;){if(i[m]){m++;continue}var g=a.value,v=l.value;if(n.equals(g[0],v[0],u,m,t,e,n)&&n.equals(g[1],v[1],g[0],v[0],t,e,n)){h=i[m]=!0;break}m++}if(!h)return!1;u++}return!0}var nIe=rh;function rIe(t,e,n){var r=P8(t),i=r.length;if(P8(e).length!==i)return!1;for(;i-- >0;)if(!une(t,e,n,r[i]))return!1;return!0}function by(t,e,n){var r=O8(t),i=r.length;if(O8(e).length!==i)return!1;for(var s,a,l;i-- >0;)if(s=r[i],!une(t,e,n,s)||(a=R8(t,s),l=R8(e,s),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function iIe(t,e){return rh(t.valueOf(),e.valueOf())}function sIe(t,e){return t.source===e.source&&t.flags===e.flags}function M8(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,l;(a=s.next())&&!a.done;){for(var u=e.values(),d=!1,h=0;(l=u.next())&&!l.done;){if(!i[h]&&n.equals(a.value,l.value,a.value,l.value,t,e,n)){d=i[h]=!0;break}h++}if(!d)return!1}return!0}function aIe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function oIe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function une(t,e,n,r){return(r===QPe||r===XPe||r===KPe)&&(t.$$typeof||e.$$typeof)?!0:YPe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var lIe="[object Arguments]",cIe="[object Boolean]",uIe="[object Date]",dIe="[object Error]",fIe="[object Map]",hIe="[object Number]",mIe="[object Object]",pIe="[object RegExp]",gIe="[object Set]",yIe="[object String]",vIe="[object URL]",xIe=Array.isArray,D8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,L8=Object.assign,bIe=Object.prototype.toString.call.bind(Object.prototype.toString);function _Ie(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,l=t.areObjectsEqual,u=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,h=t.areSetsEqual,m=t.areTypedArraysEqual,g=t.areUrlsEqual;return function(b,_,x){if(b===_)return!0;if(b==null||_==null)return!1;var j=typeof b;if(j!==typeof _)return!1;if(j!=="object")return j==="number"?a(b,_,x):j==="function"?i(b,_,x):!1;var A=b.constructor;if(A!==_.constructor)return!1;if(A===Object)return l(b,_,x);if(xIe(b))return e(b,_,x);if(D8!=null&&D8(b))return m(b,_,x);if(A===Date)return n(b,_,x);if(A===RegExp)return d(b,_,x);if(A===Map)return s(b,_,x);if(A===Set)return h(b,_,x);var C=bIe(b);return C===uIe?n(b,_,x):C===pIe?d(b,_,x):C===fIe?s(b,_,x):C===gIe?h(b,_,x):C===mIe?typeof b.then!="function"&&typeof _.then!="function"&&l(b,_,x):C===vIe?g(b,_,x):C===dIe?r(b,_,x):C===lIe?l(b,_,x):C===cIe||C===hIe||C===yIe?u(b,_,x):!1}}function wIe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?by:ZPe,areDatesEqual:JPe,areErrorsEqual:eIe,areFunctionsEqual:tIe,areMapsEqual:r?k8(I8,by):I8,areNumbersEqual:nIe,areObjectsEqual:r?by:rIe,arePrimitiveWrappersEqual:iIe,areRegExpsEqual:sIe,areSetsEqual:r?k8(M8,by):M8,areTypedArraysEqual:r?by:aIe,areUrlsEqual:oIe};if(n&&(i=L8({},i,n(i))),e){var s=b_(i.areArraysEqual),a=b_(i.areMapsEqual),l=b_(i.areObjectsEqual),u=b_(i.areSetsEqual);i=L8({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:l,areSetsEqual:u})}return i}function SIe(t){return function(e,n,r,i,s,a,l){return t(e,n,l)}}function jIe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(u,d){var h=r(),m=h.cache,g=m===void 0?e?new WeakMap:void 0:m,v=h.meta;return n(u,d,{cache:g,equals:i,meta:v,strict:s})};if(e)return function(u,d){return n(u,d,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(u,d){return n(u,d,a)}}var NIe=Qu();Qu({strict:!0});Qu({circular:!0});Qu({circular:!0,strict:!0});Qu({createInternalComparator:function(){return rh}});Qu({strict:!0,createInternalComparator:function(){return rh}});Qu({circular:!0,createInternalComparator:function(){return rh}});Qu({circular:!0,createInternalComparator:function(){return rh},strict:!0});function Qu(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,l=wIe(t),u=_Ie(l),d=r?r(u):SIe(u);return jIe({circular:n,comparator:u,createState:i,equals:d,strict:a})}function AIe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function $8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):AIe(i)};requestAnimationFrame(r)}function sP(t){"@babel/helpers - typeof";return sP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sP(t)}function EIe(t){return OIe(t)||kIe(t)||CIe(t)||TIe()}function TIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CIe(t,e){if(t){if(typeof t=="string")return V8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V8(t,e)}}function V8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OIe(t){if(Array.isArray(t))return t}function RIe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,l=EIe(a),u=l[0],d=l.slice(1);if(typeof u=="number"){$8(i.bind(null,d),u);return}i(u),$8(i.bind(null,d));return}sP(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function fx(t){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fx(t)}function F8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(n),!0).forEach(function(r){dne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dne(t,e,n){return e=PIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PIe(t){var e=IIe(t,"string");return fx(e)==="symbol"?e:String(e)}function IIe(t,e){if(fx(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MIe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},DIe=function(e){return e},LIe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},uv=function(e,n){return Object.keys(n).reduce(function(r,i){return B8(B8({},r),{},dne({},i,e(i,n[i])))},{})},U8=function(e,n,r){return e.map(function(i){return"".concat(LIe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function $Ie(t,e){return BIe(t)||FIe(t,e)||fne(t,e)||VIe()}function VIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function BIe(t){if(Array.isArray(t))return t}function UIe(t){return HIe(t)||qIe(t)||fne(t)||zIe()}function zIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fne(t,e){if(t){if(typeof t=="string")return aP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aP(t,e)}}function qIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HIe(t){if(Array.isArray(t))return aP(t)}function aP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var R1=1e-4,hne=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},mne=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},z8=function(e,n){return function(r){var i=hne(e,n);return mne(i,r)}},WIe=function(e,n){return function(r){var i=hne(e,n),s=[].concat(UIe(i.map(function(a,l){return a*l}).slice(1)),[0]);return mne(s,r)}},q8=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,l=1;break;case"ease":i=.25,s=.1,a=.25,l=1;break;case"ease-in":i=.42,s=0,a=1,l=1;break;case"ease-out":i=.42,s=0,a=.58,l=1;break;case"ease-in-out":i=0,s=0,a=.58,l=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var d=u[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),h=$Ie(d,4);i=h[0],s=h[1],a=h[2],l=h[3]}}}var m=z8(i,a),g=z8(s,l),v=WIe(i,a),b=function(j){return j>1?1:j<0?0:j},_=function(j){for(var A=j>1?1:j,C=A,P=0;P<8;++P){var T=m(C)-A,I=v(C);if(Math.abs(T-A)<R1||I<R1)return g(C);C=b(C-T/I)}return g(C)};return _.isStepper=!1,_},GIe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,l=a===void 0?17:a,u=function(h,m,g){var v=-(h-m)*r,b=g*s,_=g+(v-b)*l/1e3,x=g*l/1e3+h;return Math.abs(x-m)<R1&&Math.abs(_)<R1?[m,0]:[x,_]};return u.isStepper=!0,u.dt=l,u},YIe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return q8(i);case"spring":return GIe();default:if(i.split("(")[0]==="cubic-bezier")return q8(i)}return typeof i=="function"?i:null};function hx(t){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx(t)}function H8(t){return QIe(t)||XIe(t)||pne(t)||KIe()}function KIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QIe(t){if(Array.isArray(t))return lP(t)}function W8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(n),!0).forEach(function(r){oP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oP(t,e,n){return e=ZIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZIe(t){var e=JIe(t,"string");return hx(e)==="symbol"?e:String(e)}function JIe(t,e){if(hx(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eMe(t,e){return rMe(t)||nMe(t,e)||pne(t,e)||tMe()}function tMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pne(t,e){if(t){if(typeof t=="string")return lP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lP(t,e)}}function lP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function rMe(t){if(Array.isArray(t))return t}var P1=function(e,n,r){return e+(n-e)*r},cP=function(e){var n=e.from,r=e.to;return n!==r},iMe=function t(e,n,r){var i=uv(function(s,a){if(cP(a)){var l=e(a.from,a.to,a.velocity),u=eMe(l,2),d=u[0],h=u[1];return Ei(Ei({},a),{},{from:d,velocity:h})}return a},n);return r<1?uv(function(s,a){return cP(a)?Ei(Ei({},a),{},{velocity:P1(a.velocity,i[s].velocity,r),from:P1(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const sMe=function(t,e,n,r,i){var s=MIe(t,e),a=s.reduce(function(x,j){return Ei(Ei({},x),{},oP({},j,[t[j],e[j]]))},{}),l=s.reduce(function(x,j){return Ei(Ei({},x),{},oP({},j,{from:t[j],velocity:0,to:e[j]}))},{}),u=-1,d,h,m=function(){return null},g=function(){return uv(function(j,A){return A.from},l)},v=function(){return!Object.values(l).filter(cP).length},b=function(j){d||(d=j);var A=j-d,C=A/n.dt;l=iMe(n,l,C),i(Ei(Ei(Ei({},t),e),g())),d=j,v()||(u=requestAnimationFrame(m))},_=function(j){h||(h=j);var A=(j-h)/r,C=uv(function(T,I){return P1.apply(void 0,H8(I).concat([n(A)]))},a);if(i(Ei(Ei(Ei({},t),e),C)),A<1)u=requestAnimationFrame(m);else{var P=uv(function(T,I){return P1.apply(void 0,H8(I).concat([n(1)]))},a);i(Ei(Ei(Ei({},t),e),P))}};return m=n.isStepper?b:_,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(u)}}};function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}var aMe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function oMe(t,e){if(t==null)return{};var n=lMe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lMe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jk(t){return fMe(t)||dMe(t)||uMe(t)||cMe()}function cMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uMe(t,e){if(t){if(typeof t=="string")return uP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uP(t,e)}}function dMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fMe(t){if(Array.isArray(t))return uP(t)}function uP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G8(Object(n),!0).forEach(function(r){Uy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uy(t,e,n){return e=gne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gne(r.key),r)}}function pMe(t,e,n){return e&&mMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gne(t){var e=gMe(t,"string");return hp(e)==="symbol"?e:String(e)}function gMe(t,e){if(hp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dP(t,e)}function dP(t,e){return dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dP(t,e)}function vMe(t){var e=xMe();return function(){var r=I1(t),i;if(e){var s=I1(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return fP(this,i)}}function fP(t,e){if(e&&(hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hP(t)}function hP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function I1(t){return I1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I1(t)}var Xa=function(t){yMe(n,t);var e=vMe(n);function n(r,i){var s;hMe(this,n),s=e.call(this,r,i);var a=s.props,l=a.isActive,u=a.attributeName,d=a.from,h=a.to,m=a.steps,g=a.children,v=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(hP(s)),s.changeStyle=s.changeStyle.bind(hP(s)),!l||v<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:h}),fP(s);if(m&&m.length)s.state={style:m[0].style};else if(d){if(typeof g=="function")return s.state={style:d},fP(s);s.state={style:u?Uy({},u,d):d}}else s.state={style:{}};return s}return pMe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,l=s.canBegin,u=s.attributeName,d=s.shouldReAnimate,h=s.to,m=s.from,g=this.state.style;if(l){if(!a){var v={style:u?Uy({},u,h):h};this.state&&g&&(u&&g[u]!==h||!u&&g!==h)&&this.setState(v);return}if(!(NIe(i.to,h)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=b||d?m:i.to;if(this.state&&g){var x={style:u?Uy({},u,_):_};(u&&g[u]!==_||!u&&g!==_)&&this.setState(x)}this.runAnimation(Oa(Oa({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,l=i.to,u=i.duration,d=i.easing,h=i.begin,m=i.onAnimationEnd,g=i.onAnimationStart,v=sMe(a,l,YIe(d),u,this.changeStyle),b=function(){s.stopJSAnimation=v()};this.manager.start([g,h,b,u,m])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,l=i.begin,u=i.onAnimationStart,d=a[0],h=d.style,m=d.duration,g=m===void 0?0:m,v=function(_,x,j){if(j===0)return _;var A=x.duration,C=x.easing,P=C===void 0?"ease":C,T=x.style,I=x.properties,E=x.onAnimationEnd,k=j>0?a[j-1]:x,O=I||Object.keys(T);if(typeof P=="function"||P==="spring")return[].concat(jk(_),[s.runJSAnimation.bind(s,{from:k.style,to:T,duration:A,easing:P}),A]);var D=U8(O,A,P),M=Oa(Oa(Oa({},k.style),T),{},{transition:D});return[].concat(jk(_),[M,A,E]).filter(DIe)};return this.manager.start([u].concat(jk(a.reduce(v,[h,Math.max(g,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=RIe());var s=i.begin,a=i.duration,l=i.attributeName,u=i.to,d=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,g=i.steps,v=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof d=="function"||typeof v=="function"||d==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var _=l?Uy({},l,u):u,x=U8(Object.keys(_),a,d);b.start([h,s,Oa(Oa({},_),{},{transition:x}),a,m])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=oMe(i,aMe),d=N.Children.count(s),h=this.state.style;if(typeof s=="function")return s(h);if(!l||d===0||a<=0)return s;var m=function(v){var b=v.props,_=b.style,x=_===void 0?{}:_,j=b.className,A=N.cloneElement(v,Oa(Oa({},u),{},{style:Oa(Oa({},x),h),className:j}));return A};return d===1?m(N.Children.only(s)):Q.createElement("div",null,N.Children.map(s,function(g){return m(g)}))}}]),n}(N.PureComponent);Xa.displayName="Animate";Xa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xa.propTypes={from:xn.oneOfType([xn.object,xn.string]),to:xn.oneOfType([xn.object,xn.string]),attributeName:xn.string,duration:xn.number,begin:xn.number,easing:xn.oneOfType([xn.string,xn.func]),steps:xn.arrayOf(xn.shape({duration:xn.number.isRequired,style:xn.object.isRequired,easing:xn.oneOfType([xn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xn.func]),properties:xn.arrayOf("string"),onAnimationEnd:xn.func})),children:xn.oneOfType([xn.node,xn.func]),isActive:xn.bool,canBegin:xn.bool,onAnimationEnd:xn.func,shouldReAnimate:xn.bool,onAnimationStart:xn.func,onAnimationReStart:xn.func};function mx(t){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mx(t)}function M1(){return M1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M1.apply(this,arguments)}function bMe(t,e){return jMe(t)||SMe(t,e)||wMe(t,e)||_Me()}function _Me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wMe(t,e){if(t){if(typeof t=="string")return Y8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y8(t,e)}}function Y8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function jMe(t){if(Array.isArray(t))return t}function K8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K8(Object(n),!0).forEach(function(r){NMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NMe(t,e,n){return e=AMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AMe(t){var e=EMe(t,"string");return mx(e)=="symbol"?e:e+""}function EMe(t,e){if(mx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q8=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,u=r>=0?1:-1,d=i>=0&&r>=0||i<0&&r<0?1:0,h;if(a>0&&s instanceof Array){for(var m=[0,0,0,0],g=0,v=4;g<v;g++)m[g]=s[g]>a?a:s[g];h="M".concat(e,",").concat(n+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+u*m[0],",").concat(n)),h+="L ".concat(e+r-u*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(n+l*m[1])),h+="L ".concat(e+r,",").concat(n+i-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+r-u*m[2],",").concat(n+i)),h+="L ".concat(e+u*m[3],",").concat(n+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(n+i-l*m[3])),h+="Z"}else if(a>0&&s===+s&&s>0){var b=Math.min(a,s);h="M ".concat(e,",").concat(n+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+u*b,",").concat(n,`
            L `).concat(e+r-u*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+r,",").concat(n+l*b,`
            L `).concat(e+r,",").concat(n+i-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+r-u*b,",").concat(n+i,`
            L `).concat(e+u*b,",").concat(n+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e,",").concat(n+i-l*b," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},TMe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,l=n.width,u=n.height;if(Math.abs(l)>0&&Math.abs(u)>0){var d=Math.min(s,s+l),h=Math.max(s,s+l),m=Math.min(a,a+u),g=Math.max(a,a+u);return r>=d&&r<=h&&i>=m&&i<=g}return!1},CMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},l4=function(e){var n=X8(X8({},CMe),e),r=N.useRef(),i=N.useState(-1),s=bMe(i,2),a=s[0],l=s[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&l(P)}catch{}},[]);var u=n.x,d=n.y,h=n.width,m=n.height,g=n.radius,v=n.className,b=n.animationEasing,_=n.animationDuration,x=n.animationBegin,j=n.isAnimationActive,A=n.isUpdateAnimationActive;if(u!==+u||d!==+d||h!==+h||m!==+m||h===0||m===0)return null;var C=kt("recharts-rectangle",v);return A?Q.createElement(Xa,{canBegin:a>0,from:{width:h,height:m,x:u,y:d},to:{width:h,height:m,x:u,y:d},duration:_,animationEasing:b,isActive:A},function(P){var T=P.width,I=P.height,E=P.x,k=P.y;return Q.createElement(Xa,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:_,isActive:j,easing:b},Q.createElement("path",M1({},ut(n,!0),{className:C,d:Q8(E,k,T,I,g),ref:r})))}):Q.createElement("path",M1({},ut(n,!0),{className:C,d:Q8(u,d,h,m,g)}))},kMe=["points","className","baseLinePoints","connectNulls"];function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gm.apply(this,arguments)}function OMe(t,e){if(t==null)return{};var n=RMe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z8(t){return DMe(t)||MMe(t)||IMe(t)||PMe()}function PMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IMe(t,e){if(t){if(typeof t=="string")return mP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mP(t,e)}}function MMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DMe(t){if(Array.isArray(t))return mP(t)}function mP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var J8=function(e){return e&&e.x===+e.x&&e.y===+e.y},LMe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){J8(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),J8(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},dv=function(e,n){var r=LMe(e);n&&(r=[r.reduce(function(s,a){return[].concat(Z8(s),Z8(a))},[])]);var i=r.map(function(s){return s.reduce(function(a,l,u){return"".concat(a).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},$Me=function(e,n,r){var i=dv(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(dv(n.reverse(),r).slice(1))},VMe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,a=OMe(e,kMe);if(!n||!n.length)return null;var l=kt("recharts-polygon",r);if(i&&i.length){var u=a.stroke&&a.stroke!=="none",d=$Me(n,i,s);return Q.createElement("g",{className:l},Q.createElement("path",gm({},ut(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",stroke:"none",d})),u?Q.createElement("path",gm({},ut(a,!0),{fill:"none",d:dv(n,s)})):null,u?Q.createElement("path",gm({},ut(a,!0),{fill:"none",d:dv(i,s)})):null)}var h=dv(n,s);return Q.createElement("path",gm({},ut(a,!0),{fill:h.slice(-1)==="Z"?a.fill:"none",className:l,d:h}))};function pP(){return pP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pP.apply(this,arguments)}var _b=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=kt("recharts-dot",s);return n===+n&&r===+r&&i===+i?N.createElement("circle",pP({},ut(e,!1),i1(e),{className:a,cx:n,cy:r,r:i})):null};function px(t){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},px(t)}var FMe=["x","y","top","left","width","height","className"];function gP(){return gP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gP.apply(this,arguments)}function eq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BMe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eq(Object(n),!0).forEach(function(r){UMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UMe(t,e,n){return e=zMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zMe(t){var e=qMe(t,"string");return px(e)=="symbol"?e:e+""}function qMe(t,e){if(px(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(px(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HMe(t,e){if(t==null)return{};var n=WMe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var GMe=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},YMe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,l=a===void 0?0:a,u=e.left,d=u===void 0?0:u,h=e.width,m=h===void 0?0:h,g=e.height,v=g===void 0?0:g,b=e.className,_=HMe(e,FMe),x=BMe({x:r,y:s,top:l,left:d,width:m,height:v},_);return!Re(r)||!Re(s)||!Re(m)||!Re(v)||!Re(l)||!Re(d)?null:Q.createElement("path",gP({},ut(x,!0),{className:kt("recharts-cross",b),d:GMe(r,s,m,v,l,d)}))},Nk,tq;function KMe(){if(tq)return Nk;tq=1;var t=Fj(),e=Ote(),n=tl();function r(i,s){return i&&i.length?t(i,n(s,2),e):void 0}return Nk=r,Nk}var XMe=KMe();const QMe=Sn(XMe);var Ak,nq;function ZMe(){if(nq)return Ak;nq=1;var t=Fj(),e=tl(),n=Rte();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return Ak=r,Ak}var JMe=ZMe();const eDe=Sn(JMe);var tDe=["cx","cy","angle","ticks","axisLine"],nDe=["ticks","tick","angle","tickFormatter","stroke"];function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fv.apply(this,arguments)}function rq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Id(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rq(Object(n),!0).forEach(function(r){qj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iq(t,e){if(t==null)return{};var n=rDe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vne(r.key),r)}}function sDe(t,e,n){return e&&sq(t.prototype,e),n&&sq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aDe(t,e,n){return e=D1(e),oDe(t,yne()?Reflect.construct(e,n||[],D1(t).constructor):e.apply(t,n))}function oDe(t,e){if(e&&(mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lDe(t)}function lDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yne=function(){return!!t})()}function D1(t){return D1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D1(t)}function cDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yP(t,e)}function yP(t,e){return yP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yP(t,e)}function qj(t,e,n){return e=vne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vne(t){var e=uDe(t,"string");return mp(e)=="symbol"?e:e+""}function uDe(t,e){if(mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hj=function(t){function e(){return iDe(this,e),aDe(this,e,arguments)}return cDe(e,t),sDe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,a=s.angle,l=s.cx,u=s.cy;return Xn(l,u,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,l=r.ticks,u=QMe(l,function(h){return h.coordinate||0}),d=eDe(l,function(h){return h.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:d.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,l=r.ticks,u=r.axisLine,d=iq(r,tDe),h=l.reduce(function(b,_){return[Math.min(b[0],_.coordinate),Math.max(b[1],_.coordinate)]},[1/0,-1/0]),m=Xn(i,s,h[0],a),g=Xn(i,s,h[1],a),v=Id(Id(Id({},ut(d,!1)),{},{fill:"none"},ut(u,!1)),{},{x1:m.x,y1:m.y,x2:g.x,y2:g.y});return Q.createElement("line",fv({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,l=i.angle,u=i.tickFormatter,d=i.stroke,h=iq(i,nDe),m=this.getTickTextAnchor(),g=ut(h,!1),v=ut(a,!1),b=s.map(function(_,x){var j=r.getTickValueCoord(_),A=Id(Id(Id(Id({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},g),{},{stroke:"none",fill:d},v),{},{index:x},j),{},{payload:_});return Q.createElement(Kt,fv({className:kt("recharts-polar-radius-axis-tick",ane(a)),key:"tick-".concat(_.coordinate)},Pf(r.props,_,x)),e.renderTickItem(a,A,u?u(_.value,x):_.value))});return Q.createElement(Kt,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,a=r.tick;return!i||!i.length?null:Q.createElement(Kt,{className:kt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),hi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return Q.isValidElement(r)?a=Q.cloneElement(r,i):_t(r)?a=r(i):a=Q.createElement(If,fv({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])}(N.PureComponent);qj(Hj,"displayName","PolarRadiusAxis");qj(Hj,"axisType","radiusAxis");qj(Hj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function Yd(){return Yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yd.apply(this,arguments)}function aq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Md(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aq(Object(n),!0).forEach(function(r){Wj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bne(r.key),r)}}function fDe(t,e,n){return e&&oq(t.prototype,e),n&&oq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hDe(t,e,n){return e=L1(e),mDe(t,xne()?Reflect.construct(e,n||[],L1(t).constructor):e.apply(t,n))}function mDe(t,e){if(e&&(pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pDe(t)}function pDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xne=function(){return!!t})()}function L1(t){return L1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},L1(t)}function gDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vP(t,e)}function vP(t,e){return vP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vP(t,e)}function Wj(t,e,n){return e=bne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bne(t){var e=yDe(t,"string");return pp(e)=="symbol"?e:e+""}function yDe(t,e){if(pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vDe=Math.PI/180,lq=1e-5,Gj=function(t){function e(){return dDe(this,e),hDe(this,e,arguments)}return gDe(e,t),fDe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,a=i.cy,l=i.radius,u=i.orientation,d=i.tickSize,h=d||8,m=Xn(s,a,l,r.coordinate),g=Xn(s,a,l+(u==="inner"?-1:1)*h,r.coordinate);return{x1:m.x,y1:m.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*vDe),a;return s>lq?a=i==="outer"?"start":"end":s<-lq?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.radius,l=r.axisLine,u=r.axisLineType,d=Md(Md({},ut(this.props,!1)),{},{fill:"none"},ut(l,!1));if(u==="circle")return Q.createElement(_b,Yd({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:s,r:a}));var h=this.props.ticks,m=h.map(function(g){return Xn(i,s,a,g.coordinate)});return Q.createElement(VMe,Yd({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,l=i.tickLine,u=i.tickFormatter,d=i.stroke,h=ut(this.props,!1),m=ut(a,!1),g=Md(Md({},h),{},{fill:"none"},ut(l,!1)),v=s.map(function(b,_){var x=r.getTickLineCoord(b),j=r.getTickTextAnchor(b),A=Md(Md(Md({textAnchor:j},h),{},{stroke:"none",fill:d},m),{},{index:_,payload:b,x:x.x2,y:x.y2});return Q.createElement(Kt,Yd({className:kt("recharts-polar-angle-axis-tick",ane(a)),key:"tick-".concat(b.coordinate)},Pf(r.props,b,_)),l&&Q.createElement("line",Yd({className:"recharts-polar-angle-axis-tick-line"},g,x)),a&&e.renderTickItem(a,A,u?u(b.value,_):b.value))});return Q.createElement(Kt,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,a=r.axisLine;return s<=0||!i||!i.length?null:Q.createElement(Kt,{className:kt("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var a;return Q.isValidElement(r)?a=Q.cloneElement(r,i):_t(r)?a=r(i):a=Q.createElement(If,Yd({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])}(N.PureComponent);Wj(Gj,"displayName","PolarAngleAxis");Wj(Gj,"axisType","angleAxis");Wj(Gj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Ek,cq;function xDe(){if(cq)return Ek;cq=1;var t=kee(),e=t(Object.getPrototypeOf,Object);return Ek=e,Ek}var Tk,uq;function bDe(){if(uq)return Tk;uq=1;var t=vc(),e=xDe(),n=xc(),r="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,l=s.hasOwnProperty,u=a.call(Object);function d(h){if(!n(h)||t(h)!=r)return!1;var m=e(h);if(m===null)return!0;var g=l.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&a.call(g)==u}return Tk=d,Tk}var _De=bDe();const wDe=Sn(_De);var Ck,dq;function SDe(){if(dq)return Ck;dq=1;var t=vc(),e=xc(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return Ck=r,Ck}var jDe=SDe();const NDe=Sn(jDe);function gx(t){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gx(t)}function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$1.apply(this,arguments)}function ADe(t,e){return kDe(t)||CDe(t,e)||TDe(t,e)||EDe()}function EDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TDe(t,e){if(t){if(typeof t=="string")return fq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fq(t,e)}}function fq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function kDe(t){if(Array.isArray(t))return t}function hq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hq(Object(n),!0).forEach(function(r){ODe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ODe(t,e,n){return e=RDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RDe(t){var e=PDe(t,"string");return gx(e)=="symbol"?e:e+""}function PDe(t,e){if(gx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pq=function(e,n,r,i,s){var a=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-a/2,",").concat(n+s),l+="L ".concat(e+r-a/2-i,",").concat(n+s),l+="L ".concat(e,",").concat(n," Z"),l},IDe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MDe=function(e){var n=mq(mq({},IDe),e),r=N.useRef(),i=N.useState(-1),s=ADe(i,2),a=s[0],l=s[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&l(C)}catch{}},[]);var u=n.x,d=n.y,h=n.upperWidth,m=n.lowerWidth,g=n.height,v=n.className,b=n.animationEasing,_=n.animationDuration,x=n.animationBegin,j=n.isUpdateAnimationActive;if(u!==+u||d!==+d||h!==+h||m!==+m||g!==+g||h===0&&m===0||g===0)return null;var A=kt("recharts-trapezoid",v);return j?Q.createElement(Xa,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:g,x:u,y:d},to:{upperWidth:h,lowerWidth:m,height:g,x:u,y:d},duration:_,animationEasing:b,isActive:j},function(C){var P=C.upperWidth,T=C.lowerWidth,I=C.height,E=C.x,k=C.y;return Q.createElement(Xa,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:_,easing:b},Q.createElement("path",$1({},ut(n,!0),{className:A,d:pq(E,k,P,T,I),ref:r})))}):Q.createElement("g",null,Q.createElement("path",$1({},ut(n,!0),{className:A,d:pq(u,d,h,m,g)})))},DDe=["option","shapeType","propTransformer","activeClassName","isActive"];function yx(t){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yx(t)}function LDe(t,e){if(t==null)return{};var n=$De(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $De(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gq(Object(n),!0).forEach(function(r){VDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VDe(t,e,n){return e=FDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FDe(t){var e=BDe(t,"string");return yx(e)=="symbol"?e:e+""}function BDe(t,e){if(yx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UDe(t,e){return V1(V1({},e),t)}function zDe(t,e){return t==="symbols"}function yq(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return Q.createElement(l4,n);case"trapezoid":return Q.createElement(MDe,n);case"sector":return Q.createElement(cne,n);case"symbols":if(zDe(e))return Q.createElement(ED,n);break;default:return null}}function qDe(t){return N.isValidElement(t)?t.props:t}function _ne(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?UDe:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,l=t.isActive,u=LDe(t,DDe),d;if(N.isValidElement(e))d=N.cloneElement(e,V1(V1({},u),qDe(e)));else if(_t(e))d=e(u);else if(wDe(e)&&!NDe(e)){var h=i(e,u);d=Q.createElement(yq,{shapeType:n,elementProps:h})}else{var m=u;d=Q.createElement(yq,{shapeType:n,elementProps:m})}return l?Q.createElement(Kt,{className:a},d):d}function Yj(t,e){return e!=null&&"trapezoids"in t.props}function Kj(t,e){return e!=null&&"sectors"in t.props}function vx(t,e){return e!=null&&"points"in t.props}function HDe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function WDe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function GDe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function YDe(t,e){var n;return Yj(t,e)?n=HDe:Kj(t,e)?n=WDe:vx(t,e)&&(n=GDe),n}function KDe(t,e){var n;return Yj(t,e)?n="trapezoids":Kj(t,e)?n="sectors":vx(t,e)&&(n="points"),n}function XDe(t,e){if(Yj(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Kj(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return vx(t,e)?e.payload:{}}function QDe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=KDe(n,e),s=XDe(n,e),a=r.filter(function(u,d){var h=Mf(s,u),m=n.props[i].filter(function(b){var _=YDe(n,e);return _(b,e)}),g=n.props[i].indexOf(m[m.length-1]),v=d===g;return h&&v}),l=r.indexOf(a[a.length-1]);return l}var iw;function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function ym(){return ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ym.apply(this,arguments)}function vq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vq(Object(n),!0).forEach(function(r){fa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sne(r.key),r)}}function JDe(t,e,n){return e&&xq(t.prototype,e),n&&xq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function e4e(t,e,n){return e=F1(e),t4e(t,wne()?Reflect.construct(e,n||[],F1(t).constructor):e.apply(t,n))}function t4e(t,e){if(e&&(gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n4e(t)}function n4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wne=function(){return!!t})()}function F1(t){return F1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F1(t)}function r4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xP(t,e)}function xP(t,e){return xP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xP(t,e)}function fa(t,e,n){return e=Sne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sne(t){var e=i4e(t,"string");return gp(e)=="symbol"?e:e+""}function i4e(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xo=function(t){function e(n){var r;return ZDe(this,e),r=e4e(this,e,[n]),fa(r,"pieRef",null),fa(r,"sectorRefs",[]),fa(r,"id",eh("recharts-pie-")),fa(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),_t(i)&&i()}),fa(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),_t(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return r4e(e,t),JDe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,l=s.labelLine,u=s.dataKey,d=s.valueKey,h=ut(this.props,!1),m=ut(a,!1),g=ut(l,!1),v=a&&a.offsetRadius||20,b=r.map(function(_,x){var j=(_.startAngle+_.endAngle)/2,A=Xn(_.cx,_.cy,_.outerRadius+v,j),C=Yn(Yn(Yn(Yn({},h),_),{},{stroke:"none"},m),{},{index:x,textAnchor:e.getTextAnchor(A.x,_.cx)},A),P=Yn(Yn(Yn(Yn({},h),_),{},{fill:"none",stroke:_.fill},g),{},{index:x,points:[Xn(_.cx,_.cy,_.outerRadius,j),A]}),T=u;return Et(u)&&Et(d)?T="value":Et(u)&&(T=d),Q.createElement(Kt,{key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(x)},l&&e.renderLabelLineItem(l,P,"line"),e.renderLabelItem(a,C,Sr(_,T)))});return Q.createElement(Kt,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,a=s.activeShape,l=s.blendStroke,u=s.inactiveShape;return r.map(function(d,h){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&r.length!==1)return null;var m=i.isActiveIndex(h),g=u&&i.hasActiveIndex()?u:null,v=m?a:g,b=Yn(Yn({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return Q.createElement(Kt,ym({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Pf(i.props,d,h),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(h)}),Q.createElement(_ne,ym({option:v,isActive:m,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,h=i.animationId,m=this.state,g=m.prevSectors,v=m.prevIsAnimationActive;return Q.createElement(Xa,{begin:l,duration:u,isActive:a,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var _=b.t,x=[],j=s&&s[0],A=j.startAngle;return s.forEach(function(C,P){var T=g&&g[P],I=P>0?Vs(C,"paddingAngle",0):0;if(T){var E=Jr(T.endAngle-T.startAngle,C.endAngle-C.startAngle),k=Yn(Yn({},C),{},{startAngle:A+I,endAngle:A+E(_)+I});x.push(k),A=k.endAngle}else{var O=C.endAngle,D=C.startAngle,M=Jr(0,O-D),V=M(_),$=Yn(Yn({},C),{},{startAngle:A+I,endAngle:A+V+I});x.push($),A=$.endAngle}}),Q.createElement(Kt,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!Mf(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,a=i.sectors,l=i.className,u=i.label,d=i.cx,h=i.cy,m=i.innerRadius,g=i.outerRadius,v=i.isAnimationActive,b=this.state.isAnimationFinished;if(s||!a||!a.length||!Re(d)||!Re(h)||!Re(m)||!Re(g))return null;var _=kt("recharts-pie",l);return Q.createElement(Kt,{tabIndex:this.props.rootTabIndex,className:_,ref:function(j){r.pieRef=j}},this.renderSectors(),u&&this.renderLabels(a),hi.renderCallByParent(this.props,null,!1),(!v||b)&&zo.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(Q.isValidElement(r))return Q.cloneElement(r,i);if(_t(r))return r(i);var a=kt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return Q.createElement(df,ym({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,s){if(Q.isValidElement(r))return Q.cloneElement(r,i);var a=s;if(_t(r)&&(a=r(i),Q.isValidElement(a)))return a;var l=kt("recharts-pie-label-text",typeof r!="boolean"&&!_t(r)?r.className:"");return Q.createElement(If,ym({},i,{alignmentBaseline:"middle",className:l}),a)}}])}(N.PureComponent);iw=Xo;fa(Xo,"displayName","Pie");fa(Xo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Yu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});fa(Xo,"parseDeltaAngle",function(t,e){var n=Zi(e-t),r=Math.min(Math.abs(e-t),360);return n*r});fa(Xo,"getRealPieData",function(t){var e=t.data,n=t.children,r=ut(t,!1),i=Fs(n,Ml);return e&&e.length?e.map(function(s,a){return Yn(Yn(Yn({payload:s},r),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return Yn(Yn({},r),s.props)}):[]});fa(Xo,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,a=sne(i,s),l=r+Ji(t.cx,i,i/2),u=n+Ji(t.cy,s,s/2),d=Ji(t.innerRadius,a,0),h=Ji(t.outerRadius,a,a*.8),m=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:h,maxRadius:m}});fa(Xo,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Yn(Yn({},e.type.defaultProps),e.props):e.props,i=iw.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,a=r.startAngle,l=r.endAngle,u=r.paddingAngle,d=r.dataKey,h=r.nameKey,m=r.valueKey,g=r.tooltipType,v=Math.abs(r.minAngle),b=iw.parseCoordinateOfPie(r,n),_=iw.parseDeltaAngle(a,l),x=Math.abs(_),j=d;Et(d)&&Et(m)?(Ua(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):Et(d)&&(Ua(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=m);var A=i.filter(function(k){return Sr(k,j,0)!==0}).length,C=(x>=360?A:A-1)*u,P=x-A*v-C,T=i.reduce(function(k,O){var D=Sr(O,j,0);return k+(Re(D)?D:0)},0),I;if(T>0){var E;I=i.map(function(k,O){var D=Sr(k,j,0),M=Sr(k,h,O),V=(Re(D)?D:0)/T,$;O?$=E.endAngle+Zi(_)*u*(D!==0?1:0):$=a;var X=$+Zi(_)*((D!==0?v:0)+V*P),H=($+X)/2,U=(b.innerRadius+b.outerRadius)/2,q=[{name:M,value:D,payload:k,dataKey:j,type:g}],G=Xn(b.cx,b.cy,U,H);return E=Yn(Yn(Yn({percent:V,cornerRadius:s,name:M,tooltipPayload:q,midAngle:H,middleRadius:U,tooltipPosition:G},k),b),{},{value:Sr(k,j),startAngle:$,endAngle:X,payload:k,paddingAngle:Zi(_)*u}),E})}return Yn(Yn({},b),{},{sectors:I,data:i})});var kk,bq;function s4e(){if(bq)return kk;bq=1;var t=Math.ceil,e=Math.max;function n(r,i,s,a){for(var l=-1,u=e(t((i-r)/(s||1)),0),d=Array(u);u--;)d[a?u:++l]=r,r+=s;return d}return kk=n,kk}var Ok,_q;function jne(){if(_q)return Ok;_q=1;var t=Wee(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return Ok=r,Ok}var Rk,wq;function a4e(){if(wq)return Rk;wq=1;var t=s4e(),e=Pj(),n=jne();function r(i){return function(s,a,l){return l&&typeof l!="number"&&e(s,a,l)&&(a=l=void 0),s=n(s),a===void 0?(a=s,s=0):a=n(a),l=l===void 0?s<a?1:-1:n(l),t(s,a,l,i)}}return Rk=r,Rk}var Pk,Sq;function o4e(){if(Sq)return Pk;Sq=1;var t=a4e(),e=t();return Pk=e,Pk}var l4e=o4e();const B1=Sn(l4e);function xx(t){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx(t)}function jq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jq(Object(n),!0).forEach(function(r){Nne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nne(t,e,n){return e=c4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c4e(t){var e=u4e(t,"string");return xx(e)=="symbol"?e:e+""}function u4e(t,e){if(xx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d4e=["Webkit","Moz","O","ms"],f4e=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=d4e.reduce(function(s,a){return Nq(Nq({},s),{},Nne({},a+r,n))},{});return i[e]=n,i};function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U1.apply(this,arguments)}function Aq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ik(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aq(Object(n),!0).forEach(function(r){As(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ene(r.key),r)}}function m4e(t,e,n){return e&&Eq(t.prototype,e),n&&Eq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p4e(t,e,n){return e=z1(e),g4e(t,Ane()?Reflect.construct(e,n||[],z1(t).constructor):e.apply(t,n))}function g4e(t,e){if(e&&(yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y4e(t)}function y4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ane(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ane=function(){return!!t})()}function z1(t){return z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z1(t)}function v4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bP(t,e)}function bP(t,e){return bP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bP(t,e)}function As(t,e,n){return e=Ene(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ene(t){var e=x4e(t,"string");return yp(e)=="symbol"?e:e+""}function x4e(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var b4e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var u=n.length,d=lv().domain(B1(0,u)).range([s,s+a-l]),h=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(i),scale:d,scaleValues:h}},Tq=function(e){return e.changedTouches&&!!e.changedTouches.length},vp=function(t){function e(n){var r;return h4e(this,e),r=p4e(this,e,[n]),As(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),As(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),As(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,l=i.startIndex;a==null||a({endIndex:s,startIndex:l})}),r.detachDragEndListener()}),As(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),As(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),As(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),As(r,"handleSlideDragStart",function(i){var s=Tq(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return v4e(e,t),m4e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,l=this.props,u=l.gap,d=l.data,h=d.length-1,m=Math.min(i,s),g=Math.max(i,s),v=e.getIndexInRange(a,m),b=e.getIndexInRange(a,g);return{startIndex:v-v%u,endIndex:b===h?h:b-b%u}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,l=i.dataKey,u=Sr(s[r],l,r);return _t(a)?a(u,r):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,l=i.endX,u=this.props,d=u.x,h=u.width,m=u.travellerWidth,g=u.startIndex,v=u.endIndex,b=u.onChange,_=r.pageX-s;_>0?_=Math.min(_,d+h-m-l,d+h-m-a):_<0&&(_=Math.max(_,d-a,d-l));var x=this.getIndex({startX:a+_,endX:l+_});(x.startIndex!==g||x.endIndex!==v)&&b&&b(x),this.setState({startX:a+_,endX:l+_,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=Tq(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,l=i.endX,u=i.startX,d=this.state[a],h=this.props,m=h.x,g=h.width,v=h.travellerWidth,b=h.onChange,_=h.gap,x=h.data,j={startX:this.state.startX,endX:this.state.endX},A=r.pageX-s;A>0?A=Math.min(A,m+g-v-d):A<0&&(A=Math.max(A,m-d)),j[a]=d+A;var C=this.getIndex(j),P=C.startIndex,T=C.endIndex,I=function(){var k=x.length-1;return a==="startX"&&(l>u?P%_===0:T%_===0)||l<u&&T===k||a==="endX"&&(l>u?T%_===0:P%_===0)||l>u&&T===k};this.setState(As(As({},a,d+A),"brushMoveStartX",r.pageX),function(){b&&I()&&b(C)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,l=a.scaleValues,u=a.startX,d=a.endX,h=this.state[i],m=l.indexOf(h);if(m!==-1){var g=m+r;if(!(g===-1||g>=l.length)){var v=l[g];i==="startX"&&v>=d||i==="endX"&&v<=u||this.setState(As({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,l=r.height,u=r.fill,d=r.stroke;return Q.createElement("rect",{stroke:d,fill:u,x:i,y:s,width:a,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,l=r.height,u=r.data,d=r.children,h=r.padding,m=N.Children.only(d);return m?Q.cloneElement(m,{x:i,y:s,width:a,height:l,margin:h,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,l=this,u=this.props,d=u.y,h=u.travellerWidth,m=u.height,g=u.traveller,v=u.ariaLabel,b=u.data,_=u.startIndex,x=u.endIndex,j=Math.max(r,this.props.x),A=Ik(Ik({},ut(this.props,!1)),{},{x:j,y:d,width:h,height:m}),C=v||"Min value: ".concat((s=b[_])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=b[x])===null||a===void 0?void 0:a.name);return Q.createElement(Kt,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),l.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,A))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,l=s.height,u=s.stroke,d=s.travellerWidth,h=Math.min(r,i)+d,m=Math.max(Math.abs(i-r)-d,0);return Q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:h,y:a,width:m,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,l=r.height,u=r.travellerWidth,d=r.stroke,h=this.state,m=h.startX,g=h.endX,v=5,b={pointerEvents:"none",fill:d};return Q.createElement(Kt,{className:"recharts-brush-texts"},Q.createElement(If,U1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-v,y:a+l/2},b),this.getTextOfTick(i)),Q.createElement(If,U1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+u+v,y:a+l/2},b),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,l=r.x,u=r.y,d=r.width,h=r.height,m=r.alwaysShowText,g=this.state,v=g.startX,b=g.endX,_=g.isTextActive,x=g.isSlideMoving,j=g.isTravellerMoving,A=g.isTravellerFocused;if(!i||!i.length||!Re(l)||!Re(u)||!Re(d)||!Re(h)||d<=0||h<=0)return null;var C=kt("recharts-brush",s),P=Q.Children.count(a)===1,T=f4e("userSelect","none");return Q.createElement(Kt,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(v,b),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(b,"endX"),(_||x||j||A||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,l=r.height,u=r.stroke,d=Math.floor(s+l/2)-1;return Q.createElement(Q.Fragment,null,Q.createElement("rect",{x:i,y:s,width:a,height:l,fill:u,stroke:"none"}),Q.createElement("line",{x1:i+1,y1:d,x2:i+a-1,y2:d,fill:"none",stroke:"#fff"}),Q.createElement("line",{x1:i+1,y1:d+2,x2:i+a-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return Q.isValidElement(r)?s=Q.cloneElement(r,i):_t(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,l=r.x,u=r.travellerWidth,d=r.updateId,h=r.startIndex,m=r.endIndex;if(s!==i.prevData||d!==i.prevUpdateId)return Ik({prevData:s,prevTravellerWidth:u,prevUpdateId:d,prevX:l,prevWidth:a},s&&s.length?b4e({data:s,width:a,x:l,travellerWidth:u,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||l!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([l,l+a-u]);var g=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:u,prevUpdateId:d,prevX:l,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,l=s-1;l-a>1;){var u=Math.floor((a+l)/2);r[u]>i?l=u:a=u}return i>=r[l]?l:a}}])}(N.PureComponent);As(vp,"displayName","Brush");As(vp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Mk,Cq;function _4e(){if(Cq)return Mk;Cq=1;var t=ID();function e(n,r){var i;return t(n,function(s,a,l){return i=r(s,a,l),!i}),!!i}return Mk=e,Mk}var Dk,kq;function w4e(){if(kq)return Dk;kq=1;var t=See(),e=tl(),n=_4e(),r=gs(),i=Pj();function s(a,l,u){var d=r(a)?t:n;return u&&i(a,l,u)&&(l=void 0),d(a,e(l,3))}return Dk=s,Dk}var S4e=w4e();const j4e=Sn(S4e);var qo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Lk,Oq;function N4e(){if(Oq)return Lk;Oq=1;var t=Bee();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Lk=e,Lk}var $k,Rq;function A4e(){if(Rq)return $k;Rq=1;var t=N4e(),e=Vee(),n=tl();function r(i,s){var a={};return s=n(s,3),e(i,function(l,u,d){t(a,u,s(l,u,d))}),a}return $k=r,$k}var E4e=A4e();const T4e=Sn(E4e);var Vk,Pq;function C4e(){if(Pq)return Vk;Pq=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return Vk=t,Vk}var Fk,Iq;function k4e(){if(Iq)return Fk;Iq=1;var t=ID();function e(n,r){var i=!0;return t(n,function(s,a,l){return i=!!r(s,a,l),i}),i}return Fk=e,Fk}var Bk,Mq;function O4e(){if(Mq)return Bk;Mq=1;var t=C4e(),e=k4e(),n=tl(),r=gs(),i=Pj();function s(a,l,u){var d=r(a)?t:e;return u&&i(a,l,u)&&(l=void 0),d(a,n(l,3))}return Bk=s,Bk}var R4e=O4e();const Tne=Sn(R4e);var P4e=["x","y"];function bx(t){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bx(t)}function _P(){return _P=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_P.apply(this,arguments)}function Dq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dq(Object(n),!0).forEach(function(r){I4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I4e(t,e,n){return e=M4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M4e(t){var e=D4e(t,"string");return bx(e)=="symbol"?e:e+""}function D4e(t,e){if(bx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L4e(t,e){if(t==null)return{};var n=$4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function V4e(t,e){var n=t.x,r=t.y,i=L4e(t,P4e),s="".concat(n),a=parseInt(s,10),l="".concat(r),u=parseInt(l,10),d="".concat(e.height||i.height),h=parseInt(d,10),m="".concat(e.width||i.width),g=parseInt(m,10);return _y(_y(_y(_y(_y({},e),i),a?{x:a}:{}),u?{y:u}:{}),{},{height:h,width:g,name:e.name,radius:e.radius})}function Lq(t){return Q.createElement(_ne,_P({shapeType:"rectangle",propTransformer:V4e,activeClassName:"recharts-active-bar"},t))}var F4e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=Re(r)||dNe(r);return s?e(r,i):(s||Lf(),n)}},B4e=["value","background"],Cne;function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function U4e(t,e){if(t==null)return{};var n=z4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1.apply(this,arguments)}function $q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$q(Object(n),!0).forEach(function(r){pu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$q(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,One(r.key),r)}}function H4e(t,e,n){return e&&Vq(t.prototype,e),n&&Vq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function W4e(t,e,n){return e=H1(e),G4e(t,kne()?Reflect.construct(e,n||[],H1(t).constructor):e.apply(t,n))}function G4e(t,e){if(e&&(xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y4e(t)}function Y4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kne=function(){return!!t})()}function H1(t){return H1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H1(t)}function K4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wP(t,e)}function wP(t,e){return wP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wP(t,e)}function pu(t,e,n){return e=One(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function One(t){var e=X4e(t,"string");return xp(e)=="symbol"?e:e+""}function X4e(t,e){if(xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tc=function(t){function e(){var n;q4e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=W4e(this,e,[].concat(i)),pu(n,"state",{isAnimationFinished:!1}),pu(n,"id",eh("recharts-bar-")),pu(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),pu(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return K4e(e,t),H4e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,l=s.dataKey,u=s.activeIndex,d=s.activeBar,h=ut(this.props,!1);return r&&r.map(function(m,g){var v=g===u,b=v?d:a,_=Pr(Pr(Pr({},h),m),{},{isActive:v,option:b,index:g,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Q.createElement(Kt,q1({className:"recharts-bar-rectangle"},Pf(i.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),Q.createElement(Lq,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,l=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,h=i.animationEasing,m=i.animationId,g=this.state.prevData;return Q.createElement(Xa,{begin:u,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t,_=s.map(function(x,j){var A=g&&g[j];if(A){var C=Jr(A.x,x.x),P=Jr(A.y,x.y),T=Jr(A.width,x.width),I=Jr(A.height,x.height);return Pr(Pr({},x),{},{x:C(b),y:P(b),width:T(b),height:I(b)})}if(a==="horizontal"){var E=Jr(0,x.height),k=E(b);return Pr(Pr({},x),{},{y:x.y+x.height-k,height:k})}var O=Jr(0,x.width),D=O(b);return Pr(Pr({},x),{},{width:D})});return Q.createElement(Kt,null,r.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!Mf(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,l=i.activeIndex,u=ut(this.props.background,!1);return s.map(function(d,h){d.value;var m=d.background,g=U4e(d,B4e);if(!m)return null;var v=Pr(Pr(Pr(Pr(Pr({},g),{},{fill:"#eee"},m),u),Pf(r.props,d,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:h,className:"recharts-bar-background-rectangle"});return Q.createElement(Lq,q1({key:"background-bar-".concat(h),option:r.props.background,isActive:h===l},v))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,l=s.xAxis,u=s.yAxis,d=s.layout,h=s.children,m=Fs(h,bb);if(!m)return null;var g=d==="vertical"?a[0].height/2:a[0].width/2,v=function(x,j){var A=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:A,errorVal:Sr(x,j)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Q.createElement(Kt,b,m.map(function(_){return Q.cloneElement(_,{key:"error-bar-".concat(i,"-").concat(_.props.dataKey),data:a,xAxis:l,yAxis:u,layout:d,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,l=r.xAxis,u=r.yAxis,d=r.left,h=r.top,m=r.width,g=r.height,v=r.isAnimationActive,b=r.background,_=r.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,j=kt("recharts-bar",a),A=l&&l.allowDataOverflow,C=u&&u.allowDataOverflow,P=A||C,T=Et(_)?this.id:_;return Q.createElement(Kt,{className:j},A||C?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(T)},Q.createElement("rect",{x:A?d:d-m/2,y:C?h:h-g/2,width:A?m:m*2,height:C?g:g*2}))):null,Q.createElement(Kt,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(T,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,T),(!v||x)&&zo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(N.PureComponent);Cne=tc;pu(tc,"displayName","Bar");pu(tc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Yu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});pu(tc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,l=t.xAxisTicks,u=t.yAxisTicks,d=t.stackedData,h=t.dataStartIndex,m=t.displayedData,g=t.offset,v=NRe(r,n);if(!v)return null;var b=e.layout,_=n.type.defaultProps,x=_!==void 0?Pr(Pr({},_),n.props):n.props,j=x.dataKey,A=x.children,C=x.minPointSize,P=b==="horizontal"?a:s,T=d?P.scale.domain():null,I=RRe({numericAxis:P}),E=Fs(A,Ml),k=m.map(function(O,D){var M,V,$,X,H,U;d?M=ARe(d[h+D],T):(M=Sr(O,j),Array.isArray(M)||(M=[I,M]));var q=F4e(C,Cne.defaultProps.minPointSize)(M[1],D);if(b==="horizontal"){var G,W=[a.scale(M[0]),a.scale(M[1])],z=W[0],Z=W[1];V=u8({axis:s,ticks:l,bandSize:i,offset:v.offset,entry:O,index:D}),$=(G=Z??z)!==null&&G!==void 0?G:void 0,X=v.size;var te=z-Z;if(H=Number.isNaN(te)?0:te,U={x:V,y:a.y,width:X,height:a.height},Math.abs(q)>0&&Math.abs(H)<Math.abs(q)){var ne=Zi(H||q)*(Math.abs(q)-Math.abs(H));$-=ne,H+=ne}}else{var ge=[s.scale(M[0]),s.scale(M[1])],Ce=ge[0],Te=ge[1];if(V=Ce,$=u8({axis:a,ticks:u,bandSize:i,offset:v.offset,entry:O,index:D}),X=Te-Ce,H=v.size,U={x:s.x,y:$,width:s.width,height:H},Math.abs(q)>0&&Math.abs(X)<Math.abs(q)){var je=Zi(X||q)*(Math.abs(q)-Math.abs(X));X+=je}}return Pr(Pr(Pr({},O),{},{x:V,y:$,width:X,height:H,value:d?M:M[1],payload:O,background:U},E&&E[D]&&E[D].props),{},{tooltipPayload:[rne(n,O)],tooltipPosition:{x:V+X/2,y:$+H/2}})});return Pr({data:k,layout:b},g)});function _x(t){"@babel/helpers - typeof";return _x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_x(t)}function Q4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rne(r.key),r)}}function Z4e(t,e,n){return e&&Fq(t.prototype,e),n&&Fq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bq(Object(n),!0).forEach(function(r){Xj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xj(t,e,n){return e=Rne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rne(t){var e=J4e(t,"string");return _x(e)=="symbol"?e:e+""}function J4e(t,e){if(_x(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_x(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c4=function(e,n,r,i,s){var a=e.width,l=e.height,u=e.layout,d=e.children,h=Object.keys(n),m={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},g=!!Es(d,tc);return h.reduce(function(v,b){var _=n[b],x=_.orientation,j=_.domain,A=_.padding,C=A===void 0?{}:A,P=_.mirror,T=_.reversed,I="".concat(x).concat(P?"Mirror":""),E,k,O,D,M;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var V=j[1]-j[0],$=1/0,X=_.categoricalDomain.sort(mNe);if(X.forEach(function(ge,Ce){Ce>0&&($=Math.min((ge||0)-(X[Ce-1]||0),$))}),Number.isFinite($)){var H=$/V,U=_.layout==="vertical"?r.height:r.width;if(_.padding==="gap"&&(E=H*U/2),_.padding==="no-gap"){var q=Ji(e.barCategoryGap,H*U),G=H*U/2;E=G-q-(G-q)/U*q}}}i==="xAxis"?k=[r.left+(C.left||0)+(E||0),r.left+r.width-(C.right||0)-(E||0)]:i==="yAxis"?k=u==="horizontal"?[r.top+r.height-(C.bottom||0),r.top+(C.top||0)]:[r.top+(C.top||0)+(E||0),r.top+r.height-(C.bottom||0)-(E||0)]:k=_.range,T&&(k=[k[1],k[0]]);var W=Jte(_,s,g),z=W.scale,Z=W.realScaleType;z.domain(j).range(k),ene(z);var te=tne(z,Pa(Pa({},_),{},{realScaleType:Z}));i==="xAxis"?(M=x==="top"&&!P||x==="bottom"&&P,O=r.left,D=m[I]-M*_.height):i==="yAxis"&&(M=x==="left"&&!P||x==="right"&&P,O=m[I]-M*_.width,D=r.top);var ne=Pa(Pa(Pa({},_),te),{},{realScaleType:Z,x:O,y:D,scale:z,width:i==="xAxis"?r.width:_.width,height:i==="yAxis"?r.height:_.height});return ne.bandSize=C1(ne,te),!_.hide&&i==="xAxis"?m[I]+=(M?-1:1)*ne.height:_.hide||(m[I]+=(M?-1:1)*ne.width),Pa(Pa({},v),{},Xj({},b,ne))},{})},Pne=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},eLe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return Pne({x:n,y:r},{x:i,y:s})},Ine=function(){function t(e){Q4e(this,t),this.scale=e}return Z4e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Xj(Ine,"EPS",1e-4);var u4=function(e){var n=Object.keys(e).reduce(function(r,i){return Pa(Pa({},r),{},Xj({},i,Ine.create(e[i])))},{});return Pa(Pa({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,l=s.position;return T4e(i,function(u,d){return n[d].apply(u,{bandAware:a,position:l})})},isInRange:function(i){return Tne(i,function(s,a){return n[a].isInRange(s)})}})};function tLe(t){return(t%180+180)%180}var nLe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=tLe(i),a=s*Math.PI/180,l=Math.atan(r/n),u=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(u)},Uk,Uq;function rLe(){if(Uq)return Uk;Uq=1;var t=tl(),e=pb(),n=Oj();function r(i){return function(s,a,l){var u=Object(s);if(!e(s)){var d=t(a,3);s=n(s),a=function(m){return d(u[m],m,u)}}var h=i(s,a,l);return h>-1?u[d?s[h]:h]:void 0}}return Uk=r,Uk}var zk,zq;function iLe(){if(zq)return zk;zq=1;var t=jne();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return zk=e,zk}var qk,qq;function sLe(){if(qq)return qk;qq=1;var t=Iee(),e=tl(),n=iLe(),r=Math.max;function i(s,a,l){var u=s==null?0:s.length;if(!u)return-1;var d=l==null?0:n(l);return d<0&&(d=r(u+d,0)),t(s,e(a,3),d)}return qk=i,qk}var Hk,Hq;function aLe(){if(Hq)return Hk;Hq=1;var t=rLe(),e=sLe(),n=t(e);return Hk=n,Hk}var oLe=aLe();const lLe=Sn(oLe);var cLe=KJ();const uLe=Sn(cLe);var dLe=uLe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),d4=N.createContext(void 0),f4=N.createContext(void 0),Mne=N.createContext(void 0),Dne=N.createContext({}),Lne=N.createContext(void 0),$ne=N.createContext(0),Vne=N.createContext(0),Wq=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,l=e.children,u=e.width,d=e.height,h=dLe(s);return Q.createElement(d4.Provider,{value:r},Q.createElement(f4.Provider,{value:i},Q.createElement(Dne.Provider,{value:s},Q.createElement(Mne.Provider,{value:h},Q.createElement(Lne.Provider,{value:a},Q.createElement($ne.Provider,{value:d},Q.createElement(Vne.Provider,{value:u},l)))))))},fLe=function(){return N.useContext(Lne)},Fne=function(e){var n=N.useContext(d4);n==null&&Lf();var r=n[e];return r==null&&Lf(),r},hLe=function(){var e=N.useContext(d4);return lu(e)},mLe=function(){var e=N.useContext(f4),n=lLe(e,function(r){return Tne(r.domain,Number.isFinite)});return n||lu(e)},Bne=function(e){var n=N.useContext(f4);n==null&&Lf();var r=n[e];return r==null&&Lf(),r},pLe=function(){var e=N.useContext(Mne);return e},gLe=function(){return N.useContext(Dne)},h4=function(){return N.useContext(Vne)},m4=function(){return N.useContext($ne)};function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function yLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zne(r.key),r)}}function xLe(t,e,n){return e&&vLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bLe(t,e,n){return e=W1(e),_Le(t,Une()?Reflect.construct(e,n||[],W1(t).constructor):e.apply(t,n))}function _Le(t,e){if(e&&(bp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wLe(t)}function wLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Une(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Une=function(){return!!t})()}function W1(t){return W1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W1(t)}function SLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SP(t,e)}function SP(t,e){return SP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SP(t,e)}function Gq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gq(Object(n),!0).forEach(function(r){p4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p4(t,e,n){return e=zne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zne(t){var e=jLe(t,"string");return bp(e)=="symbol"?e:e+""}function jLe(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NLe(t,e){return CLe(t)||TLe(t,e)||ELe(t,e)||ALe()}function ALe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ELe(t,e){if(t){if(typeof t=="string")return Kq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kq(t,e)}}function Kq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function CLe(t){if(Array.isArray(t))return t}function jP(){return jP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jP.apply(this,arguments)}var kLe=function(e,n){var r;return Q.isValidElement(e)?r=Q.cloneElement(e,n):_t(e)?r=e(n):r=Q.createElement("line",jP({},n,{className:"recharts-reference-line-line"})),r},OLe=function(e,n,r,i,s,a,l,u,d){var h=s.x,m=s.y,g=s.width,v=s.height;if(r){var b=d.y,_=e.y.apply(b,{position:a});if(qo(d,"discard")&&!e.y.isInRange(_))return null;var x=[{x:h+g,y:_},{x:h,y:_}];return u==="left"?x.reverse():x}if(n){var j=d.x,A=e.x.apply(j,{position:a});if(qo(d,"discard")&&!e.x.isInRange(A))return null;var C=[{x:A,y:m+v},{x:A,y:m}];return l==="top"?C.reverse():C}if(i){var P=d.segment,T=P.map(function(I){return e.apply(I,{position:a})});return qo(d,"discard")&&j4e(T,function(I){return!e.isInRange(I)})?null:T}return null};function RLe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,l=t.className,u=t.alwaysShow,d=fLe(),h=Fne(i),m=Bne(s),g=pLe();if(!d||!g)return null;Ua(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=u4({x:h.scale,y:m.scale}),b=ti(e),_=ti(n),x=r&&r.length===2,j=OLe(v,b,_,x,g,t.position,h.orientation,m.orientation,t);if(!j)return null;var A=NLe(j,2),C=A[0],P=C.x,T=C.y,I=A[1],E=I.x,k=I.y,O=qo(t,"hidden")?"url(#".concat(d,")"):void 0,D=Yq(Yq({clipPath:O},ut(t,!0)),{},{x1:P,y1:T,x2:E,y2:k});return Q.createElement(Kt,{className:kt("recharts-reference-line",l)},kLe(a,D),hi.renderCallByParent(t,eLe({x1:P,y1:T,x2:E,y2:k})))}var g4=function(t){function e(){return yLe(this,e),bLe(this,e,arguments)}return SLe(e,t),xLe(e,[{key:"render",value:function(){return Q.createElement(RLe,this.props)}}])}(Q.Component);p4(g4,"displayName","ReferenceLine");p4(g4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function NP(){return NP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NP.apply(this,arguments)}function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function Xq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xq(Object(n),!0).forEach(function(r){Qj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ILe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hne(r.key),r)}}function MLe(t,e,n){return e&&ILe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DLe(t,e,n){return e=G1(e),LLe(t,qne()?Reflect.construct(e,n||[],G1(t).constructor):e.apply(t,n))}function LLe(t,e){if(e&&(_p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Le(t)}function $Le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qne=function(){return!!t})()}function G1(t){return G1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G1(t)}function VLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AP(t,e)}function AP(t,e){return AP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AP(t,e)}function Qj(t,e,n){return e=Hne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hne(t){var e=FLe(t,"string");return _p(e)=="symbol"?e:e+""}function FLe(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BLe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=u4({x:i.scale,y:s.scale}),l=a.apply({x:n,y:r},{bandAware:!0});return qo(e,"discard")&&!a.isInRange(l)?null:l},Zj=function(t){function e(){return PLe(this,e),DLe(this,e,arguments)}return VLe(e,t),MLe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,l=r.alwaysShow,u=r.clipPathId,d=ti(i),h=ti(s);if(Ua(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!h)return null;var m=BLe(this.props);if(!m)return null;var g=m.x,v=m.y,b=this.props,_=b.shape,x=b.className,j=qo(this.props,"hidden")?"url(#".concat(u,")"):void 0,A=Qq(Qq({clipPath:j},ut(this.props,!0)),{},{cx:g,cy:v});return Q.createElement(Kt,{className:kt("recharts-reference-dot",x)},e.renderDot(_,A),hi.renderCallByParent(this.props,{x:g-a,y:v-a,width:2*a,height:2*a}))}}])}(Q.Component);Qj(Zj,"displayName","ReferenceDot");Qj(Zj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Qj(Zj,"renderDot",function(t,e){var n;return Q.isValidElement(t)?n=Q.cloneElement(t,e):_t(t)?n=t(e):n=Q.createElement(_b,NP({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function EP(){return EP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EP.apply(this,arguments)}function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function Zq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zq(Object(n),!0).forEach(function(r){Jj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ULe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gne(r.key),r)}}function qLe(t,e,n){return e&&zLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HLe(t,e,n){return e=Y1(e),WLe(t,Wne()?Reflect.construct(e,n||[],Y1(t).constructor):e.apply(t,n))}function WLe(t,e){if(e&&(wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GLe(t)}function GLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wne=function(){return!!t})()}function Y1(t){return Y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y1(t)}function YLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TP(t,e)}function TP(t,e){return TP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TP(t,e)}function Jj(t,e,n){return e=Gne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gne(t){var e=KLe(t,"string");return wp(e)=="symbol"?e:e+""}function KLe(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XLe=function(e,n,r,i,s){var a=s.x1,l=s.x2,u=s.y1,d=s.y2,h=s.xAxis,m=s.yAxis;if(!h||!m)return null;var g=u4({x:h.scale,y:m.scale}),v={x:e?g.x.apply(a,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(u,{position:"start"}):g.y.rangeMin},b={x:n?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(d,{position:"end"}):g.y.rangeMax};return qo(s,"discard")&&(!g.isInRange(v)||!g.isInRange(b))?null:Pne(v,b)},eN=function(t){function e(){return ULe(this,e),HLe(this,e,arguments)}return YLe(e,t),qLe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,l=r.y2,u=r.className,d=r.alwaysShow,h=r.clipPathId;Ua(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ti(i),g=ti(s),v=ti(a),b=ti(l),_=this.props.shape;if(!m&&!g&&!v&&!b&&!_)return null;var x=XLe(m,g,v,b,this.props);if(!x&&!_)return null;var j=qo(this.props,"hidden")?"url(#".concat(h,")"):void 0;return Q.createElement(Kt,{className:kt("recharts-reference-area",u)},e.renderRect(_,Jq(Jq({clipPath:j},ut(this.props,!0)),x)),hi.renderCallByParent(this.props,x))}}])}(Q.Component);Jj(eN,"displayName","ReferenceArea");Jj(eN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Jj(eN,"renderRect",function(t,e){var n;return Q.isValidElement(t)?n=Q.cloneElement(t,e):_t(t)?n=t(e):n=Q.createElement(l4,EP({},e,{className:"recharts-reference-area-rect"})),n});function Yne(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function QLe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return nLe(r,n)}function ZLe(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,l=t.height;return e===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function K1(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function JLe(t,e){return Yne(t,e+1)}function e5e(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,l=e.end,u=0,d=1,h=a,m=function(){var b=r==null?void 0:r[u];if(b===void 0)return{v:Yne(r,d)};var _=u,x,j=function(){return x===void 0&&(x=n(b,_)),x},A=b.coordinate,C=u===0||K1(t,A,j,h,l);C||(u=0,h=a,d+=1),C&&(h=A+t*(j()/2+i),u+=d)},g;d<=s.length;)if(g=m(),g)return g.v;return[]}function wx(t){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(t)}function e7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e7(Object(n),!0).forEach(function(r){t5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t5e(t,e,n){return e=n5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n5e(t){var e=r5e(t,"string");return wx(e)=="symbol"?e:e+""}function r5e(t,e){if(wx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i5e(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end,d=function(g){var v=s[g],b,_=function(){return b===void 0&&(b=n(v,g)),b};if(g===a-1){var x=t*(v.coordinate+t*_()/2-u);s[g]=v=Di(Di({},v),{},{tickCoord:x>0?v.coordinate-x*t:v.coordinate})}else s[g]=v=Di(Di({},v),{},{tickCoord:v.coordinate});var j=K1(t,v.tickCoord,_,l,u);j&&(u=v.tickCoord-t*(_()/2+i),s[g]=Di(Di({},v),{},{isShow:!0}))},h=a-1;h>=0;h--)d(h);return s}function s5e(t,e,n,r,i,s){var a=(r||[]).slice(),l=a.length,u=e.start,d=e.end;if(s){var h=r[l-1],m=n(h,l-1),g=t*(h.coordinate+t*m/2-d);a[l-1]=h=Di(Di({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate});var v=K1(t,h.tickCoord,function(){return m},u,d);v&&(d=h.tickCoord-t*(m/2+i),a[l-1]=Di(Di({},h),{},{isShow:!0}))}for(var b=s?l-1:l,_=function(A){var C=a[A],P,T=function(){return P===void 0&&(P=n(C,A)),P};if(A===0){var I=t*(C.coordinate-t*T()/2-u);a[A]=C=Di(Di({},C),{},{tickCoord:I<0?C.coordinate-I*t:C.coordinate})}else a[A]=C=Di(Di({},C),{},{tickCoord:C.coordinate});var E=K1(t,C.tickCoord,T,u,d);E&&(u=C.tickCoord+t*(T()/2+i),a[A]=Di(Di({},C),{},{isShow:!0}))},x=0;x<b;x++)_(x);return a}function y4(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,l=t.orientation,u=t.interval,d=t.tickFormatter,h=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(Re(u)||Yu.isSsr)return JLe(i,typeof u=="number"&&Re(u)?u:0);var g=[],v=l==="top"||l==="bottom"?"width":"height",b=h&&v==="width"?ov(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=function(C,P){var T=_t(d)?d(C.value,P):C.value;return v==="width"?QLe(ov(T,{fontSize:e,letterSpacing:n}),b,m):ov(T,{fontSize:e,letterSpacing:n})[v]},x=i.length>=2?Zi(i[1].coordinate-i[0].coordinate):1,j=ZLe(s,x,v);return u==="equidistantPreserveStart"?e5e(x,j,_,i,a):(u==="preserveStart"||u==="preserveStartEnd"?g=s5e(x,j,_,i,a,u==="preserveStartEnd"):g=i5e(x,j,_,i,a),g.filter(function(A){return A.isShow}))}var a5e=["viewBox"],o5e=["viewBox"],l5e=["ticks"];function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vm.apply(this,arguments)}function t7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t7(Object(n),!0).forEach(function(r){v4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wk(t,e){if(t==null)return{};var n=c5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function u5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xne(r.key),r)}}function d5e(t,e,n){return e&&n7(t.prototype,e),n&&n7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f5e(t,e,n){return e=X1(e),h5e(t,Kne()?Reflect.construct(e,n||[],X1(t).constructor):e.apply(t,n))}function h5e(t,e){if(e&&(Sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m5e(t)}function m5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kne=function(){return!!t})()}function X1(t){return X1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X1(t)}function p5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CP(t,e)}function CP(t,e){return CP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CP(t,e)}function v4(t,e,n){return e=Xne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xne(t){var e=g5e(t,"string");return Sp(e)=="symbol"?e:e+""}function g5e(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ng=function(t){function e(n){var r;return u5e(this,e),r=f5e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return p5e(e,t),d5e(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=Wk(r,a5e),l=this.props,u=l.viewBox,d=Wk(l,o5e);return!Pm(s,u)||!Pm(a,d)||!Pm(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,l=i.width,u=i.height,d=i.orientation,h=i.tickSize,m=i.mirror,g=i.tickMargin,v,b,_,x,j,A,C=m?-1:1,P=r.tickSize||h,T=Re(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":v=b=r.coordinate,x=a+ +!m*u,_=x-C*P,A=_-C*g,j=T;break;case"left":_=x=r.coordinate,b=s+ +!m*l,v=b-C*P,j=v-C*g,A=T;break;case"right":_=x=r.coordinate,b=s+ +m*l,v=b+C*P,j=v+C*g,A=T;break;default:v=b=r.coordinate,x=a+ +m*u,_=x+C*P,A=_+C*g,j=T;break}return{line:{x1:v,y1:_,x2:b,y2:x},tick:{x:j,y:A}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,l=r.height,u=r.orientation,d=r.mirror,h=r.axisLine,m=Kr(Kr(Kr({},ut(this.props,!1)),ut(h,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var g=+(u==="top"&&!d||u==="bottom"&&d);m=Kr(Kr({},m),{},{x1:i,y1:s+g*l,x2:i+a,y2:s+g*l})}else{var v=+(u==="left"&&!d||u==="right"&&d);m=Kr(Kr({},m),{},{x1:i+v*a,y1:s,x2:i+v*a,y2:s+l})}return Q.createElement("line",vm({},m,{className:kt("recharts-cartesian-axis-line",Vs(h,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,l=this.props,u=l.tickLine,d=l.stroke,h=l.tick,m=l.tickFormatter,g=l.unit,v=y4(Kr(Kr({},this.props),{},{ticks:r}),i,s),b=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),x=ut(this.props,!1),j=ut(h,!1),A=Kr(Kr({},x),{},{fill:"none"},ut(u,!1)),C=v.map(function(P,T){var I=a.getTickLineCoord(P),E=I.line,k=I.tick,O=Kr(Kr(Kr(Kr({textAnchor:b,verticalAnchor:_},x),{},{stroke:"none",fill:d},j),k),{},{index:T,payload:P,visibleTicksCount:v.length,tickFormatter:m});return Q.createElement(Kt,vm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},Pf(a.props,P,T)),u&&Q.createElement("line",vm({},A,E,{className:kt("recharts-cartesian-axis-tick-line",Vs(u,"className"))})),h&&e.renderTickItem(h,O,"".concat(_t(m)?m(P.value,T):P.value).concat(g||"")))});return Q.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,l=i.height,u=i.ticksGenerator,d=i.className,h=i.hide;if(h)return null;var m=this.props,g=m.ticks,v=Wk(m,l5e),b=g;return _t(u)&&(b=g&&g.length>0?u(this.props):u(v)),a<=0||l<=0||!b||!b.length?null:Q.createElement(Kt,{className:kt("recharts-cartesian-axis",d),ref:function(x){r.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),hi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a,l=kt(i.className,"recharts-cartesian-axis-tick-value");return Q.isValidElement(r)?a=Q.cloneElement(r,Kr(Kr({},i),{},{className:l})):_t(r)?a=r(Kr(Kr({},i),{},{className:l})):a=Q.createElement(If,vm({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(N.Component);v4(ng,"displayName","CartesianAxis");v4(ng,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var y5e=["x1","y1","x2","y2","key"],v5e=["offset"];function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function r7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r7(Object(n),!0).forEach(function(r){x5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x5e(t,e,n){return e=b5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b5e(t){var e=_5e(t,"string");return $f(e)=="symbol"?e:e+""}function _5e(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rf(){return rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rf.apply(this,arguments)}function i7(t,e){if(t==null)return{};var n=w5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var S5e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,l=e.height,u=e.ry;return Q.createElement("rect",{x:i,y:s,ry:u,width:a,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Qne(t,e){var n;if(Q.isValidElement(t))n=Q.cloneElement(t,e);else if(_t(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,l=e.key,u=i7(e,y5e),d=ut(u,!1);d.offset;var h=i7(d,v5e);n=Q.createElement("line",rf({},h,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:l}))}return n}function j5e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(l,u){var d=$i($i({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(u),index:u});return Qne(i,d)});return Q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function N5e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(l,u){var d=$i($i({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(u),index:u});return Qne(i,d)});return Q.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function A5e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,l=t.horizontalPoints,u=t.horizontal,d=u===void 0?!0:u;if(!d||!e||!e.length)return null;var h=l.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==h[0]&&h.unshift(0);var m=h.map(function(g,v){var b=!h[v+1],_=b?i+a-g:h[v+1]-g;if(_<=0)return null;var x=v%e.length;return Q.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:_,width:s,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function E5e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,l=t.width,u=t.height,d=t.verticalPoints;if(!n||!r||!r.length)return null;var h=d.map(function(g){return Math.round(g+s-s)}).sort(function(g,v){return g-v});s!==h[0]&&h.unshift(0);var m=h.map(function(g,v){var b=!h[v+1],_=b?s+l-g:h[v+1]-g;if(_<=0)return null;var x=v%r.length;return Q.createElement("rect",{key:"react-".concat(v),x:g,y:a,width:_,height:u,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var T5e=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return Zte(y4($i($i($i({},ng.defaultProps),r),{},{ticks:ql(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},C5e=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return Zte(y4($i($i($i({},ng.defaultProps),r),{},{ticks:ql(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},rm={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zy(t){var e,n,r,i,s,a,l=h4(),u=m4(),d=gLe(),h=$i($i({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:rm.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:rm.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:rm.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:rm.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:rm.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:rm.verticalFill,x:Re(t.x)?t.x:d.left,y:Re(t.y)?t.y:d.top,width:Re(t.width)?t.width:d.width,height:Re(t.height)?t.height:d.height}),m=h.x,g=h.y,v=h.width,b=h.height,_=h.syncWithTicks,x=h.horizontalValues,j=h.verticalValues,A=hLe(),C=mLe();if(!Re(v)||v<=0||!Re(b)||b<=0||!Re(m)||m!==+m||!Re(g)||g!==+g)return null;var P=h.verticalCoordinatesGenerator||T5e,T=h.horizontalCoordinatesGenerator||C5e,I=h.horizontalPoints,E=h.verticalPoints;if((!I||!I.length)&&_t(T)){var k=x&&x.length,O=T({yAxis:C?$i($i({},C),{},{ticks:k?x:C.ticks}):void 0,width:l,height:u,offset:d},k?!0:_);Ua(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($f(O),"]")),Array.isArray(O)&&(I=O)}if((!E||!E.length)&&_t(P)){var D=j&&j.length,M=P({xAxis:A?$i($i({},A),{},{ticks:D?j:A.ticks}):void 0,width:l,height:u,offset:d},D?!0:_);Ua(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($f(M),"]")),Array.isArray(M)&&(E=M)}return Q.createElement("g",{className:"recharts-cartesian-grid"},Q.createElement(S5e,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),Q.createElement(j5e,rf({},h,{offset:d,horizontalPoints:I,xAxis:A,yAxis:C})),Q.createElement(N5e,rf({},h,{offset:d,verticalPoints:E,xAxis:A,yAxis:C})),Q.createElement(A5e,rf({},h,{horizontalPoints:I})),Q.createElement(E5e,rf({},h,{verticalPoints:E})))}zy.displayName="CartesianGrid";var k5e=["type","layout","connectNulls","ref"],O5e=["key"];function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function s7(t,e){if(t==null)return{};var n=R5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function R5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(this,arguments)}function a7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ns(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a7(Object(n),!0).forEach(function(r){Ia(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function im(t){return D5e(t)||M5e(t)||I5e(t)||P5e()}function P5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I5e(t,e){if(t){if(typeof t=="string")return kP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kP(t,e)}}function M5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D5e(t){if(Array.isArray(t))return kP(t)}function kP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jne(r.key),r)}}function $5e(t,e,n){return e&&o7(t.prototype,e),n&&o7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function V5e(t,e,n){return e=Q1(e),F5e(t,Zne()?Reflect.construct(e,n||[],Q1(t).constructor):e.apply(t,n))}function F5e(t,e){if(e&&(jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B5e(t)}function B5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zne=function(){return!!t})()}function Q1(t){return Q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q1(t)}function U5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OP(t,e)}function OP(t,e){return OP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OP(t,e)}function Ia(t,e,n){return e=Jne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jne(t){var e=z5e(t,"string");return jp(e)=="symbol"?e:e+""}function z5e(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Np=function(t){function e(){var n;L5e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=V5e(this,e,[].concat(i)),Ia(n,"state",{isAnimationFinished:!0,totalLength:0}),Ia(n,"generateSimpleStrokeDasharray",function(a,l){return"".concat(l,"px ").concat(a-l,"px")}),Ia(n,"getStrokeDasharray",function(a,l,u){var d=u.reduce(function(j,A){return j+A});if(!d)return n.generateSimpleStrokeDasharray(l,a);for(var h=Math.floor(a/d),m=a%d,g=l-a,v=[],b=0,_=0;b<u.length;_+=u[b],++b)if(_+u[b]>m){v=[].concat(im(u.slice(0,b)),[m-_]);break}var x=v.length%2===0?[0,g]:[g];return[].concat(im(e.repeat(u,h)),im(v),x).map(function(j){return"".concat(j,"px")}).join(", ")}),Ia(n,"id",eh("recharts-line-")),Ia(n,"pathRef",function(a){n.mainCurve=a}),Ia(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ia(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return U5e(e,t),$5e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,l=s.xAxis,u=s.yAxis,d=s.layout,h=s.children,m=Fs(h,bb);if(!m)return null;var g=function(_,x){return{x:_.x,y:_.y,value:_.value,errorVal:Sr(_.payload,x)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Q.createElement(Kt,v,m.map(function(b){return Q.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:a,xAxis:l,yAxis:u,layout:d,dataPointFormatter:g})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,d=l.points,h=l.dataKey,m=ut(this.props,!1),g=ut(u,!0),v=d.map(function(_,x){var j=Ns(Ns(Ns({key:"dot-".concat(x),r:3},m),g),{},{index:x,cx:_.x,cy:_.y,value:_.value,dataKey:h,payload:_.payload,points:d});return e.renderDotItem(u,j)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return Q.createElement(Kt,hv({className:"recharts-line-dots",key:"dots"},b),v)}},{key:"renderCurveStatically",value:function(r,i,s,a){var l=this.props,u=l.type,d=l.layout,h=l.connectNulls;l.ref;var m=s7(l,k5e),g=Ns(Ns(Ns({},ut(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:u,layout:d,connectNulls:h});return Q.createElement(df,hv({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,l=a.points,u=a.strokeDasharray,d=a.isAnimationActive,h=a.animationBegin,m=a.animationDuration,g=a.animationEasing,v=a.animationId,b=a.animateNewValues,_=a.width,x=a.height,j=this.state,A=j.prevPoints,C=j.totalLength;return Q.createElement(Xa,{begin:h,duration:m,isActive:d,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var T=P.t;if(A){var I=A.length/l.length,E=l.map(function(V,$){var X=Math.floor($*I);if(A[X]){var H=A[X],U=Jr(H.x,V.x),q=Jr(H.y,V.y);return Ns(Ns({},V),{},{x:U(T),y:q(T)})}if(b){var G=Jr(_*2,V.x),W=Jr(x/2,V.y);return Ns(Ns({},V),{},{x:G(T),y:W(T)})}return Ns(Ns({},V),{},{x:V.x,y:V.y})});return s.renderCurveStatically(E,r,i)}var k=Jr(0,C),O=k(T),D;if(u){var M="".concat(u).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});D=s.getStrokeDasharray(O,C,M)}else D=s.generateSimpleStrokeDasharray(C,O);return s.renderCurveStatically(l,r,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,l=s.isAnimationActive,u=this.state,d=u.prevPoints,h=u.totalLength;return l&&a&&a.length&&(!d&&h>0||!Mf(d,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,l=i.points,u=i.className,d=i.xAxis,h=i.yAxis,m=i.top,g=i.left,v=i.width,b=i.height,_=i.isAnimationActive,x=i.id;if(s||!l||!l.length)return null;var j=this.state.isAnimationFinished,A=l.length===1,C=kt("recharts-line",u),P=d&&d.allowDataOverflow,T=h&&h.allowDataOverflow,I=P||T,E=Et(x)?this.id:x,k=(r=ut(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=k.r,D=O===void 0?3:O,M=k.strokeWidth,V=M===void 0?2:M,$=eee(a)?a:{},X=$.clipDot,H=X===void 0?!0:X,U=D*2+V;return Q.createElement(Kt,{className:C},P||T?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(E)},Q.createElement("rect",{x:P?g:g-v/2,y:T?m:m-b/2,width:P?v:v*2,height:T?b:b*2})),!H&&Q.createElement("clipPath",{id:"clipPath-dots-".concat(E)},Q.createElement("rect",{x:g-U/2,y:m-U/2,width:v+U,height:b+U}))):null,!A&&this.renderCurve(I,E),this.renderErrorBar(I,E),(A||a)&&this.renderDots(I,H,E),(!_||j)&&zo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(im(r),[0]):r,a=[],l=0;l<i;++l)a=[].concat(im(a),im(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if(Q.isValidElement(r))s=Q.cloneElement(r,i);else if(_t(r))s=r(i);else{var a=i.key,l=s7(i,O5e),u=kt("recharts-line-dot",typeof r!="boolean"?r.className:"");s=Q.createElement(_b,hv({key:a},l,{className:u}))}return s}}])}(N.PureComponent);Ia(Np,"displayName","Line");Ia(Np,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Yu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ia(Np,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,l=t.bandSize,u=t.displayedData,d=t.offset,h=e.layout,m=u.map(function(g,v){var b=Sr(g,a);return h==="horizontal"?{x:T1({axis:n,ticks:i,bandSize:l,entry:g,index:v}),y:Et(b)?null:r.scale(b),value:b,payload:g}:{x:Et(b)?null:n.scale(b),y:T1({axis:r,ticks:s,bandSize:l,entry:g,index:v}),value:b,payload:g}});return Ns({points:m,layout:h},d)});var q5e=["layout","type","stroke","connectNulls","isRange","ref"],H5e=["key"],ere;function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function tre(t,e){if(t==null)return{};var n=W5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function W5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sf.apply(this,arguments)}function l7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l7(Object(n),!0).forEach(function(r){Ro(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rre(r.key),r)}}function Y5e(t,e,n){return e&&c7(t.prototype,e),n&&c7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function K5e(t,e,n){return e=Z1(e),X5e(t,nre()?Reflect.construct(e,n||[],Z1(t).constructor):e.apply(t,n))}function X5e(t,e){if(e&&(Ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q5e(t)}function Q5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nre=function(){return!!t})()}function Z1(t){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z1(t)}function Z5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RP(t,e)}function RP(t,e){return RP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RP(t,e)}function Ro(t,e,n){return e=rre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rre(t){var e=J5e(t,"string");return Ap(e)=="symbol"?e:e+""}function J5e(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zu=function(t){function e(){var n;G5e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=K5e(this,e,[].concat(i)),Ro(n,"state",{isAnimationFinished:!0}),Ro(n,"id",eh("recharts-area-")),Ro(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),_t(a)&&a()}),Ro(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),_t(a)&&a()}),n}return Z5e(e,t),Y5e(e,[{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(a&&!l)return null;var u=this.props,d=u.dot,h=u.points,m=u.dataKey,g=ut(this.props,!1),v=ut(d,!0),b=h.map(function(x,j){var A=Jc(Jc(Jc({key:"dot-".concat(j),r:3},g),v),{},{index:j,cx:x.x,cy:x.y,dataKey:m,value:x.value,payload:x.payload,points:h});return e.renderDotItem(d,A)}),_={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return Q.createElement(Kt,sf({className:"recharts-area-dots"},_),b)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,l=i.strokeWidth,u=a[0].x,d=a[a.length-1].x,h=r*Math.abs(u-d),m=mu(a.map(function(g){return g.y||0}));return Re(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(mu(s.map(function(g){return g.y||0})),m)),Re(m)?Q.createElement("rect",{x:u<d?u:u-h,y:0,width:h,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,l=i.strokeWidth,u=a[0].y,d=a[a.length-1].y,h=r*Math.abs(u-d),m=mu(a.map(function(g){return g.x||0}));return Re(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(mu(s.map(function(g){return g.x||0})),m)),Re(m)?Q.createElement("rect",{x:0,y:u<d?u:u-h,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,a){var l=this.props,u=l.layout,d=l.type,h=l.stroke,m=l.connectNulls,g=l.isRange;l.ref;var v=tre(l,q5e);return Q.createElement(Kt,{clipPath:s?"url(#clipPath-".concat(a,")"):null},Q.createElement(df,sf({},ut(v,!0),{points:r,connectNulls:m,type:d,baseLine:i,layout:u,stroke:"none",className:"recharts-area-area"})),h!=="none"&&Q.createElement(df,sf({},ut(this.props,!1),{className:"recharts-area-curve",layout:u,type:d,connectNulls:m,fill:"none",points:r})),h!=="none"&&g&&Q.createElement(df,sf({},ut(this.props,!1),{className:"recharts-area-curve",layout:u,type:d,connectNulls:m,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,a=this.props,l=a.points,u=a.baseLine,d=a.isAnimationActive,h=a.animationBegin,m=a.animationDuration,g=a.animationEasing,v=a.animationId,b=this.state,_=b.prevPoints,x=b.prevBaseLine;return Q.createElement(Xa,{begin:h,duration:m,isActive:d,easing:g,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var A=j.t;if(_){var C=_.length/l.length,P=l.map(function(k,O){var D=Math.floor(O*C);if(_[D]){var M=_[D],V=Jr(M.x,k.x),$=Jr(M.y,k.y);return Jc(Jc({},k),{},{x:V(A),y:$(A)})}return k}),T;if(Re(u)&&typeof u=="number"){var I=Jr(x,u);T=I(A)}else if(Et(u)||Qp(u)){var E=Jr(x,0);T=E(A)}else T=u.map(function(k,O){var D=Math.floor(O*C);if(x[D]){var M=x[D],V=Jr(M.x,k.x),$=Jr(M.y,k.y);return Jc(Jc({},k),{},{x:V(A),y:$(A)})}return k});return s.renderAreaStatically(P,T,r,i)}return Q.createElement(Kt,null,Q.createElement("defs",null,Q.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(A))),Q.createElement(Kt,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,u,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,a=s.points,l=s.baseLine,u=s.isAnimationActive,d=this.state,h=d.prevPoints,m=d.prevBaseLine,g=d.totalLength;return u&&a&&a.length&&(!h&&g>0||!Mf(h,a)||!Mf(m,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,l,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,l=i.points,u=i.className,d=i.top,h=i.left,m=i.xAxis,g=i.yAxis,v=i.width,b=i.height,_=i.isAnimationActive,x=i.id;if(s||!l||!l.length)return null;var j=this.state.isAnimationFinished,A=l.length===1,C=kt("recharts-area",u),P=m&&m.allowDataOverflow,T=g&&g.allowDataOverflow,I=P||T,E=Et(x)?this.id:x,k=(r=ut(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=k.r,D=O===void 0?3:O,M=k.strokeWidth,V=M===void 0?2:M,$=eee(a)?a:{},X=$.clipDot,H=X===void 0?!0:X,U=D*2+V;return Q.createElement(Kt,{className:C},P||T?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(E)},Q.createElement("rect",{x:P?h:h-v/2,y:T?d:d-b/2,width:P?v:v*2,height:T?b:b*2})),!H&&Q.createElement("clipPath",{id:"clipPath-dots-".concat(E)},Q.createElement("rect",{x:h-U/2,y:d-U/2,width:v+U,height:b+U}))):null,A?null:this.renderArea(I,E),(a||A)&&this.renderDots(I,H,E),(!_||j)&&zo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(N.PureComponent);ere=Zu;Ro(Zu,"displayName","Area");Ro(Zu,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Yu.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ro(Zu,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,a=e.props.baseValue,l=a??s;if(Re(l)&&typeof l=="number")return l;var u=i==="horizontal"?r:n,d=u.scale.domain();if(u.type==="number"){var h=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||h<0?h:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Ro(Zu,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,l=t.bandSize,u=t.dataKey,d=t.stackedData,h=t.dataStartIndex,m=t.displayedData,g=t.offset,v=e.layout,b=d&&d.length,_=ere.getBaseValue(e,n,r,i),x=v==="horizontal",j=!1,A=m.map(function(P,T){var I;b?I=d[h+T]:(I=Sr(P,u),Array.isArray(I)?j=!0:I=[_,I]);var E=I[1]==null||b&&Sr(P,u)==null;return x?{x:T1({axis:r,ticks:s,bandSize:l,entry:P,index:T}),y:E?null:i.scale(I[1]),value:I,payload:P}:{x:E?null:r.scale(I[1]),y:T1({axis:i,ticks:a,bandSize:l,entry:P,index:T}),value:I,payload:P}}),C;return b||j?C=A.map(function(P){var T=Array.isArray(P.value)?P.value[0]:null;return x?{x:P.x,y:T!=null&&P.y!=null?i.scale(T):null}:{x:T!=null?r.scale(T):null,y:P.y}}):C=x?i.scale(_):r.scale(_),Jc({points:A,baseLine:C,layout:v,isRange:j},g)});Ro(Zu,"renderDotItem",function(t,e){var n;if(Q.isValidElement(t))n=Q.cloneElement(t,e);else if(_t(t))n=t(e);else{var r=kt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=tre(e,H5e);n=Q.createElement(_b,sf({},s,{key:i,className:r}))}return n});function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function e3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t3e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,are(r.key),r)}}function n3e(t,e,n){return e&&t3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r3e(t,e,n){return e=J1(e),i3e(t,ire()?Reflect.construct(e,n||[],J1(t).constructor):e.apply(t,n))}function i3e(t,e){if(e&&(Ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s3e(t)}function s3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ire(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ire=function(){return!!t})()}function J1(t){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J1(t)}function a3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PP(t,e)}function PP(t,e){return PP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PP(t,e)}function sre(t,e,n){return e=are(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function are(t){var e=o3e(t,"string");return Ep(e)=="symbol"?e:e+""}function o3e(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IP(){return IP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IP.apply(this,arguments)}function l3e(t){var e=t.xAxisId,n=h4(),r=m4(),i=Fne(e);return i==null?null:N.createElement(ng,IP({},i,{className:kt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return ql(a,!0)}}))}var Hl=function(t){function e(){return e3e(this,e),r3e(this,e,arguments)}return a3e(e,t),n3e(e,[{key:"render",value:function(){return N.createElement(l3e,this.props)}}])}(N.Component);sre(Hl,"displayName","XAxis");sre(Hl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function c3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u3e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cre(r.key),r)}}function d3e(t,e,n){return e&&u3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function f3e(t,e,n){return e=eS(e),h3e(t,ore()?Reflect.construct(e,n||[],eS(t).constructor):e.apply(t,n))}function h3e(t,e){if(e&&(Tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m3e(t)}function m3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ore(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ore=function(){return!!t})()}function eS(t){return eS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eS(t)}function p3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MP(t,e)}function MP(t,e){return MP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MP(t,e)}function lre(t,e,n){return e=cre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cre(t){var e=g3e(t,"string");return Tp(e)=="symbol"?e:e+""}function g3e(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function DP(){return DP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DP.apply(this,arguments)}var y3e=function(e){var n=e.yAxisId,r=h4(),i=m4(),s=Bne(n);return s==null?null:N.createElement(ng,DP({},s,{className:kt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return ql(l,!0)}}))},jo=function(t){function e(){return c3e(this,e),f3e(this,e,arguments)}return p3e(e,t),d3e(e,[{key:"render",value:function(){return N.createElement(y3e,this.props)}}])}(N.Component);lre(jo,"displayName","YAxis");lre(jo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function u7(t){return _3e(t)||b3e(t)||x3e(t)||v3e()}function v3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x3e(t,e){if(t){if(typeof t=="string")return LP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LP(t,e)}}function b3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _3e(t){if(Array.isArray(t))return LP(t)}function LP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $P=function(e,n,r,i,s){var a=Fs(e,g4),l=Fs(e,Zj),u=[].concat(u7(a),u7(l)),d=Fs(e,eN),h="".concat(i,"Id"),m=i[0],g=n;if(u.length&&(g=u.reduce(function(_,x){if(x.props[h]===r&&qo(x.props,"extendDomain")&&Re(x.props[m])){var j=x.props[m];return[Math.min(_[0],j),Math.max(_[1],j)]}return _},g)),d.length){var v="".concat(m,"1"),b="".concat(m,"2");g=d.reduce(function(_,x){if(x.props[h]===r&&qo(x.props,"extendDomain")&&Re(x.props[v])&&Re(x.props[b])){var j=x.props[v],A=x.props[b];return[Math.min(_[0],j,A),Math.max(_[1],j,A)]}return _},g)}return s&&s.length&&(g=s.reduce(function(_,x){return Re(x)?[Math.min(_[0],x),Math.max(_[1],x)]:_},g)),g},Gk={exports:{}},d7;function w3e(){return d7||(d7=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function s(u,d,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,m||u,g),b=n?n+d:d;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],v]:u._events[b].push(v):(u._events[b]=v,u._eventsCount++),u}function a(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,v=m.length,b=new Array(v);g<v;g++)b[g]=m[g].fn;return b},l.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,h,m,g,v,b){var _=n?n+d:d;if(!this._events[_])return!1;var x=this._events[_],j=arguments.length,A,C;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),j){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,m),!0;case 4:return x.fn.call(x.context,h,m,g),!0;case 5:return x.fn.call(x.context,h,m,g,v),!0;case 6:return x.fn.call(x.context,h,m,g,v,b),!0}for(C=1,A=new Array(j-1);C<j;C++)A[C-1]=arguments[C];x.fn.apply(x.context,A)}else{var P=x.length,T;for(C=0;C<P;C++)switch(x[C].once&&this.removeListener(d,x[C].fn,void 0,!0),j){case 1:x[C].fn.call(x[C].context);break;case 2:x[C].fn.call(x[C].context,h);break;case 3:x[C].fn.call(x[C].context,h,m);break;case 4:x[C].fn.call(x[C].context,h,m,g);break;default:if(!A)for(T=1,A=new Array(j-1);T<j;T++)A[T-1]=arguments[T];x[C].fn.apply(x[C].context,A)}}return!0},l.prototype.on=function(d,h,m){return s(this,d,h,m,!1)},l.prototype.once=function(d,h,m){return s(this,d,h,m,!0)},l.prototype.removeListener=function(d,h,m,g){var v=n?n+d:d;if(!this._events[v])return this;if(!h)return a(this,v),this;var b=this._events[v];if(b.fn)b.fn===h&&(!g||b.once)&&(!m||b.context===m)&&a(this,v);else{for(var _=0,x=[],j=b.length;_<j;_++)(b[_].fn!==h||g&&!b[_].once||m&&b[_].context!==m)&&x.push(b[_]);x.length?this._events[v]=x.length===1?x[0]:x:a(this,v)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(Gk)),Gk.exports}var S3e=w3e();const j3e=Sn(S3e);var Yk=new j3e,Kk="recharts.syncMouseEvents";function Sx(t){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sx(t)}function N3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A3e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ure(r.key),r)}}function E3e(t,e,n){return e&&A3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xk(t,e,n){return e=ure(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ure(t){var e=T3e(t,"string");return Sx(e)=="symbol"?e:e+""}function T3e(t,e){if(Sx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var C3e=function(){function t(){N3e(this,t),Xk(this,"activeIndex",0),Xk(this,"coordinateList",[]),Xk(this,"layout","horizontal")}return E3e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,l=a===void 0?null:a,u=n.layout,d=u===void 0?null:u,h=n.offset,m=h===void 0?null:h,g=n.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,l=i.height,u=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=s+u+d,g=a+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])}();function k3e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Re(r)&&Re(i))return!0}return!1}function O3e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function dre(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=Xn(e,n,r,i),l=Xn(e,n,r,s);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function R3e(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,u=e.cy,d=e.innerRadius,h=e.outerRadius,m=e.angle,g=Xn(l,u,d,m),v=Xn(l,u,h,m);r=g.x,i=g.y,s=v.x,a=v.y}else return dre(e);return[{x:r,y:i},{x:s,y:a}]}function jx(t){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jx(t)}function f7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function __(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f7(Object(n),!0).forEach(function(r){P3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P3e(t,e,n){return e=I3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I3e(t){var e=M3e(t,"string");return jx(e)=="symbol"?e:e+""}function M3e(t,e){if(jx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D3e(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,l=t.activePayload,u=t.offset,d=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,g=t.chartName,v=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!v||!s||!a||g!=="ScatterChart"&&i!=="axis")return null;var b,_=df;if(g==="ScatterChart")b=a,_=YMe;else if(g==="BarChart")b=O3e(m,a,u,h),_=l4;else if(m==="radial"){var x=dre(a),j=x.cx,A=x.cy,C=x.radius,P=x.startAngle,T=x.endAngle;b={cx:j,cy:A,startAngle:P,endAngle:T,innerRadius:C,outerRadius:C},_=cne}else b={points:R3e(m,a,u)},_=df;var I=__(__(__(__({stroke:"#ccc",pointerEvents:"none"},u),b),ut(v,!1)),{},{payload:l,payloadIndex:d,className:kt("recharts-tooltip-cursor",v.className)});return N.isValidElement(v)?N.cloneElement(v,I):N.createElement(_,I)}var L3e=["item"],$3e=["children","className","width","height","style","compact","title","desc"];function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xm.apply(this,arguments)}function h7(t,e){return B3e(t)||F3e(t,e)||hre(t,e)||V3e()}function V3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function B3e(t){if(Array.isArray(t))return t}function m7(t,e){if(t==null)return{};var n=U3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function U3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function z3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q3e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mre(r.key),r)}}function H3e(t,e,n){return e&&q3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function W3e(t,e,n){return e=tS(e),G3e(t,fre()?Reflect.construct(e,n||[],tS(t).constructor):e.apply(t,n))}function G3e(t,e){if(e&&(Cp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y3e(t)}function Y3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fre=function(){return!!t})()}function tS(t){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tS(t)}function K3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VP(t,e)}function VP(t,e){return VP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VP(t,e)}function kp(t){return Z3e(t)||Q3e(t)||hre(t)||X3e()}function X3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hre(t,e){if(t){if(typeof t=="string")return FP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FP(t,e)}}function Q3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Z3e(t){if(Array.isArray(t))return FP(t)}function FP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p7(Object(n),!0).forEach(function(r){xt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xt(t,e,n){return e=mre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mre(t){var e=J3e(t,"string");return Cp(e)=="symbol"?e:e+""}function J3e(t,e){if(Cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e6e={xAxis:["bottom","top"],yAxis:["left","right"]},t6e={width:"100%",height:"100%"},pre={x:0,y:0};function w_(t){return t}var n6e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},r6e=function(e,n,r,i){var s=n.find(function(h){return h&&h.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,l=i.radius;return be(be(be({},i),Xn(i.cx,i.cy,l,a)),{},{angle:a,radius:l})}var u=s.coordinate,d=i.angle;return be(be(be({},i),Xn(i.cx,i.cy,u,d)),{},{angle:d,radius:u})}return pre},tN=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(l,u){var d=u.props.data;return d&&d.length?[].concat(kp(l),kp(d)):l},[]);return a.length>0?a:e&&e.length&&Re(i)&&Re(s)?e.slice(i,s+1):[]};function gre(t){return t==="number"?[0,"auto"]:void 0}var BP=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,l=tN(n,e);return r<0||!s||!s.length||r>=l.length?null:s.reduce(function(u,d){var h,m=(h=d.props.data)!==null&&h!==void 0?h:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(a.dataKey&&!a.allowDuplicatedCategory){var v=m===void 0?l:m;g=r1(v,a.dataKey,i)}else g=m&&m[r]||l[r];return g?[].concat(kp(u),[rne(d,g)]):u},[])},g7=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=n6e(s,r),l=e.orderedTooltipTicks,u=e.tooltipAxis,d=e.tooltipTicks,h=xRe(a,l,d,u);if(h>=0&&d){var m=d[h]&&d[h].value,g=BP(e,n,h,m),v=r6e(r,l,h,s);return{activeTooltipIndex:h,activeLabel:m,activePayload:g,activeCoordinate:v}}return null},i6e=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,l=n.stackGroups,u=n.dataStartIndex,d=n.dataEndIndex,h=e.layout,m=e.children,g=e.stackOffset,v=Qte(h,s);return r.reduce(function(b,_){var x,j=_.type.defaultProps!==void 0?be(be({},_.type.defaultProps),_.props):_.props,A=j.type,C=j.dataKey,P=j.allowDataOverflow,T=j.allowDuplicatedCategory,I=j.scale,E=j.ticks,k=j.includeHidden,O=j[a];if(b[O])return b;var D=tN(e.data,{graphicalItems:i.filter(function(te){var ne,ge=a in te.props?te.props[a]:(ne=te.type.defaultProps)===null||ne===void 0?void 0:ne[a];return ge===O}),dataStartIndex:u,dataEndIndex:d}),M=D.length,V,$,X;k3e(j.domain,P,A)&&(V=eP(j.domain,null,P),v&&(A==="number"||I!=="auto")&&(X=cv(D,C,"category")));var H=gre(A);if(!V||V.length===0){var U,q=(U=j.domain)!==null&&U!==void 0?U:H;if(C){if(V=cv(D,C,A),A==="category"&&v){var G=hNe(V);T&&G?($=V,V=B1(0,M)):T||(V=h8(q,V,_).reduce(function(te,ne){return te.indexOf(ne)>=0?te:[].concat(kp(te),[ne])},[]))}else if(A==="category")T?V=V.filter(function(te){return te!==""&&!Et(te)}):V=h8(q,V,_).reduce(function(te,ne){return te.indexOf(ne)>=0||ne===""||Et(ne)?te:[].concat(kp(te),[ne])},[]);else if(A==="number"){var W=jRe(D,i.filter(function(te){var ne,ge,Ce=a in te.props?te.props[a]:(ne=te.type.defaultProps)===null||ne===void 0?void 0:ne[a],Te="hide"in te.props?te.props.hide:(ge=te.type.defaultProps)===null||ge===void 0?void 0:ge.hide;return Ce===O&&(k||!Te)}),C,s,h);W&&(V=W)}v&&(A==="number"||I!=="auto")&&(X=cv(D,C,"category"))}else v?V=B1(0,M):l&&l[O]&&l[O].hasStack&&A==="number"?V=g==="expand"?[0,1]:nne(l[O].stackGroups,u,d):V=Xte(D,i.filter(function(te){var ne=a in te.props?te.props[a]:te.type.defaultProps[a],ge="hide"in te.props?te.props.hide:te.type.defaultProps.hide;return ne===O&&(k||!ge)}),A,h,!0);if(A==="number")V=$P(m,V,O,s,E),q&&(V=eP(q,V,P));else if(A==="category"&&q){var z=q,Z=V.every(function(te){return z.indexOf(te)>=0});Z&&(V=z)}}return be(be({},b),{},xt({},O,be(be({},j),{},{axisType:s,domain:V,categoricalDomain:X,duplicateDomain:$,originalDomain:(x=j.domain)!==null&&x!==void 0?x:H,isCategorical:v,layout:h})))},{})},s6e=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,l=n.stackGroups,u=n.dataStartIndex,d=n.dataEndIndex,h=e.layout,m=e.children,g=tN(e.data,{graphicalItems:r,dataStartIndex:u,dataEndIndex:d}),v=g.length,b=Qte(h,s),_=-1;return r.reduce(function(x,j){var A=j.type.defaultProps!==void 0?be(be({},j.type.defaultProps),j.props):j.props,C=A[a],P=gre("number");if(!x[C]){_++;var T;return b?T=B1(0,v):l&&l[C]&&l[C].hasStack?(T=nne(l[C].stackGroups,u,d),T=$P(m,T,C,s)):(T=eP(P,Xte(g,r.filter(function(I){var E,k,O=a in I.props?I.props[a]:(E=I.type.defaultProps)===null||E===void 0?void 0:E[a],D="hide"in I.props?I.props.hide:(k=I.type.defaultProps)===null||k===void 0?void 0:k.hide;return O===C&&!D}),"number",h),i.defaultProps.allowDataOverflow),T=$P(m,T,C,s)),be(be({},x),{},xt({},C,be(be({axisType:s},i.defaultProps),{},{hide:!0,orientation:Vs(e6e,"".concat(s,".").concat(_%2),null),domain:T,originalDomain:P,isCategorical:b,layout:h})))}return x},{})},a6e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,l=n.stackGroups,u=n.dataStartIndex,d=n.dataEndIndex,h=e.children,m="".concat(i,"Id"),g=Fs(h,s),v={};return g&&g.length?v=i6e(e,{axes:g,graphicalItems:a,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:u,dataEndIndex:d}):a&&a.length&&(v=s6e(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:u,dataEndIndex:d})),v},o6e=function(e){var n=lu(e),r=ql(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:MD(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:C1(n,r)}},y7=function(e){var n=e.children,r=e.defaultShowTooltip,i=Es(n,vp),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},l6e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Jl(n&&n.type);return r&&r.indexOf("Bar")>=0})},v7=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},c6e=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,l=e.yAxisMap,u=l===void 0?{}:l,d=r.width,h=r.height,m=r.children,g=r.margin||{},v=Es(m,vp),b=Es(m,ko),_=Object.keys(u).reduce(function(T,I){var E=u[I],k=E.orientation;return!E.mirror&&!E.hide?be(be({},T),{},xt({},k,T[k]+E.width)):T},{left:g.left||0,right:g.right||0}),x=Object.keys(a).reduce(function(T,I){var E=a[I],k=E.orientation;return!E.mirror&&!E.hide?be(be({},T),{},xt({},k,Vs(T,"".concat(k))+E.height)):T},{top:g.top||0,bottom:g.bottom||0}),j=be(be({},x),_),A=j.bottom;v&&(j.bottom+=v.props.height||vp.defaultProps.height),b&&n&&(j=wRe(j,i,r,n));var C=d-j.left-j.right,P=h-j.top-j.bottom;return be(be({brushBottom:A},j),{},{width:Math.max(C,0),height:Math.max(P,0)})},u6e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},nN=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,l=a===void 0?["axis"]:a,u=e.axisComponents,d=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,g=function(j,A){var C=A.graphicalItems,P=A.stackGroups,T=A.offset,I=A.updateId,E=A.dataStartIndex,k=A.dataEndIndex,O=j.barSize,D=j.layout,M=j.barGap,V=j.barCategoryGap,$=j.maxBarSize,X=v7(D),H=X.numericAxisName,U=X.cateAxisName,q=l6e(C),G=[];return C.forEach(function(W,z){var Z=tN(j.data,{graphicalItems:[W],dataStartIndex:E,dataEndIndex:k}),te=W.type.defaultProps!==void 0?be(be({},W.type.defaultProps),W.props):W.props,ne=te.dataKey,ge=te.maxBarSize,Ce=te["".concat(H,"Id")],Te=te["".concat(U,"Id")],je={},ce=u.reduce(function(se,pe){var Le=A["".concat(pe.axisType,"Map")],Ie=te["".concat(pe.axisType,"Id")];Le&&Le[Ie]||pe.axisType==="zAxis"||Lf();var ke=Le[Ie];return be(be({},se),{},xt(xt({},pe.axisType,ke),"".concat(pe.axisType,"Ticks"),ql(ke)))},je),oe=ce[U],we=ce["".concat(U,"Ticks")],Ne=P&&P[Ce]&&P[Ce].hasStack&&PRe(W,P[Ce].stackGroups),ue=Jl(W.type).indexOf("Bar")>=0,Ue=C1(oe,we),We=[],jt=q&&bRe({barSize:O,stackGroups:P,totalSize:u6e(ce,U)});if(ue){var ht,At,Ur=Et(ge)?$:ge,Qn=(ht=(At=C1(oe,we,!0))!==null&&At!==void 0?At:Ur)!==null&&ht!==void 0?ht:0;We=_Re({barGap:M,barCategoryGap:V,bandSize:Qn!==Ue?Qn:Ue,sizeList:jt[Te],maxBarSize:Ur}),Qn!==Ue&&(We=We.map(function(se){return be(be({},se),{},{position:be(be({},se.position),{},{offset:se.position.offset-Qn/2})})}))}var ee=W&&W.type&&W.type.getComposedData;ee&&G.push({props:be(be({},ee(be(be({},ce),{},{displayedData:Z,props:j,dataKey:ne,item:W,bandSize:Ue,barPosition:We,offset:T,stackedData:Ne,layout:D,dataStartIndex:E,dataEndIndex:k}))),{},xt(xt(xt({key:W.key||"item-".concat(z)},H,ce[H]),U,ce[U]),"animationId",I)),childIndex:NNe(W,j.children),item:W})}),G},v=function(j,A){var C=j.props,P=j.dataStartIndex,T=j.dataEndIndex,I=j.updateId;if(!TB({props:C}))return null;var E=C.children,k=C.layout,O=C.stackOffset,D=C.data,M=C.reverseStackOrder,V=v7(k),$=V.numericAxisName,X=V.cateAxisName,H=Fs(E,r),U=ORe(D,H,"".concat($,"Id"),"".concat(X,"Id"),O,M),q=u.reduce(function(te,ne){var ge="".concat(ne.axisType,"Map");return be(be({},te),{},xt({},ge,a6e(C,be(be({},ne),{},{graphicalItems:H,stackGroups:ne.axisType===$&&U,dataStartIndex:P,dataEndIndex:T}))))},{}),G=c6e(be(be({},q),{},{props:C,graphicalItems:H}),A==null?void 0:A.legendBBox);Object.keys(q).forEach(function(te){q[te]=h(C,q[te],G,te.replace("Map",""),n)});var W=q["".concat(X,"Map")],z=o6e(W),Z=g(C,be(be({},q),{},{dataStartIndex:P,dataEndIndex:T,updateId:I,graphicalItems:H,stackGroups:U,offset:G}));return be(be({formattedGraphicalItems:Z,graphicalItems:H,offset:G,stackGroups:U},z),q)},b=function(x){function j(A){var C,P,T;return z3e(this,j),T=W3e(this,j,[A]),xt(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),xt(T,"accessibilityManager",new C3e),xt(T,"handleLegendBBoxUpdate",function(I){if(I){var E=T.state,k=E.dataStartIndex,O=E.dataEndIndex,D=E.updateId;T.setState(be({legendBBox:I},v({props:T.props,dataStartIndex:k,dataEndIndex:O,updateId:D},be(be({},T.state),{},{legendBBox:I}))))}}),xt(T,"handleReceiveSyncEvent",function(I,E,k){if(T.props.syncId===I){if(k===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(E)}}),xt(T,"handleBrushChange",function(I){var E=I.startIndex,k=I.endIndex;if(E!==T.state.dataStartIndex||k!==T.state.dataEndIndex){var O=T.state.updateId;T.setState(function(){return be({dataStartIndex:E,dataEndIndex:k},v({props:T.props,dataStartIndex:E,dataEndIndex:k,updateId:O},T.state))}),T.triggerSyncEvent({dataStartIndex:E,dataEndIndex:k})}}),xt(T,"handleMouseEnter",function(I){var E=T.getMouseInfo(I);if(E){var k=be(be({},E),{},{isTooltipActive:!0});T.setState(k),T.triggerSyncEvent(k);var O=T.props.onMouseEnter;_t(O)&&O(k,I)}}),xt(T,"triggeredAfterMouseMove",function(I){var E=T.getMouseInfo(I),k=E?be(be({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(k),T.triggerSyncEvent(k);var O=T.props.onMouseMove;_t(O)&&O(k,I)}),xt(T,"handleItemMouseEnter",function(I){T.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),xt(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),xt(T,"handleMouseMove",function(I){I.persist(),T.throttleTriggeredAfterMouseMove(I)}),xt(T,"handleMouseLeave",function(I){T.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var k=T.props.onMouseLeave;_t(k)&&k(E,I)}),xt(T,"handleOuterEvent",function(I){var E=jNe(I),k=Vs(T.props,"".concat(E));if(E&&_t(k)){var O,D;/.*touch.*/i.test(E)?D=T.getMouseInfo(I.changedTouches[0]):D=T.getMouseInfo(I),k((O=D)!==null&&O!==void 0?O:{},I)}}),xt(T,"handleClick",function(I){var E=T.getMouseInfo(I);if(E){var k=be(be({},E),{},{isTooltipActive:!0});T.setState(k),T.triggerSyncEvent(k);var O=T.props.onClick;_t(O)&&O(k,I)}}),xt(T,"handleMouseDown",function(I){var E=T.props.onMouseDown;if(_t(E)){var k=T.getMouseInfo(I);E(k,I)}}),xt(T,"handleMouseUp",function(I){var E=T.props.onMouseUp;if(_t(E)){var k=T.getMouseInfo(I);E(k,I)}}),xt(T,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),xt(T,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.handleMouseDown(I.changedTouches[0])}),xt(T,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.handleMouseUp(I.changedTouches[0])}),xt(T,"handleDoubleClick",function(I){var E=T.props.onDoubleClick;if(_t(E)){var k=T.getMouseInfo(I);E(k,I)}}),xt(T,"handleContextMenu",function(I){var E=T.props.onContextMenu;if(_t(E)){var k=T.getMouseInfo(I);E(k,I)}}),xt(T,"triggerSyncEvent",function(I){T.props.syncId!==void 0&&Yk.emit(Kk,T.props.syncId,I,T.eventEmitterSymbol)}),xt(T,"applySyncEvent",function(I){var E=T.props,k=E.layout,O=E.syncMethod,D=T.state.updateId,M=I.dataStartIndex,V=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)T.setState(be({dataStartIndex:M,dataEndIndex:V},v({props:T.props,dataStartIndex:M,dataEndIndex:V,updateId:D},T.state)));else if(I.activeTooltipIndex!==void 0){var $=I.chartX,X=I.chartY,H=I.activeTooltipIndex,U=T.state,q=U.offset,G=U.tooltipTicks;if(!q)return;if(typeof O=="function")H=O(G,I);else if(O==="value"){H=-1;for(var W=0;W<G.length;W++)if(G[W].value===I.activeLabel){H=W;break}}var z=be(be({},q),{},{x:q.left,y:q.top}),Z=Math.min($,z.x+z.width),te=Math.min(X,z.y+z.height),ne=G[H]&&G[H].value,ge=BP(T.state,T.props.data,H),Ce=G[H]?{x:k==="horizontal"?G[H].coordinate:Z,y:k==="horizontal"?te:G[H].coordinate}:pre;T.setState(be(be({},I),{},{activeLabel:ne,activeCoordinate:Ce,activePayload:ge,activeTooltipIndex:H}))}else T.setState(I)}),xt(T,"renderCursor",function(I){var E,k=T.state,O=k.isTooltipActive,D=k.activeCoordinate,M=k.activePayload,V=k.offset,$=k.activeTooltipIndex,X=k.tooltipAxisBandSize,H=T.getTooltipEventType(),U=(E=I.props.active)!==null&&E!==void 0?E:O,q=T.props.layout,G=I.key||"_recharts-cursor";return Q.createElement(D3e,{key:G,activeCoordinate:D,activePayload:M,activeTooltipIndex:$,chartName:n,element:I,isActive:U,layout:q,offset:V,tooltipAxisBandSize:X,tooltipEventType:H})}),xt(T,"renderPolarAxis",function(I,E,k){var O=Vs(I,"type.axisType"),D=Vs(T.state,"".concat(O,"Map")),M=I.type.defaultProps,V=M!==void 0?be(be({},M),I.props):I.props,$=D&&D[V["".concat(O,"Id")]];return N.cloneElement(I,be(be({},$),{},{className:kt(O,$.className),key:I.key||"".concat(E,"-").concat(k),ticks:ql($,!0)}))}),xt(T,"renderPolarGrid",function(I){var E=I.props,k=E.radialLines,O=E.polarAngles,D=E.polarRadius,M=T.state,V=M.radiusAxisMap,$=M.angleAxisMap,X=lu(V),H=lu($),U=H.cx,q=H.cy,G=H.innerRadius,W=H.outerRadius;return N.cloneElement(I,{polarAngles:Array.isArray(O)?O:ql(H,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(D)?D:ql(X,!0).map(function(z){return z.coordinate}),cx:U,cy:q,innerRadius:G,outerRadius:W,key:I.key||"polar-grid",radialLines:k})}),xt(T,"renderLegend",function(){var I=T.state.formattedGraphicalItems,E=T.props,k=E.children,O=E.width,D=E.height,M=T.props.margin||{},V=O-(M.left||0)-(M.right||0),$=Yte({children:k,formattedGraphicalItems:I,legendWidth:V,legendContent:d});if(!$)return null;var X=$.item,H=m7($,L3e);return N.cloneElement(X,be(be({},H),{},{chartWidth:O,chartHeight:D,margin:M,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),xt(T,"renderTooltip",function(){var I,E=T.props,k=E.children,O=E.accessibilityLayer,D=Es(k,Xi);if(!D)return null;var M=T.state,V=M.isTooltipActive,$=M.activeCoordinate,X=M.activePayload,H=M.activeLabel,U=M.offset,q=(I=D.props.active)!==null&&I!==void 0?I:V;return N.cloneElement(D,{viewBox:be(be({},U),{},{x:U.left,y:U.top}),active:q,label:H,payload:q?X:[],coordinate:$,accessibilityLayer:O})}),xt(T,"renderBrush",function(I){var E=T.props,k=E.margin,O=E.data,D=T.state,M=D.offset,V=D.dataStartIndex,$=D.dataEndIndex,X=D.updateId;return N.cloneElement(I,{key:I.key||"_recharts-brush",onChange:y_(T.handleBrushChange,I.props.onChange),data:O,x:Re(I.props.x)?I.props.x:M.left,y:Re(I.props.y)?I.props.y:M.top+M.height+M.brushBottom-(k.bottom||0),width:Re(I.props.width)?I.props.width:M.width,startIndex:V,endIndex:$,updateId:"brush-".concat(X)})}),xt(T,"renderReferenceElement",function(I,E,k){if(!I)return null;var O=T,D=O.clipPathId,M=T.state,V=M.xAxisMap,$=M.yAxisMap,X=M.offset,H=I.type.defaultProps||{},U=I.props,q=U.xAxisId,G=q===void 0?H.xAxisId:q,W=U.yAxisId,z=W===void 0?H.yAxisId:W;return N.cloneElement(I,{key:I.key||"".concat(E,"-").concat(k),xAxis:V[G],yAxis:$[z],viewBox:{x:X.left,y:X.top,width:X.width,height:X.height},clipPathId:D})}),xt(T,"renderActivePoints",function(I){var E=I.item,k=I.activePoint,O=I.basePoint,D=I.childIndex,M=I.isRange,V=[],$=E.props.key,X=E.item.type.defaultProps!==void 0?be(be({},E.item.type.defaultProps),E.item.props):E.item.props,H=X.activeDot,U=X.dataKey,q=be(be({index:D,dataKey:U,cx:k.x,cy:k.y,r:4,fill:o4(E.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},ut(H,!1)),i1(H));return V.push(j.renderActiveDot(H,q,"".concat($,"-activePoint-").concat(D))),O?V.push(j.renderActiveDot(H,be(be({},q),{},{cx:O.x,cy:O.y}),"".concat($,"-basePoint-").concat(D))):M&&V.push(null),V}),xt(T,"renderGraphicChild",function(I,E,k){var O=T.filterFormatItem(I,E,k);if(!O)return null;var D=T.getTooltipEventType(),M=T.state,V=M.isTooltipActive,$=M.tooltipAxis,X=M.activeTooltipIndex,H=M.activeLabel,U=T.props.children,q=Es(U,Xi),G=O.props,W=G.points,z=G.isRange,Z=G.baseLine,te=O.item.type.defaultProps!==void 0?be(be({},O.item.type.defaultProps),O.item.props):O.item.props,ne=te.activeDot,ge=te.hide,Ce=te.activeBar,Te=te.activeShape,je=!!(!ge&&V&&q&&(ne||Ce||Te)),ce={};D!=="axis"&&q&&q.props.trigger==="click"?ce={onClick:y_(T.handleItemMouseEnter,I.props.onClick)}:D!=="axis"&&(ce={onMouseLeave:y_(T.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:y_(T.handleItemMouseEnter,I.props.onMouseEnter)});var oe=N.cloneElement(I,be(be({},O.props),ce));function we(pe){return typeof $.dataKey=="function"?$.dataKey(pe.payload):null}if(je)if(X>=0){var Ne,ue;if($.dataKey&&!$.allowDuplicatedCategory){var Ue=typeof $.dataKey=="function"?we:"payload.".concat($.dataKey.toString());Ne=r1(W,Ue,H),ue=z&&Z&&r1(Z,Ue,H)}else Ne=W==null?void 0:W[X],ue=z&&Z&&Z[X];if(Te||Ce){var We=I.props.activeIndex!==void 0?I.props.activeIndex:X;return[N.cloneElement(I,be(be(be({},O.props),ce),{},{activeIndex:We})),null,null]}if(!Et(Ne))return[oe].concat(kp(T.renderActivePoints({item:O,activePoint:Ne,basePoint:ue,childIndex:X,isRange:z})))}else{var jt,ht=(jt=T.getItemByXY(T.state.activeCoordinate))!==null&&jt!==void 0?jt:{graphicalItem:oe},At=ht.graphicalItem,Ur=At.item,Qn=Ur===void 0?I:Ur,ee=At.childIndex,se=be(be(be({},O.props),ce),{},{activeIndex:ee});return[N.cloneElement(Qn,se),null,null]}return z?[oe,null,null]:[oe,null]}),xt(T,"renderCustomized",function(I,E,k){return N.cloneElement(I,be(be({key:"recharts-customized-".concat(k)},T.props),T.state))}),xt(T,"renderMap",{CartesianGrid:{handler:w_,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:w_},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:w_},YAxis:{handler:w_},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((C=A.id)!==null&&C!==void 0?C:eh("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=Gee(T.triggeredAfterMouseMove,(P=A.throttleDelay)!==null&&P!==void 0?P:1e3/60),T.state={},T}return K3e(j,x),H3e(j,[{key:"componentDidMount",value:function(){var C,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,P=C.children,T=C.data,I=C.height,E=C.layout,k=Es(P,Xi);if(k){var O=k.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,M=BP(this.state,T,O,D),V=this.state.tooltipTicks[O].coordinate,$=(this.state.offset.top+I)/2,X=E==="horizontal",H=X?{x:V,y:$}:{y:V,x:$},U=this.state.formattedGraphicalItems.find(function(G){var W=G.item;return W.type.name==="Scatter"});U&&(H=be(be({},H),U.props.points[O].tooltipPosition),M=U.props.points[O].tooltipPayload);var q={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:D,activePayload:M,activeCoordinate:H};this.setState(q),this.renderCursor(k),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var T,I;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(C){wR([Es(C.children,Xi)],[Es(this.props.children,Xi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=Es(this.props.children,Xi);if(C&&typeof C.props.shared=="boolean"){var P=C.props.shared?"axis":"item";return l.indexOf(P)>=0?P:s}return s}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var P=this.container,T=P.getBoundingClientRect(),I=dCe(T),E={chartX:Math.round(C.pageX-I.left),chartY:Math.round(C.pageY-I.top)},k=T.width/P.offsetWidth||1,O=this.inRange(E.chartX,E.chartY,k);if(!O)return null;var D=this.state,M=D.xAxisMap,V=D.yAxisMap,$=this.getTooltipEventType(),X=g7(this.state,this.props.data,this.props.layout,O);if($!=="axis"&&M&&V){var H=lu(M).scale,U=lu(V).scale,q=H&&H.invert?H.invert(E.chartX):null,G=U&&U.invert?U.invert(E.chartY):null;return be(be({},E),{},{xValue:q,yValue:G},X)}return X?be(be({},E),X):null}},{key:"inRange",value:function(C,P){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,E=C/T,k=P/T;if(I==="horizontal"||I==="vertical"){var O=this.state.offset,D=E>=O.left&&E<=O.left+O.width&&k>=O.top&&k<=O.top+O.height;return D?{x:E,y:k}:null}var M=this.state,V=M.angleAxisMap,$=M.radiusAxisMap;if(V&&$){var X=lu(V);return g8({x:E,y:k},X)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,P=this.getTooltipEventType(),T=Es(C,Xi),I={};T&&P==="axis"&&(T.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=i1(this.props,this.handleOuterEvent);return be(be({},E),I)}},{key:"addListener",value:function(){Yk.on(Kk,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Yk.removeListener(Kk,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,P,T){for(var I=this.state.formattedGraphicalItems,E=0,k=I.length;E<k;E++){var O=I[E];if(O.item===C||O.props.key===C.key||P===Jl(O.item.type)&&T===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,P=this.state.offset,T=P.left,I=P.top,E=P.height,k=P.width;return Q.createElement("defs",null,Q.createElement("clipPath",{id:C},Q.createElement("rect",{x:T,y:I,height:E,width:k})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(P,T){var I=h7(T,2),E=I[0],k=I[1];return be(be({},P),{},xt({},E,k.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(P,T){var I=h7(T,2),E=I[0],k=I[1];return be(be({},P),{},xt({},E,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[C])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(C){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[C])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(C){var P=this.state,T=P.formattedGraphicalItems,I=P.activeItem;if(T&&T.length)for(var E=0,k=T.length;E<k;E++){var O=T[E],D=O.props,M=O.item,V=M.type.defaultProps!==void 0?be(be({},M.type.defaultProps),M.props):M.props,$=Jl(M.type);if($==="Bar"){var X=(D.data||[]).find(function(G){return TMe(C,G)});if(X)return{graphicalItem:O,payload:X}}else if($==="RadialBar"){var H=(D.data||[]).find(function(G){return g8(C,G)});if(H)return{graphicalItem:O,payload:H}}else if(Yj(O,I)||Kj(O,I)||vx(O,I)){var U=QDe({graphicalItem:O,activeTooltipItem:I,itemData:V.data}),q=V.activeIndex===void 0?U:V.activeIndex;return{graphicalItem:be(be({},O),{},{childIndex:q}),payload:vx(O,I)?V.data[U]:O.props.data[U]}}}return null}},{key:"render",value:function(){var C=this;if(!TB(this))return null;var P=this.props,T=P.children,I=P.className,E=P.width,k=P.height,O=P.style,D=P.compact,M=P.title,V=P.desc,$=m7(P,$3e),X=ut($,!1);if(D)return Q.createElement(Wq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement(jR,xm({},X,{width:E,height:k,title:M,desc:V}),this.renderClipPath(),kB(T,this.renderMap)));if(this.props.accessibilityLayer){var H,U;X.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,X.role=(U=this.props.role)!==null&&U!==void 0?U:"application",X.onKeyDown=function(G){C.accessibilityManager.keyboardEvent(G)},X.onFocus=function(){C.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return Q.createElement(Wq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement("div",xm({className:kt("recharts-wrapper",I),style:be({position:"relative",cursor:"default",width:E,height:k},O)},q,{ref:function(W){C.container=W}}),Q.createElement(jR,xm({},X,{width:E,height:k,title:M,desc:V,style:t6e}),this.renderClipPath(),kB(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);xt(b,"displayName",n),xt(b,"defaultProps",be({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),xt(b,"getDerivedStateFromProps",function(x,j){var A=x.dataKey,C=x.data,P=x.children,T=x.width,I=x.height,E=x.layout,k=x.stackOffset,O=x.margin,D=j.dataStartIndex,M=j.dataEndIndex;if(j.updateId===void 0){var V=y7(x);return be(be(be({},V),{},{updateId:0},v(be(be({props:x},V),{},{updateId:0}),j)),{},{prevDataKey:A,prevData:C,prevWidth:T,prevHeight:I,prevLayout:E,prevStackOffset:k,prevMargin:O,prevChildren:P})}if(A!==j.prevDataKey||C!==j.prevData||T!==j.prevWidth||I!==j.prevHeight||E!==j.prevLayout||k!==j.prevStackOffset||!Pm(O,j.prevMargin)){var $=y7(x),X={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},H=be(be({},g7(j,C,E)),{},{updateId:j.updateId+1}),U=be(be(be({},$),X),H);return be(be(be({},U),v(be({props:x},U),j)),{},{prevDataKey:A,prevData:C,prevWidth:T,prevHeight:I,prevLayout:E,prevStackOffset:k,prevMargin:O,prevChildren:P})}if(!wR(P,j.prevChildren)){var q,G,W,z,Z=Es(P,vp),te=Z&&(q=(G=Z.props)===null||G===void 0?void 0:G.startIndex)!==null&&q!==void 0?q:D,ne=Z&&(W=(z=Z.props)===null||z===void 0?void 0:z.endIndex)!==null&&W!==void 0?W:M,ge=te!==D||ne!==M,Ce=!Et(C),Te=Ce&&!ge?j.updateId:j.updateId+1;return be(be({updateId:Te},v(be(be({props:x},j),{},{updateId:Te,dataStartIndex:te,dataEndIndex:ne}),j)),{},{prevChildren:P,dataStartIndex:te,dataEndIndex:ne})}return null}),xt(b,"renderActiveDot",function(x,j,A){var C;return N.isValidElement(x)?C=N.cloneElement(x,j):_t(x)?C=x(j):C=Q.createElement(_b,j),Q.createElement(Kt,{className:"recharts-active-dot",key:A},C)});var _=N.forwardRef(function(j,A){return Q.createElement(b,xm({},j,{ref:A}))});return _.displayName=b.displayName,_},d6e=nN({chartName:"LineChart",GraphicalChild:Np,axisComponents:[{axisType:"xAxis",AxisComp:Hl},{axisType:"yAxis",AxisComp:jo}],formatAxisMap:c4}),x7=nN({chartName:"BarChart",GraphicalChild:tc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Hl},{axisType:"yAxis",AxisComp:jo}],formatAxisMap:c4}),b7=nN({chartName:"PieChart",GraphicalChild:Xo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Gj},{axisType:"radiusAxis",AxisComp:Hj}],formatAxisMap:zRe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),f6e=nN({chartName:"AreaChart",GraphicalChild:Zu,axisComponents:[{axisType:"xAxis",AxisComp:Hl},{axisType:"yAxis",AxisComp:jo}],formatAxisMap:c4});const _7={communityMetrics:{totalCommunities:12,activeMembers:2847,communityGrowth:8.2,topCommunities:[{name:"Outdoor Enthusiasts",members:1247,engagement:89,growth:"+12%"},{name:"Fitness Community",members:892,engagement:76,growth:"+8%"},{name:"Tech Innovators",members:634,engagement:94,growth:"+15%"}],activityTrend:[{date:"Jan 1",posts:45,comments:132},{date:"Jan 8",posts:52,comments:187},{date:"Jan 15",posts:61,comments:215},{date:"Jan 22",posts:48,comments:176},{date:"Jan 29",posts:38,comments:154},{date:"Feb 5",posts:48,comments:198},{date:"Feb 12",posts:61,comments:221}]},contentMetrics:{engagementRate:24.7,engagementBreakdown:{videos:1247,articles:892,posts:2156,socialAsks:634},topPerformingContent:[{title:"Sustainable Shopping Guide",type:"Article",views:1245,engagement:32},{title:"Product Demo Video",type:"Video",views:987,engagement:28},{title:"Community Challenge",type:"Post",views:876,engagement:41},{title:"Customer Feedback Survey",type:"Social Ask",views:654,engagement:19}]},userMetrics:{usersByLocation:[{name:"North America",value:65},{name:"Europe",value:20},{name:"Asia",value:10},{name:"Other",value:5}],usersByDevice:[{name:"Mobile",value:68},{name:"Desktop",value:24},{name:"Tablet",value:8}]}},la=["#0ea5e9","#10b981","#8b5cf6","#f97316","#ef4444","#f59e0b"],S_={videos:"#ef4444",articles:"#0ea5e9",posts:"#10b981",socialAsks:"#8b5cf6"},h6e=({brandId:t})=>{const{brandId:e}=Bf(),n=t||e,{user:r}=Vn(),[i,s]=N.useState(!0),[a,l]=N.useState(null),[u,d]=N.useState(null),[h,m]=N.useState(null),[g,v]=N.useState("30d"),[b,_]=N.useState({totalInvestment:1e3,employeesTrained:50,avgProfitPerItem:5}),x=b.employeesTrained*3,j=x*b.avgProfitPerItem,A=b.totalInvestment>0?((j-b.totalInvestment)/b.totalInvestment*100).toFixed(1):0,C=I=>{const{name:E,value:k}=I.target;_(O=>({...O,[E]:Number(k)}))},P=I=>I>=1e6?(I/1e6).toFixed(1)+"M":I>=1e3?(I/1e3).toFixed(1)+"K":I.toString(),T=N.useCallback(async()=>{if(!n){l("Brand ID is missing"),s(!1);return}s(!0),l(null);try{const I=Je(xe,"brands",n),E=await vi(I);E.exists()?d(E.data()):d({name:n.charAt(0).toUpperCase()+n.slice(1),logoURL:null,primaryColor:"#0ea5e9",secondaryColor:"#10b981"}),m(_7)}catch(I){console.error("Error fetching brand data:",I),l("Could not load brand data. Using sample data instead."),d({name:n.charAt(0).toUpperCase()+n.slice(1),logoURL:null,primaryColor:"#0ea5e9",secondaryColor:"#10b981"}),m(_7)}finally{s(!1)}},[n]);return N.useEffect(()=>{T()},[T]),i?o.jsx("div",{className:"p-8 flex items-center justify-center min-h-[200px]",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"h-12 w-12 border-4 border-t-primary border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading dashboard data..."})]})}):!u||!h?o.jsx("div",{className:"p-8",children:o.jsxs(Wa,{variant:"destructive",children:[o.jsx(Oi,{className:"h-4 w-4"}),o.jsx(Zm,{children:"Error"}),o.jsxs(Ga,{children:["Failed to load dashboard data. Please try again later.",o.jsxs(Oe,{variant:"outline",size:"sm",className:"mt-2",onClick:T,children:[o.jsx(Km,{className:"h-4 w-4 mr-2"}),"Retry"]})]})]})}):o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Brand Analytics Dashboard"}),o.jsxs("p",{className:"text-muted-foreground",children:["Comprehensive analytics and insights for ",u.name]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs("div",{className:"flex items-center border rounded-md overflow-hidden",children:[o.jsx(Oe,{variant:"ghost",size:"sm",className:g==="7d"?"bg-muted":"",onClick:()=>v("7d"),children:"7D"}),o.jsx(av,{orientation:"vertical",className:"h-6"}),o.jsx(Oe,{variant:"ghost",size:"sm",className:g==="30d"?"bg-muted":"",onClick:()=>v("30d"),children:"30D"}),o.jsx(av,{orientation:"vertical",className:"h-6"}),o.jsx(Oe,{variant:"ghost",size:"sm",className:g==="90d"?"bg-muted":"",onClick:()=>v("90d"),children:"90D"})]}),o.jsxs(Oe,{variant:"outline",size:"sm",onClick:T,children:[o.jsx(Km,{className:"h-4 w-4 mr-2"}),"Refresh"]}),o.jsxs(Oe,{variant:"outline",size:"sm",children:[o.jsx(sb,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),a&&o.jsxs(Wa,{children:[o.jsx(Oi,{className:"h-4 w-4"}),o.jsx(Zm,{children:"Note"}),o.jsx(Ga,{children:a})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(De,{children:[o.jsxs(He,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(Ge,{className:"text-sm font-medium",children:"Community Members"}),o.jsx(ei,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Fe,{children:[o.jsx("div",{className:"text-2xl font-bold",children:P(h.communityMetrics.activeMembers)}),o.jsxs("div",{className:"flex items-center pt-1 text-xs",children:[o.jsxs("span",{className:"text-green-500 flex items-center",children:[o.jsx(IE,{className:"h-3 w-3 mr-1"}),h.communityMetrics.communityGrowth,"%"]}),o.jsx("span",{className:"text-muted-foreground ml-1",children:"from last month"})]})]})]}),o.jsxs(De,{children:[o.jsxs(He,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(Ge,{className:"text-sm font-medium",children:"Engagement Rate"}),o.jsx(wM,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Fe,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[h.contentMetrics.engagementRate,"%"]}),o.jsxs("div",{className:"flex items-center pt-1 text-xs",children:[o.jsxs("span",{className:"text-green-500 flex items-center",children:[o.jsx(IE,{className:"h-3 w-3 mr-1"}),"5.2%"]}),o.jsx("span",{className:"text-muted-foreground ml-1",children:"from last month"})]})]})]}),o.jsxs(De,{children:[o.jsxs(He,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(Ge,{className:"text-sm font-medium",children:"Content Views"}),o.jsx(zu,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Fe,{children:[o.jsx("div",{className:"text-2xl font-bold",children:P(h.contentMetrics.topPerformingContent.reduce((I,E)=>I+E.views,0))}),o.jsxs("div",{className:"flex items-center pt-1 text-xs",children:[o.jsxs("span",{className:"text-green-500 flex items-center",children:[o.jsx(IE,{className:"h-3 w-3 mr-1"}),"22.4%"]}),o.jsx("span",{className:"text-muted-foreground ml-1",children:"from last month"})]})]})]}),o.jsxs(De,{children:[o.jsxs(He,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(Ge,{className:"text-sm font-medium",children:"ROI Estimate"}),o.jsx(Go,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Fe,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[A,"%"]}),o.jsx("div",{className:"flex items-center pt-1 text-xs",children:o.jsx("span",{className:"text-muted-foreground",children:"Based on current inputs"})})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(De,{className:"bg-red-50 border-red-100",children:[o.jsx(He,{className:"pb-2",children:o.jsx(Ge,{className:"text-sm font-medium text-red-700",children:"Videos"})}),o.jsxs(Fe,{children:[o.jsx("div",{className:"text-2xl font-bold text-red-900",children:P(h.contentMetrics.engagementBreakdown.videos)}),o.jsx("p",{className:"text-xs text-red-600",children:"engagements"})]})]}),o.jsxs(De,{className:"bg-blue-50 border-blue-100",children:[o.jsx(He,{className:"pb-2",children:o.jsx(Ge,{className:"text-sm font-medium text-blue-700",children:"Articles"})}),o.jsxs(Fe,{children:[o.jsx("div",{className:"text-2xl font-bold text-blue-900",children:P(h.contentMetrics.engagementBreakdown.articles)}),o.jsx("p",{className:"text-xs text-blue-600",children:"engagements"})]})]}),o.jsxs(De,{className:"bg-green-50 border-green-100",children:[o.jsx(He,{className:"pb-2",children:o.jsx(Ge,{className:"text-sm font-medium text-green-700",children:"Posts"})}),o.jsxs(Fe,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-900",children:P(h.contentMetrics.engagementBreakdown.posts)}),o.jsx("p",{className:"text-xs text-green-600",children:"engagements"})]})]}),o.jsxs(De,{className:"bg-purple-50 border-purple-100",children:[o.jsx(He,{className:"pb-2",children:o.jsx(Ge,{className:"text-sm font-medium text-purple-700",children:"Social Asks"})}),o.jsxs(Fe,{children:[o.jsx("div",{className:"text-2xl font-bold text-purple-900",children:P(h.contentMetrics.engagementBreakdown.socialAsks)}),o.jsx("p",{className:"text-xs text-purple-600",children:"engagements"})]})]})]}),o.jsxs(qu,{defaultValue:"overview",className:"space-y-4",children:[o.jsxs(gc,{className:"flex flex-wrap gap-2 border-b border-muted pb-2",children:[o.jsxs(bn,{value:"overview",className:`flex items-center gap-2 rounded-md border px-3 py-2 text-sm font-medium transition-colors\r
                       data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\r
                       hover:bg-muted/70`,children:[o.jsx(ZS,{className:"h-4 w-4"}),o.jsx("span",{children:"Overview"})]}),o.jsxs(bn,{value:"content",className:`flex items-center gap-2 rounded-md border px-3 py-2 text-sm font-medium transition-colors\r
                       data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\r
                       hover:bg-muted/70`,children:[o.jsx(Jye,{className:"h-4 w-4"}),o.jsx("span",{children:"Content"})]}),o.jsxs(bn,{value:"audience",className:`flex items-center gap-2 rounded-md border px-3 py-2 text-sm font-medium transition-colors\r
                       data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\r
                       hover:bg-muted/70`,children:[o.jsx(ei,{className:"h-4 w-4"}),o.jsx("span",{children:"Audience"})]}),o.jsxs(bn,{value:"roi",className:`flex items-center gap-2 rounded-md border px-3 py-2 text-sm font-medium transition-colors\r
                       data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\r
                       hover:bg-muted/70`,children:[o.jsx(Go,{className:"h-4 w-4"}),o.jsx("span",{children:"ROI Calculator"})]})]}),o.jsxs(qn,{value:"overview",className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Community Growth"}),o.jsx($t,{children:"Daily active members in your communities"})]}),o.jsx(Fe,{className:"pt-2",children:o.jsx("div",{className:"h-[300px]",children:o.jsx(em,{width:"100%",height:"100%",children:o.jsxs(f6e,{data:h.communityMetrics.activityTrend,children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"colorPosts",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:la[0],stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:la[0],stopOpacity:0})]})}),o.jsx(Hl,{dataKey:"date"}),o.jsx(jo,{}),o.jsx(zy,{strokeDasharray:"3 3"}),o.jsx(Xi,{}),o.jsx(Zu,{type:"monotone",dataKey:"posts",stroke:la[0],fillOpacity:1,fill:"url(#colorPosts)"})]})})})})]}),o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Content Engagement"}),o.jsx($t,{children:"Views vs. engagement over the last 30 days"})]}),o.jsx(Fe,{className:"pt-2",children:o.jsx("div",{className:"h-[300px]",children:o.jsx(em,{width:"100%",height:"100%",children:o.jsxs(d6e,{data:h.contentMetrics.topPerformingContent,children:[o.jsx(zy,{strokeDasharray:"3 3"}),o.jsx(Hl,{dataKey:"title",tick:{fontSize:12},tickFormatter:I=>I.substring(0,10)+"..."}),o.jsx(jo,{yAxisId:"left"}),o.jsx(jo,{yAxisId:"right",orientation:"right"}),o.jsx(Xi,{}),o.jsx(ko,{}),o.jsx(Np,{yAxisId:"left",type:"monotone",dataKey:"views",stroke:la[1],activeDot:{r:8}}),o.jsx(Np,{yAxisId:"right",type:"monotone",dataKey:"engagement",stroke:la[2]})]})})})})]})]}),o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Top Communities"}),o.jsx($t,{children:"Your most active community groups"})]}),o.jsx(Fe,{children:o.jsx("div",{className:"space-y-4",children:h.communityMetrics.topCommunities.map((I,E)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:I.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[I.members," members"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsxs("span",{className:"text-sm font-medium",children:[I.engagement,"%"]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Engagement"})]}),o.jsx(un,{variant:"outline",className:"text-green-600",children:I.growth})]})]},E))})}),o.jsxs(Rv,{className:"border-t pt-4 flex justify-between",children:[o.jsxs("span",{className:"text-sm text-muted-foreground",children:[h.communityMetrics.totalCommunities," communities total"]}),o.jsxs(Oe,{variant:"ghost",size:"sm",className:"gap-1",children:["View all ",o.jsx(_M,{className:"h-4 w-4"})]})]})]})]}),o.jsxs(qn,{value:"content",className:"space-y-4",children:[o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Content Performance"}),o.jsx($t,{children:"Analysis of your top performing content"})]}),o.jsx(Fe,{children:o.jsx("div",{className:"space-y-4",children:h.contentMetrics.topPerformingContent.map((I,E)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[I.type==="Video"&&o.jsx(Hve,{className:"h-5 w-5 text-red-500"}),I.type==="Article"&&o.jsx(Fl,{className:"h-5 w-5 text-blue-500"}),I.type==="Post"&&o.jsx(fve,{className:"h-5 w-5 text-green-500"}),I.type==="Social Ask"&&o.jsx(ei,{className:"h-5 w-5 text-purple-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:I.title}),o.jsx(un,{variant:"outline",children:I.type})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-medium",children:[P(I.views)," views"]}),o.jsxs("p",{className:"text-sm text-green-600",children:[I.engagement,"% engagement"]})]})]},E))})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Content Type Distribution"}),o.jsx($t,{children:"Breakdown by content category"})]}),o.jsx(Fe,{children:o.jsx("div",{className:"h-[300px]",children:o.jsx(em,{width:"100%",height:"100%",children:o.jsxs(b7,{children:[o.jsxs(Xo,{data:[{name:"Videos",value:h.contentMetrics.engagementBreakdown.videos},{name:"Articles",value:h.contentMetrics.engagementBreakdown.articles},{name:"Posts",value:h.contentMetrics.engagementBreakdown.posts},{name:"Social Asks",value:h.contentMetrics.engagementBreakdown.socialAsks}],cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",label:!0,children:[o.jsx(Ml,{fill:S_.videos},"videos"),o.jsx(Ml,{fill:S_.articles},"articles"),o.jsx(Ml,{fill:S_.posts},"posts"),o.jsx(Ml,{fill:S_.socialAsks},"socialAsks")]}),o.jsx(Xi,{}),o.jsx(ko,{})]})})})})]}),o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Engagement Metrics"}),o.jsx($t,{children:"Likes, comments, and shares over time"})]}),o.jsx(Fe,{children:o.jsx("div",{className:"h-[300px]",children:o.jsx(em,{width:"100%",height:"100%",children:o.jsxs(x7,{data:h.communityMetrics.activityTrend,children:[o.jsx(zy,{strokeDasharray:"3 3"}),o.jsx(Hl,{dataKey:"date"}),o.jsx(jo,{}),o.jsx(Xi,{}),o.jsx(ko,{}),o.jsx(tc,{dataKey:"posts",name:"Posts",fill:la[0]}),o.jsx(tc,{dataKey:"comments",name:"Comments",fill:la[1]})]})})})})]})]})]}),o.jsx(qn,{value:"audience",className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"User Demographics"}),o.jsx($t,{children:"Breakdown of your audience by location"})]}),o.jsx(Fe,{children:o.jsx("div",{className:"h-[300px]",children:o.jsx(em,{width:"100%",height:"100%",children:o.jsxs(b7,{children:[o.jsx(Xo,{data:h.userMetrics.usersByLocation,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:!0,children:h.userMetrics.usersByLocation.map((I,E)=>o.jsx(Ml,{fill:la[E%la.length]},`cell-${E}`))}),o.jsx(Xi,{}),o.jsx(ko,{})]})})})})]}),o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Device Usage"}),o.jsx($t,{children:"What devices your audience uses to engage"})]}),o.jsx(Fe,{children:o.jsx("div",{className:"h-[300px]",children:o.jsx(em,{width:"100%",height:"100%",children:o.jsxs(x7,{data:h.userMetrics.usersByDevice,layout:"vertical",children:[o.jsx(zy,{strokeDasharray:"3 3"}),o.jsx(Hl,{type:"number"}),o.jsx(jo,{type:"category",dataKey:"name"}),o.jsx(Xi,{}),o.jsx(tc,{dataKey:"value",fill:la[3],children:h.userMetrics.usersByDevice.map((I,E)=>o.jsx(Ml,{fill:la[E%la.length]},`cell-${E}`))})]})})})})]})]})}),o.jsx(qn,{value:"roi",className:"space-y-4",children:o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Return on Investment (ROI) Calculator"}),o.jsxs($t,{children:[o.jsxs("p",{className:"mb-1",children:[o.jsx("strong",{children:"ROI = Return on Investment."})," This tool estimates the increase in items sold as a result of your brand's challenges and engagement campaigns."]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Based on our research, each trained retail employee sells an average of 3 additional products before another training session occurs."})]})]}),o.jsx(Fe,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"totalInvestment",children:"Total Investment ($)"}),o.jsx(bt,{id:"totalInvestment",name:"totalInvestment",type:"number",value:b.totalInvestment,onChange:C,placeholder:"e.g., 1000"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the total amount invested in your brand campaign"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"employeesTrained",children:"Number of Employees Trained"}),o.jsx(bt,{id:"employeesTrained",name:"employeesTrained",type:"number",value:b.employeesTrained,onChange:C}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"How many retail employees completed your training program"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"avgProfitPerItem",children:"Average Profit per Item ($)"}),o.jsx(bt,{id:"avgProfitPerItem",name:"avgProfitPerItem",type:"number",value:b.avgProfitPerItem,onChange:C}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"The average profit margin on each item sold"})]})]}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Calculation Breakdown"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"Additional Products Sold:"}),o.jsx("span",{className:"font-semibold text-lg",children:x})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"Additional Revenue:"}),o.jsxs("span",{className:"font-semibold text-lg",children:["$",j.toLocaleString()]})]}),o.jsx(av,{}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-bold text-lg",children:"Estimated ROI:"}),o.jsxs("span",{className:`text-xl font-bold ${Number(A)>=0?"text-green-600":"text-red-600"}`,children:[A,"%"]})]})]})]}),o.jsxs("div",{className:"pt-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"ROI Performance"}),o.jsxs("span",{className:"text-sm font-medium",children:[A,"%"]})]}),o.jsx(mD,{value:Math.min(Math.max(Number(A),0),100),className:"h-2"}),o.jsxs("div",{className:"flex justify-between mt-1 text-xs text-muted-foreground",children:[o.jsx("span",{children:"0%"}),o.jsx("span",{children:"50%"}),o.jsx("span",{children:"100%+"})]})]}),Number(A)>0?o.jsxs("div",{className:"flex items-center p-3 bg-green-50 border border-green-100 rounded-md text-green-800",children:[o.jsx(IK,{className:"h-5 w-5 mr-2 text-green-600"}),o.jsx("span",{className:"text-sm",children:"Positive ROI! Your investment is generating returns."})]}):o.jsxs("div",{className:"flex items-center p-3 bg-amber-50 border border-amber-100 rounded-md text-amber-800",children:[o.jsx(SM,{className:"h-5 w-5 mr-2 text-amber-600"}),o.jsx("span",{className:"text-sm",children:"Consider adjusting your strategy to improve ROI."})]})]})]})}),o.jsx(Rv,{className:"border-t pt-4",children:o.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[o.jsx(CK,{className:"h-4 w-4 mr-1"}),o.jsx("span",{children:"Need help with your ROI strategy? Contact our support team."})]})})]})})]})]})};function nS(t,e="Firestore Query"){if(t.code==="failed-precondition"||t.message.includes("index")){const n=/(https?:\/\/[^\s)]+)/,r=t.message.match(n);if(r&&r[1]){const i=r[1];console.groupCollapsed(` Missing Firestore Index for: ${e}`),console.info(`Create the index here: ${i}`),console.error("Original error:",t),console.groupEnd()}else console.error(`${e} error:`,t)}else t.code==="permission-denied"?(console.groupCollapsed(` Firestore Permission Denied: ${e}`),console.error("Access denied:",t.message),console.info("Check your Firestore security rules"),console.error("Original error:",t),console.groupEnd()):console.error(`${e} error:`,t)}async function m6e(t,e="Firestore Query"){try{return await Vr(t)}catch(n){throw nS(n,e),n}}function p6e(t,e,n,r="Firestore Listener"){return wr(t,e,i=>{nS(i,r),n&&n(i)})}function g6e(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let UP=1;class y6e{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:UP++,a=this.toasts.find(u=>u.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:r}),{...u,...e,id:s,dismissible:l,title:r}):u):this.addToast({title:r,...i,dismissible:l,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,a;const l=i.then(async d=>{if(a=["resolve",d],Q.isValidElement(d))s=!1,this.create({id:r,type:"default",message:d});else if(x6e(d)&&!d.ok){s=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,b=typeof m=="object"&&!Q.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:g,...b})}else if(d instanceof Error){s=!1;const m=typeof n.error=="function"?await n.error(d):n.error,g=typeof n.description=="function"?await n.description(d):n.description,b=typeof m=="object"&&!Q.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:g,...b})}else if(n.success!==void 0){s=!1;const m=typeof n.success=="function"?await n.success(d):n.success,g=typeof n.description=="function"?await n.description(d):n.description,b=typeof m=="object"&&!Q.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:g,...b})}}).catch(async d=>{if(a=["reject",d],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(d):n.error,m=typeof n.description=="function"?await n.description(d):n.description,v=typeof h=="object"&&!Q.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,...v})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((d,h)=>l.then(()=>a[0]==="reject"?h(a[1]):d(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||UP++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ua=new y6e,v6e=(t,e)=>{const n=(e==null?void 0:e.id)||UP++;return ua.addToast({title:t,...e,id:n}),n},x6e=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",b6e=v6e,_6e=()=>ua.toasts,w6e=()=>ua.getActiveToasts(),zn=Object.assign(b6e,{success:ua.success,info:ua.info,warning:ua.warning,error:ua.error,custom:ua.custom,message:ua.message,promise:ua.promise,dismiss:ua.dismiss,loading:ua.loading},{getHistory:_6e,getToasts:w6e});g6e("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const S6e=10;function j6e({onUploadComplete:t,onUploadError:e,folder:n="uploads",allowedTypes:r=["image/jpeg","image/png","image/gif","application/pdf"],maxSizeMB:i=S6e,buttonText:s="Upload File",showPreview:a=!0,className:l="",disabled:u=!1,brandId:d=null,resizeImage:h=!0,maxWidth:m=1200,maxHeight:g=1200,quality:v=.8}){const[b,_]=N.useState(null),[x,j]=N.useState(null),[A,C]=N.useState(0),[P,T]=N.useState(!1),[I,E]=N.useState(null),[k,O]=N.useState(!1),[D,M]=N.useState(null),[V,$]=N.useState(null),[X,H]=N.useState(0),U=N.useRef(null),q=i*1024*1024,G=!1,W=!1,z=N.useCallback(()=>{_(null),j(null),C(0),E(null),O(!1),M(null),$(null),U.current&&(U.current.value="")},[]),Z=ce=>{const oe=ce.target.files[0];if(oe){if(E(null),O(!1),C(0),M(null),$(null),r&&!r.includes(oe.type)){E(`Invalid file type. Allowed types: ${r.join(", ")}`);return}if(oe.size>q){E(`File size exceeds the maximum limit of ${i}MB`);return}if(_(oe),oe.type.startsWith("image/")&&a){const we=new FileReader;we.onload=Ne=>{j(Ne.target.result)},we.readAsDataURL(oe)}else j(null)}},te=ce=>{const oe=Date.now(),we=Math.random().toString(36).substring(2,10),Ne=ce.split(".").pop();return`${oe}_${we}.${Ne}`},ne=ce=>{let oe=n;return d&&(oe=`${oe}/${d}`),`${oe}/${ce}`},ge=async()=>{if(!(!b||P)){T(!0),C(0),E(null),O(!1);try{const ce=te(b.name),oe=ne(ce);$(oe);let we=b;if(b.type.startsWith("image/")&&h)try{we=await je(b)}catch(Ue){console.error("Error resizing image:",Ue),we=b}const Ne=KS(_f,oe),ue=Qpe(Ne,we);ue.on("state_changed",Ue=>{const We=Ue.bytesTransferred/Ue.totalBytes*100;C(We)},Ue=>{console.error("Upload error:",Ue),E(`Upload failed: ${Ue.message}`),T(!1),e&&e(Ue)},async()=>{try{const Ue=await hM(ue.snapshot.ref);M(Ue),O(!0),T(!1),t&&t({url:Ue,path:oe,fileName:ce,originalName:b.name,size:b.size,type:b.type})}catch(Ue){console.error("Error getting download URL:",Ue),E(`Failed to get download URL: ${Ue.message}`),T(!1),e&&e(Ue)}})}catch(ce){console.error("Upload setup error:",ce),E(`Failed to start upload: ${ce.message}`),T(!1),e&&e(ce)}}},Ce=()=>{H(ce=>ce+1),E(null),ge()},Te=N.useCallback(async()=>!0,[]);Q.useEffect(()=>{},[Te]);const je=async ce=>!h||!ce.type.startsWith("image/")||m<=0&&g<=0?ce:new Promise((oe,we)=>{const Ne=new Image;Ne.onload=()=>{let{width:ue,height:Ue}=Ne;if(ue<=m&&Ue<=g)return oe(ce);const We=Math.min(m/ue,g/Ue),jt=Math.round(ue*We),ht=Math.round(Ue*We),At=document.createElement("canvas");At.width=jt,At.height=ht,At.getContext("2d").drawImage(Ne,0,0,jt,ht);const Qn=ce.type==="image/png"?"image/png":ce.type==="image/webp"?"image/webp":"image/jpeg";At.toBlob(ee=>{if(!ee)return we(new Error("Canvas is empty"));oe(ee)},Qn,v)},Ne.onerror=we,Ne.src=URL.createObjectURL(ce)});return o.jsx("div",{className:`file-uploader ${l}`,children:o.jsxs("div",{className:"mb-4",children:[o.jsx("input",{type:"file",onChange:Z,className:"hidden",ref:U,accept:r.join(","),disabled:P||u}),!b&&o.jsxs(Oe,{type:"button",onClick:()=>{var ce;return(ce=U.current)==null?void 0:ce.click()},disabled:P||u,variant:"outline",className:"w-full",children:[o.jsx(ZO,{className:"h-4 w-4 mr-2"}),s]}),h&&o.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Recommended image size  ",m,"",g,"px"]}),b&&o.jsx(De,{className:"mt-2",children:o.jsxs(Fe,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(nV,{className:"h-5 w-5 mr-2 text-green-600"}),o.jsx("div",{className:"truncate max-w-[200px]",children:b.name})]}),!P&&o.jsx(Oe,{variant:"ghost",size:"icon",onClick:z,className:"h-8 w-8",children:o.jsx(NM,{className:"h-4 w-4"})})]}),x&&a&&o.jsx("div",{className:"mt-3 relative",children:o.jsx("img",{src:x,alt:"Preview",className:"max-h-40 max-w-full rounded-md object-contain mx-auto"})}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[(b.size/1024/1024).toFixed(2),"MB"]}),P&&o.jsxs("div",{className:"mt-3",children:[o.jsx(mD,{value:A,className:"h-2"}),o.jsxs("div",{className:"text-xs text-center mt-1",children:[A.toFixed(0),"%"]})]}),b&&!P&&!k&&o.jsxs(Oe,{onClick:ge,className:"w-full mt-3",disabled:P||u,children:[o.jsx(ZO,{className:"h-4 w-4 mr-2"}),"Upload"]}),P&&o.jsxs("div",{className:"flex items-center justify-center mt-3 text-sm text-muted-foreground",children:[o.jsx(Bl,{className:"h-3 w-3 mr-2 animate-spin"}),"Uploading..."]}),k&&o.jsx(Wa,{className:"mt-3 bg-green-50 text-green-800 border-green-200",children:o.jsxs(Ga,{className:"flex items-center text-sm",children:[o.jsx(nV,{className:"h-4 w-4 mr-2"}),"File uploaded successfully"]})}),I&&o.jsx(Wa,{className:"mt-3 bg-red-50 text-red-800 border-red-200",children:o.jsxs(Ga,{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Oi,{className:"h-4 w-4 mr-2"}),I]}),o.jsxs(Oe,{variant:"outline",size:"sm",onClick:Ce,className:"self-start",children:[o.jsx(bve,{className:"h-3 w-3 mr-2"}),"Retry Upload"]})]})}),G]})})]})})}function N6e(){const{signOut:t}=Vn();return{logout:N.useCallback(async()=>{try{localStorage.setItem("FORCE_PUBLIC_WEBSITE","true"),await new Promise(n=>setTimeout(n,50)),await t();try{const n=localStorage.getItem("FORCE_PUBLIC_WEBSITE");localStorage.clear(),sessionStorage.clear(),localStorage.setItem("FORCE_PUBLIC_WEBSITE",n)}catch(n){console.warn("Storage clearing failed:",n)}window.location.href="/?forcepublic=true&ts="+new Date().getTime()}catch(n){console.error("Failed to sign out:",n),window.location.href="/?forcepublic=true&ts="+new Date().getTime()}},[t])}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function wb(t){return t+.5|0}const gu=(t,e,n)=>Math.max(Math.min(t,n),e);function qy(t){return gu(wb(t*2.55),0,255)}function Nu(t){return gu(wb(t*255),0,255)}function Dl(t){return gu(wb(t/2.55)/100,0,1)}function w7(t){return gu(wb(t*100),0,100)}const ca={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},zP=[..."0123456789ABCDEF"],A6e=t=>zP[t&15],E6e=t=>zP[(t&240)>>4]+zP[t&15],j_=t=>(t&240)>>4===(t&15),T6e=t=>j_(t.r)&&j_(t.g)&&j_(t.b)&&j_(t.a);function C6e(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ca[t[1]]*17,g:255&ca[t[2]]*17,b:255&ca[t[3]]*17,a:e===5?ca[t[4]]*17:255}:(e===7||e===9)&&(n={r:ca[t[1]]<<4|ca[t[2]],g:ca[t[3]]<<4|ca[t[4]],b:ca[t[5]]<<4|ca[t[6]],a:e===9?ca[t[7]]<<4|ca[t[8]]:255})),n}const k6e=(t,e)=>t<255?e(t):"";function O6e(t){var e=T6e(t)?A6e:E6e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+k6e(t.a,e):void 0}const R6e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function yre(t,e,n){const r=e*Math.min(n,1-n),i=(s,a=(s+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function P6e(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function I6e(t,e,n){const r=yre(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function M6e(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function x4(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),a=Math.min(n,r,i),l=(s+a)/2;let u,d,h;return s!==a&&(h=s-a,d=l>.5?h/(2-s-a):h/(s+a),u=M6e(n,r,i,h,s),u=u*60+.5),[u|0,d||0,l]}function b4(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Nu)}function _4(t,e,n){return b4(yre,t,e,n)}function D6e(t,e,n){return b4(I6e,t,e,n)}function L6e(t,e,n){return b4(P6e,t,e,n)}function vre(t){return(t%360+360)%360}function $6e(t){const e=R6e.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?qy(+e[5]):Nu(+e[5]));const i=vre(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=D6e(i,s,a):e[1]==="hsv"?r=L6e(i,s,a):r=_4(i,s,a),{r:r[0],g:r[1],b:r[2],a:n}}function V6e(t,e){var n=x4(t);n[0]=vre(n[0]+e),n=_4(n),t.r=n[0],t.g=n[1],t.b=n[2]}function F6e(t){if(!t)return;const e=x4(t),n=e[0],r=w7(e[1]),i=w7(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Dl(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const S7={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},j7={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function B6e(){const t={},e=Object.keys(j7),n=Object.keys(S7);let r,i,s,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],i=0;i<n.length;i++)s=n[i],l=l.replace(s,S7[s]);s=parseInt(j7[a],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let N_;function U6e(t){N_||(N_=B6e(),N_.transparent=[0,0,0,0]);const e=N_[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const z6e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function q6e(t){const e=z6e.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?qy(a):gu(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?qy(r):gu(r,0,255)),i=255&(e[4]?qy(i):gu(i,0,255)),s=255&(e[6]?qy(s):gu(s,0,255)),{r,g:i,b:s,a:n}}}function H6e(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Dl(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Qk=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,sm=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function W6e(t,e,n){const r=sm(Dl(t.r)),i=sm(Dl(t.g)),s=sm(Dl(t.b));return{r:Nu(Qk(r+n*(sm(Dl(e.r))-r))),g:Nu(Qk(i+n*(sm(Dl(e.g))-i))),b:Nu(Qk(s+n*(sm(Dl(e.b))-s))),a:t.a+n*(e.a-t.a)}}function A_(t,e,n){if(t){let r=x4(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=_4(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function xre(t,e){return t&&Object.assign(e||{},t)}function N7(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Nu(t[3]))):(e=xre(t,{r:0,g:0,b:0,a:1}),e.a=Nu(e.a)),e}function G6e(t){return t.charAt(0)==="r"?q6e(t):$6e(t)}class Nx{constructor(e){if(e instanceof Nx)return e;const n=typeof e;let r;n==="object"?r=N7(e):n==="string"&&(r=C6e(e)||U6e(e)||G6e(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=xre(this._rgb);return e&&(e.a=Dl(e.a)),e}set rgb(e){this._rgb=N7(e)}rgbString(){return this._valid?H6e(this._rgb):void 0}hexString(){return this._valid?O6e(this._rgb):void 0}hslString(){return this._valid?F6e(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const a=n===s?.5:n,l=2*a-1,u=r.a-i.a,d=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;s=1-d,r.r=255&d*r.r+s*i.r+.5,r.g=255&d*r.g+s*i.g+.5,r.b=255&d*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=W6e(this._rgb,e._rgb,n)),this}clone(){return new Nx(this.rgb)}alpha(e){return this._rgb.a=Nu(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=wb(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return A_(this._rgb,2,e),this}darken(e){return A_(this._rgb,2,-e),this}saturate(e){return A_(this._rgb,1,e),this}desaturate(e){return A_(this._rgb,1,-e),this}rotate(e){return V6e(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function kl(){}const Y6e=(()=>{let t=0;return()=>t++})();function _n(t){return t==null}function Lr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function en(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function zi(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function vo(t,e){return zi(t)?t:e}function Vt(t,e){return typeof t>"u"?e:t}const K6e=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,bre=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Jn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function kn(t,e,n,r){let i,s,a;if(Lr(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(en(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(n,t[a[i]],a[i])}function rS(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function iS(t){if(Lr(t))return t.map(iS);if(en(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=iS(t[n[i]]);return e}return t}function _re(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function X6e(t,e,n,r){if(!_re(t))return;const i=e[t],s=n[t];en(i)&&en(s)?Ax(i,s,r):e[t]=iS(s)}function Ax(t,e,n){const r=Lr(e)?e:[e],i=r.length;if(!en(t))return t;n=n||{};const s=n.merger||X6e;let a;for(let l=0;l<i;++l){if(a=r[l],!en(a))continue;const u=Object.keys(a);for(let d=0,h=u.length;d<h;++d)s(u[d],t,a,n)}return t}function mv(t,e){return Ax(t,e,{merger:Q6e})}function Q6e(t,e,n){if(!_re(t))return;const r=e[t],i=n[t];en(r)&&en(i)?mv(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=iS(i))}const A7={"":t=>t,x:t=>t.x,y:t=>t.y};function Z6e(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function J6e(t){const e=Z6e(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Vf(t,e){return(A7[e]||(A7[e]=J6e(e)))(t)}function w4(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ex=t=>typeof t<"u",$u=t=>typeof t=="function",E7=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function e$e(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Rn=Math.PI,ur=2*Rn,t$e=ur+Rn,sS=Number.POSITIVE_INFINITY,n$e=Rn/180,ni=Rn/2,Dd=Rn/4,T7=Rn*2/3,wre=Math.log10,Ho=Math.sign;function pv(t,e,n){return Math.abs(t-e)<n}function C7(t){const e=Math.round(t);t=pv(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(wre(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function r$e(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function i$e(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Tx(t){return!i$e(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function s$e(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function a$e(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Wl(t){return t*(Rn/180)}function o$e(t){return t*(180/Rn)}function k7(t){if(!zi(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Sre(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Rn&&(s+=ur),{angle:s,distance:i}}function qP(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function l$e(t,e){return(t-e+t$e)%ur-Rn}function Cs(t){return(t%ur+ur)%ur}function Cx(t,e,n,r){const i=Cs(t),s=Cs(e),a=Cs(n),l=Cs(s-i),u=Cs(a-i),d=Cs(i-s),h=Cs(i-a);return i===s||i===a||r&&s===a||l>u&&d<h}function Vi(t,e,n){return Math.max(e,Math.min(n,t))}function c$e(t){return Vi(t,-32768,32767)}function Gl(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function S4(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const af=(t,e,n,r)=>S4(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),u$e=(t,e,n)=>S4(t,n,r=>t[r][e]>=n);function d$e(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const jre=["push","pop","shift","splice","unshift"];function f$e(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),jre.forEach(n=>{const r="_onData"+w4(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...s)}),a}})})}function O7(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(jre.forEach(s=>{delete t[s]}),delete t._chartjs)}function Nre(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Are=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Ere(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,Are.call(window,()=>{r=!1,t.apply(e,n)}))}}function h$e(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const j4=t=>t==="start"?"left":t==="end"?"right":"center",Mi=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,m$e=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function p$e(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:a,vScale:l,_parsed:u}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=a.axis,{min:m,max:g,minDefined:v,maxDefined:b}=a.getUserBounds();if(v){if(i=Math.min(af(u,h,m).lo,n?r:af(e,h,a.getPixelForValue(m)).lo),d){const _=u.slice(0,i+1).reverse().findIndex(x=>!_n(x[l.axis]));i-=Math.max(0,_)}i=Vi(i,0,r-1)}if(b){let _=Math.max(af(u,a.axis,g,!0).hi+1,n?0:af(e,h,a.getPixelForValue(g),!0).hi+1);if(d){const x=u.slice(_-1).findIndex(j=>!_n(j[l.axis]));_+=Math.max(0,x)}s=Vi(_,i,r)-i}else s=r-i}return{start:i,count:s}}function g$e(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const E_=t=>t===0||t===1,R7=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ur/n)),P7=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ur/n)+1,gv={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ni)+1,easeOutSine:t=>Math.sin(t*ni),easeInOutSine:t=>-.5*(Math.cos(Rn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>E_(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>E_(t)?t:R7(t,.075,.3),easeOutElastic:t=>E_(t)?t:P7(t,.075,.3),easeInOutElastic(t){return E_(t)?t:t<.5?.5*R7(t*2,.1125,.45):.5+.5*P7(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-gv.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?gv.easeInBounce(t*2)*.5:gv.easeOutBounce(t*2-1)*.5+.5};function N4(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function I7(t){return N4(t)?t:new Nx(t)}function Zk(t){return N4(t)?t:new Nx(t).saturate(.5).darken(.1).hexString()}const y$e=["x","y","borderWidth","radius","tension"],v$e=["color","borderColor","backgroundColor"];function x$e(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:v$e},numbers:{type:"number",properties:y$e}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function b$e(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const M7=new Map;function _$e(t,e){e=e||{};const n=t+JSON.stringify(e);let r=M7.get(n);return r||(r=new Intl.NumberFormat(t,e),M7.set(n,r)),r}function A4(t,e,n){return _$e(e,n).format(t)}const w$e={values(t){return Lr(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),s=S$e(t,n)}const a=wre(Math.abs(s)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),A4(t,r,u)}};function S$e(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Tre={formatters:w$e};function j$e(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Tre.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ff=Object.create(null),HP=Object.create(null);function yv(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function Jk(t,e,n){return typeof e=="string"?Ax(yv(t,e),n):Ax(yv(t,""),e)}class N$e{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Zk(i.backgroundColor),this.hoverBorderColor=(r,i)=>Zk(i.borderColor),this.hoverColor=(r,i)=>Zk(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Jk(this,e,n)}get(e){return yv(this,e)}describe(e,n){return Jk(HP,e,n)}override(e,n){return Jk(Ff,e,n)}route(e,n,r,i){const s=yv(this,e),a=yv(this,r),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],d=a[i];return en(u)?Object.assign({},d,u):Vt(u,d)},set(u){this[l]=u}}})}apply(e){e.forEach(n=>n(this))}}var jr=new N$e({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[x$e,b$e,j$e]);function A$e(t){return!t||_n(t.size)||_n(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function D7(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Ld(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function L7(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function WP(t,e,n,r){Cre(t,e,n,r,null)}function Cre(t,e,n,r,i){let s,a,l,u,d,h,m,g;const v=e.pointStyle,b=e.rotation,_=e.radius;let x=(b||0)*n$e;if(v&&typeof v=="object"&&(s=v.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(x),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),v){default:i?t.ellipse(n,r,i/2,_,0,0,ur):t.arc(n,r,_,0,ur),t.closePath();break;case"triangle":h=i?i/2:_,t.moveTo(n+Math.sin(x)*h,r-Math.cos(x)*_),x+=T7,t.lineTo(n+Math.sin(x)*h,r-Math.cos(x)*_),x+=T7,t.lineTo(n+Math.sin(x)*h,r-Math.cos(x)*_),t.closePath();break;case"rectRounded":d=_*.516,u=_-d,a=Math.cos(x+Dd)*u,m=Math.cos(x+Dd)*(i?i/2-d:u),l=Math.sin(x+Dd)*u,g=Math.sin(x+Dd)*(i?i/2-d:u),t.arc(n-m,r-l,d,x-Rn,x-ni),t.arc(n+g,r-a,d,x-ni,x),t.arc(n+m,r+l,d,x,x+ni),t.arc(n-g,r+a,d,x+ni,x+Rn),t.closePath();break;case"rect":if(!b){u=Math.SQRT1_2*_,h=i?i/2:u,t.rect(n-h,r-u,2*h,2*u);break}x+=Dd;case"rectRot":m=Math.cos(x)*(i?i/2:_),a=Math.cos(x)*_,l=Math.sin(x)*_,g=Math.sin(x)*(i?i/2:_),t.moveTo(n-m,r-l),t.lineTo(n+g,r-a),t.lineTo(n+m,r+l),t.lineTo(n-g,r+a),t.closePath();break;case"crossRot":x+=Dd;case"cross":m=Math.cos(x)*(i?i/2:_),a=Math.cos(x)*_,l=Math.sin(x)*_,g=Math.sin(x)*(i?i/2:_),t.moveTo(n-m,r-l),t.lineTo(n+m,r+l),t.moveTo(n+g,r-a),t.lineTo(n-g,r+a);break;case"star":m=Math.cos(x)*(i?i/2:_),a=Math.cos(x)*_,l=Math.sin(x)*_,g=Math.sin(x)*(i?i/2:_),t.moveTo(n-m,r-l),t.lineTo(n+m,r+l),t.moveTo(n+g,r-a),t.lineTo(n-g,r+a),x+=Dd,m=Math.cos(x)*(i?i/2:_),a=Math.cos(x)*_,l=Math.sin(x)*_,g=Math.sin(x)*(i?i/2:_),t.moveTo(n-m,r-l),t.lineTo(n+m,r+l),t.moveTo(n+g,r-a),t.lineTo(n-g,r+a);break;case"line":a=i?i/2:Math.cos(x)*_,l=Math.sin(x)*_,t.moveTo(n-a,r-l),t.lineTo(n+a,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(x)*(i?i/2:_),r+Math.sin(x)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function kx(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function rN(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function iN(t){t.restore()}function E$e(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function T$e(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function C$e(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),_n(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function k$e(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),a=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,d=n+s.actualBoundingBoxDescent,h=i.strikethrough?(u+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,h),t.lineTo(l,h),t.stroke()}}function O$e(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ox(t,e,n,r,i,s={}){const a=Lr(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let u,d;for(t.save(),t.font=i.string,C$e(t,s),u=0;u<a.length;++u)d=a[u],s.backdrop&&O$e(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),_n(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(d,n,r,s.maxWidth)),t.fillText(d,n,r,s.maxWidth),k$e(t,n,r,d,s),r+=Number(i.lineHeight);t.restore()}function aS(t,e){const{x:n,y:r,w:i,h:s,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Rn,Rn,!0),t.lineTo(n,r+s-a.bottomLeft),t.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Rn,ni,!0),t.lineTo(n+i-a.bottomRight,r+s),t.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,ni,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-ni,!0),t.lineTo(n+a.topLeft,r)}const R$e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,P$e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function I$e(t,e){const n=(""+t).match(R$e);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const M$e=t=>+t||0;function E4(t,e){const n={},r=en(e),i=r?Object.keys(e):e,s=en(t)?r?a=>Vt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)n[a]=M$e(s(a));return n}function kre(t){return E4(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Dm(t){return E4(t,["topLeft","topRight","bottomLeft","bottomRight"])}function xa(t){const e=kre(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Fi(t,e){t=t||{},e=e||jr.font;let n=Vt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Vt(t.style,e.style);r&&!(""+r).match(P$e)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Vt(t.family,e.family),lineHeight:I$e(Vt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Vt(t.weight,e.weight),string:""};return i.string=A$e(i),i}function T_(t,e,n,r){let i,s,a;for(i=0,s=t.length;i<s;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function D$e(t,e,n){const{min:r,max:i}=t,s=bre(e,(i-r)/2),a=(l,u)=>n&&l===0?0:l+u;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function ih(t,e){return Object.assign(Object.create(t),e)}function T4(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=Ire("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:l=>T4([l,...t],e,s,r)};return new Proxy(a,{deleteProperty(l,u){return delete l[u],delete l._keys,delete t[0][u],!0},get(l,u){return Rre(l,u,()=>q$e(u,e,t,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,u){return V7(l).includes(u)},ownKeys(l){return V7(l)},set(l,u,d){const h=l._storage||(l._storage=i());return l[u]=h[u]=d,delete l._keys,!0}})}function Op(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Ore(t,r),setContext:s=>Op(t,s,n,r),override:s=>Op(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,l){return Rre(s,a,()=>$$e(s,a,l))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,l){return t[a]=l,delete s[a],!0}})}function Ore(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:$u(n)?n:()=>n,isIndexable:$u(r)?r:()=>r}}const L$e=(t,e)=>t?t+w4(e):e,C4=(t,e)=>en(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Rre(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function $$e(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=t;let l=r[e];return $u(l)&&a.isScriptable(e)&&(l=V$e(e,l,t,n)),Lr(l)&&l.length&&(l=F$e(e,l,t,a.isIndexable)),C4(e,l)&&(l=Op(l,i,s&&s[e],a)),l}function V$e(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let u=e(s,a||r);return l.delete(t),C4(t,u)&&(u=k4(i._scopes,i,t,u)),u}function F$e(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(en(e[0])){const u=e,d=i._scopes.filter(h=>h!==u);e=[];for(const h of u){const m=k4(d,i,t,h);e.push(Op(m,s,a&&a[t],l))}}return e}function Pre(t,e,n){return $u(t)?t(e,n):t}const B$e=(t,e)=>t===!0?e:typeof t=="string"?Vf(e,t):void 0;function U$e(t,e,n,r,i){for(const s of e){const a=B$e(n,s);if(a){t.add(a);const l=Pre(a._fallback,n,i);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function k4(t,e,n,r){const i=e._rootScopes,s=Pre(e._fallback,n,r),a=[...t,...i],l=new Set;l.add(r);let u=$7(l,a,n,s||n,r);return u===null||typeof s<"u"&&s!==n&&(u=$7(l,a,s,u,r),u===null)?!1:T4(Array.from(l),[""],i,s,()=>z$e(e,n,r))}function $7(t,e,n,r,i){for(;n;)n=U$e(t,e,n,r,i);return n}function z$e(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Lr(i)&&en(n)?n:i||{}}function q$e(t,e,n,r){let i;for(const s of e)if(i=Ire(L$e(s,t),n),typeof i<"u")return C4(t,i)?k4(n,r,t,i):i}function Ire(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function V7(t){let e=t._keys;return e||(e=t._keys=H$e(t._scopes)),e}function H$e(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const W$e=Number.EPSILON||1e-14,Rp=(t,e)=>e<t.length&&!t[e].skip&&t[e],Mre=t=>t==="x"?"y":"x";function G$e(t,e,n,r){const i=t.skip?e:t,s=e,a=n.skip?e:n,l=qP(s,i),u=qP(a,s);let d=l/(l+u),h=u/(l+u);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const m=r*d,g=r*h;return{previous:{x:s.x-m*(a.x-i.x),y:s.y-m*(a.y-i.y)},next:{x:s.x+g*(a.x-i.x),y:s.y+g*(a.y-i.y)}}}function Y$e(t,e,n){const r=t.length;let i,s,a,l,u,d=Rp(t,0);for(let h=0;h<r-1;++h)if(u=d,d=Rp(t,h+1),!(!u||!d)){if(pv(e[h],0,W$e)){n[h]=n[h+1]=0;continue}i=n[h]/e[h],s=n[h+1]/e[h],l=Math.pow(i,2)+Math.pow(s,2),!(l<=9)&&(a=3/Math.sqrt(l),n[h]=i*a*e[h],n[h+1]=s*a*e[h])}}function K$e(t,e,n="x"){const r=Mre(n),i=t.length;let s,a,l,u=Rp(t,0);for(let d=0;d<i;++d){if(a=l,l=u,u=Rp(t,d+1),!l)continue;const h=l[n],m=l[r];a&&(s=(h-a[n])/3,l[`cp1${n}`]=h-s,l[`cp1${r}`]=m-s*e[d]),u&&(s=(u[n]-h)/3,l[`cp2${n}`]=h+s,l[`cp2${r}`]=m+s*e[d])}}function X$e(t,e="x"){const n=Mre(e),r=t.length,i=Array(r).fill(0),s=Array(r);let a,l,u,d=Rp(t,0);for(a=0;a<r;++a)if(l=u,u=d,d=Rp(t,a+1),!!u){if(d){const h=d[e]-u[e];i[a]=h!==0?(d[n]-u[n])/h:0}s[a]=l?d?Ho(i[a-1])!==Ho(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}Y$e(t,i,s),K$e(t,s,e)}function C_(t,e,n){return Math.max(Math.min(t,n),e)}function Q$e(t,e){let n,r,i,s,a,l=kx(t[0],e);for(n=0,r=t.length;n<r;++n)a=s,s=l,l=n<r-1&&kx(t[n+1],e),s&&(i=t[n],a&&(i.cp1x=C_(i.cp1x,e.left,e.right),i.cp1y=C_(i.cp1y,e.top,e.bottom)),l&&(i.cp2x=C_(i.cp2x,e.left,e.right),i.cp2y=C_(i.cp2y,e.top,e.bottom)))}function Z$e(t,e,n,r,i){let s,a,l,u;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")X$e(t,i);else{let d=r?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)l=t[s],u=G$e(d,l,t[Math.min(s+1,a-(r?0:1))%a],e.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,d=l}e.capBezierPoints&&Q$e(t,n)}function O4(){return typeof window<"u"&&typeof document<"u"}function R4(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function oS(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const sN=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function J$e(t,e){return sN(t).getPropertyValue(e)}const eVe=["top","right","bottom","left"];function ff(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=eVe[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const tVe=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function nVe(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let a=!1,l,u;if(tVe(i,s,t.target))l=i,u=s;else{const d=e.getBoundingClientRect();l=r.clientX-d.left,u=r.clientY-d.top,a=!0}return{x:l,y:u,box:a}}function Hd(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=sN(n),s=i.boxSizing==="border-box",a=ff(i,"padding"),l=ff(i,"border","width"),{x:u,y:d,box:h}=nVe(t,n),m=a.left+(h&&l.left),g=a.top+(h&&l.top);let{width:v,height:b}=e;return s&&(v-=a.width+l.width,b-=a.height+l.height),{x:Math.round((u-m)/v*n.width/r),y:Math.round((d-g)/b*n.height/r)}}function rVe(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&R4(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),l=sN(s),u=ff(l,"border","width"),d=ff(l,"padding");e=a.width-d.width-u.width,n=a.height-d.height-u.height,r=oS(l.maxWidth,s,"clientWidth"),i=oS(l.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||sS,maxHeight:i||sS}}const k_=t=>Math.round(t*10)/10;function iVe(t,e,n,r){const i=sN(t),s=ff(i,"margin"),a=oS(i.maxWidth,t,"clientWidth")||sS,l=oS(i.maxHeight,t,"clientHeight")||sS,u=rVe(t,e,n);let{width:d,height:h}=u;if(i.boxSizing==="content-box"){const g=ff(i,"border","width"),v=ff(i,"padding");d-=v.width+g.width,h-=v.height+g.height}return d=Math.max(0,d-s.width),h=Math.max(0,r?d/r:h-s.height),d=k_(Math.min(d,a,u.maxWidth)),h=k_(Math.min(h,l,u.maxHeight)),d&&!h&&(h=k_(d/2)),(e!==void 0||n!==void 0)&&r&&u.height&&h>u.height&&(h=u.height,d=k_(Math.floor(h*r))),{width:d,height:h}}function F7(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=r,a.height=i,a.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const sVe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};O4()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function B7(t,e){const n=J$e(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Wd(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function aVe(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function oVe(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=Wd(t,i,n),l=Wd(i,s,n),u=Wd(s,e,n),d=Wd(a,l,n),h=Wd(l,u,n);return Wd(d,h,n)}const lVe=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},cVe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Lm(t,e,n){return t?lVe(e,n):cVe()}function Dre(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function Lre(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function $re(t){return t==="angle"?{between:Cx,compare:l$e,normalize:Cs}:{between:Gl,compare:(e,n)=>e-n,normalize:e=>e}}function U7({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function uVe(t,e,n){const{property:r,start:i,end:s}=n,{between:a,normalize:l}=$re(r),u=e.length;let{start:d,end:h,loop:m}=t,g,v;if(m){for(d+=u,h+=u,g=0,v=u;g<v&&a(l(e[d%u][r]),i,s);++g)d--,h--;d%=u,h%=u}return h<d&&(h+=u),{start:d,end:h,loop:m,style:t.style}}function Vre(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,a=e.length,{compare:l,between:u,normalize:d}=$re(r),{start:h,end:m,loop:g,style:v}=uVe(t,e,n),b=[];let _=!1,x=null,j,A,C;const P=()=>u(i,C,j)&&l(i,C)!==0,T=()=>l(s,j)===0||u(s,C,j),I=()=>_||P(),E=()=>!_||T();for(let k=h,O=h;k<=m;++k)A=e[k%a],!A.skip&&(j=d(A[r]),j!==C&&(_=u(j,i,s),x===null&&I()&&(x=l(j,i)===0?k:O),x!==null&&E()&&(b.push(U7({start:x,end:k,loop:g,count:a,style:v})),x=null),O=k,C=j));return x!==null&&b.push(U7({start:x,end:m,loop:g,count:a,style:v})),b}function Fre(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=Vre(r[i],t.points,e);s.length&&n.push(...s)}return n}function dVe(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function fVe(t,e,n,r){const i=t.length,s=[];let a=e,l=t[e],u;for(u=e+1;u<=n;++u){const d=t[u%i];d.skip||d.stop?l.skip||(r=!1,s.push({start:e%i,end:(u-1)%i,loop:r}),e=a=d.stop?u:null):(a=u,l.skip&&(e=u)),l=d}return a!==null&&s.push({start:e%i,end:a%i,loop:r}),s}function hVe(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:a,end:l}=dVe(n,i,s,r);if(r===!0)return z7(t,[{start:a,end:l,loop:s}],n,e);const u=l<a?l+i:l,d=!!t._fullLoop&&a===0&&l===i-1;return z7(t,fVe(n,a,u,d),n,e)}function z7(t,e,n,r){return!r||!r.setContext||!n?e:mVe(t,e,n,r)}function mVe(t,e,n,r){const i=t._chart.getContext(),s=q7(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,u=n.length,d=[];let h=s,m=e[0].start,g=m;function v(b,_,x,j){const A=l?-1:1;if(b!==_){for(b+=u;n[b%u].skip;)b-=A;for(;n[_%u].skip;)_+=A;b%u!==_%u&&(d.push({start:b%u,end:_%u,loop:x,style:j}),h=j,m=_%u)}}for(const b of e){m=l?m:b.start;let _=n[m%u],x;for(g=m+1;g<=b.end;g++){const j=n[g%u];x=q7(r.setContext(ih(i,{type:"segment",p0:_,p1:j,p0DataIndex:(g-1)%u,p1DataIndex:g%u,datasetIndex:a}))),pVe(x,h)&&v(m,g-1,b.loop,h),_=j,h=x}m<g-1&&v(m,g-1,b.loop,h)}return d}function q7(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function pVe(t,e){if(!e)return!1;const n=[],r=function(i,s){return N4(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function O_(t,e,n){return t.options.clip?t[n]:e[n]}function gVe(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:O_(n,e,"left"),right:O_(n,e,"right"),top:O_(r,e,"top"),bottom:O_(r,e,"bottom")}:e}function Bre(t,e){const n=e._clip;if(n.disabled)return!1;const r=gVe(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class yVe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],a=n.duration;s.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Are.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,l=!1,u;for(;a>=0;--a)u=s[a],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(e),l=!0):(s[a]=s[s.length-1],s.pop());l&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Rl=new yVe;const H7="transparent",vVe={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=I7(t||H7),i=r.valid&&I7(e||H7);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class xVe{constructor(e,n,r,i){const s=n[r];i=T_([e.to,i,s,e.from]);const a=T_([e.from,s,i]);this._active=!0,this._fn=e.fn||vVe[e.type||typeof a],this._easing=gv[e.easing]||gv.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=T_([e.to,n,i,e.from]),this._from=T_([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,l=this._to;let u;if(this._active=s!==l&&(a||n<r),!this._active){this._target[i]=l,this._notify(!0);return}if(n<0){this._target[i]=s;return}u=n/r%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class Ure{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!en(e))return;const n=Object.keys(jr.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!en(s))return;const a={};for(const l of n)a[l]=s[l];(Lr(s.properties)&&s.properties||[i]).forEach(l=>{(l===i||!r.has(l))&&r.set(l,a)})})}_animateOptions(e,n){const r=n.options,i=_Ve(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&bVe(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,n));continue}const h=n[d];let m=s[d];const g=r.get(d);if(m)if(g&&m.active()){m.update(g,h,l);continue}else m.cancel();if(!g||!g.duration){e[d]=h;continue}s[d]=m=new xVe(g,e,d,h),i.push(m)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Rl.add(this._chart,r),!0}}function bVe(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function _Ve(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function W7(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function wVe(t,e,n){if(n===!1)return!1;const r=W7(t,n),i=W7(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function SVe(t){let e,n,r,i;return en(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function zre(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function G7(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let a,l,u,d;if(e===null)return;let h=!1;for(a=0,l=i.length;a<l;++a){if(u=+i[a],u===n){if(h=!0,r.all)continue;break}d=t.values[u],zi(d)&&(s||e===0||Ho(e)===Ho(d))&&(e+=d)}return!h&&!r.all?0:e}function jVe(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let u,d,h;for(u=0,d=a.length;u<d;++u)h=a[u],l[u]={[i]:h,[s]:t[h]};return l}function eO(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function NVe(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function AVe(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function EVe(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Y7(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function K7(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:l}=r,u=s.axis,d=a.axis,h=NVe(s,a,r),m=e.length;let g;for(let v=0;v<m;++v){const b=e[v],{[u]:_,[d]:x}=b,j=b._stacks||(b._stacks={});g=j[d]=EVe(i,h,_),g[l]=x,g._top=Y7(g,a,!0,r.type),g._bottom=Y7(g,a,!1,r.type);const A=g._visualValues||(g._visualValues={});A[l]=x}}function tO(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function TVe(t,e){return ih(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function CVe(t,e,n){return ih(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function wy(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const nO=t=>t==="reset"||t==="none",X7=(t,e)=>e?t:Object.assign({},t),kVe=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:zre(n,!0),values:null};class hf{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=eO(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&wy(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(m,g,v,b)=>m==="x"?g:m==="r"?b:v,s=n.xAxisID=Vt(r.xAxisID,tO(e,"x")),a=n.yAxisID=Vt(r.yAxisID,tO(e,"y")),l=n.rAxisID=Vt(r.rAxisID,tO(e,"r")),u=n.indexAxis,d=n.iAxisID=i(u,s,a,l),h=n.vAxisID=i(u,a,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&O7(this._data,this),e._stacked&&wy(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(en(n)){const i=this._cachedMeta;this._data=jVe(n,i)}else if(r!==n){if(r){O7(r,this);const i=this._cachedMeta;wy(i),i._parsed=[]}n&&Object.isExtensible(n)&&f$e(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=eO(n.vScale,n),n.stack!==r.stack&&(i=!0,wy(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(K7(this,n._parsed),n._stacked=eO(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,l=s.axis;let u=e===0&&n===i.length?!0:r._sorted,d=e>0&&r._parsed[e-1],h,m,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{Lr(i[e])?g=this.parseArrayData(r,i,e,n):en(i[e])?g=this.parseObjectData(r,i,e,n):g=this.parsePrimitiveData(r,i,e,n);const v=()=>m[l]===null||d&&m[l]<d[l];for(h=0;h<n;++h)r._parsed[h+e]=m=g[h],u&&(v()&&(u=!1),d=m);r._sorted=u}a&&K7(this,g)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:a}=e,l=s.axis,u=a.axis,d=s.getLabels(),h=s===a,m=new Array(i);let g,v,b;for(g=0,v=i;g<v;++g)b=g+r,m[g]={[l]:h||s.parse(d[b],b),[u]:a.parse(n[b],b)};return m}parseArrayData(e,n,r,i){const{xScale:s,yScale:a}=e,l=new Array(i);let u,d,h,m;for(u=0,d=i;u<d;++u)h=u+r,m=n[h],l[u]={x:s.parse(m[0],h),y:a.parse(m[1],h)};return l}parseObjectData(e,n,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=new Array(i);let h,m,g,v;for(h=0,m=i;h<m;++h)g=h+r,v=n[g],d[h]={x:s.parse(Vf(v,l),g),y:a.parse(Vf(v,u),g)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,a=n[e.axis],l={keys:zre(i,!0),values:n._stacks[e.axis]._visualValues};return G7(l,a,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let a=s===null?NaN:s;const l=i&&r._stacks[n.axis];i&&l&&(i.values=l,a=G7(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,l=this._getOtherScale(e),u=kVe(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:m}=AVe(l);let g,v;function b(){v=i[g];const _=v[l.axis];return!zi(v[e.axis])||h>_||m<_}for(g=0;g<a&&!(!b()&&(this.updateRangeFromParsed(d,e,v,u),s));++g);if(s){for(g=a-1;g>=0;--g)if(!b()){this.updateRangeFromParsed(d,e,v,u);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=n.length;i<s;++i)a=n[i][e.axis],zi(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=SVe(Vt(this.options.clip,wVe(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,a=[],l=this._drawStart||0,u=this._drawCount||i.length-l,d=this.options.drawActiveElementsOnTop;let h;for(r.dataset&&r.dataset.draw(e,s,l,u),h=l;h<l+u;++h){const m=i[h];m.hidden||(m.active&&d?a.push(m):m.draw(e,s))}for(h=0;h<a.length;++h)a[h].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=CVe(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=TVe(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,a=e+"-"+n,l=s[a],u=this.enableOptionSharing&&Ex(r);if(l)return X7(l,u);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),m=i?[`${e}Hover`,"hover",e,""]:[e,""],g=d.getOptionScopes(this.getDataset(),h),v=Object.keys(jr.elements[e]),b=()=>this.getContext(r,i,n),_=d.resolveNamedOptions(g,v,b,m);return _.$shared&&(_.$shared=u,s[a]=Object.freeze(X7(_,u))),_}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,l=s[a];if(l)return l;let u;if(i.options.animation!==!1){const h=this.chart.config,m=h.datasetAnimationScopeKeys(this._type,n),g=h.getOptionScopes(this.getDataset(),m);u=h.createResolver(g,this.getContext(e,r,n))}const d=new Ure(i,u&&u.animations);return u&&u._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||nO(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(e,n,r,i){nO(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!nO(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[l,u,d]of this._syncList)this[l](u,d);this._syncList=[];const i=r.length,s=n.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,a=e+n;let l;const u=d=>{for(d.length+=n,l=d.length-1;l>=a;l--)d[l]=d[l-n]};for(u(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&wy(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}rt(hf,"defaults",{}),rt(hf,"datasetElementType",null),rt(hf,"dataElementType",null);function OVe(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=Nre(r.sort((i,s)=>i-s))}return t._cache.$bar}function RVe(t){const e=t.iScale,n=OVe(e,t.type);let r=e._length,i,s,a,l;const u=()=>{a===32767||a===-32768||(Ex(l)&&(r=Math.min(r,Math.abs(a-l)||r)),l=a)};for(i=0,s=n.length;i<s;++i)a=e.getPixelForValue(n[i]),u();for(l=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),u();return r}function PVe(t,e,n,r){const i=n.barThickness;let s,a;return _n(i)?(s=e.min*n.categoryPercentage,a=n.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:e.pixels[t]-s/2}}function IVe(t,e,n,r){const i=e.pixels,s=i[t];let a=t>0?i[t-1]:null,l=t<i.length-1?i[t+1]:null;const u=n.categoryPercentage;a===null&&(a=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-a);const d=s-(s-Math.min(a,l))/2*u;return{chunk:Math.abs(l-a)/2*u/r,ratio:n.barPercentage,start:d}}function MVe(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),a=Math.min(i,s),l=Math.max(i,s);let u=a,d=l;Math.abs(a)>Math.abs(l)&&(u=l,d=a),e[n.axis]=d,e._custom={barStart:u,barEnd:d,start:i,end:s,min:a,max:l}}function qre(t,e,n,r){return Lr(t)?MVe(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Q7(t,e,n,r){const i=t.iScale,s=t.vScale,a=i.getLabels(),l=i===s,u=[];let d,h,m,g;for(d=n,h=n+r;d<h;++d)g=e[d],m={},m[i.axis]=l||i.parse(a[d],d),u.push(qre(g,m,s,d));return u}function rO(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function DVe(t,e,n){return t!==0?Ho(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function LVe(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function $Ve(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:u,top:d,bottom:h}=LVe(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=d:(n._bottom||0)===r?i=h:(s[Z7(h,a,l,u)]=!0,i=d)),s[Z7(i,a,l,u)]=!0,t.borderSkipped=s}function Z7(t,e,n,r){return r?(t=VVe(t,e,n),t=J7(t,n,e)):t=J7(t,e,n),t}function VVe(t,e,n){return t===e?n:t===n?e:t}function J7(t,e,n){return t==="start"?e:t==="end"?n:t}function FVe(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class sw extends hf{parsePrimitiveData(e,n,r,i){return Q7(e,n,r,i)}parseArrayData(e,n,r,i){return Q7(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:a}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=s.axis==="x"?l:u,h=a.axis==="x"?l:u,m=[];let g,v,b,_;for(g=r,v=r+i;g<v;++g)_=n[g],b={},b[s.axis]=s.parse(Vf(_,d),g),m.push(qre(Vf(_,h),b,a,g));return m}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),a=s._custom,l=rO(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),d=l.isHorizontal(),h=this._getRuler(),{sharedOptions:m,includeOptions:g}=this._getSharedOptions(n,i);for(let v=n;v<n+r;v++){const b=this.getParsed(v),_=s||_n(b[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),x=this._calculateBarIndexPixels(v,h),j=(b._stacks||{})[l.axis],A={horizontal:d,base:_.base,enableBorderRadius:!j||rO(b._custom)||a===j._top||a===j._bottom,x:d?_.head:x.center,y:d?x.center:_.head,height:d?x.size:Math.abs(_.size),width:d?Math.abs(_.size):x.size};g&&(A.options=m||this.resolveDataElementOptions(v,e[v].active?"active":i));const C=A.options||e[v].options;$Ve(A,C,j,a),FVe(A,C,h.ratio),this.updateElement(e[v],v,A,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=r.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(n),u=l&&l[r.axis],d=h=>{const m=h._parsed.find(v=>v[r.axis]===u),g=m&&m[h.vScale.axis];if(_n(g)||isNaN(g))return!0};for(const h of i)if(!(n!==void 0&&d(h))&&((s===!1||a.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Vt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,a;for(s=0,a=n.data.length;s<a;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const l=e.barThickness;return{min:l||RVe(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:a}}=this,l=s||0,u=this.getParsed(e),d=u._custom,h=rO(d);let m=u[n.axis],g=0,v=r?this.applyStack(n,u,r):m,b,_;v!==m&&(g=v-m,v=m),h&&(m=d.barStart,v=d.barEnd-d.barStart,m!==0&&Ho(m)!==Ho(d.barEnd)&&(g=0),g+=m);const x=!_n(s)&&!h?s:g;let j=n.getPixelForValue(x);if(this.chart.getDataVisibility(e)?b=n.getPixelForValue(g+v):b=j,_=b-j,Math.abs(_)<a){_=DVe(_,n,l)*a,m===l&&(j-=_/2);const A=n.getPixelForDecimal(0),C=n.getPixelForDecimal(1),P=Math.min(A,C),T=Math.max(A,C);j=Math.max(Math.min(j,T),P),b=j+_,r&&!h&&(u._stacks[n.axis]._visualValues[i]=n.getValueForPixel(b)-n.getValueForPixel(j))}if(j===n.getPixelForValue(l)){const A=Ho(_)*n.getLineWidthForValue(l)/2;j+=A,_-=A}return{size:_,base:j,head:b,center:b+_/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,a=Vt(i.maxBarThickness,1/0);let l,u;const d=this._getAxisCount();if(n.grouped){const h=s?this._getStackCount(e):n.stackCount,m=i.barThickness==="flex"?IVe(e,n,i,h*d):PVe(e,n,i,h*d),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(Vt(g,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+v;l=m.start+m.chunk*b+m.chunk/2,u=Math.min(a,m.chunk*m.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),u=Math.min(a,n.min*n.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}rt(sw,"id","bar"),rt(sw,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),rt(sw,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function BVe(t,e,n){let r=1,i=1,s=0,a=0;if(e<ur){const l=t,u=l+e,d=Math.cos(l),h=Math.sin(l),m=Math.cos(u),g=Math.sin(u),v=(C,P,T)=>Cx(C,l,u,!0)?1:Math.max(P,P*n,T,T*n),b=(C,P,T)=>Cx(C,l,u,!0)?-1:Math.min(P,P*n,T,T*n),_=v(0,d,m),x=v(ni,h,g),j=b(Rn,d,m),A=b(Rn+ni,h,g);r=(_-j)/2,i=(x-A)/2,s=-(_+j)/2,a=-(x+A)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class bm extends hf{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=u=>+r[u];if(en(r[e])){const{key:u="value"}=this._parsing;s=d=>+Vf(r[d],u)}let a,l;for(a=e,l=e+n;a<l;++a)i._parsed[a]=s(a)}}_getRotation(){return Wl(this.options.rotation-90)}_getCircumference(){return Wl(this.options.circumference)}_getRotationExtents(){let e=ur,n=-ur;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),u=Math.min(K6e(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:h,rotation:m}=this._getRotationExtents(),{ratioX:g,ratioY:v,offsetX:b,offsetY:_}=BVe(m,h,u),x=(r.width-a)/g,j=(r.height-a)/v,A=Math.max(Math.min(x,j)/2,0),C=bre(this.options.radius,A),P=Math.max(C*u,0),T=(C-P)/this._getVisibleDatasetWeightTotal();this.offsetX=b*C,this.offsetY=_*C,i.total=this.calculateTotal(),this.outerRadius=C-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/ur)}updateElements(e,n,r,i){const s=i==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,h=(l.left+l.right)/2,m=(l.top+l.bottom)/2,g=s&&d.animateScale,v=g?0:this.innerRadius,b=g?0:this.outerRadius,{sharedOptions:_,includeOptions:x}=this._getSharedOptions(n,i);let j=this._getRotation(),A;for(A=0;A<n;++A)j+=this._circumference(A,s);for(A=n;A<n+r;++A){const C=this._circumference(A,s),P=e[A],T={x:h+this.offsetX,y:m+this.offsetY,startAngle:j,endAngle:j+C,circumference:C,outerRadius:b,innerRadius:v};x&&(T.options=_||this.resolveDataElementOptions(A,P.active?"active":i)),j+=C,this.updateElement(P,A,T,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ur*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=A4(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,a,l,u;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,l=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)u=l.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Vt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}rt(bm,"id","doughnut"),rt(bm,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),rt(bm,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),rt(bm,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,a)=>{const u=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class aw extends hf{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:l,count:u}=p$e(n,i,a);this._drawStart=l,this._drawCount=u,g$e(n)&&(l=0,u=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e),this.updateElements(i,l,u,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:m}=this._getSharedOptions(n,i),g=a.axis,v=l.axis,{spanGaps:b,segment:_}=this.options,x=Tx(b)?b:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||s||i==="none",A=n+r,C=e.length;let P=n>0&&this.getParsed(n-1);for(let T=0;T<C;++T){const I=e[T],E=j?I:{};if(T<n||T>=A){E.skip=!0;continue}const k=this.getParsed(T),O=_n(k[v]),D=E[g]=a.getPixelForValue(k[g],T),M=E[v]=s||O?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,k,u):k[v],T);E.skip=isNaN(D)||isNaN(M)||O,E.stop=T>0&&Math.abs(k[g]-P[g])>x,_&&(E.parsed=k,E.raw=d.data[T]),m&&(E.options=h||this.resolveDataElementOptions(T,I.active?"active":i)),j||this.updateElement(I,T,E,i),P=k}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}rt(aw,"id","line"),rt(aw,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),rt(aw,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class GP extends bm{}rt(GP,"id","pie"),rt(GP,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function $d(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class P4{constructor(e){rt(this,"options");this.options=e||{}}static override(e){Object.assign(P4.prototype,e)}init(){}formats(){return $d()}parse(){return $d()}format(){return $d()}add(){return $d()}diff(){return $d()}startOf(){return $d()}endOf(){return $d()}}var UVe={_date:P4};function zVe(t,e,n,r){const{controller:i,data:s,_sorted:a}=t,l=i._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&s.length){const d=l._reversePixels?u$e:af;if(r){if(i._sharedOptions){const h=s[0],m=typeof h.getRange=="function"&&h.getRange(e);if(m){const g=d(s,e,n-m),v=d(s,e,n+m);return{lo:g.lo,hi:v.hi}}}}else{const h=d(s,e,n);if(u){const{vScale:m}=i._cachedMeta,{_parsed:g}=t,v=g.slice(0,h.lo+1).reverse().findIndex(_=>!_n(_[m.axis]));h.lo-=Math.max(0,v);const b=g.slice(h.hi).findIndex(_=>!_n(_[m.axis]));h.hi+=Math.max(0,b)}return h}}return{lo:0,hi:s.length-1}}function aN(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,u=s.length;l<u;++l){const{index:d,data:h}=s[l],{lo:m,hi:g}=zVe(s[l],e,a,i);for(let v=m;v<=g;++v){const b=h[v];b.skip||r(b,d,v)}}}function qVe(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function iO(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||aN(t,n,e,function(l,u,d){!i&&!kx(l,t.chartArea,0)||l.inRange(e.x,e.y,r)&&s.push({element:l,datasetIndex:u,index:d})},!0),s}function HVe(t,e,n,r){let i=[];function s(a,l,u){const{startAngle:d,endAngle:h}=a.getProps(["startAngle","endAngle"],r),{angle:m}=Sre(a,{x:e.x,y:e.y});Cx(m,d,h)&&i.push({element:a,datasetIndex:l,index:u})}return aN(t,n,e,s),i}function WVe(t,e,n,r,i,s){let a=[];const l=qVe(n);let u=Number.POSITIVE_INFINITY;function d(h,m,g){const v=h.inRange(e.x,e.y,i);if(r&&!v)return;const b=h.getCenterPoint(i);if(!(!!s||t.isPointInArea(b))&&!v)return;const x=l(e,b);x<u?(a=[{element:h,datasetIndex:m,index:g}],u=x):x===u&&a.push({element:h,datasetIndex:m,index:g})}return aN(t,n,e,d),a}function sO(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?HVe(t,e,n,i):WVe(t,e,n,r,i,s)}function eH(t,e,n,r,i){const s=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return aN(t,n,e,(u,d,h)=>{u[a]&&u[a](e[n],i)&&(s.push({element:u,datasetIndex:d,index:h}),l=l||u.inRange(e.x,e.y,i))}),r&&!l?[]:s}var GVe={modes:{index(t,e,n,r){const i=Hd(e,t),s=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?iO(t,i,s,r,a):sO(t,i,s,!1,r,a),u=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const h=l[0].index,m=d.data[h];m&&!m.skip&&u.push({element:m,datasetIndex:d.index,index:h})}),u):[]},dataset(t,e,n,r){const i=Hd(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?iO(t,i,s,r,a):sO(t,i,s,!1,r,a);if(l.length>0){const u=l[0].datasetIndex,d=t.getDatasetMeta(u).data;l=[];for(let h=0;h<d.length;++h)l.push({element:d[h],datasetIndex:u,index:h})}return l},point(t,e,n,r){const i=Hd(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return iO(t,i,s,r,a)},nearest(t,e,n,r){const i=Hd(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return sO(t,i,s,n.intersect,r,a)},x(t,e,n,r){const i=Hd(e,t);return eH(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Hd(e,t);return eH(t,i,"y",n.intersect,r)}}};const Hre=["left","top","right","bottom"];function Sy(t,e){return t.filter(n=>n.pos===e)}function tH(t,e){return t.filter(n=>Hre.indexOf(n.pos)===-1&&n.box.axis===e)}function jy(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function YVe(t){const e=[];let n,r,i,s,a,l;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:a,stackWeight:l=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:l});return e}function KVe(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!Hre.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function XVe(t,e){const n=KVe(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,l;for(s=0,a=t.length;s<a;++s){l=t[s];const{fullSize:u}=l.box,d=n[l.stack],h=d&&l.stackWeight/d.weight;l.horizontal?(l.width=h?h*r:u&&e.availableWidth,l.height=i):(l.width=r,l.height=h?h*i:u&&e.availableHeight)}return n}function QVe(t){const e=YVe(t),n=jy(e.filter(d=>d.box.fullSize),!0),r=jy(Sy(e,"left"),!0),i=jy(Sy(e,"right")),s=jy(Sy(e,"top"),!0),a=jy(Sy(e,"bottom")),l=tH(e,"x"),u=tH(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(a).concat(l),chartArea:Sy(e,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(a).concat(l)}}function nH(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Wre(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ZVe(t,e,n,r){const{pos:i,box:s}=n,a=t.maxPadding;if(!en(i)){n.size&&(t[i]-=n.size);const m=r[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?s.height:s.width),n.size=m.size/m.count,t[i]+=n.size}s.getPadding&&Wre(a,s.getPadding());const l=Math.max(0,e.outerWidth-nH(a,t,"left","right")),u=Math.max(0,e.outerHeight-nH(a,t,"top","bottom")),d=l!==t.w,h=u!==t.h;return t.w=l,t.h=u,n.horizontal?{same:d,other:h}:{same:h,other:d}}function JVe(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function eFe(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return r(t?["left","right"]:["top","bottom"])}function Hy(t,e,n,r){const i=[];let s,a,l,u,d,h;for(s=0,a=t.length,d=0;s<a;++s){l=t[s],u=l.box,u.update(l.width||e.w,l.height||e.h,eFe(l.horizontal,e));const{same:m,other:g}=ZVe(e,n,l,r);d|=m&&i.length,h=h||g,u.fullSize||i.push(l)}return d&&Hy(i,e,n,r)||h}function R_(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function rH(t,e,n,r){const i=n.padding;let{x:s,y:a}=e;for(const l of t){const u=l.box,d=r[l.stack]||{placed:0,weight:1},h=l.stackWeight/d.weight||1;if(l.horizontal){const m=e.w*h,g=d.size||u.height;Ex(d.start)&&(a=d.start),u.fullSize?R_(u,i.left,a,n.outerWidth-i.right-i.left,g):R_(u,e.left+d.placed,a,m,g),d.start=a,d.placed+=m,a=u.bottom}else{const m=e.h*h,g=d.size||u.width;Ex(d.start)&&(s=d.start),u.fullSize?R_(u,s,i.top,g,n.outerHeight-i.bottom-i.top):R_(u,s,e.top+d.placed,g,m),d.start=s,d.placed+=m,s=u.right}}e.x=s,e.y=a}var pa={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=xa(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(n-i.height,0),l=QVe(t.boxes),u=l.vertical,d=l.horizontal;kn(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const h=u.reduce((_,x)=>x.box.options&&x.box.options.display===!1?_:_+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/h,hBoxMaxHeight:a/2}),g=Object.assign({},i);Wre(g,xa(r));const v=Object.assign({maxPadding:g,w:s,h:a,x:i.left,y:i.top},i),b=XVe(u.concat(d),m);Hy(l.fullSize,v,m,b),Hy(u,v,m,b),Hy(d,v,m,b)&&Hy(u,v,m,b),JVe(v),rH(l.leftAndTop,v,m,b),v.x+=v.w,v.y+=v.h,rH(l.rightAndBottom,v,m,b),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},kn(l.chartArea,_=>{const x=_.box;Object.assign(x,t.chartArea),x.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class Gre{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class tFe extends Gre{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ow="$chartjs",nFe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},iH=t=>t===null||t==="";function rFe(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[ow]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",iH(i)){const s=B7(t,"width");s!==void 0&&(t.width=s)}if(iH(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=B7(t,"height");s!==void 0&&(t.height=s)}return t}const Yre=sVe?{passive:!0}:!1;function iFe(t,e,n){t&&t.addEventListener(e,n,Yre)}function sFe(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Yre)}function aFe(t,e){const n=nFe[t.type]||t.type,{x:r,y:i}=Hd(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function lS(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function oFe(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||lS(l.addedNodes,r),a=a&&!lS(l.removedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function lFe(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||lS(l.removedNodes,r),a=a&&!lS(l.addedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Rx=new Map;let sH=0;function Kre(){const t=window.devicePixelRatio;t!==sH&&(sH=t,Rx.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function cFe(t,e){Rx.size||window.addEventListener("resize",Kre),Rx.set(t,e)}function uFe(t){Rx.delete(t),Rx.size||window.removeEventListener("resize",Kre)}function dFe(t,e,n){const r=t.canvas,i=r&&R4(r);if(!i)return;const s=Ere((l,u)=>{const d=i.clientWidth;n(l,u),d<i.clientWidth&&n()},window),a=new ResizeObserver(l=>{const u=l[0],d=u.contentRect.width,h=u.contentRect.height;d===0&&h===0||s(d,h)});return a.observe(i),cFe(t,s),a}function aO(t,e,n){n&&n.disconnect(),e==="resize"&&uFe(t)}function fFe(t,e,n){const r=t.canvas,i=Ere(s=>{t.ctx!==null&&n(aFe(s,t))},t);return iFe(r,e,i),i}class hFe extends Gre{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(rFe(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[ow])return!1;const r=n[ow].initial;["height","width"].forEach(s=>{const a=r[s];_n(a)?n.removeAttribute(s):n.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[ow],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),a={attach:oFe,detach:lFe,resize:dFe}[n]||fFe;i[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:aO,detach:aO,resize:aO}[n]||sFe)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return iVe(e,n,r,i)}isAttached(e){const n=e&&R4(e);return!!(n&&n.isConnected)}}function mFe(t){return!O4()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?tFe:hFe}var U_;let _c=(U_=class{constructor(){rt(this,"x");rt(this,"y");rt(this,"active",!1);rt(this,"options");rt(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Tx(this.x)&&Tx(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},rt(U_,"defaults",{}),rt(U_,"defaultRoutes"),U_);function pFe(t,e){const n=t.options.ticks,r=gFe(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?vFe(e):[],a=s.length,l=s[0],u=s[a-1],d=[];if(a>i)return xFe(e,d,s,a/i),d;const h=yFe(s,e,i);if(a>0){let m,g;const v=a>1?Math.round((u-l)/(a-1)):null;for(P_(e,d,h,_n(v)?0:l-v,l),m=0,g=a-1;m<g;m++)P_(e,d,h,s[m],s[m+1]);return P_(e,d,h,u,_n(v)?e.length:u+v),d}return P_(e,d,h),d}function gFe(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function yFe(t,e,n){const r=bFe(t),i=e.length/n;if(!r)return Math.max(i,1);const s=r$e(r);for(let a=0,l=s.length-1;a<l;a++){const u=s[a];if(u>i)return u}return Math.max(i,1)}function vFe(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function xFe(t,e,n,r){let i=0,s=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=n[i*r])}function P_(t,e,n,r,i){const s=Vt(r,0),a=Math.min(Vt(i,t.length),t.length);let l=0,u,d,h;for(n=Math.ceil(n),i&&(u=i-r,n=u/Math.floor(u/n)),h=s;h<0;)l++,h=Math.round(s+l*n);for(d=Math.max(s,0);d<a;d++)d===h&&(e.push(t[d]),l++,h=Math.round(s+l*n))}function bFe(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const _Fe=t=>t==="left"?"right":t==="right"?"left":t,aH=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,oH=(t,e)=>Math.min(e||t,t);function lH(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function wFe(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,a=t._endPixel,l=1e-6;let u=t.getPixelForTick(i),d;if(!(n&&(r===1?d=Math.max(u-s,a-u):e===0?d=(t.getPixelForTick(1)-u)/2:d=(u-t.getPixelForTick(i-1))/2,u+=i<e?d:-d,u<s-l||u>a+l)))return u}function SFe(t,e){kn(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Ny(t){return t.drawTicks?t.tickLength:0}function cH(t,e){if(!t.display)return 0;const n=Fi(t.font,e),r=xa(t.padding);return(Lr(t.text)?t.text.length:1)*n.lineHeight+r.height}function jFe(t,e){return ih(t,{scale:e,type:"scale"})}function NFe(t,e,n){return ih(t,{tick:n,index:e,type:"tick"})}function AFe(t,e,n){let r=j4(t);return(n&&e!=="right"||!n&&e==="right")&&(r=_Fe(r)),r}function EFe(t,e,n,r){const{top:i,left:s,bottom:a,right:l,chart:u}=t,{chartArea:d,scales:h}=u;let m=0,g,v,b;const _=a-i,x=l-s;if(t.isHorizontal()){if(v=Mi(r,s,l),en(n)){const j=Object.keys(n)[0],A=n[j];b=h[j].getPixelForValue(A)+_-e}else n==="center"?b=(d.bottom+d.top)/2+_-e:b=aH(t,n,e);g=l-s}else{if(en(n)){const j=Object.keys(n)[0],A=n[j];v=h[j].getPixelForValue(A)-x+e}else n==="center"?v=(d.left+d.right)/2-x+e:v=aH(t,n,e);b=Mi(r,a,i),m=n==="left"?-ni:ni}return{titleX:v,titleY:b,maxWidth:g,rotation:m}}class rg extends _c{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=vo(e,Number.POSITIVE_INFINITY),n=vo(n,Number.NEGATIVE_INFINITY),r=vo(r,Number.POSITIVE_INFINITY),i=vo(i,Number.NEGATIVE_INFINITY),{min:vo(e,r),max:vo(n,i),minDefined:zi(e),maxDefined:zi(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let u=0,d=l.length;u<d;++u)a=l[u].controller.getMinMax(this,e),i||(n=Math.min(n,a.min)),s||(r=Math.max(r,a.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:vo(n,vo(r,n)),max:vo(r,vo(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Jn(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=D$e(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?lH(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=pFe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Jn(this.options.afterUpdate,[this])}beforeSetDimensions(){Jn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Jn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Jn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Jn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Jn(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Jn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Jn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=oH(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let a=i,l,u,d;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const h=this._getLabelSizes(),m=h.widest.width,g=h.highest.height,v=Vi(this.chart.width-m,0,this.maxWidth);l=e.offset?this.maxWidth/r:v/(r-1),m+6>l&&(l=v/(r-(e.offset?.5:1)),u=this.maxHeight-Ny(e.grid)-n.padding-cH(e.title,this.chart.options.font),d=Math.sqrt(m*m+g*g),a=o$e(Math.min(Math.asin(Vi((h.highest.height+6)/l,-1,1)),Math.asin(Vi(u/d,-1,1))-Math.asin(Vi(g/d,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Jn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Jn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const u=cH(i,n.options.font);if(l?(e.width=this.maxWidth,e.height=Ny(s)+u):(e.height=this.maxHeight,e.width=Ny(s)+u),r.display&&this.ticks.length){const{first:d,last:h,widest:m,highest:g}=this._getLabelSizes(),v=r.padding*2,b=Wl(this.labelRotation),_=Math.cos(b),x=Math.sin(b);if(l){const j=r.mirror?0:x*m.width+_*g.height;e.height=Math.min(this.maxHeight,e.height+j+v)}else{const j=r.mirror?0:_*m.width+x*g.height;e.width=Math.min(this.maxWidth,e.width+j+v)}this._calculatePadding(d,h,x,_)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:a},position:l}=this.options,u=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,v=0;u?d?(g=i*e.width,v=r*n.height):(g=r*e.height,v=i*n.width):s==="start"?v=n.width:s==="end"?g=e.width:s!=="inner"&&(g=e.width/2,v=n.width/2),this.paddingLeft=Math.max((g-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((v-m+a)*this.width/(this.width-m),0)}else{let h=n.height/2,m=e.height/2;s==="start"?(h=0,m=e.height):s==="end"&&(h=n.height,m=0),this.paddingTop=h+a,this.paddingBottom=m+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Jn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)_n(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=lH(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,a=[],l=[],u=Math.floor(n/oH(n,r));let d=0,h=0,m,g,v,b,_,x,j,A,C,P,T;for(m=0;m<n;m+=u){if(b=e[m].label,_=this._resolveTickFontOptions(m),i.font=x=_.string,j=s[x]=s[x]||{data:{},gc:[]},A=_.lineHeight,C=P=0,!_n(b)&&!Lr(b))C=D7(i,j.data,j.gc,C,b),P=A;else if(Lr(b))for(g=0,v=b.length;g<v;++g)T=b[g],!_n(T)&&!Lr(T)&&(C=D7(i,j.data,j.gc,C,T),P+=A);a.push(C),l.push(P),d=Math.max(C,d),h=Math.max(P,h)}SFe(s,n);const I=a.indexOf(d),E=l.indexOf(h),k=O=>({width:a[O]||0,height:l[O]||0});return{first:k(0),last:k(n-1),widest:k(I),highest:k(E),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return c$e(this._alignToPixels?Ld(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=NFe(this.getContext(),e,r))}return this.$context||(this.$context=jFe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Wl(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,l=s?s.widest.width+a:0,u=s?s.highest.height+a:0;return this.isHorizontal()?u*r>l*i?l/r:u/i:u*i<l*r?u/r:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:l}=i,u=s.offset,d=this.isHorizontal(),m=this.ticks.length+(u?1:0),g=Ny(s),v=[],b=l.setContext(this.getContext()),_=b.display?b.width:0,x=_/2,j=function(U){return Ld(r,U,_)};let A,C,P,T,I,E,k,O,D,M,V,$;if(a==="top")A=j(this.bottom),E=this.bottom-g,O=A-x,M=j(e.top)+x,$=e.bottom;else if(a==="bottom")A=j(this.top),M=e.top,$=j(e.bottom)-x,E=A+x,O=this.top+g;else if(a==="left")A=j(this.right),I=this.right-g,k=A-x,D=j(e.left)+x,V=e.right;else if(a==="right")A=j(this.left),D=e.left,V=j(e.right)-x,I=A+x,k=this.left+g;else if(n==="x"){if(a==="center")A=j((e.top+e.bottom)/2+.5);else if(en(a)){const U=Object.keys(a)[0],q=a[U];A=j(this.chart.scales[U].getPixelForValue(q))}M=e.top,$=e.bottom,E=A+x,O=E+g}else if(n==="y"){if(a==="center")A=j((e.left+e.right)/2);else if(en(a)){const U=Object.keys(a)[0],q=a[U];A=j(this.chart.scales[U].getPixelForValue(q))}I=A-x,k=I-g,D=e.left,V=e.right}const X=Vt(i.ticks.maxTicksLimit,m),H=Math.max(1,Math.ceil(m/X));for(C=0;C<m;C+=H){const U=this.getContext(C),q=s.setContext(U),G=l.setContext(U),W=q.lineWidth,z=q.color,Z=G.dash||[],te=G.dashOffset,ne=q.tickWidth,ge=q.tickColor,Ce=q.tickBorderDash||[],Te=q.tickBorderDashOffset;P=wFe(this,C,u),P!==void 0&&(T=Ld(r,P,W),d?I=k=D=V=T:E=O=M=$=T,v.push({tx1:I,ty1:E,tx2:k,ty2:O,x1:D,y1:M,x2:V,y2:$,width:W,color:z,borderDash:Z,borderDashOffset:te,tickWidth:ne,tickColor:ge,tickBorderDash:Ce,tickBorderDashOffset:Te}))}return this._ticksLength=m,this._borderValue=A,v}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:d,padding:h,mirror:m}=s,g=Ny(r.grid),v=g+h,b=m?-h:v,_=-Wl(this.labelRotation),x=[];let j,A,C,P,T,I,E,k,O,D,M,V,$="middle";if(i==="top")I=this.bottom-b,E=this._getXAxisLabelAlignment();else if(i==="bottom")I=this.top+b,E=this._getXAxisLabelAlignment();else if(i==="left"){const H=this._getYAxisLabelAlignment(g);E=H.textAlign,T=H.x}else if(i==="right"){const H=this._getYAxisLabelAlignment(g);E=H.textAlign,T=H.x}else if(n==="x"){if(i==="center")I=(e.top+e.bottom)/2+v;else if(en(i)){const H=Object.keys(i)[0],U=i[H];I=this.chart.scales[H].getPixelForValue(U)+v}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")T=(e.left+e.right)/2-v;else if(en(i)){const H=Object.keys(i)[0],U=i[H];T=this.chart.scales[H].getPixelForValue(U)}E=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(u==="start"?$="top":u==="end"&&($="bottom"));const X=this._getLabelSizes();for(j=0,A=l.length;j<A;++j){C=l[j],P=C.label;const H=s.setContext(this.getContext(j));k=this.getPixelForTick(j)+s.labelOffset,O=this._resolveTickFontOptions(j),D=O.lineHeight,M=Lr(P)?P.length:1;const U=M/2,q=H.color,G=H.textStrokeColor,W=H.textStrokeWidth;let z=E;a?(T=k,E==="inner"&&(j===A-1?z=this.options.reverse?"left":"right":j===0?z=this.options.reverse?"right":"left":z="center"),i==="top"?d==="near"||_!==0?V=-M*D+D/2:d==="center"?V=-X.highest.height/2-U*D+D:V=-X.highest.height+D/2:d==="near"||_!==0?V=D/2:d==="center"?V=X.highest.height/2-U*D:V=X.highest.height-M*D,m&&(V*=-1),_!==0&&!H.showLabelBackdrop&&(T+=D/2*Math.sin(_))):(I=k,V=(1-M)*D/2);let Z;if(H.showLabelBackdrop){const te=xa(H.backdropPadding),ne=X.heights[j],ge=X.widths[j];let Ce=V-te.top,Te=0-te.left;switch($){case"middle":Ce-=ne/2;break;case"bottom":Ce-=ne;break}switch(E){case"center":Te-=ge/2;break;case"right":Te-=ge;break;case"inner":j===A-1?Te-=ge:j>0&&(Te-=ge/2);break}Z={left:Te,top:Ce,width:ge+te.width,height:ne+te.height,color:H.backdropColor}}x.push({label:P,font:O,textOffset:V,options:{rotation:_,color:q,strokeColor:G,strokeWidth:W,textAlign:z,textBaseline:$,translation:[T,I],backdrop:Z}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Wl(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),l=e+s,u=a.widest.width;let d,h;return n==="left"?i?(h=this.right+s,r==="near"?d="left":r==="center"?(d="center",h+=u/2):(d="right",h+=u)):(h=this.right-l,r==="near"?d="right":r==="center"?(d="center",h-=u/2):(d="left",h=this.left)):n==="right"?i?(h=this.left+s,r==="near"?d="right":r==="center"?(d="center",h-=u/2):(d="left",h-=u)):(h=this.left+l,r==="near"?d="left":r==="center"?(d="center",h+=u/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const l=(u,d,h)=>{!h.width||!h.color||(r.save(),r.lineWidth=h.width,r.strokeStyle=h.color,r.setLineDash(h.borderDash||[]),r.lineDashOffset=h.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(n.display)for(s=0,a=i.length;s<a;++s){const u=i[s];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const l=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,h,m,g;this.isHorizontal()?(d=Ld(e,this.left,a)-a/2,h=Ld(e,this.right,l)+l/2,m=g=u):(m=Ld(e,this.top,a)-a/2,g=Ld(e,this.bottom,l)+l/2,d=h=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(d,m),n.lineTo(h,g),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&rN(r,i);const s=this.getLabelItems(e);for(const a of s){const l=a.options,u=a.font,d=a.label,h=a.textOffset;Ox(r,d,0,h,u,l)}i&&iN(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Fi(r.font),a=xa(r.padding),l=r.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||en(n)?(u+=a.bottom,Lr(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=a.top;const{titleX:d,titleY:h,maxWidth:m,rotation:g}=EFe(this,u,n,l);Ox(e,r.text,0,0,s,{color:r.color,maxWidth:m,rotation:g,textAlign:AFe(l,n,i),textBaseline:"middle",translation:[d,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Vt(e.grid&&e.grid.z,-1),i=Vt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==rg.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];l[r]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Fi(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class I_{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;kFe(n)&&(r=this.register(n));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,TFe(e,a,r),this.override&&jr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in jr[i]&&(delete jr[i][r],this.override&&delete Ff[r])}}function TFe(t,e,n){const r=Ax(Object.create(null),[n?jr.get(n):{},jr.get(e),t.defaults]);jr.set(e,r),t.defaultRoutes&&CFe(e,t.defaultRoutes),t.descriptors&&jr.describe(e,t.descriptors)}function CFe(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),a=e[n].split("."),l=a.pop(),u=a.join(".");jr.route(s,i,u,l)})}function kFe(t){return"id"in t&&"defaults"in t}class OFe{constructor(){this.controllers=new I_(hf,"datasets",!0),this.elements=new I_(_c,"elements"),this.plugins=new I_(Object,"plugins"),this.scales=new I_(rg,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):kn(i,a=>{const l=r||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,r){const i=w4(e);Jn(r["before"+i],[],r),n[e](r),Jn(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var bo=new OFe;class RFe{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,r,i){i=i||{};for(const s of e){const a=s.plugin,l=a[r],u=[n,i,s.options];if(Jn(l,u,a)===!1&&i.cancelable)return!1}return!0}invalidate(){_n(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Vt(r.options&&r.options.plugins,{}),s=PFe(r);return i===!1&&!n?[]:MFe(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(l=>!a.some(u=>l.plugin.id===u.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function PFe(t){const e={},n=[],r=Object.keys(bo.plugins.items);for(let s=0;s<r.length;s++)n.push(bo.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function IFe(t,e){return!e&&t===!1?null:t===!0?{}:t}function MFe(t,{plugins:e,localIds:n},r,i){const s=[],a=t.getContext();for(const l of e){const u=l.id,d=IFe(r[u],i);d!==null&&s.push({plugin:l,options:DFe(t.config,{plugin:l,local:n[u]},d,a)})}return s}function DFe(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(r,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function YP(t,e){const n=jr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function LFe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function $Fe(t,e){return t===e?"_index_":"_value_"}function uH(t){if(t==="x"||t==="y"||t==="r")return t}function VFe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function KP(t,...e){if(uH(t))return t;for(const n of e){const r=n.axis||VFe(n.position)||t.length>1&&uH(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function dH(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function FFe(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return dH(t,"x",n[0])||dH(t,"y",n[0])}return{}}function BFe(t,e){const n=Ff[t.type]||{scales:{}},r=e.scales||{},i=YP(t.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!en(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=KP(a,l,FFe(a,t),jr.scales[l.type]),d=$Fe(u,i),h=n.scales||{};s[a]=mv(Object.create(null),[{axis:u},l,h[u],h[d]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,u=a.indexAxis||YP(l,e),h=(Ff[l]||{}).scales||{};Object.keys(h).forEach(m=>{const g=LFe(m,u),v=a[g+"AxisID"]||g;s[v]=s[v]||Object.create(null),mv(s[v],[{axis:g},r[v],h[m]])})}),Object.keys(s).forEach(a=>{const l=s[a];mv(l,[jr.scales[l.type],jr.scale])}),s}function Xre(t){const e=t.options||(t.options={});e.plugins=Vt(e.plugins,{}),e.scales=BFe(t,e)}function Qre(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function UFe(t){return t=t||{},t.data=Qre(t.data),Xre(t),t}const fH=new Map,Zre=new Set;function M_(t,e){let n=fH.get(t);return n||(n=e(),fH.set(t,n),Zre.add(n)),n}const Ay=(t,e,n)=>{const r=Vf(e,n);r!==void 0&&t.add(r)};class zFe{constructor(e){this._config=UFe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Qre(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Xre(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return M_(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return M_(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return M_(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return M_(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),l=a.get(n);if(l)return l;const u=new Set;n.forEach(h=>{e&&(u.add(e),h.forEach(m=>Ay(u,e,m))),h.forEach(m=>Ay(u,i,m)),h.forEach(m=>Ay(u,Ff[s]||{},m)),h.forEach(m=>Ay(u,jr,m)),h.forEach(m=>Ay(u,HP,m))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),Zre.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ff[n]||{},jr.datasets[n]||{},{type:n},jr,HP]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:l}=hH(this._resolverCache,e,i);let u=a;if(HFe(a,n)){s.$shared=!1,r=$u(r)?r():r;const d=this.createResolver(e,r,l);u=Op(a,r,d)}for(const d of n)s[d]=u[d];return s}createResolver(e,n,r=[""],i){const{resolver:s}=hH(this._resolverCache,e,r);return en(n)?Op(s,n,void 0,i):s}}function hH(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:T4(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(i,s)),s}const qFe=t=>en(t)&&Object.getOwnPropertyNames(t).some(e=>$u(t[e]));function HFe(t,e){const{isScriptable:n,isIndexable:r}=Ore(t);for(const i of e){const s=n(i),a=r(i),l=(a||s)&&t[i];if(s&&($u(l)||qFe(l))||a&&Lr(l))return!0}return!1}var WFe="4.5.0";const GFe=["top","bottom","left","right","chartArea"];function mH(t,e){return t==="top"||t==="bottom"||GFe.indexOf(t)===-1&&e==="x"}function pH(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function gH(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Jn(n&&n.onComplete,[t],e)}function YFe(t){const e=t.chart,n=e.options.animation;Jn(n&&n.onProgress,[t],e)}function Jre(t){return O4()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const lw={},yH=t=>{const e=Jre(t);return Object.values(lw).filter(n=>n.canvas===e).pop()};function KFe(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const a=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=a)}}}function XFe(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Qc;let ig=(Qc=class{static register(...e){bo.add(...e),vH()}static unregister(...e){bo.remove(...e),vH()}constructor(e,n){const r=this.config=new zFe(n),i=Jre(e),s=yH(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||mFe(i)),this.platform.updateConfig(r);const l=this.platform.acquireContext(i,a.aspectRatio),u=l&&l.canvas,d=u&&u.height,h=u&&u.width;if(this.id=Y6e(),this.ctx=l,this.canvas=u,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new RFe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=h$e(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],lw[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Rl.listen(this,"complete",gH),Rl.listen(this,"progress",YFe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return _n(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return bo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():F7(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return L7(this.canvas,this.ctx),this}stop(){return Rl.stop(this),this}resize(e,n){Rl.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,n,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,F7(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Jn(r.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};kn(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const l=n[a],u=KP(a,l),d=u==="r",h=u==="x";return{options:l,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),kn(s,a=>{const l=a.options,u=l.id,d=KP(u,l),h=Vt(l.type,a.dtype);(l.position===void 0||mH(l.position,d)!==mH(a.dposition))&&(l.position=a.dposition),i[u]=!0;let m=null;if(u in r&&r[u].type===h)m=r[u];else{const g=bo.getScale(h);m=new g({id:u,type:h,ctx:this.ctx,chart:this}),r[m.id]=m}m.init(l,e)}),kn(i,(a,l)=>{a||delete r[l]}),kn(r,a=>{pa.configure(this,a,a.options),pa.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(pH("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let a=this.getDatasetMeta(r);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=s.indexAxis||YP(l,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const u=bo.getController(l),{datasetElementType:d,dataElementType:h}=jr.datasets[l];Object.assign(u,{dataElementType:bo.getElement(h),datasetElementType:d&&bo.getElement(d)}),a.controller=new u(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){kn(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:m}=this.getDatasetMeta(d),g=!i&&s.indexOf(m)===-1;m.buildOrUpdateElements(g),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||kn(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(pH("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){kn(this.scales,e=>{pa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!E7(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const a=r==="_removeElements"?-s:s;KFe(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!E7(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;pa.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],kn(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,$u(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Rl.has(this)?this.attached&&!Rl.running(this)&&Rl.start(this):(this.draw(),gH({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const a=n[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=Bre(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&rN(n,i),e.controller.draw(),i&&iN(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return kx(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=GVe.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=ih(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);Ex(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Rl.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),L7(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete lw[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},i=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};kn(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(u,d)=>{n.addEventListener(this,u,d),e[u]=d},i=(u,d)=>{e[u]&&(n.removeEventListener(this,u,d),delete e[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const l=()=>{i("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){kn(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},kn(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,a,l,u;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){a=e[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!rS(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(u,d)=>u.filter(h=>!d.some(m=>h.datasetIndex===m.datasetIndex&&h.index===m.index)),a=s(n,e),l=r?e:s(e,n);a.length&&this.updateHoverStyle(a,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,a=n,l=this._getActiveElements(e,i,r,a),u=e$e(e),d=XFe(e,this._lastEvent,r,u);r&&(this._lastEvent=null,Jn(s.onHover,[e,l,this],this),u&&Jn(s.onClick,[e,l,this],this));const h=!rS(l,i);return(h||n)&&(this._active=l,this._updateHoverStyles(l,i,n)),this._lastEvent=d,h}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},rt(Qc,"defaults",jr),rt(Qc,"instances",lw),rt(Qc,"overrides",Ff),rt(Qc,"registry",bo),rt(Qc,"version",WFe),rt(Qc,"getChart",yH),Qc);function vH(){return kn(ig.instances,t=>t._plugins.invalidate())}function QFe(t,e,n){const{startAngle:r,x:i,y:s,outerRadius:a,innerRadius:l,options:u}=e,{borderWidth:d,borderJoinStyle:h}=u,m=Math.min(d/a,Cs(r-n));if(t.beginPath(),t.arc(i,s,a-d/2,r+m/2,n-m/2),l>0){const g=Math.min(d/l,Cs(r-n));t.arc(i,s,l+d/2,n-g/2,r+g/2,!0)}else{const g=Math.min(d/2,a*Cs(r-n));if(h==="round")t.arc(i,s,g,n-Rn/2,r+Rn/2,!0);else if(h==="bevel"){const v=2*g*g,b=-v*Math.cos(n+Rn/2)+i,_=-v*Math.sin(n+Rn/2)+s,x=v*Math.cos(r+Rn/2)+i,j=v*Math.sin(r+Rn/2)+s;t.lineTo(b,_),t.lineTo(x,j)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function ZFe(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:l,innerRadius:u}=e;let d=i/l;t.beginPath(),t.arc(s,a,l,r-d,n+d),u>i?(d=i/u,t.arc(s,a,u,n+d,r-d,!0)):t.arc(s,a,i,n+ni,r-ni),t.closePath(),t.clip()}function JFe(t){return E4(t,["outerStart","outerEnd","innerStart","innerEnd"])}function eBe(t,e,n,r){const i=JFe(t.options.borderRadius),s=(n-e)/2,a=Math.min(s,r*e/2),l=u=>{const d=(n-Math.min(s,u))*r/2;return Vi(u,0,Math.min(s,d))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:Vi(i.innerStart,0,a),innerEnd:Vi(i.innerEnd,0,a)}}function am(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function cS(t,e,n,r,i,s){const{x:a,y:l,startAngle:u,pixelMargin:d,innerRadius:h}=e,m=Math.max(e.outerRadius+r+n-d,0),g=h>0?h+r+n+d:0;let v=0;const b=i-u;if(r){const H=h>0?h-r:0,U=m>0?m-r:0,q=(H+U)/2,G=q!==0?b*q/(q+r):b;v=(b-G)/2}const _=Math.max(.001,b*m-n/Rn)/m,x=(b-_)/2,j=u+x+v,A=i-x-v,{outerStart:C,outerEnd:P,innerStart:T,innerEnd:I}=eBe(e,g,m,A-j),E=m-C,k=m-P,O=j+C/E,D=A-P/k,M=g+T,V=g+I,$=j+T/M,X=A-I/V;if(t.beginPath(),s){const H=(O+D)/2;if(t.arc(a,l,m,O,H),t.arc(a,l,m,H,D),P>0){const W=am(k,D,a,l);t.arc(W.x,W.y,P,D,A+ni)}const U=am(V,A,a,l);if(t.lineTo(U.x,U.y),I>0){const W=am(V,X,a,l);t.arc(W.x,W.y,I,A+ni,X+Math.PI)}const q=(A-I/g+(j+T/g))/2;if(t.arc(a,l,g,A-I/g,q,!0),t.arc(a,l,g,q,j+T/g,!0),T>0){const W=am(M,$,a,l);t.arc(W.x,W.y,T,$+Math.PI,j-ni)}const G=am(E,j,a,l);if(t.lineTo(G.x,G.y),C>0){const W=am(E,O,a,l);t.arc(W.x,W.y,C,j-ni,O)}}else{t.moveTo(a,l);const H=Math.cos(O)*m+a,U=Math.sin(O)*m+l;t.lineTo(H,U);const q=Math.cos(D)*m+a,G=Math.sin(D)*m+l;t.lineTo(q,G)}t.closePath()}function tBe(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:l}=e;let u=e.endAngle;if(s){cS(t,e,n,r,u,i);for(let d=0;d<s;++d)t.fill();isNaN(l)||(u=a+(l%ur||ur))}return cS(t,e,n,r,u,i),t.fill(),u}function nBe(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:l,options:u}=e,{borderWidth:d,borderJoinStyle:h,borderDash:m,borderDashOffset:g,borderRadius:v}=u,b=u.borderAlign==="inner";if(!d)return;t.setLineDash(m||[]),t.lineDashOffset=g,b?(t.lineWidth=d*2,t.lineJoin=h||"round"):(t.lineWidth=d,t.lineJoin=h||"bevel");let _=e.endAngle;if(s){cS(t,e,n,r,_,i);for(let x=0;x<s;++x)t.stroke();isNaN(l)||(_=a+(l%ur||ur))}b&&ZFe(t,e,_),u.selfJoin&&_-a>=Rn&&v===0&&h!=="miter"&&QFe(t,e,_),s||(cS(t,e,n,r,_,i),t.stroke())}class _m extends _c{constructor(n){super();rt(this,"circumference");rt(this,"endAngle");rt(this,"fullCircles");rt(this,"innerRadius");rt(this,"outerRadius");rt(this,"pixelMargin");rt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:a,distance:l}=Sre(s,{x:n,y:r}),{startAngle:u,endAngle:d,innerRadius:h,outerRadius:m,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,b=Vt(g,d-u),_=Cx(a,u,d)&&u!==d,x=b>=ur||_,j=Gl(l,h+v,m+v);return x&&j}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:a,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:h}=this.options,m=(s+a)/2,g=(l+u+h+d)/2;return{x:r+Math.cos(m)*g,y:i+Math.sin(m)*g}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,a=(r.spacing||0)/2,l=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>ur?Math.floor(i/ur):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const u=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(u)*s,Math.sin(u)*s);const d=1-Math.sin(Math.min(Rn,i||0)),h=s*d;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,tBe(n,this,h,a,l),nBe(n,this,h,a,l),n.restore()}}rt(_m,"id","arc"),rt(_m,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),rt(_m,"defaultRoutes",{backgroundColor:"backgroundColor"}),rt(_m,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function eie(t,e,n=e){t.lineCap=Vt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Vt(n.borderDash,e.borderDash)),t.lineDashOffset=Vt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Vt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Vt(n.borderWidth,e.borderWidth),t.strokeStyle=Vt(n.borderColor,e.borderColor)}function rBe(t,e,n){t.lineTo(n.x,n.y)}function iBe(t){return t.stepped?E$e:t.tension||t.cubicInterpolationMode==="monotone"?T$e:rBe}function tie(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:a,end:l}=e,u=Math.max(i,a),d=Math.min(s,l),h=i<a&&s<a||i>l&&s>l;return{count:r,start:u,loop:e.loop,ilen:d<u&&!h?r+d-u:d-u}}function sBe(t,e,n,r){const{points:i,options:s}=e,{count:a,start:l,loop:u,ilen:d}=tie(i,n,r),h=iBe(s);let{move:m=!0,reverse:g}=r||{},v,b,_;for(v=0;v<=d;++v)b=i[(l+(g?d-v:v))%a],!b.skip&&(m?(t.moveTo(b.x,b.y),m=!1):h(t,_,b,g,s.stepped),_=b);return u&&(b=i[(l+(g?d:0))%a],h(t,_,b,g,s.stepped)),!!u}function aBe(t,e,n,r){const i=e.points,{count:s,start:a,ilen:l}=tie(i,n,r),{move:u=!0,reverse:d}=r||{};let h=0,m=0,g,v,b,_,x,j;const A=P=>(a+(d?l-P:P))%s,C=()=>{_!==x&&(t.lineTo(h,x),t.lineTo(h,_),t.lineTo(h,j))};for(u&&(v=i[A(0)],t.moveTo(v.x,v.y)),g=0;g<=l;++g){if(v=i[A(g)],v.skip)continue;const P=v.x,T=v.y,I=P|0;I===b?(T<_?_=T:T>x&&(x=T),h=(m*h+P)/++m):(C(),t.lineTo(P,T),b=I,m=0,_=x=T),j=T}C()}function XP(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?aBe:sBe}function oBe(t){return t.stepped?aVe:t.tension||t.cubicInterpolationMode==="monotone"?oVe:Wd}function lBe(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),eie(t,e.options),t.stroke(i)}function cBe(t,e,n,r){const{segments:i,options:s}=e,a=XP(e);for(const l of i)eie(t,s,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const uBe=typeof Path2D=="function";function dBe(t,e,n,r){uBe&&!e.options.segment?lBe(t,e,n,r):cBe(t,e,n,r)}class Po extends _c{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;Z$e(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=hVe(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,a=Fre(this,{property:n,start:i,end:i});if(!a.length)return;const l=[],u=oBe(r);let d,h;for(d=0,h=a.length;d<h;++d){const{start:m,end:g}=a[d],v=s[m],b=s[g];if(v===b){l.push(v);continue}const _=Math.abs((i-v[n])/(b[n]-v[n])),x=u(v,b,_,r.stepped);x[n]=e[n],l.push(x)}return l.length===1?l[0]:l}pathSegment(e,n,r){return XP(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=XP(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const l of i)a&=s(e,this,l,{start:n,end:n+r-1});return!!a}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),dBe(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}rt(Po,"id","line"),rt(Po,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),rt(Po,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),rt(Po,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function xH(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class $m extends _c{constructor(n){super();rt(this,"parsed");rt(this,"skip");rt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:a,y:l}=this.getProps(["x","y"],i);return Math.pow(n-a,2)+Math.pow(r-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return xH(this,n,"x",r)}inYRange(n,r){return xH(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!kx(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,WP(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}rt($m,"id","point"),rt($m,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),rt($m,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function nie(t,e){const{x:n,y:r,base:i,width:s,height:a}=t.getProps(["x","y","base","width","height"],e);let l,u,d,h,m;return t.horizontal?(m=a/2,l=Math.min(n,i),u=Math.max(n,i),d=r-m,h=r+m):(m=s/2,l=n-m,u=n+m,d=Math.min(r,i),h=Math.max(r,i)),{left:l,top:d,right:u,bottom:h}}function yu(t,e,n,r){return t?0:Vi(e,n,r)}function fBe(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=kre(r);return{t:yu(i.top,s.top,0,n),r:yu(i.right,s.right,0,e),b:yu(i.bottom,s.bottom,0,n),l:yu(i.left,s.left,0,e)}}function hBe(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Dm(i),a=Math.min(e,n),l=t.borderSkipped,u=r||en(i);return{topLeft:yu(!u||l.top||l.left,s.topLeft,0,a),topRight:yu(!u||l.top||l.right,s.topRight,0,a),bottomLeft:yu(!u||l.bottom||l.left,s.bottomLeft,0,a),bottomRight:yu(!u||l.bottom||l.right,s.bottomRight,0,a)}}function mBe(t){const e=nie(t),n=e.right-e.left,r=e.bottom-e.top,i=fBe(t,n/2,r/2),s=hBe(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function oO(t,e,n,r){const i=e===null,s=n===null,l=t&&!(i&&s)&&nie(t,r);return l&&(i||Gl(e,l.left,l.right))&&(s||Gl(n,l.top,l.bottom))}function pBe(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function gBe(t,e){t.rect(e.x,e.y,e.w,e.h)}function lO(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+a,radius:t.radius}}class Vm extends _c{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:a}=mBe(this),l=pBe(a.radius)?aS:gBe;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),l(e,lO(a,n,s)),e.clip(),l(e,lO(s,-n,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),l(e,lO(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return oO(this,e,n,r)}inXRange(e,n){return oO(this,e,null,n)}inYRange(e,n){return oO(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}rt(Vm,"id","bar"),rt(Vm,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),rt(Vm,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function yBe(t,e,n){const r=t.segments,i=t.points,s=e.points,a=[];for(const l of r){let{start:u,end:d}=l;d=oN(u,d,i);const h=QP(n,i[u],i[d],l.loop);if(!e.segments){a.push({source:l,target:h,start:i[u],end:i[d]});continue}const m=Fre(e,h);for(const g of m){const v=QP(n,s[g.start],s[g.end],g.loop),b=Vre(l,i,v);for(const _ of b)a.push({source:_,target:g,start:{[n]:bH(h,v,"start",Math.max)},end:{[n]:bH(h,v,"end",Math.min)}})}}return a}function QP(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=Cs(i),s=Cs(s)),{property:t,start:i,end:s}}function vBe(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:a,end:l})=>{l=oN(a,l,i);const u=i[a],d=i[l];r!==null?(s.push({x:u.x,y:r}),s.push({x:d.x,y:r})):n!==null&&(s.push({x:n,y:u.y}),s.push({x:n,y:d.y}))}),s}function oN(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function bH(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function rie(t,e){let n=[],r=!1;return Lr(t)?(r=!0,n=t):n=vBe(t,e),n.length?new Po({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function _H(t){return t&&t.fill!==!1}function xBe(t,e,n){let i=t[e].fill;const s=[e];let a;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!zi(i))return i;if(a=t[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function bBe(t,e,n){const r=jBe(t);if(en(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return zi(i)&&Math.floor(i)===i?_Be(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function _Be(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function wBe(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:en(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function SBe(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:en(t)?r=t.value:r=e.getBaseValue(),r}function jBe(t){const e=t.options,n=e.fill;let r=Vt(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function NBe(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,a=r.points,l=ABe(e,n);l.push(rie({x:null,y:e.bottom},r));for(let u=0;u<s.length;u++){const d=s[u];for(let h=d.start;h<=d.end;h++)EBe(i,a[h],l)}return new Po({points:i,options:{}})}function ABe(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function EBe(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:a,last:l,point:u}=TBe(s,e,"x");if(!(!u||a&&l)){if(a)r.unshift(u);else if(t.push(u),!l)break}}t.push(...r)}function TBe(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,a=t.points;let l=!1,u=!1;for(let d=0;d<s.length;d++){const h=s[d],m=a[h.start][n],g=a[h.end][n];if(Gl(i,m,g)){l=i===m,u=i===g;break}}return{first:l,last:u,point:r}}class iie{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:a}=this;return n=n||{start:0,end:ur},e.arc(i,s,a,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function CBe(t){const{chart:e,fill:n,line:r}=t;if(zi(n))return kBe(e,n);if(n==="stack")return NBe(t);if(n==="shape")return!0;const i=OBe(t);return i instanceof iie?i:rie(i,r)}function kBe(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function OBe(t){return(t.scale||{}).getPointPositionForValue?PBe(t):RBe(t)}function RBe(t){const{scale:e={},fill:n}=t,r=wBe(n,e);if(zi(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function PBe(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,a=SBe(n,e,s),l=[];if(r.grid.circular){const u=e.getPointPositionForValue(0,s);return new iie({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(a)})}for(let u=0;u<i;++u)l.push(e.getPointPositionForValue(u,a));return l}function cO(t,e,n){const r=CBe(e),{chart:i,index:s,line:a,scale:l,axis:u}=e,d=a.options,h=d.fill,m=d.backgroundColor,{above:g=m,below:v=m}=h||{},b=i.getDatasetMeta(s),_=Bre(i,b);r&&a.points.length&&(rN(t,n),IBe(t,{line:a,target:r,above:g,below:v,area:n,scale:l,axis:u,clip:_}),iN(t))}function IBe(t,e){const{line:n,target:r,above:i,below:s,area:a,scale:l,clip:u}=e,d=n._loop?"angle":e.axis;t.save();let h=s;s!==i&&(d==="x"?(wH(t,r,a.top),uO(t,{line:n,target:r,color:i,scale:l,property:d,clip:u}),t.restore(),t.save(),wH(t,r,a.bottom)):d==="y"&&(SH(t,r,a.left),uO(t,{line:n,target:r,color:s,scale:l,property:d,clip:u}),t.restore(),t.save(),SH(t,r,a.right),h=i)),uO(t,{line:n,target:r,color:h,scale:l,property:d,clip:u}),t.restore()}function wH(t,e,n){const{segments:r,points:i}=e;let s=!0,a=!1;t.beginPath();for(const l of r){const{start:u,end:d}=l,h=i[u],m=i[oN(u,d,i)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(h.x,n),t.lineTo(h.x,h.y)),a=!!e.pathSegment(t,l,{move:a}),a?t.closePath():t.lineTo(m.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function SH(t,e,n){const{segments:r,points:i}=e;let s=!0,a=!1;t.beginPath();for(const l of r){const{start:u,end:d}=l,h=i[u],m=i[oN(u,d,i)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(n,h.y),t.lineTo(h.x,h.y)),a=!!e.pathSegment(t,l,{move:a}),a?t.closePath():t.lineTo(n,m.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function uO(t,e){const{line:n,target:r,property:i,color:s,scale:a,clip:l}=e,u=yBe(n,r,i);for(const{source:d,target:h,start:m,end:g}of u){const{style:{backgroundColor:v=s}={}}=d,b=r!==!0;t.save(),t.fillStyle=v,MBe(t,a,l,b&&QP(i,m,g)),t.beginPath();const _=!!n.pathSegment(t,d);let x;if(b){_?t.closePath():jH(t,r,g,i);const j=!!r.pathSegment(t,h,{move:_,reverse:!0});x=_&&j,x||jH(t,r,m,i)}t.closePath(),t.fill(x?"evenodd":"nonzero"),t.restore()}}function MBe(t,e,n,r){const i=e.chart.chartArea,{property:s,start:a,end:l}=r||{};if(s==="x"||s==="y"){let u,d,h,m;s==="x"?(u=a,d=i.top,h=l,m=i.bottom):(u=i.left,d=a,h=i.right,m=l),t.beginPath(),n&&(u=Math.max(u,n.left),h=Math.min(h,n.right),d=Math.max(d,n.top),m=Math.min(m,n.bottom)),t.rect(u,d,h-u,m-d),t.clip()}}function jH(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var sie={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,a,l,u;for(a=0;a<r;++a)s=t.getDatasetMeta(a),l=s.dataset,u=null,l&&l.options&&l instanceof Po&&(u={visible:t.isDatasetVisible(a),index:a,fill:bBe(l,a,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=u,i.push(u);for(a=0;a<r;++a)u=i[a],!(!u||u.fill===!1)&&(u.fill=xBe(i,a,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let a=i.length-1;a>=0;--a){const l=i[a].$filler;l&&(l.line.updateControlPoints(s,l.axis),r&&l.fill&&cO(t.ctx,l,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;_H(s)&&cO(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!_H(r)||n.drawTime!=="beforeDatasetDraw"||cO(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const NH=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},DBe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class AH extends _c{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Jn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Fi(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=NH(r,s);let d,h;n.font=i.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(a,s,l,u)+10):(h=this.maxHeight,d=this._fitCols(a,i,l,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],h=i+l;let m=e;s.textAlign="left",s.textBaseline="middle";let g=-1,v=-h;return this.legendItems.forEach((b,_)=>{const x=r+n/2+s.measureText(b.text).width;(_===0||d[d.length-1]+x+2*l>a)&&(m+=h,d[d.length-(_>0?0:1)]=0,v+=h,g++),u[_]={left:0,top:v,row:g,width:x,height:i},d[d.length-1]+=x+l}),m}_fitCols(e,n,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],h=a-e;let m=l,g=0,v=0,b=0,_=0;return this.legendItems.forEach((x,j)=>{const{itemWidth:A,itemHeight:C}=LBe(r,n,s,x,i);j>0&&v+C+2*l>h&&(m+=g+l,d.push({width:g,height:v}),b+=g+l,_++,g=v=0),u[j]={left:b,top:v,col:_,width:A,height:C},g=Math.max(g,A),v+=C+l}),m+=g,d.push({width:g,height:v}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,a=Lm(s,this.left,this.width);if(this.isHorizontal()){let l=0,u=Mi(r,this.left+i,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,u=Mi(r,this.left+i,this.right-this.lineWidths[l])),d.top+=this.top+e+i,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+i}else{let l=0,u=Mi(r,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,u=Mi(r,this.top+e+i,this.bottom-this.columnSizes[l].height)),d.top=u,d.left+=this.left+i,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;rN(e,this),this._draw(),iN(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,l=jr.color,u=Lm(e.rtl,this.left,this.width),d=Fi(a.font),{padding:h}=a,m=d.size,g=m/2;let v;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:b,boxHeight:_,itemHeight:x}=NH(a,m),j=function(I,E,k){if(isNaN(b)||b<=0||isNaN(_)||_<0)return;i.save();const O=Vt(k.lineWidth,1);if(i.fillStyle=Vt(k.fillStyle,l),i.lineCap=Vt(k.lineCap,"butt"),i.lineDashOffset=Vt(k.lineDashOffset,0),i.lineJoin=Vt(k.lineJoin,"miter"),i.lineWidth=O,i.strokeStyle=Vt(k.strokeStyle,l),i.setLineDash(Vt(k.lineDash,[])),a.usePointStyle){const D={radius:_*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:O},M=u.xPlus(I,b/2),V=E+g;Cre(i,D,M,V,a.pointStyleWidth&&b)}else{const D=E+Math.max((m-_)/2,0),M=u.leftForLtr(I,b),V=Dm(k.borderRadius);i.beginPath(),Object.values(V).some($=>$!==0)?aS(i,{x:M,y:D,w:b,h:_,radius:V}):i.rect(M,D,b,_),i.fill(),O!==0&&i.stroke()}i.restore()},A=function(I,E,k){Ox(i,k.text,I,E+x/2,d,{strikethrough:k.hidden,textAlign:u.textAlign(k.textAlign)})},C=this.isHorizontal(),P=this._computeTitleHeight();C?v={x:Mi(s,this.left+h,this.right-r[0]),y:this.top+h+P,line:0}:v={x:this.left+h,y:Mi(s,this.top+P+h,this.bottom-n[0].height),line:0},Dre(this.ctx,e.textDirection);const T=x+h;this.legendItems.forEach((I,E)=>{i.strokeStyle=I.fontColor,i.fillStyle=I.fontColor;const k=i.measureText(I.text).width,O=u.textAlign(I.textAlign||(I.textAlign=a.textAlign)),D=b+g+k;let M=v.x,V=v.y;u.setWidth(this.width),C?E>0&&M+D+h>this.right&&(V=v.y+=T,v.line++,M=v.x=Mi(s,this.left+h,this.right-r[v.line])):E>0&&V+T>this.bottom&&(M=v.x=M+n[v.line].width+h,v.line++,V=v.y=Mi(s,this.top+P+h,this.bottom-n[v.line].height));const $=u.x(M);if(j($,V,I),M=m$e(O,M+b+g,C?M+D:this.right,e.rtl),A(u.x(M),V,I),C)v.x+=D+h;else if(typeof I.text!="string"){const X=d.lineHeight;v.y+=aie(I,X)+h}else v.y+=T}),Lre(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Fi(n.font),i=xa(n.padding);if(!n.display)return;const s=Lm(e.rtl,this.left,this.width),a=this.ctx,l=n.position,u=r.size/2,d=i.top+u;let h,m=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),h=this.top+d,m=Mi(e.align,m,this.right-g);else{const b=this.columnSizes.reduce((_,x)=>Math.max(_,x.height),0);h=d+Mi(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const v=Mi(l,m,m+g);a.textAlign=s.textAlign(j4(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,Ox(a,n.text,v,h,r)}_computeTitleHeight(){const e=this.options.title,n=Fi(e.font),r=xa(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Gl(e,this.left,this.right)&&Gl(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Gl(e,i.left,i.left+i.width)&&Gl(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!FBe(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=DBe(i,r);i&&!s&&Jn(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Jn(n.onHover,[e,r,this],this)}else r&&Jn(n.onClick,[e,r,this],this)}}function LBe(t,e,n,r,i){const s=$Be(r,t,e,n),a=VBe(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function $Be(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+r.measureText(i).width}function VBe(t,e,n){let r=t;return typeof e.text!="string"&&(r=aie(e,n)),r}function aie(t,e){const n=t.text?t.text.length:0;return e*n}function FBe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var I4={id:"legend",_element:AH,start(t,e,n){const r=t.legend=new AH({ctx:t.ctx,options:n,chart:t});pa.configure(t,r,n),pa.addBox(t,r)},stop(t){pa.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;pa.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),h=xa(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class oie extends _c{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Lr(r.text)?r.text.length:1;this._padding=xa(r.padding);const s=i*Fi(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:a}=this,l=a.align;let u=0,d,h,m;return this.isHorizontal()?(h=Mi(l,r,s),m=n+e,d=s-r):(a.position==="left"?(h=r+e,m=Mi(l,i,n),u=Rn*-.5):(h=s-e,m=Mi(l,n,i),u=Rn*.5),d=i-n),{titleX:h,titleY:m,maxWidth:d,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Fi(n.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:u,rotation:d}=this._drawArgs(s);Ox(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:d,textAlign:j4(n.align),textBaseline:"middle",translation:[a,l]})}}function BBe(t,e){const n=new oie({ctx:t.ctx,options:e,chart:t});pa.configure(t,n,e),pa.addBox(t,n),t.titleBlock=n}var M4={id:"title",_element:oie,start(t,e,n){BBe(t,n)},stop(t){const e=t.titleBlock;pa.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;pa.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wy={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();r.add(u.x),i+=u.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((l,u)=>l+u)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,l;for(s=0,a=t.length;s<a;++s){const u=t[s].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),h=qP(e,d);h<i&&(i=h,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function xo(t,e){return e&&(Lr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Pl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function UBe(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:a,value:l}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:l,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function EH(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:a,boxHeight:l}=e,u=Fi(e.bodyFont),d=Fi(e.titleFont),h=Fi(e.footerFont),m=s.length,g=i.length,v=r.length,b=xa(e.padding);let _=b.height,x=0,j=r.reduce((P,T)=>P+T.before.length+T.lines.length+T.after.length,0);if(j+=t.beforeBody.length+t.afterBody.length,m&&(_+=m*d.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),j){const P=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;_+=v*P+(j-v)*u.lineHeight+(j-1)*e.bodySpacing}g&&(_+=e.footerMarginTop+g*h.lineHeight+(g-1)*e.footerSpacing);let A=0;const C=function(P){x=Math.max(x,n.measureText(P).width+A)};return n.save(),n.font=d.string,kn(t.title,C),n.font=u.string,kn(t.beforeBody.concat(t.afterBody),C),A=e.displayColors?a+2+e.boxPadding:0,kn(r,P=>{kn(P.before,C),kn(P.lines,C),kn(P.after,C)}),A=0,n.font=h.string,kn(t.footer,C),n.restore(),x+=b.width,{width:x,height:_}}function zBe(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function qBe(t,e,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function HBe(t,e,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:l,right:u}}=t;let d="center";return r==="center"?d=i<=(l+u)/2?"left":"right":i<=s/2?d="left":i>=a-s/2&&(d="right"),qBe(d,t,e,n)&&(d="center"),d}function TH(t,e,n){const r=n.yAlign||e.yAlign||zBe(t,n);return{xAlign:n.xAlign||e.xAlign||HBe(t,e,n,r),yAlign:r}}function WBe(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function GBe(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function CH(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:l,yAlign:u}=n,d=i+s,{topLeft:h,topRight:m,bottomLeft:g,bottomRight:v}=Dm(a);let b=WBe(e,l);const _=GBe(e,u,d);return u==="center"?l==="left"?b+=d:l==="right"&&(b-=d):l==="left"?b-=Math.max(h,g)+i:l==="right"&&(b+=Math.max(m,v)+i),{x:Vi(b,0,r.width-e.width),y:Vi(_,0,r.height-e.height)}}function D_(t,e,n){const r=xa(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function kH(t){return xo([],Pl(t))}function YBe(t,e,n){return ih(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function OH(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const lie={beforeTitle:kl,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:kl,beforeBody:kl,beforeLabel:kl,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return _n(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:kl,afterBody:kl,beforeFooter:kl,footer:kl,afterFooter:kl};function ss(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?lie[e].call(n,r):i}class ZP extends _c{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new Ure(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=YBe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=ss(r,"beforeTitle",this,e),s=ss(r,"title",this,e),a=ss(r,"afterTitle",this,e);let l=[];return l=xo(l,Pl(i)),l=xo(l,Pl(s)),l=xo(l,Pl(a)),l}getBeforeBody(e,n){return kH(ss(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return kn(e,s=>{const a={before:[],lines:[],after:[]},l=OH(r,s);xo(a.before,Pl(ss(l,"beforeLabel",this,s))),xo(a.lines,ss(l,"label",this,s)),xo(a.after,Pl(ss(l,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,n){return kH(ss(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=ss(r,"beforeFooter",this,e),s=ss(r,"footer",this,e),a=ss(r,"afterFooter",this,e);let l=[];return l=xo(l,Pl(i)),l=xo(l,Pl(s)),l=xo(l,Pl(a)),l}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],a=[];let l=[],u,d;for(u=0,d=n.length;u<d;++u)l.push(UBe(this.chart,n[u]));return e.filter&&(l=l.filter((h,m,g)=>e.filter(h,m,g,r))),e.itemSort&&(l=l.sort((h,m)=>e.itemSort(h,m,r))),kn(l,h=>{const m=OH(e.callbacks,h);i.push(ss(m,"labelColor",this,h)),s.push(ss(m,"labelPointStyle",this,h)),a.push(ss(m,"labelTextColor",this,h))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const l=Wy[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const u=this._size=EH(this,r),d=Object.assign({},l,u),h=TH(this.chart,r,d),m=CH(r,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:m.x,y:m.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:m}=Dm(l),{x:g,y:v}=e,{width:b,height:_}=n;let x,j,A,C,P,T;return s==="center"?(P=v+_/2,i==="left"?(x=g,j=x-a,C=P+a,T=P-a):(x=g+b,j=x+a,C=P-a,T=P+a),A=x):(i==="left"?j=g+Math.max(u,h)+a:i==="right"?j=g+b-Math.max(d,m)-a:j=this.caretX,s==="top"?(C=v,P=C-a,x=j-a,A=j+a):(C=v+_,P=C+a,x=j+a,A=j-a),T=C),{x1:x,x2:j,x3:A,y1:C,y2:P,y3:T}}drawTitle(e,n,r){const i=this.title,s=i.length;let a,l,u;if(s){const d=Lm(r.rtl,this.x,this.width);for(e.x=D_(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",a=Fi(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,u=0;u<s;++u)n.fillText(i[u],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,u+1===s&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,i,s){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:u,boxWidth:d}=s,h=Fi(s.bodyFont),m=D_(this,"left",s),g=i.x(m),v=u<h.lineHeight?(h.lineHeight-u)/2:0,b=n.y+v;if(s.usePointStyle){const _={radius:Math.min(d,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},x=i.leftForLtr(g,d)+d/2,j=b+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,WP(e,_,x,j),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,WP(e,_,x,j)}else{e.lineWidth=en(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const _=i.leftForLtr(g,d),x=i.leftForLtr(i.xPlus(g,1),d-2),j=Dm(a.borderRadius);Object.values(j).some(A=>A!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,aS(e,{x:_,y:b,w:d,h:u,radius:j}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),aS(e,{x,y:b+1,w:d-2,h:u-2,radius:j}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(_,b,d,u),e.strokeRect(_,b,d,u),e.fillStyle=a.backgroundColor,e.fillRect(x,b+1,d-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:u,boxWidth:d,boxPadding:h}=r,m=Fi(r.bodyFont);let g=m.lineHeight,v=0;const b=Lm(r.rtl,this.x,this.width),_=function(k){n.fillText(k,b.x(e.x+v),e.y+g/2),e.y+=g+s},x=b.textAlign(a);let j,A,C,P,T,I,E;for(n.textAlign=a,n.textBaseline="middle",n.font=m.string,e.x=D_(this,x,r),n.fillStyle=r.bodyColor,kn(this.beforeBody,_),v=l&&x!=="right"?a==="center"?d/2+h:d+2+h:0,P=0,I=i.length;P<I;++P){for(j=i[P],A=this.labelTextColors[P],n.fillStyle=A,kn(j.before,_),C=j.lines,l&&C.length&&(this._drawColorBox(n,e,P,b,r),g=Math.max(m.lineHeight,u)),T=0,E=C.length;T<E;++T)_(C[T]),g=m.lineHeight;kn(j.after,_)}v=0,g=m.lineHeight,kn(this.afterBody,_),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let a,l;if(s){const u=Lm(r.rtl,this.x,this.width);for(e.x=D_(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",a=Fi(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<s;++l)n.fillText(i[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:a}=this,{x:l,y:u}=e,{width:d,height:h}=r,{topLeft:m,topRight:g,bottomLeft:v,bottomRight:b}=Dm(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(l+m,u),a==="top"&&this.drawCaret(e,n,r,i),n.lineTo(l+d-g,u),n.quadraticCurveTo(l+d,u,l+d,u+g),a==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(l+d,u+h-b),n.quadraticCurveTo(l+d,u+h,l+d-b,u+h),a==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(l+v,u+h),n.quadraticCurveTo(l,u+h,l,u+h-v),a==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(l,u+m),n.quadraticCurveTo(l,u,l+m,u),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=Wy[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=EH(this,e),u=Object.assign({},a,this._size),d=TH(n,e,u),h=CH(e,u,d,n);(i._to!==h.x||s._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=xa(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),Dre(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),Lre(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:l,index:u})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[u],index:u}}),s=!rS(r,i),a=this._positionChanged(i,n);(s||a)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,r),l=this._positionChanged(a,e),u=n||!rS(a,s)||l;return u&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,a=Wy[s.position].call(this,e,n);return a!==!1&&(r!==a.x||i!==a.y)}}rt(ZP,"positioners",Wy);var D4={id:"tooltip",_element:ZP,positioners:Wy,afterInit(t,e,n){n&&(t.tooltip=new ZP({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lie},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const KBe=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function XBe(t,e,n,r){const i=t.indexOf(e);if(i===-1)return KBe(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const QBe=(t,e)=>t===null?null:Vi(Math.round(t),0,e);function RH(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Px extends rg{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(_n(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:XBe(r,e,Vt(n,e),this._addedLabels),QBe(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)i.push({value:a});return i}getLabelForValue(e){return RH.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}rt(Px,"id","category"),rt(Px,"defaults",{ticks:{callback:RH}});function ZBe(t,e){const n=[],{bounds:i,step:s,min:a,max:l,precision:u,count:d,maxTicks:h,maxDigits:m,includeBounds:g}=t,v=s||1,b=h-1,{min:_,max:x}=e,j=!_n(a),A=!_n(l),C=!_n(d),P=(x-_)/(m+1);let T=C7((x-_)/b/v)*v,I,E,k,O;if(T<1e-14&&!j&&!A)return[{value:_},{value:x}];O=Math.ceil(x/T)-Math.floor(_/T),O>b&&(T=C7(O*T/b/v)*v),_n(u)||(I=Math.pow(10,u),T=Math.ceil(T*I)/I),i==="ticks"?(E=Math.floor(_/T)*T,k=Math.ceil(x/T)*T):(E=_,k=x),j&&A&&s&&s$e((l-a)/s,T/1e3)?(O=Math.round(Math.min((l-a)/T,h)),T=(l-a)/O,E=a,k=l):C?(E=j?a:E,k=A?l:k,O=d-1,T=(k-E)/O):(O=(k-E)/T,pv(O,Math.round(O),T/1e3)?O=Math.round(O):O=Math.ceil(O));const D=Math.max(k7(T),k7(E));I=Math.pow(10,_n(u)?D:u),E=Math.round(E*I)/I,k=Math.round(k*I)/I;let M=0;for(j&&(g&&E!==a?(n.push({value:a}),E<a&&M++,pv(Math.round((E+M*T)*I)/I,a,PH(a,P,t))&&M++):E<a&&M++);M<O;++M){const V=Math.round((E+M*T)*I)/I;if(A&&V>l)break;n.push({value:V})}return A&&g&&k!==l?n.length&&pv(n[n.length-1].value,l,PH(l,P,t))?n[n.length-1].value=l:n.push({value:l}):(!A||k===l)&&n.push({value:k}),n}function PH(t,e,{horizontal:n,minRotation:r}){const i=Wl(r),s=(n?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class JBe extends rg{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return _n(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=u=>i=n?i:u,l=u=>s=r?s:u;if(e){const u=Ho(i),d=Ho(s);u<0&&d<0?l(0):u>0&&d>0&&a(0)}if(i===s){let u=s===0?1:Math.abs(s*.05);l(s+u),e||a(i-u)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=ZBe(i,s);return e.bounds==="ticks"&&a$e(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return A4(e,this.chart.options.locale,this.options.ticks.format)}}class Ix extends JBe{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=zi(e)?e:0,this.max=zi(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Wl(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}rt(Ix,"id","linear"),rt(Ix,"defaults",{ticks:{callback:Tre.formatters.numeric}});const lN={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},hs=Object.keys(lN);function IH(t,e){return t-e}function MH(t,e){if(_n(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),zi(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(Tx(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,i)),+a)}function DH(t,e,n,r){const i=hs.length;for(let s=hs.indexOf(t);s<i-1;++s){const a=lN[hs[s]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=r)return hs[s]}return hs[i-1]}function eUe(t,e,n,r,i){for(let s=hs.length-1;s>=hs.indexOf(n);s--){const a=hs[s];if(lN[a].common&&t._adapter.diff(i,r,a)>=e-1)return a}return hs[n?hs.indexOf(n):0]}function tUe(t){for(let e=hs.indexOf(t)+1,n=hs.length;e<n;++e)if(lN[hs[e]].common)return hs[e]}function LH(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=S4(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function nUe(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let l,u;for(l=s;l<=a;l=+i.add(l,1,r))u=n[l],u>=0&&(e[u].major=!0);return e}function $H(t,e,n){const r=[],i={},s=e.length;let a,l;for(a=0;a<s;++a)l=e[a],i[l]=a,r.push({value:l,major:!1});return s===0||!n?r:nUe(t,r,i,n)}class uS extends rg{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new UVe._date(e.adapters.date);i.init(n),mv(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:MH(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=zi(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=zi(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,l=d$e(i,s,a);return this._unit=n.unit||(r.autoSkip?DH(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):eUe(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:tUe(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),$H(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Vi(n,0,a),r=Vi(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||DH(s.minUnit,n,r,this._getLabelCapacity(n)),l=Vt(i.ticks.stepSize,1),u=a==="week"?s.isoWeekday:!1,d=Tx(u)||u===!0,h={};let m=n,g,v;if(d&&(m=+e.startOf(m,"isoWeek",u)),m=+e.startOf(m,d?"day":a),e.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);const b=i.ticks.source==="data"&&this.getDataTimestamps();for(g=m,v=0;g<r;g=+e.add(g,l,a),v++)LH(h,g,b);return(g===r||i.bounds==="ticks"||v===1)&&LH(h,g,b),Object.keys(h).sort(IH).map(_=>+_)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,a=n||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,i){const s=this.options,a=s.ticks.callback;if(a)return Jn(a,[e,n,r],this);const l=s.time.displayFormats,u=this._unit,d=this._majorUnit,h=u&&l[u],m=d&&l[d],g=r[n],v=d&&m&&g&&g.major;return this._adapter.format(e,i||(v?m:h))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Wl(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),a=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*a,h:r*a+l*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,$H(this,[e],this._majorUnit),i),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(MH(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Nre(e.sort(IH))}}rt(uS,"id","time"),rt(uS,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function L_(t,e,n){let r=0,i=t.length-1,s,a,l,u;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=af(t,"pos",e)),{pos:s,time:l}=t[r],{pos:a,time:u}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=af(t,"time",e)),{time:s,pos:l}=t[r],{time:a,pos:u}=t[i]);const d=a-s;return d?l+(u-l)*(e-s)/d:l}class VH extends uS{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=L_(n,this.min),this._tableRange=L_(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let a,l,u,d,h;for(a=0,l=e.length;a<l;++a)d=e[a],d>=n&&d<=r&&i.push(d);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,l=i.length;a<l;++a)h=i[a+1],u=i[a-1],d=i[a],Math.round((h+u)/2)!==d&&s.push({time:d,pos:a/(l-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(L_(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return L_(this._table,r*this._tableRange+this._minPos,!0)}}rt(VH,"id","timeseries"),rt(VH,"defaults",uS.defaults);const cie="label";function FH(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function rUe(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function uie(t,e){t.labels=e}function die(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cie;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(a=>a[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function iUe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cie;const n={labels:[],datasets:[]};return uie(n,t.labels),die(n,t.datasets,e),n}function sUe(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:a,data:l,options:u,plugins:d=[],fallbackContent:h,updateMode:m,...g}=t,v=N.useRef(null),b=N.useRef(null),_=()=>{v.current&&(b.current=new ig(v.current,{type:a,data:iUe(l,s),options:u&&{...u},plugins:d}),FH(e,b.current))},x=()=>{FH(e,null),b.current&&(b.current.destroy(),b.current=null)};return N.useEffect(()=>{!i&&b.current&&u&&rUe(b.current,u)},[i,u]),N.useEffect(()=>{!i&&b.current&&uie(b.current.config.data,l.labels)},[i,l.labels]),N.useEffect(()=>{!i&&b.current&&l.datasets&&die(b.current.config.data,l.datasets,s)},[i,l.datasets]),N.useEffect(()=>{b.current&&(i?(x(),setTimeout(_)):b.current.update(m))},[i,u,l.labels,l.datasets,m]),N.useEffect(()=>{b.current&&(x(),setTimeout(_))},[a]),N.useEffect(()=>(_(),()=>x()),[]),Q.createElement("canvas",{ref:v,role:"img",height:n,width:r,...g},h)}const aUe=N.forwardRef(sUe);function cN(t,e){return ig.register(e),N.forwardRef((n,r)=>Q.createElement(aUe,{...n,ref:r,type:t}))}const dS=cN("line",aw),Fm=cN("bar",sw),oUe=cN("doughnut",bm),fie=cN("pie",GP);function Bi(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Qo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function lUe(t,e){const n=Bi(t);return isNaN(e)?Qo(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function cUe(t,e){const n=Bi(t);if(isNaN(e))return Qo(t,NaN);if(!e)return n;const r=n.getDate(),i=Qo(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const hie=6048e5,uUe=864e5,mie=6e4,pie=36e5;let dUe={};function uN(){return dUe}function Mx(t,e){var l,u,d,h;const n=uN(),r=(e==null?void 0:e.weekStartsOn)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=Bi(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function fS(t){return Mx(t,{weekStartsOn:1})}function gie(t){const e=Bi(t),n=e.getFullYear(),r=Qo(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=fS(r),s=Qo(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=fS(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function BH(t){const e=Bi(t);return e.setHours(0,0,0,0),e}function UH(t){const e=Bi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function fUe(t,e){const n=BH(t),r=BH(e),i=+n-UH(n),s=+r-UH(r);return Math.round((i-s)/uUe)}function hUe(t){const e=gie(t),n=Qo(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),fS(n)}function mUe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function pUe(t){if(!mUe(t)&&typeof t!="number")return!1;const e=Bi(t);return!isNaN(Number(e))}function gUe(t){const e=Bi(t),n=Qo(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const yUe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vUe=(t,e,n)=>{let r;const i=yUe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function dO(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const xUe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bUe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_Ue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wUe={date:dO({formats:xUe,defaultWidth:"full"}),time:dO({formats:bUe,defaultWidth:"full"}),dateTime:dO({formats:_Ue,defaultWidth:"full"})},SUe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jUe=(t,e,n,r)=>SUe[t];function Ey(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const NUe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},AUe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},EUe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},TUe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},CUe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kUe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},OUe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},RUe={ordinalNumber:OUe,era:Ey({values:NUe,defaultWidth:"wide"}),quarter:Ey({values:AUe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ey({values:EUe,defaultWidth:"wide"}),day:Ey({values:TUe,defaultWidth:"wide"}),dayPeriod:Ey({values:CUe,defaultWidth:"wide",formattingValues:kUe,defaultFormattingWidth:"wide"})};function Ty(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?IUe(l,m=>m.test(a)):PUe(l,m=>m.test(a));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(a.length);return{value:d,rest:h}}}function PUe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function IUe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function MUe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const DUe=/^(\d+)(th|st|nd|rd)?/i,LUe=/\d+/i,$Ue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},VUe={any:[/^b/i,/^(a|c)/i]},FUe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},BUe={any:[/1/i,/2/i,/3/i,/4/i]},UUe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zUe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qUe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},HUe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},WUe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},GUe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},YUe={ordinalNumber:MUe({matchPattern:DUe,parsePattern:LUe,valueCallback:t=>parseInt(t,10)}),era:Ty({matchPatterns:$Ue,defaultMatchWidth:"wide",parsePatterns:VUe,defaultParseWidth:"any"}),quarter:Ty({matchPatterns:FUe,defaultMatchWidth:"wide",parsePatterns:BUe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ty({matchPatterns:UUe,defaultMatchWidth:"wide",parsePatterns:zUe,defaultParseWidth:"any"}),day:Ty({matchPatterns:qUe,defaultMatchWidth:"wide",parsePatterns:HUe,defaultParseWidth:"any"}),dayPeriod:Ty({matchPatterns:WUe,defaultMatchWidth:"any",parsePatterns:GUe,defaultParseWidth:"any"})},KUe={code:"en-US",formatDistance:vUe,formatLong:wUe,formatRelative:jUe,localize:RUe,match:YUe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function XUe(t){const e=Bi(t);return fUe(e,gUe(e))+1}function QUe(t){const e=Bi(t),n=+fS(e)-+hUe(e);return Math.round(n/hie)+1}function yie(t,e){var h,m,g,v;const n=Bi(t),r=n.getFullYear(),i=uN(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(g=i.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,a=Qo(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=Mx(a,e),u=Qo(t,0);u.setFullYear(r,0,s),u.setHours(0,0,0,0);const d=Mx(u,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function ZUe(t,e){var l,u,d,h;const n=uN(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=yie(t,e),s=Qo(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Mx(s,e)}function JUe(t,e){const n=Bi(t),r=+Mx(n,e)-+ZUe(n,e);return Math.round(r/hie)+1}function Tn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Xc={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Tn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Tn(n+1,2)},d(t,e){return Tn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Tn(t.getHours()%12||12,e.length)},H(t,e){return Tn(t.getHours(),e.length)},m(t,e){return Tn(t.getMinutes(),e.length)},s(t,e){return Tn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Tn(i,e.length)}},om={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zH={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Xc.y(t,e)},Y:function(t,e,n,r){const i=yie(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Tn(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Tn(s,e.length)},R:function(t,e){const n=gie(t);return Tn(n,e.length)},u:function(t,e){const n=t.getFullYear();return Tn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Tn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Tn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Xc.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Tn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=JUe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Tn(i,e.length)},I:function(t,e,n){const r=QUe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Tn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Xc.d(t,e)},D:function(t,e,n){const r=XUe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Tn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Tn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Tn(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Tn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=om.noon:r===0?i=om.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=om.evening:r>=12?i=om.afternoon:r>=4?i=om.morning:i=om.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Xc.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Xc.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Tn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Tn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Xc.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Xc.s(t,e)},S:function(t,e){return Xc.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return HH(r);case"XXXX":case"XX":return Gd(r);case"XXXXX":case"XXX":default:return Gd(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return HH(r);case"xxxx":case"xx":return Gd(r);case"xxxxx":case"xxx":default:return Gd(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+qH(r,":");case"OOOO":default:return"GMT"+Gd(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+qH(r,":");case"zzzz":default:return"GMT"+Gd(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Tn(r,e.length)},T:function(t,e,n){const r=t.getTime();return Tn(r,e.length)}};function qH(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Tn(s,2)}function HH(t,e){return t%60===0?(t>0?"-":"+")+Tn(Math.abs(t)/60,2):Gd(t,e)}function Gd(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Tn(Math.trunc(r/60),2),s=Tn(r%60,2);return n+i+e+s}const WH=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},vie=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},e9e=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return WH(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",WH(r,e)).replace("{{time}}",vie(i,e))},t9e={p:vie,P:e9e},n9e=/^D+$/,r9e=/^Y+$/,i9e=["D","DD","YY","YYYY"];function s9e(t){return n9e.test(t)}function a9e(t){return r9e.test(t)}function o9e(t,e,n){const r=l9e(t,e,n);if(console.warn(r),i9e.includes(t))throw new RangeError(r)}function l9e(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const c9e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,u9e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,d9e=/^'([^]*?)'?$/,f9e=/''/g,h9e=/[a-zA-Z]/;function Kd(t,e,n){var h,m,g,v;const r=uN(),i=r.locale??KUe,s=r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=r.weekStartsOn??((v=(g=r.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,l=Bi(t);if(!pUe(l))throw new RangeError("Invalid time value");let u=e.match(u9e).map(b=>{const _=b[0];if(_==="p"||_==="P"){const x=t9e[_];return x(b,i.formatLong)}return b}).join("").match(c9e).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const _=b[0];if(_==="'")return{isToken:!1,value:m9e(b)};if(zH[_])return{isToken:!0,value:b};if(_.match(h9e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return u.map(b=>{if(!b.isToken)return b.value;const _=b.value;(a9e(_)||s9e(_))&&o9e(_,e,String(t));const x=zH[_[0]];return x(l,_,i.localize,d)}).join("")}function m9e(t){const e=t.match(d9e);return e?e[1].replace(f9e,"'"):t}function p9e(t,e){const n=+Bi(t),[r,i]=[+Bi(e.start),+Bi(e.end)].sort((s,a)=>s-a);return n>=r&&n<=i}function da(t,e){return lUe(t,-e)}function Xd(t,e){const r=x9e(t);let i;if(r.date){const u=b9e(r.date,2);i=_9e(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,l;if(r.time&&(a=w9e(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(l=S9e(r.timezone),isNaN(l))return new Date(NaN)}else{const u=new Date(s+a),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(s+a+l)}const $_={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},g9e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,y9e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,v9e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function x9e(t){const e={},n=t.split($_.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],$_.timeZoneDelimiter.test(e.date)&&(e.date=t.split($_.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=$_.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function b9e(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function _9e(t,e){if(e===null)return new Date(NaN);const n=t.match(g9e);if(!n)return new Date(NaN);const r=!!n[4],i=Cy(n[1]),s=Cy(n[2])-1,a=Cy(n[3]),l=Cy(n[4]),u=Cy(n[5])-1;if(r)return T9e(e,l,u)?j9e(e,l,u):new Date(NaN);{const d=new Date(0);return!A9e(e,s,a)||!E9e(e,i)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(i,a)),d)}}function Cy(t){return t?parseInt(t):1}function w9e(t){const e=t.match(y9e);if(!e)return NaN;const n=fO(e[1]),r=fO(e[2]),i=fO(e[3]);return C9e(n,r,i)?n*pie+r*mie+i*1e3:NaN}function fO(t){return t&&parseFloat(t.replace(",","."))||0}function S9e(t){if(t==="Z")return 0;const e=t.match(v9e);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return k9e(r,i)?n*(r*pie+i*mie):NaN}function j9e(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const N9e=[31,null,31,30,31,30,31,31,30,31,30,31];function xie(t){return t%400===0||t%4===0&&t%100!==0}function A9e(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(N9e[e]||(xie(t)?29:28))}function E9e(t,e){return e>=1&&e<=(xie(t)?366:365)}function T9e(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function C9e(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function k9e(t,e){return e>=0&&e<=59}function JP(t,e){return cUe(t,-e)}function Vd({className:t,...e}){return o.jsx("div",{"data-slot":"skeleton",className:Xe("bg-accent animate-pulse rounded-md",t),...e})}ig.register(_m,Px,Ix,$m,Po,Vm,M4,D4,I4,sie);function O9e({brandId:t}){const[e,n]=N.useState(!0),[r,i]=N.useState(null),[s,a]=N.useState("30d"),[l,u]=N.useState("all"),[d,h]=N.useState(0),[m,g]=N.useState({totalViews:0,engagementRate:0,completionRate:0,salesImpact:0,totalUsers:0,totalContent:0}),[v,b]=N.useState({viewsByContent:[],engagementOverTime:[],completionRates:[]}),[_,x]=N.useState({trainingCompletion:[],userGrowth:[],geographicDistribution:[]}),[j,A]=N.useState({productsSoldPerUser:[],salesAttribution:[],revenueByContent:[]}),C=N.useRef(null),P=N.useRef(null),T=N.useRef(null),I=N.useRef(null),E=N.useRef(null),k=ce=>{a(ce),h(oe=>oe+1)},O=ce=>{u(ce),h(oe=>oe+1)},D=ce=>{const oe=new Date;switch(ce){case"7d":return da(oe,7);case"30d":return da(oe,30);case"90d":return da(oe,90);case"1y":return JP(oe,12);default:return da(oe,30)}},M=ce=>new Intl.NumberFormat("en-US").format(ce),V=ce=>`${ce.toFixed(1)}%`,$=ce=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(ce);N.useEffect(()=>{(async()=>{var oe;if(!t){i("No brand ID available. Please select a brand."),n(!1);return}try{n(!0),i(null);const we=D(s),Ne=$n.fromDate(we),ue=Zt(ft(xe,"trainings"),Dt("brandId","==",t),gi("createdAt","desc")),We=(await Vr(ue)).docs.map(ot=>({id:ot.id,...ot.data()})),jt=We.map(ot=>ot.id);let ht=[];if(jt.length>0)for(let Pt=0;Pt<jt.length;Pt+=10){const Ar=jt.slice(Pt,Pt+10),Bn=Zt(ft(xe,"training_progress"),Dt("trainingId","in",Ar),Dt("updatedAt",">=",Ne)),_i=await Vr(Bn);ht=[...ht,..._i.docs.map(jn=>({id:jn.id,...jn.data()}))]}const At=Zt(ft(xe,"sample_requests"),Dt("brandId","==",t),Dt("createdAt",">=",Ne),gi("createdAt","desc")),Qn=(await Vr(At)).docs.map(ot=>({id:ot.id,...ot.data()})),ee=ht.reduce((ot,Pt)=>ot+(Pt.viewCount||0),0),se=ht.reduce((ot,Pt)=>ot+(Pt.engagementCount||0),0),pe=ht.filter(ot=>ot.status==="completed").length,Le=ht.length,Ie=ee>0?se/ee*100:0,ke=Le>0?pe/Le*100:0,Ve=49.99,tt=.4,Ct=3,ve=pe*Ct*Ve*tt;g({totalViews:ee,engagementRate:Ie,completionRate:ke,salesImpact:ve,totalUsers:new Set(ht.map(ot=>ot.userId)).size,totalContent:We.length});const zt=We.map(ot=>{const Pt=ht.filter(jn=>jn.trainingId===ot.id),Ar=Pt.reduce((jn,zr)=>jn+(zr.viewCount||0),0),Bn=Pt.reduce((jn,zr)=>jn+(zr.engagementCount||0),0),_i=Pt.filter(jn=>jn.status==="completed").length;return{id:ot.id,title:ot.title,type:ot.type||"training",views:Ar,engagements:Bn,completions:_i,engagementRate:Ar>0?Bn/Ar*100:0,completionRate:Pt.length>0?_i/Pt.length*100:0}}).sort((ot,Pt)=>Pt.views-ot.views),gn=[],nn=new Date,Wt=s==="7d"?7:s==="30d"?30:s==="90d"?90:365;for(let ot=Wt-1;ot>=0;ot--){const Pt=da(nn,ot),Ar=Kd(Pt,"yyyy-MM-dd"),Bn=new Date(Pt);Bn.setHours(0,0,0,0);const _i=new Date(Pt);_i.setHours(23,59,59,999);const jn=ht.filter(zr=>{var hr;const rn=(hr=zr.updatedAt)==null?void 0:hr.toDate();return rn&&rn>=Bn&&rn<=_i});gn.push({date:Ar,views:jn.reduce((zr,rn)=>zr+(rn.viewCount||0),0),engagements:jn.reduce((zr,rn)=>zr+(rn.engagementCount||0),0),completions:jn.filter(zr=>zr.status==="completed").length})}const tn=[];["video","article","quiz","training"].forEach(ot=>{const Pt=We.filter(jn=>(jn.type||"training")===ot),Ar=ht.filter(jn=>{const zr=We.find(rn=>rn.id===jn.trainingId);return zr&&(zr.type||"training")===ot}),Bn=Ar.length,_i=Ar.filter(jn=>jn.status==="completed").length;tn.push({type:ot,attempts:Bn,completed:_i,rate:Bn>0?_i/Bn*100:0})}),b({viewsByContent:zt,engagementOverTime:gn,completionRates:tn});const or=[{status:"completed",count:ht.filter(ot=>ot.status==="completed").length},{status:"in_progress",count:ht.filter(ot=>ot.status==="in_progress").length},{status:"not_started",count:ht.filter(ot=>ot.status==="not_started"||!ot.status).length}],Fn=[],bi=new Map;ht.forEach(ot=>{if(ot.createdAt&&ot.userId){const Pt=Kd(ot.createdAt.toDate(),"yyyy-MM-dd");bi.has(Pt)||bi.set(Pt,new Set),bi.get(Pt).add(ot.userId)}});let ja=0;for(let ot=Wt-1;ot>=0;ot--){const Pt=da(nn,ot),Ar=Kd(Pt,"yyyy-MM-dd"),Bn=((oe=bi.get(Ar))==null?void 0:oe.size)||0;ja+=Bn,Fn.push({date:Ar,users:ja,newUsers:Bn})}x({trainingCompletion:or,userGrowth:Fn,geographicDistribution:[{region:"North America",users:65},{region:"Europe",users:20},{region:"Asia",users:10},{region:"Other",users:5}]});const Na=[{category:"Trained Users",value:4.5},{category:"Untrained Users",value:1.5}],Ws=zt.map(ot=>{const Bn=ot.completions*Ct;return{id:ot.id,title:ot.title,type:ot.type,sales:Bn,revenue:Bn*Ve,profit:Bn*Ve*tt}}).sort((ot,Pt)=>Pt.sales-ot.sales);A({productsSoldPerUser:Na,salesAttribution:Ws,revenueByContent:Ws})}catch(we){console.error("Error fetching analytics data:",we),i(`Failed to load analytics data: ${we.message}`)}finally{n(!1)}})()},[t,s,l,d]);const X={labels:v.engagementOverTime.map(ce=>Kd(Xd(ce.date),"MMM d")),datasets:[{label:"Views",data:v.engagementOverTime.map(ce=>ce.views),borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",tension:.4,fill:!0},{label:"Engagements",data:v.engagementOverTime.map(ce=>ce.engagements),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.4,fill:!0},{label:"Completions",data:v.engagementOverTime.map(ce=>ce.completions),borderColor:"rgba(153, 102, 255, 1)",backgroundColor:"rgba(153, 102, 255, 0.2)",tension:.4,fill:!0}]},H={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Engagement Over Time"},tooltip:{mode:"index",intersect:!1}},scales:{x:{title:{display:!0,text:"Date"}},y:{beginAtZero:!0,title:{display:!0,text:"Count"}}},interaction:{mode:"index",intersect:!1}},U={labels:v.viewsByContent.slice(0,10).map(ce=>ce.title),datasets:[{label:"Views",data:v.viewsByContent.slice(0,10).map(ce=>ce.views),backgroundColor:["rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)","rgba(255, 159, 64, 0.7)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},q={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Views by Content"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Views"}},x:{title:{display:!0,text:"Content"}}}},G={labels:_.trainingCompletion.map(ce=>ce.status),datasets:[{data:_.trainingCompletion.map(ce=>ce.count),backgroundColor:["rgba(75, 192, 192, 0.7)","rgba(255, 206, 86, 0.7)","rgba(255, 99, 132, 0.7)"],borderColor:["rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]},W={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"},title:{display:!0,text:"Training Completion Status"}}},z={labels:_.userGrowth.map(ce=>Kd(Xd(ce.date),"MMM d")),datasets:[{label:"Users",data:_.userGrowth.map(ce=>ce.users),borderColor:"rgb(153, 102, 255)",backgroundColor:"rgba(153, 102, 255, 0.5)",tension:.4,fill:!0}]},Z={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"User Growth Over Time"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Users"}},x:{title:{display:!0,text:"Date"}}}},te={labels:_.geographicDistribution.map(ce=>ce.region),datasets:[{data:_.geographicDistribution.map(ce=>ce.users),backgroundColor:["rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)","rgba(255, 159, 64, 0.7)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},ne={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"},title:{display:!0,text:"User Geographic Distribution"}}},ge={labels:j.productsSoldPerUser.map(ce=>ce.category),datasets:[{label:"Products Sold",data:j.productsSoldPerUser.map(ce=>ce.value),backgroundColor:["rgba(75, 192, 192, 0.7)","rgba(255, 99, 132, 0.7)"],borderColor:["rgba(75, 192, 192, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]},Ce={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Products Sold Per User"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Products"}}}},Te={labels:j.salesAttribution.slice(0,10).map(ce=>ce.title),datasets:[{label:"Sales",data:j.salesAttribution.slice(0,10).map(ce=>ce.sales),backgroundColor:"rgba(75, 192, 192, 0.7)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1},{label:"Revenue",data:j.salesAttribution.slice(0,10).map(ce=>ce.revenue/100),backgroundColor:"rgba(54, 162, 235, 0.7)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},je={responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Sales Attribution by Content"},tooltip:{callbacks:{label:function(ce){const oe=ce.dataset.label||"",we=ce.raw;return oe==="Revenue"?`${oe}: ${$(we*100)}`:`${oe}: ${M(we)}`}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Count / Amount"}},x:{title:{display:!0,text:"Content"}}}};return o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Brand Analytics"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Comprehensive analytics and insights for your brand"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 md:mt-0",children:[o.jsxs(Rs,{value:s,onValueChange:k,children:[o.jsx(ds,{className:"w-[180px]",children:o.jsx(Ps,{placeholder:"Select date range"})}),o.jsxs(fs,{children:[o.jsx(mt,{value:"7d",children:"Last 7 days"}),o.jsx(mt,{value:"30d",children:"Last 30 days"}),o.jsx(mt,{value:"90d",children:"Last 90 days"}),o.jsx(mt,{value:"1y",children:"Last year"})]})]}),o.jsxs(Rs,{value:l,onValueChange:O,children:[o.jsx(ds,{className:"w-[180px]",children:o.jsx(Ps,{placeholder:"Select content type"})}),o.jsxs(fs,{children:[o.jsx(mt,{value:"all",children:"All Content"}),o.jsx(mt,{value:"video",children:"Videos"}),o.jsx(mt,{value:"article",children:"Articles"}),o.jsx(mt,{value:"quiz",children:"Quizzes"}),o.jsx(mt,{value:"training",children:"Trainings"})]})]}),o.jsxs(Oe,{variant:"outline",onClick:()=>h(ce=>ce+1),children:[o.jsx(Km,{className:"h-4 w-4 mr-2"}),"Refresh"]}),o.jsxs(Oe,{variant:"outline",children:[o.jsx(sb,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),r&&o.jsxs(Wa,{variant:"destructive",className:"mb-6",children:[o.jsx(Oi,{className:"h-4 w-4"}),o.jsx(Zm,{children:"Error"}),o.jsx(Ga,{children:r})]}),e?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((ce,oe)=>o.jsxs(De,{className:"overflow-hidden",children:[o.jsx(He,{className:"pb-2",children:o.jsx(Vd,{className:"h-4 w-24"})}),o.jsxs(Fe,{children:[o.jsx(Vd,{className:"h-8 w-32 mb-2"}),o.jsx(Vd,{className:"h-4 w-16"})]})]},oe))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[o.jsxs(De,{className:"overflow-hidden",children:[o.jsx(He,{className:"pb-2",children:o.jsx(Vd,{className:"h-5 w-40"})}),o.jsx(Fe,{children:o.jsx(Vd,{className:"h-64 w-full"})})]}),o.jsxs(De,{className:"overflow-hidden",children:[o.jsx(He,{className:"pb-2",children:o.jsx(Vd,{className:"h-5 w-40"})}),o.jsx(Fe,{children:o.jsx(Vd,{className:"h-64 w-full"})})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 p-3 rounded-md bg-blue-100 text-blue-600",children:o.jsx(zu,{className:"h-6 w-6"})}),o.jsx("div",{className:"ml-5 w-0 flex-1",children:o.jsxs("dl",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Views"}),o.jsx("dd",{className:"flex items-baseline",children:o.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:M(m.totalViews)})})]})})]})}),o.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 p-3 rounded-md bg-green-100 text-green-600",children:o.jsx(wM,{className:"h-6 w-6"})}),o.jsx("div",{className:"ml-5 w-0 flex-1",children:o.jsxs("dl",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Engagement Rate"}),o.jsx("dd",{className:"flex items-baseline",children:o.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:V(m.engagementRate)})})]})})]})}),o.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 p-3 rounded-md bg-indigo-100 text-indigo-600",children:o.jsx(Eo,{className:"h-6 w-6"})}),o.jsx("div",{className:"ml-5 w-0 flex-1",children:o.jsxs("dl",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completion Rate"}),o.jsx("dd",{className:"flex items-baseline",children:o.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:V(m.completionRate)})})]})})]})}),o.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 p-3 rounded-md bg-purple-100 text-purple-600",children:o.jsx(Go,{className:"h-6 w-6"})}),o.jsx("div",{className:"ml-5 w-0 flex-1",children:o.jsxs("dl",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Sales Impact"}),o.jsx("dd",{className:"flex items-baseline",children:o.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:$(m.salesImpact)})})]})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Engagement Over Time"}),o.jsx("div",{className:"h-64",children:o.jsx(dS,{ref:C,options:H,data:X})})]}),o.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Views by Content"}),o.jsx("div",{className:"h-64",children:o.jsx(Fm,{ref:P,options:q,data:U})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[o.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Training Completion"}),o.jsx("div",{className:"h-64",children:o.jsx(oUe,{options:W,data:G})})]}),o.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"User Growth"}),o.jsx("div",{className:"h-64",children:o.jsx(dS,{ref:T,options:Z,data:z})})]}),o.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Geographic Distribution"}),o.jsx("div",{className:"h-64",children:o.jsx(fie,{ref:I,options:ne,data:te})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Products Sold Per User"}),o.jsx("div",{className:"h-64",children:o.jsx(Fm,{options:Ce,data:ge})}),o.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:o.jsx("p",{children:"Trained users sell an average of 3 more products than untrained users"})})]}),o.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sales Attribution by Content"}),o.jsx("div",{className:"h-64",children:o.jsx(Fm,{ref:E,options:je,data:Te})})]})]}),o.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Content Performance Details"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Content Title"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Views"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completion Rate"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Attribution"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue Impact"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.viewsByContent.map((ce,oe)=>{var we,Ne,ue;return o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ce.title}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M(ce.views)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V(((we=v.completionRates.find(Ue=>Ue.type===ce.type))==null?void 0:we.rate)||0)}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[M(((Ne=j.salesAttribution[oe])==null?void 0:Ne.sales)||0)," sales"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$(((ue=j.revenueByContent[oe])==null?void 0:ue.revenue)||0)})]},oe)})})]})})]})]})]})}ig.register(Px,Ix,$m,Po,Vm,M4,D4,I4);function R9e({brandId:t}){const{user:e}=Vn(),[n,r]=N.useState(!1),[i,s]=N.useState(!1),[a,l]=N.useState(null),[u,d]=N.useState([]),[h,m]=N.useState("calculator"),[g,v]=N.useState({numUsers:100,productPrice:49.99,profitMargin:40,platformCost:199,timeframe:12,scenarioName:"New Scenario"}),[b,_]=N.useState({additionalProducts:0,additionalRevenue:0,additionalProfit:0,platformCostTotal:0,netProfit:0,roi:0,breakEvenUsers:0,paybackPeriod:0,monthlyData:[]}),x=N.useRef(null),j=N.useRef(null);N.useEffect(()=>{(async()=>{try{if(r(!0),!t){l("No brand selected"),r(!1);return}const G=Zt(ft(xe,"roi_scenarios"),Dt("brandId","==",t),gi("createdAt","desc")),z=(await Vr(G)).docs.map(Z=>({id:Z.id,...Z.data()}));d(z)}catch(G){console.error("Error loading scenarios:",G),l("Failed to load saved scenarios")}finally{r(!1)}})()},[e,t]),N.useEffect(()=>{A()},[g]);const A=()=>{const{numUsers:q,productPrice:G,profitMargin:W,platformCost:z,timeframe:Z}=g,te=G*W/100,ne=3,ge=q*ne,Ce=ge*G,Te=ge*te,je=z*Z,ce=Te-je,oe=je>0?ce/je*100:0,we=Math.ceil(je/(ne*te)),Ne=z>0?je/(Te/Z):0,ue=[];let Ue=0,We=0;for(let jt=1;jt<=Z;jt++){const ht=Ce/Z,At=Te/Z;Ue+=At,We+=z,ue.push({month:jt,revenue:ht,profit:At,cumulativeProfit:Ue,cumulativeCost:We,netProfit:Ue-We})}_({additionalProducts:ge,additionalRevenue:Ce,additionalProfit:Te,platformCostTotal:je,netProfit:ce,roi:oe,breakEvenUsers:we,paybackPeriod:Ne,monthlyData:ue})},C=q=>{const{name:G,value:W}=q.target;v(z=>({...z,[G]:G==="scenarioName"?W:parseFloat(W)||0}))},P=async()=>{try{if(s(!0),!t){l("No brand selected"),s(!1);return}const q={brandId:t,name:g.scenarioName,inputs:{...g},results:{...b},createdAt:Ye(),createdBy:(e==null?void 0:e.uid)||"unknown"};await Ba(ft(xe,"roi_scenarios"),q);const G=Zt(ft(xe,"roi_scenarios"),Dt("brandId","==",t),gi("createdAt","desc")),z=(await Vr(G)).docs.map(Z=>({id:Z.id,...Z.data()}));d(z),m("saved")}catch(q){console.error("Error saving scenario:",q),l("Failed to save scenario")}finally{s(!1)}},T=q=>{v(q.inputs),_(q.results),m("calculator")},I=async q=>{try{r(!0),await Ja(Je(xe,"roi_scenarios",q)),d(G=>G.filter(W=>W.id!==q))}catch(G){console.error("Error deleting scenario:",G),l("Failed to delete scenario")}finally{r(!1)}},E=q=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(q),k=q=>`${q.toFixed(2)}%`,O=q=>new Intl.NumberFormat("en-US").format(Math.round(q)),D=q=>{const G=Math.floor(q),W=Math.round((q-G)*30);return G===0?`${W} days`:W===0?G===1?"1 month":`${G} months`:`${G} month${G!==1?"s":""} and ${W} day${W!==1?"s":""}`},M={labels:b.monthlyData.map(q=>`Month ${q.month}`),datasets:[{label:"Cumulative Profit",data:b.monthlyData.map(q=>q.cumulativeProfit),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",fill:!0,tension:.4},{label:"Cumulative Cost",data:b.monthlyData.map(q=>q.cumulativeCost),borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)",fill:!0,tension:.4},{label:"Net Profit",data:b.monthlyData.map(q=>q.netProfit),borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",fill:!0,tension:.4}]},V={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"ROI Projection Over Time"},tooltip:{callbacks:{label:function(q){let G=q.dataset.label||"";return G&&(G+=": "),q.parsed.y!==null&&(G+=E(q.parsed.y)),G}}}},scales:{x:{title:{display:!0,text:"Time Period"}},y:{title:{display:!0,text:"Amount ($)"},ticks:{callback:function(q){return E(q)}}}}},$={labels:["Current Users","Break-Even Users"],datasets:[{label:"Users",data:[g.numUsers,b.breakEvenUsers],backgroundColor:[g.numUsers>=b.breakEvenUsers?"rgba(75, 192, 192, 0.7)":"rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)"],borderColor:[g.numUsers>=b.breakEvenUsers?"rgba(75, 192, 192, 1)":"rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)"],borderWidth:1}]},X={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Break-Even Analysis"},tooltip:{callbacks:{label:function(q){let G=q.dataset.label||"";return G&&(G+=": "),q.parsed.y!==null&&(G+=O(q.parsed.y)+" users"),G}}}},scales:{y:{title:{display:!0,text:"Number of Users"},beginAtZero:!0,ticks:{callback:function(q){return O(q)}}}}},H={labels:b.monthlyData.map(q=>`Month ${q.month}`),datasets:[{type:"line",label:"Net Profit",data:b.monthlyData.map(q=>q.netProfit),borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.5)",yAxisID:"y",tension:.4},{type:"bar",label:"Monthly Revenue",data:b.monthlyData.map(q=>q.revenue),backgroundColor:"rgba(75, 192, 192, 0.7)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,yAxisID:"y"},{type:"bar",label:"Monthly Cost",data:b.monthlyData.map(()=>g.platformCost),backgroundColor:"rgba(255, 99, 132, 0.7)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,yAxisID:"y"}]},U={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Monthly Projections"},tooltip:{callbacks:{label:function(q){let G=q.dataset.label||"";return G&&(G+=": "),q.parsed.y!==null&&(G+=E(q.parsed.y)),G}}}},scales:{x:{title:{display:!0,text:"Month"}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Amount ($)"},ticks:{callback:function(q){return E(q)}}}}};return o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"ROI Calculator"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Calculate the return on investment for your training programs"})]}),o.jsx("div",{className:"flex space-x-2 mt-4 md:mt-0",children:o.jsx(qu,{value:h,onValueChange:m,className:"w-full md:w-auto",children:o.jsxs(gc,{children:[o.jsx(bn,{value:"calculator",children:"Calculator"}),o.jsx(bn,{value:"saved",children:"Saved Scenarios"})]})})})]}),a&&o.jsxs(Wa,{variant:"destructive",className:"mb-6",children:[o.jsx(Oi,{className:"h-4 w-4"}),o.jsx(Zm,{children:"Error"}),o.jsx(Ga,{children:a})]}),o.jsx(qn,{value:"calculator",className:"mt-0",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs(De,{className:"lg:col-span-1",children:[o.jsxs(He,{children:[o.jsxs(Ge,{className:"flex items-center",children:[o.jsx(fye,{className:"h-5 w-5 mr-2"}),"ROI Calculator Inputs"]}),o.jsx($t,{children:"Enter your details to calculate ROI"})]}),o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"scenarioName",children:"Scenario Name"}),o.jsx(bt,{id:"scenarioName",name:"scenarioName",value:g.scenarioName,onChange:C,placeholder:"My ROI Scenario"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"numUsers",children:"Number of Trained Users"}),o.jsxs("div",{className:"relative",children:[o.jsx(ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(bt,{id:"numUsers",name:"numUsers",type:"number",min:"1",value:g.numUsers,onChange:C,className:"pl-10"})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Number of retail employees who will complete training"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"productPrice",children:"Average Product Price ($)"}),o.jsxs("div",{className:"relative",children:[o.jsx(Go,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(bt,{id:"productPrice",name:"productPrice",type:"number",min:"0.01",step:"0.01",value:g.productPrice,onChange:C,className:"pl-10"})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Average price of products sold"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"profitMargin",children:"Profit Margin (%)"}),o.jsxs("div",{className:"relative",children:[o.jsx(Dv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(bt,{id:"profitMargin",name:"profitMargin",type:"number",min:"1",max:"100",value:g.profitMargin,onChange:C,className:"pl-10"})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Percentage profit on each product sold"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"platformCost",children:"Monthly Platform Cost ($)"}),o.jsxs("div",{className:"relative",children:[o.jsx(Go,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(bt,{id:"platformCost",name:"platformCost",type:"number",min:"0",step:"0.01",value:g.platformCost,onChange:C,className:"pl-10"})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Monthly cost of the training platform"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"timeframe",children:"Timeframe (Months)"}),o.jsxs("div",{className:"relative",children:[o.jsx(xM,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(bt,{id:"timeframe",name:"timeframe",type:"number",min:"1",max:"60",value:g.timeframe,onChange:C,className:"pl-10"})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Time period for ROI calculation"})]})]}),o.jsxs(Rv,{className:"flex justify-between",children:[o.jsx(Oe,{variant:"outline",onClick:()=>v({numUsers:100,productPrice:49.99,profitMargin:40,platformCost:199,timeframe:12,scenarioName:"New Scenario"}),children:"Reset"}),o.jsxs(Oe,{onClick:P,disabled:i,children:[i?"Saving...":"Save Scenario",o.jsx(QO,{className:"ml-2 h-4 w-4"})]})]})]}),o.jsxs(De,{className:"lg:col-span-2",children:[o.jsxs(He,{children:[o.jsxs(Ge,{className:"flex items-center",children:[o.jsx(Dv,{className:"h-5 w-5 mr-2"}),"ROI Results"]}),o.jsx($t,{children:"Based on each trained user selling 3 additional products"})]}),o.jsxs(Fe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Additional Products"}),o.jsx("p",{className:"text-2xl font-bold",children:O(b.additionalProducts)})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Additional Revenue"}),o.jsx("p",{className:"text-2xl font-bold",children:E(b.additionalRevenue)})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Additional Profit"}),o.jsx("p",{className:"text-2xl font-bold",children:E(b.additionalProfit)})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Platform Cost"}),o.jsx("p",{className:"text-2xl font-bold",children:E(b.platformCostTotal)})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Net Profit"}),o.jsx("p",{className:`text-2xl font-bold ${b.netProfit>=0?"text-green-600":"text-red-600"}`,children:E(b.netProfit)})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"ROI"}),o.jsx("p",{className:`text-2xl font-bold ${b.roi>=0?"text-green-600":"text-red-600"}`,children:k(b.roi)})]})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Break-even Analysis"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Break-even Users"}),o.jsxs("p",{className:"text-xl font-bold",children:[O(b.breakEvenUsers)," users"]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.numUsers>=b.breakEvenUsers?`You are ${O(g.numUsers-b.breakEvenUsers)} users above break-even`:`You need ${O(b.breakEvenUsers-g.numUsers)} more users to break even`})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Payback Period"}),o.jsx("p",{className:"text-xl font-bold",children:D(b.paybackPeriod)}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Time needed to recover the investment"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"ROI Projection"}),o.jsx("div",{className:"h-72",children:o.jsx(dS,{ref:x,data:M,options:V})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Break-even Analysis"}),o.jsx("div",{className:"h-64",children:o.jsx(Fm,{ref:j,data:$,options:X})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Monthly Projection"}),o.jsx("div",{className:"h-64",children:o.jsx(Fm,{data:H,options:U})})]})]})]}),o.jsxs(Rv,{className:"flex justify-end",children:[o.jsxs(Oe,{variant:"outline",className:"mr-2",children:[o.jsx(sb,{className:"mr-2 h-4 w-4"}),"Export Report"]}),o.jsxs(Oe,{onClick:P,disabled:i,children:[i?"Saving...":"Save Scenario",o.jsx(QO,{className:"ml-2 h-4 w-4"})]})]})]})]})}),o.jsx(qn,{value:"saved",className:"mt-0",children:o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Saved ROI Scenarios"}),o.jsx($t,{children:"View and compare your saved ROI calculations"})]}),o.jsx(Fe,{children:n?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}):u.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No saved scenarios found"}),o.jsx(Oe,{onClick:()=>m("calculator"),children:"Create New Scenario"})]}):o.jsx("div",{className:"space-y-4",children:u.map(q=>{var G;return o.jsxs(De,{className:"bg-gray-50 dark:bg-gray-800",children:[o.jsxs(He,{className:"pb-2",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx(Ge,{className:"text-lg",children:q.name}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>T(q),children:"Load"}),o.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>I(q.id),children:o.jsx(ab,{className:"h-4 w-4 text-red-500"})})]})]}),o.jsx($t,{children:(G=q.createdAt)!=null&&G.toDate?new Date(q.createdAt.toDate()).toLocaleDateString():"Date not available"})]}),o.jsxs(Fe,{className:"pt-0",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Users"}),o.jsx("p",{className:"font-medium",children:O(q.inputs.numUsers)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"ROI"}),o.jsx("p",{className:`font-medium ${q.results.roi>=0?"text-green-600":"text-red-600"}`,children:k(q.results.roi)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Net Profit"}),o.jsx("p",{className:`font-medium ${q.results.netProfit>=0?"text-green-600":"text-red-600"}`,children:E(q.results.netProfit)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Payback Period"}),o.jsx("p",{className:"font-medium",children:D(q.results.paybackPeriod)})]})]}),o.jsx(av,{className:"my-2"}),o.jsxs("div",{className:"flex justify-between items-center pt-2",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-gray-500",children:"Timeframe: "}),o.jsxs("span",{className:"font-medium",children:[q.inputs.timeframe," months"]})]}),o.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>T(q),children:["View Details",o.jsx(nye,{className:"ml-2 h-4 w-4"})]})]})]})]},q.id)})})})]})})]})}ig.register(Px,Ix,$m,Po,Vm,_m,M4,D4,I4,sie);const Fd={sectionHeading:{fontFamily:"Playfair Display, serif",fontWeight:"700",letterSpacing:"-0.02em",lineHeight:"1.2"},subsectionTitle:{fontFamily:"Playfair Display, serif",fontWeight:"600"}},P9e=()=>{const t=new Date,e=[];for(let n=30;n>=0;n--){const r=da(t,n),i=Kd(r,"yyyy-MM-dd");e.push({date:i,likes:Math.floor(Math.random()*50)+20,comments:Math.floor(Math.random()*30)+10,shares:Math.floor(Math.random()*15)+5,views:Math.floor(Math.random()*200)+100})}return e},hO=[{category:"Product Drop",posts:28,engagement:342,avgEngagement:12.2},{category:"Industry Buzz",posts:35,engagement:487,avgEngagement:13.9},{category:"Question",posts:42,engagement:318,avgEngagement:7.6},{category:"Tip & Trick",posts:23,engagement:276,avgEngagement:12},{category:"Discussion",posts:31,engagement:245,avgEngagement:7.9},{category:"Product Review",posts:18,engagement:198,avgEngagement:11},{category:"Easter Egg",posts:7,engagement:154,avgEngagement:22},{category:"Community Shoutout",posts:15,engagement:187,avgEngagement:12.5},{category:"Affirmation",posts:12,engagement:132,avgEngagement:11}],I9e={likes:2450,comments:1280,shares:640,saves:320,reactions:{love:580,insightful:420,celebrate:310,laugh:240}};function M9e({brandId:t}){const[e,n]=N.useState([]),[r,i]=N.useState("30d"),[s,a]=N.useState(""),[l,u]=N.useState(""),[d,h]=N.useState(!0),[m,g]=N.useState("total"),[v,b]=N.useState("engagement");N.useEffect(()=>{const D=P9e();n(D),h(!1)},[t]);const _=()=>{if(e.length===0)return[];const D=new Date;let M;if(r==="custom"&&s&&l){M=Xd(s);const V=Xd(l);return e.filter($=>{const X=Xd($.date);return p9e(X,{start:M,end:V})})}switch(r){case"7d":M=da(D,7);break;case"14d":M=da(D,14);break;case"30d":M=da(D,30);break;case"90d":M=da(D,90);break;case"6m":M=JP(D,6);break;case"1y":M=JP(D,12);break;default:M=da(D,30)}return e.filter(V=>{const $=Xd(V.date);return $>=M&&$<=D})},x=()=>{const D=_(),M=D.map($=>Kd(Xd($.date),"MMM d")),V=[];return(m==="total"||m==="likes")&&V.push({label:"Likes",data:D.map($=>$.likes),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.4,fill:!0}),(m==="total"||m==="comments")&&V.push({label:"Comments",data:D.map($=>$.comments),borderColor:"rgba(153, 102, 255, 1)",backgroundColor:"rgba(153, 102, 255, 0.2)",tension:.4,fill:!0}),(m==="total"||m==="shares")&&V.push({label:"Shares",data:D.map($=>$.shares),borderColor:"rgba(255, 159, 64, 1)",backgroundColor:"rgba(255, 159, 64, 0.2)",tension:.4,fill:!0}),m==="views"&&V.push({label:"Views",data:D.map($=>$.views),borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",tension:.4,fill:!0}),{labels:M,datasets:V}},j=()=>{const M=[...hO].sort((V,$)=>v==="engagement"?$.engagement-V.engagement:v==="posts"?$.posts-V.posts:v==="avgEngagement"?$.avgEngagement-V.avgEngagement:0).slice(0,6);return{labels:M.map(V=>V.category),datasets:[{label:"Total Engagement",data:M.map(V=>V.engagement),backgroundColor:"rgba(75, 192, 192, 0.8)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1},{label:"Number of Posts",data:M.map(V=>V.posts*5),backgroundColor:"rgba(153, 102, 255, 0.8)",borderColor:"rgba(153, 102, 255, 1)",borderWidth:1}]}},A=()=>{const{likes:D,comments:M,shares:V,saves:$,reactions:X}=I9e,H=Object.values(X).reduce((U,q)=>U+q,0);return{labels:["Likes","Comments","Shares","Saves","Other Reactions"],datasets:[{data:[D,M,V,$,H],backgroundColor:["rgba(75, 192, 192, 0.8)","rgba(153, 102, 255, 0.8)","rgba(255, 159, 64, 0.8)","rgba(255, 99, 132, 0.8)","rgba(54, 162, 235, 0.8)"],borderColor:["rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)"],borderWidth:1}]}},C=()=>{const D=_();return{likes:D.reduce((V,$)=>V+$.likes,0),comments:D.reduce((V,$)=>V+$.comments,0),shares:D.reduce((V,$)=>V+$.shares,0),views:D.reduce((V,$)=>V+$.views,0)}},P={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Community Engagement Over Time",font:{size:16,family:Fd.subsectionTitle.fontFamily,weight:Fd.subsectionTitle.fontWeight}},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"}}},interaction:{mode:"index",intersect:!1}},T={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Performance by Post Category",font:{size:16,family:Fd.subsectionTitle.fontFamily,weight:Fd.subsectionTitle.fontWeight}},tooltip:{callbacks:{label:function(D){const M=D.dataset.label||"",V=D.raw;return M==="Number of Posts"?`${M}: ${V/5}`:`${M}: ${V}`}}}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"}}}},I={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"},title:{display:!0,text:"Engagement Types Distribution",font:{size:16,family:Fd.subsectionTitle.fontFamily,weight:Fd.subsectionTitle.fontWeight}}}},E=C(),k=E.likes+E.comments+E.shares,O=k>0&&E.views>0?(k/E.views*100).toFixed(1):0;return o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsx("h2",{className:"text-xl mb-6",style:Fd.sectionHeading,children:"Community Engagement Metrics"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("div",{className:"text-sm text-blue-600",children:"Total Engagement"}),o.jsx("div",{className:"text-2xl font-bold",children:k.toLocaleString()}),o.jsx("div",{className:"text-xs text-blue-500",children:"Likes + Comments + Shares"})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[o.jsx("div",{className:"text-sm text-green-600",children:"Engagement Rate"}),o.jsxs("div",{className:"text-2xl font-bold",children:[O,"%"]}),o.jsx("div",{className:"text-xs text-green-500",children:"Engagement / Views"})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[o.jsx("div",{className:"text-sm text-purple-600",children:"Active Discussions"}),o.jsx("div",{className:"text-2xl font-bold",children:Math.floor(E.comments/3).toLocaleString()}),o.jsx("div",{className:"text-xs text-purple-500",children:"Posts with 3+ comments"})]}),o.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[o.jsx("div",{className:"text-sm text-orange-600",children:"Content Reach"}),o.jsx("div",{className:"text-2xl font-bold",children:E.views.toLocaleString()}),o.jsx("div",{className:"text-xs text-orange-500",children:"Total post views"})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 pb-4 border-b border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),o.jsxs("select",{value:r,onChange:D=>i(D.target.value),className:"border border-gray-300 rounded-md shadow-sm p-2 text-sm focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"7d",children:"Last 7 days"}),o.jsx("option",{value:"14d",children:"Last 14 days"}),o.jsx("option",{value:"30d",children:"Last 30 days"}),o.jsx("option",{value:"90d",children:"Last 90 days"}),o.jsx("option",{value:"6m",children:"Last 6 months"}),o.jsx("option",{value:"1y",children:"Last year"}),o.jsx("option",{value:"custom",children:"Custom range"})]})]}),r==="custom"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),o.jsx("input",{type:"date",value:s,onChange:D=>a(D.target.value),className:"border border-gray-300 rounded-md shadow-sm p-2 text-sm focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),o.jsx("input",{type:"date",value:l,onChange:D=>u(D.target.value),className:"border border-gray-300 rounded-md shadow-sm p-2 text-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),o.jsxs("div",{className:"ml-auto",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metric"}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>g("total"),className:`px-3 py-1 text-sm rounded-md ${m==="total"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),o.jsx("button",{onClick:()=>g("likes"),className:`px-3 py-1 text-sm rounded-md ${m==="likes"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Likes"}),o.jsx("button",{onClick:()=>g("comments"),className:`px-3 py-1 text-sm rounded-md ${m==="comments"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Comments"}),o.jsx("button",{onClick:()=>g("shares"),className:`px-3 py-1 text-sm rounded-md ${m==="shares"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Shares"}),o.jsx("button",{onClick:()=>g("views"),className:`px-3 py-1 text-sm rounded-md ${m==="views"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Views"})]})]})]}),d?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"h-80",children:o.jsx(dS,{data:x(),options:P})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Category Performance"}),o.jsxs("select",{value:v,onChange:D=>b(D.target.value),className:"border border-gray-300 rounded-md shadow-sm p-1 text-sm",children:[o.jsx("option",{value:"engagement",children:"Sort by Engagement"}),o.jsx("option",{value:"posts",children:"Sort by Post Count"}),o.jsx("option",{value:"avgEngagement",children:"Sort by Avg Engagement"})]})]}),o.jsx("div",{className:"h-64",children:o.jsx(Fm,{data:j(),options:T})})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Engagement Distribution"}),o.jsx("div",{className:"h-64",children:o.jsx(fie,{data:A(),options:I})})]})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Engagement Insights"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-blue-600 mr-2",children:""}),o.jsxs("span",{children:[m==="total"?"Overall engagement is ":`${m.charAt(0).toUpperCase()+m.slice(1)} are `,Math.random()>.5?"up":"down"," ",Math.floor(Math.random()*20)+5,"% compared to the previous period."]})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-blue-600 mr-2",children:""}),o.jsxs("span",{children:[hO.sort((D,M)=>M.engagement-D.engagement)[0].category," is your best performing category with"," ",hO.sort((D,M)=>M.engagement-D.engagement)[0].engagement," total engagements."]})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-blue-600 mr-2",children:""}),o.jsxs("span",{children:["Your content reaches an average of ",Math.floor(E.views/_().length)," views per day."]})]})]})]})]})]})}function D9e(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var L4="ScrollArea",[bie,Bze]=qs(L4),[L9e,Sa]=bie(L4),_ie=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=t,[l,u]=N.useState(null),[d,h]=N.useState(null),[m,g]=N.useState(null),[v,b]=N.useState(null),[_,x]=N.useState(null),[j,A]=N.useState(0),[C,P]=N.useState(0),[T,I]=N.useState(!1),[E,k]=N.useState(!1),O=Xt(e,M=>u(M)),D=ob(i);return o.jsx(L9e,{scope:n,type:r,dir:D,scrollHideDelay:s,scrollArea:l,viewport:d,onViewportChange:h,content:m,onContentChange:g,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:T,onScrollbarXEnabledChange:I,scrollbarY:_,onScrollbarYChange:x,scrollbarYEnabled:E,onScrollbarYEnabledChange:k,onCornerWidthChange:A,onCornerHeightChange:P,children:o.jsx(yt.div,{dir:D,...a,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":C+"px",...t.style}})})});_ie.displayName=L4;var wie="ScrollAreaViewport",Sie=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,a=Sa(wie,n),l=N.useRef(null),u=Xt(e,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),o.jsx(yt.div,{"data-radix-scroll-area-viewport":"",...s,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Sie.displayName=wie;var nl="ScrollAreaScrollbar",jie=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Sa(nl,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,l=t.orientation==="horizontal";return N.useEffect(()=>(l?s(!0):a(!0),()=>{l?s(!1):a(!1)}),[l,s,a]),i.type==="hover"?o.jsx($9e,{...r,ref:e,forceMount:n}):i.type==="scroll"?o.jsx(V9e,{...r,ref:e,forceMount:n}):i.type==="auto"?o.jsx(Nie,{...r,ref:e,forceMount:n}):i.type==="always"?o.jsx($4,{...r,ref:e}):null});jie.displayName=nl;var $9e=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Sa(nl,t.__scopeScrollArea),[s,a]=N.useState(!1);return N.useEffect(()=>{const l=i.scrollArea;let u=0;if(l){const d=()=>{window.clearTimeout(u),a(!0)},h=()=>{u=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),o.jsx(Hs,{present:n||s,children:o.jsx(Nie,{"data-state":s?"visible":"hidden",...r,ref:e})})}),V9e=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Sa(nl,t.__scopeScrollArea),s=t.orientation==="horizontal",a=fN(()=>u("SCROLL_END"),100),[l,u]=D9e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,u]),N.useEffect(()=>{const d=i.viewport,h=s?"scrollLeft":"scrollTop";if(d){let m=d[h];const g=()=>{const v=d[h];m!==v&&(u("SCROLL"),a()),m=v};return d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[i.viewport,s,u,a]),o.jsx(Hs,{present:n||l!=="hidden",children:o.jsx($4,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ze(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Ze(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),Nie=N.forwardRef((t,e)=>{const n=Sa(nl,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,a]=N.useState(!1),l=t.orientation==="horizontal",u=fN(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?d:h)}},10);return Pp(n.viewport,u),Pp(n.content,u),o.jsx(Hs,{present:r||s,children:o.jsx($4,{"data-state":s?"visible":"hidden",...i,ref:e})})}),$4=N.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Sa(nl,t.__scopeScrollArea),s=N.useRef(null),a=N.useRef(0),[l,u]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=kie(l.viewport,l.content),h={...r,sizes:l,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:g=>s.current=g,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:g=>a.current=g};function m(g,v){return H9e(g,a.current,l,v)}return n==="horizontal"?o.jsx(F9e,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollLeft,v=GH(g,l,i.dir);s.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=m(g,i.dir))}}):n==="vertical"?o.jsx(B9e,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollTop,v=GH(g,l);s.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=m(g))}}):null}),F9e=N.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Sa(nl,t.__scopeScrollArea),[a,l]=N.useState(),u=N.useRef(null),d=Xt(e,u,s.onScrollbarXChange);return N.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),o.jsx(Eie,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":dN(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(s.viewport){const g=s.viewport.scrollLeft+h.deltaX;t.onWheelScroll(g),Rie(g,m)&&h.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:mS(a.paddingLeft),paddingEnd:mS(a.paddingRight)}})}})}),B9e=N.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Sa(nl,t.__scopeScrollArea),[a,l]=N.useState(),u=N.useRef(null),d=Xt(e,u,s.onScrollbarYChange);return N.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),o.jsx(Eie,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":dN(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(s.viewport){const g=s.viewport.scrollTop+h.deltaY;t.onWheelScroll(g),Rie(g,m)&&h.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:mS(a.paddingTop),paddingEnd:mS(a.paddingBottom)}})}})}),[U9e,Aie]=bie(nl),Eie=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:h,onResize:m,...g}=t,v=Sa(nl,n),[b,_]=N.useState(null),x=Xt(e,O=>_(O)),j=N.useRef(null),A=N.useRef(""),C=v.viewport,P=r.content-r.viewport,T=pi(h),I=pi(u),E=fN(m,10);function k(O){if(j.current){const D=O.clientX-j.current.left,M=O.clientY-j.current.top;d({x:D,y:M})}}return N.useEffect(()=>{const O=D=>{const M=D.target;(b==null?void 0:b.contains(M))&&T(D,P)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[C,b,P,T]),N.useEffect(I,[r,I]),Pp(b,E),Pp(v.content,E),o.jsx(U9e,{scope:n,scrollbar:b,hasThumb:i,onThumbChange:pi(s),onThumbPointerUp:pi(a),onThumbPositionChange:I,onThumbPointerDown:pi(l),children:o.jsx(yt.div,{...g,ref:x,style:{position:"absolute",...g.style},onPointerDown:Ze(t.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),j.current=b.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),k(O))}),onPointerMove:Ze(t.onPointerMove,k),onPointerUp:Ze(t.onPointerUp,O=>{const D=O.target;D.hasPointerCapture(O.pointerId)&&D.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=A.current,v.viewport&&(v.viewport.style.scrollBehavior=""),j.current=null})})})}),hS="ScrollAreaThumb",Tie=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Aie(hS,t.__scopeScrollArea);return o.jsx(Hs,{present:n||i.hasThumb,children:o.jsx(z9e,{ref:e,...r})})}),z9e=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=Sa(hS,n),a=Aie(hS,n),{onThumbPositionChange:l}=a,u=Xt(e,m=>a.onThumbChange(m)),d=N.useRef(void 0),h=fN(()=>{d.current&&(d.current(),d.current=void 0)},100);return N.useEffect(()=>{const m=s.viewport;if(m){const g=()=>{if(h(),!d.current){const v=W9e(m,l);d.current=v,l()}};return l(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[s.viewport,h,l]),o.jsx(yt.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ze(t.onPointerDownCapture,m=>{const v=m.target.getBoundingClientRect(),b=m.clientX-v.left,_=m.clientY-v.top;a.onThumbPointerDown({x:b,y:_})}),onPointerUp:Ze(t.onPointerUp,a.onThumbPointerUp)})});Tie.displayName=hS;var V4="ScrollAreaCorner",Cie=N.forwardRef((t,e)=>{const n=Sa(V4,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(q9e,{...t,ref:e}):null});Cie.displayName=V4;var q9e=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Sa(V4,n),[s,a]=N.useState(0),[l,u]=N.useState(0),d=!!(s&&l);return Pp(i.scrollbarX,()=>{var m;const h=((m=i.scrollbarX)==null?void 0:m.offsetHeight)||0;i.onCornerHeightChange(h),u(h)}),Pp(i.scrollbarY,()=>{var m;const h=((m=i.scrollbarY)==null?void 0:m.offsetWidth)||0;i.onCornerWidthChange(h),a(h)}),d?o.jsx(yt.div,{...r,ref:e,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function mS(t){return t?parseInt(t,10):0}function kie(t,e){const n=t/e;return isNaN(n)?0:n}function dN(t){const e=kie(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function H9e(t,e,n,r="ltr"){const i=dN(n),s=i/2,a=e||s,l=i-a,u=n.scrollbar.paddingStart+a,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,m=r==="ltr"?[0,h]:[h*-1,0];return Oie([u,d],m)(t)}function GH(t,e,n="ltr"){const r=dN(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,l=s-r,u=n==="ltr"?[0,a]:[a*-1,0],d=uR(t,u);return Oie([0,a],[0,l])(d)}function Oie(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Rie(t,e){return t>0&&t<e}var W9e=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},a=n.left!==s.left,l=n.top!==s.top;(a||l)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function fN(t,e){const n=pi(t),r=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),N.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Pp(t,e){const n=pi(e);Br(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var G9e=_ie,Y9e=Sie,K9e=Cie;function eI({className:t,children:e,...n}){return o.jsxs(G9e,{"data-slot":"scroll-area",className:Xe("relative",t),...n,children:[o.jsx(Y9e,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),o.jsx(X9e,{}),o.jsx(K9e,{})]})}function X9e({className:t,orientation:e="vertical",...n}){return o.jsx(jie,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Xe("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:o.jsx(Tie,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function Q9e({brandId:t}){const{user:e}=Vn(),n=(e==null?void 0:e.role)==="super_admin",r=t||(e==null?void 0:e.brandId),[i,s]=N.useState([]),[a,l]=N.useState(!0),[u,d]=N.useState(null),[h,m]=N.useState(!1),[g,v]=N.useState(!1),[b,_]=N.useState(null),[x,j]=N.useState(!1),[A,C]=N.useState({name:"",description:"",topics:[],status:"draft",memberCount:0,image:"",brandId:t||""}),[P,T]=N.useState(""),[I,E]=N.useState(!1),[k,O]=N.useState(null),[D,M]=N.useState(!1),[V,$]=N.useState(null),[X,H]=N.useState(""),[U,q]=N.useState(!1),[G,W]=N.useState(null),[z,Z]=N.useState([]),[te,ne]=N.useState(!1),ge=N.useRef(null),[Ce,Te]=N.useState(""),[je,ce]=N.useState({}),[oe,we]=N.useState({totalPosts:0,totalComments:0,totalLikes:0}),Ne=N.useRef(null);N.useEffect(()=>{ue()},[t]),N.useEffect(()=>()=>{if(ge.current)try{ge.current()}catch{}if(Ne.current)try{Ne.current()}catch{}},[]),N.useEffect(()=>{if(!z.length)return;(async()=>{const zt=z.filter(nn=>nn.userId&&!nn.userName&&!je[nn.userId]).map(nn=>nn.userId),gn=[...new Set(zt)];if(gn.length!==0)try{const nn=await Promise.all(gn.map(tn=>vi(Je(xe,"users",tn)))),Wt={};nn.forEach((tn,ar)=>{const or=gn[ar];if(tn.exists()){const Fn=tn.data();Wt[or]=Fn.name||Fn.displayName||Fn.email||"Anonymous"}else Wt[or]="Anonymous"}),ce(tn=>({...tn,...Wt}))}catch(nn){console.error("Error fetching user display names:",nn)}})()},[z]);const ue=async()=>{l(!0),d(null);try{if(!r)throw new Error("No brand ID available");const ve=Zt(ft(xe,"communities"),Dt("brandId","==",r),gi("createdAt","desc")),gn=(await Vr(ve)).docs.map(Wt=>{var tn,ar;return{id:Wt.id,...Wt.data(),createdAt:((ar=(tn=Wt.data().createdAt)==null?void 0:tn.toDate)==null?void 0:ar.call(tn))||new Date}}),nn=gn.some(Wt=>Wt.createdByRole==="brand_manager"&&Wt.brandId===r);j(nn),s(gn)}catch(ve){console.error("Error fetching communities:",ve),d(ve.message),zn.error("Failed to load communities")}finally{l(!1)}},Ue=ve=>{const{name:zt,value:gn}=ve.target;C({...A,[zt]:gn})},We=ve=>{C({...A,status:ve})},jt=()=>{if(P.trim()==="")return;const ve=P.trim().toLowerCase().replace(/\s+/g,"-");A.topics.includes(ve)||C({...A,topics:[...A.topics,ve]}),T("")},ht=ve=>{$(ve),H(""),M(!0)},At=async()=>{if(!(!X.trim()||!V)){q(!0);try{await Ba(ft(xe,"community_posts"),{brandId:r,communityId:V.id,userId:(e==null?void 0:e.uid)||null,userName:(e==null?void 0:e.name)||(e==null?void 0:e.displayName)||(e==null?void 0:e.email)||"Anonymous",content:X.trim(),visibility:"public",likeCount:0,commentCount:0,createdAt:Ye(),updatedAt:Ye()}),zn.success("Posted to community"),M(!1),$(null),H("")}catch(ve){console.error("Error creating post:",ve),zn.error("Failed to create post")}finally{q(!1)}}},Ur=ve=>{if(ge.current){try{ge.current()}catch{}ge.current=null}if(Ne.current){try{Ne.current()}catch{}Ne.current=null}if(!ve){Z([]),we({totalPosts:0,totalComments:0,totalLikes:0});return}ne(!0);try{const zt=Zt(ft(xe,"community_posts"),Dt("brandId","==",r),Dt("communityId","==",ve.id),gi("createdAt","desc"),ha(50));ge.current=wr(zt,nn=>{const Wt=nn.docs.map(or=>({id:or.id,...or.data()}));Z(Wt);const tn=Wt.length,ar=Wt.reduce((or,Fn)=>or+(Fn.likeCount||0),0);we(or=>({...or,totalPosts:tn,totalLikes:ar})),ne(!1)},nn=>{console.error("Posts listener error:",nn),ne(!1),zn.error("Failed to load posts")});const gn=Zt(ft(xe,"community_comments"),Dt("communityId","==",ve.id));Ne.current=wr(gn,nn=>{we(Wt=>({...Wt,totalComments:nn.size}))},nn=>{console.error("Comments listener error:",nn)})}catch(zt){console.warn("Falling back to unordered posts query:",zt==null?void 0:zt.message);const gn=Zt(ft(xe,"community_posts"),Dt("brandId","==",r),Dt("communityId","==",ve.id));ge.current=wr(gn,Wt=>{const tn=Wt.docs.map(Fn=>({id:Fn.id,...Fn.data()}));tn.sort((Fn,bi)=>{var ja,rl;return(((ja=bi.createdAt)==null?void 0:ja.seconds)||0)-(((rl=Fn.createdAt)==null?void 0:rl.seconds)||0)}),Z(tn);const ar=tn.length,or=tn.reduce((Fn,bi)=>Fn+(bi.likeCount||0),0);we(Fn=>({...Fn,totalPosts:ar,totalLikes:or})),ne(!1)},()=>ne(!1));const nn=Zt(ft(xe,"community_comments"),Dt("communityId","==",ve.id));Ne.current=wr(nn,Wt=>{we(tn=>({...tn,totalComments:Wt.size}))},Wt=>{console.error("Comments listener error:",Wt)})}},Qn=ve=>{W(ve),Ur(ve)},ee=async()=>{if(!(!Ce.trim()||!G)){q(!0);try{await Ba(ft(xe,"community_posts"),{brandId:r,communityId:G.id,userId:(e==null?void 0:e.uid)||null,userName:(e==null?void 0:e.name)||(e==null?void 0:e.displayName)||(e==null?void 0:e.email)||"Anonymous",content:Ce.trim(),visibility:"public",likeCount:0,commentCount:0,createdAt:Ye(),updatedAt:Ye()}),Te("")}catch{zn.error("Failed to post")}finally{q(!1)}}},se=ve=>{C({...A,topics:A.topics.filter(zt=>zt!==ve)})},pe=()=>{if(!n&&x){zn.error("Your brand already has a community. You can edit that one or post to existing communities.");return}C({name:"",description:"",topics:[],status:"draft",memberCount:0,image:"",brandId:t||(e==null?void 0:e.brandId)||""}),v(!1),m(!0)},Le=ve=>{if(!(n||ve.createdByRole==="brand_manager"&&ve.brandId===(t||(e==null?void 0:e.brandId)))){zn.error("You don't have permission to edit this community");return}_(ve),C({name:ve.name||"",description:ve.description||"",topics:ve.topics||[],status:ve.status||"draft",memberCount:ve.memberCount||0,image:ve.image||"",brandId:ve.brandId||t||(e==null?void 0:e.brandId)||""}),v(!0),m(!0)},Ie=ve=>{if(!n){zn.error("Only super administrators can delete communities.");return}O(ve),E(!0)},ke=async()=>{if(!A.name||!A.description){zn.error("Name and description are required");return}l(!0);try{const ve={...A,createdBy:(e==null?void 0:e.uid)||null,createdByRole:n?"super_admin":"brand_manager",createdAt:Ye(),updatedAt:Ye()};await Ba(ft(xe,"communities"),ve),zn.success("Community created successfully"),m(!1),ue()}catch(ve){console.error("Error creating community:",ve),zn.error("Failed to create community")}finally{l(!1)}},Ve=async()=>{if(!b||!A.name||!A.description){zn.error("Name and description are required");return}l(!0);try{const ve=Je(xe,"communities",b.id),zt={...A,updatedAt:Ye()};await Zr(ve,zt),zn.success("Community updated successfully"),m(!1),ue()}catch(ve){console.error("Error updating community:",ve),zn.error("Failed to update community")}finally{l(!1)}},tt=async()=>{if(k){l(!0);try{const ve=Je(xe,"communities",k.id);await Ja(ve),zn.success("Community deleted successfully"),E(!1),O(null),ue()}catch(ve){console.error("Error deleting community:",ve),zn.error("Failed to delete community")}finally{l(!1)}}},Ct=ve=>ve?new Date(ve).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return a&&i.length===0?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx(Bl,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold",children:"Communities"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your brand's communities and topics"})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(Oe,{variant:"outline",size:"sm",onClick:ue,disabled:a,children:[o.jsx(Km,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]}),o.jsxs(Oe,{onClick:pe,children:[o.jsx(rv,{className:"h-4 w-4 mr-2"}),"New Community"]})]})]}),u&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:u}),i.length===0&&!a?o.jsx(De,{children:o.jsxs(Fe,{className:"flex flex-col items-center justify-center h-64",children:[o.jsx(ei,{className:"h-12 w-12 text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"No communities found for this brand."}),o.jsxs(Oe,{onClick:pe,children:[o.jsx(rv,{className:"h-4 w-4 mr-2"}),"Create Your First Community"]})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(ve=>o.jsxs(De,{children:[o.jsx(He,{className:"pb-2",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(Ge,{className:"text-xl",children:ve.name}),o.jsxs($t,{children:[ve.memberCount||0," members"]})]}),o.jsx(un,{variant:ve.status==="active"?"success":"outline",className:ve.status==="active"?"bg-green-100 text-green-800 hover:bg-green-200":"",children:ve.status==="active"?"Active":"Draft"})]})}),o.jsxs(Fe,{children:[ve.image&&o.jsx("img",{src:ve.image,alt:ve.name,className:"w-full h-28 object-cover rounded mb-3",onError:zt=>zt.currentTarget.style.display="none"}),o.jsx("p",{className:"text-sm mb-4",children:ve.description}),ve.topics&&ve.topics.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Topics:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:ve.topics.map(zt=>o.jsxs(un,{variant:"secondary",children:[o.jsx(Ove,{className:"h-3 w-3 mr-1"}),zt]},zt))})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Created: ",Ct(ve.createdAt)]})]}),o.jsxs(Rv,{className:"flex justify-end space-x-2 pt-0",children:[o.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>Qn(ve),children:"View"}),o.jsxs(Oe,{size:"sm",onClick:()=>ht(ve),children:[o.jsx(rv,{className:"h-4 w-4 mr-2"}),"Post"]}),(()=>{const zt=n||ve.createdByRole==="brand_manager"&&ve.brandId===r,gn=n;return o.jsxs(o.Fragment,{children:[zt&&o.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>Le(ve),children:[o.jsx(PK,{className:"h-4 w-4 mr-2"}),"Edit"]}),gn&&o.jsxs(Oe,{variant:"destructive",size:"sm",onClick:()=>Ie(ve),children:[o.jsx(ab,{className:"h-4 w-4 mr-2"}),"Delete"]})]})})()]})]},ve.id))}),G&&o.jsxs(De,{className:"mt-6 ring-1 ring-primary/20",children:[o.jsx(He,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(Ge,{children:["Community Feed  ",G.name,o.jsx("span",{className:"ml-2 text-xs px-2 py-0.5 rounded-full bg-primary/10 text-primary border border-primary/20",children:"Live Feed"})]}),o.jsx($t,{children:"Live updates"})]}),o.jsxs("div",{className:"space-x-2",children:[o.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>window.open(`/community/${G.id}`,"_blank"),children:"Open"}),o.jsx(Oe,{size:"sm",onClick:()=>ht(G),children:"Post"})]})]})}),o.jsxs(Fe,{children:[G.image&&o.jsx("img",{src:G.image,alt:G.name,className:"w-full h-32 object-cover rounded mb-3",onError:ve=>ve.currentTarget.style.display="none"}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[o.jsxs("div",{className:"bg-white/70 rounded border p-3 text-center",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Posts"}),o.jsx("div",{className:"text-lg font-semibold",children:oe.totalPosts})]}),o.jsxs("div",{className:"bg-white/70 rounded border p-3 text-center",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Comments"}),o.jsx("div",{className:"text-lg font-semibold",children:oe.totalComments})]}),o.jsxs("div",{className:"bg-white/70 rounded border p-3 text-center",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Likes"}),o.jsx("div",{className:"text-lg font-semibold",children:oe.totalLikes})]})]}),o.jsxs("div",{className:"space-y-4 bg-muted/20 p-4 rounded-md border",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"viewerPost",children:"Quick Post"}),o.jsx(wu,{id:"viewerPost",rows:3,value:Ce,onChange:ve=>Te(ve.target.value),placeholder:"Share an update..."}),o.jsx("div",{className:"flex justify-end",children:o.jsx(Oe,{onClick:ee,disabled:U||!Ce.trim(),children:U?"Posting":"Post"})})]}),o.jsx(av,{}),te?o.jsx("div",{className:"flex justify-center py-6 text-muted-foreground",children:"Loading posts"}):z.length===0?o.jsx("div",{className:"text-muted-foreground",children:"No posts yet."}):o.jsx("div",{className:"space-y-4",children:z.map(ve=>{var zt;return o.jsxs("div",{className:"border rounded-md p-3",children:[o.jsxs("div",{className:"text-sm text-muted-foreground mb-1",children:[o.jsx("span",{className:"font-medium",children:ve.userName||je[ve.userId]||"Anonymous"}),"  ",new Date((((zt=ve.createdAt)==null?void 0:zt.seconds)||0)*1e3).toLocaleString()]}),o.jsx("div",{className:"whitespace-pre-wrap",children:ve.content})]},ve.id)})})]})]})]}),o.jsx(Xm,{open:h,onOpenChange:m,children:o.jsxs(Nf,{className:"sm:max-w-[600px]",children:[o.jsxs(Qm,{children:[o.jsx(Af,{children:g?"Edit Community":"Create New Community"}),o.jsx(Ef,{children:g?"Update the details of your community":"Create a new community for your brand"})]}),o.jsx("div",{className:"grid gap-4 py-4",children:o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"name",children:"Community Name"}),o.jsx(bt,{id:"name",name:"name",value:A.name,onChange:Ue,placeholder:"Enter community name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"description",children:"Description"}),o.jsx(wu,{id:"description",name:"description",value:A.description,onChange:Ue,placeholder:"Enter community description",rows:4})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"topics",children:"Topics"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(bt,{id:"topicInput",value:P,onChange:ve=>T(ve.target.value),placeholder:"Add topic (press Enter)",onKeyDown:ve=>{ve.key==="Enter"&&(ve.preventDefault(),jt())}}),o.jsx(Oe,{type:"button",onClick:jt,children:"Add"})]}),A.topics.length>0&&o.jsx("div",{className:"mt-2",children:o.jsx(eI,{className:"h-20 w-full rounded-md border p-2",children:o.jsx("div",{className:"flex flex-wrap gap-2",children:A.topics.map(ve=>o.jsxs(un,{variant:"secondary",className:"flex items-center space-x-1",children:[o.jsx("span",{children:ve}),o.jsx("button",{type:"button",className:"ml-1 rounded-full text-muted-foreground hover:bg-muted hover:text-foreground",onClick:()=>se(ve),children:o.jsx(Eye,{className:"h-3 w-3"})})]},ve))})})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"image",children:"Image URL"}),o.jsx(bt,{id:"image",name:"image",value:A.image,onChange:Ue,placeholder:"Enter image URL (optional)"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"status",children:"Status"}),o.jsxs(Rs,{value:A.status,onValueChange:We,children:[o.jsx(ds,{children:o.jsx(Ps,{placeholder:"Select status"})}),o.jsxs(fs,{children:[o.jsx(mt,{value:"draft",children:"Draft"}),o.jsx(mt,{value:"active",children:"Active"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"memberCount",children:"Initial Member Count"}),o.jsx(bt,{id:"memberCount",name:"memberCount",type:"number",min:"0",value:A.memberCount,onChange:Ue,placeholder:"0"})]})]})]})}),o.jsxs(Dw,{children:[o.jsx(Oe,{variant:"outline",onClick:()=>m(!1),disabled:a,children:"Cancel"}),o.jsxs(Oe,{onClick:g?Ve:ke,disabled:a||!A.name||!A.description,children:[a&&o.jsx(Bl,{className:"mr-2 h-4 w-4 animate-spin"}),g?"Update Community":"Create Community"]})]})]})}),o.jsx(NZ,{open:I,onOpenChange:E,children:o.jsxs(AZ,{children:[o.jsxs(EZ,{children:[o.jsx(CZ,{children:"Are you sure?"}),o.jsxs(kZ,{children:['This will permanently delete the community "',k==null?void 0:k.name,'". This action cannot be undone.']})]}),o.jsxs(TZ,{children:[o.jsx(RZ,{disabled:a,children:"Cancel"}),o.jsxs(OZ,{onClick:tt,disabled:a,className:"bg-red-600 hover:bg-red-700",children:[a&&o.jsx(Bl,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete"]})]})]})}),o.jsx(Xm,{open:D,onOpenChange:M,children:o.jsxs(Nf,{className:"sm:max-w-[600px]",children:[o.jsxs(Qm,{children:[o.jsxs(Af,{children:["New Post ",V?` ${V.name}`:""]}),o.jsx(Ef,{children:"Share an update with this community."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(ze,{htmlFor:"postContent",children:"Content"}),o.jsx(wu,{id:"postContent",rows:5,value:X,onChange:ve=>H(ve.target.value),placeholder:"Write your post..."})]}),o.jsxs(Dw,{children:[o.jsx(Oe,{variant:"outline",onClick:()=>M(!1),disabled:U,children:"Cancel"}),o.jsxs(Oe,{onClick:At,disabled:U||!X.trim(),children:[U&&o.jsx(Bl,{className:"mr-2 h-4 w-4 animate-spin"}),"Post"]})]})]})})]})}const Z9e=({brandId:t})=>{const[e,n]=N.useState([]),[r,i]=N.useState([]),[s,a]=N.useState([]),[l,u]=N.useState({enrolled:0,completed:0}),[d,h]=N.useState({}),[m,g]=N.useState({total:0,last7d:0,last30d:0,series30d:[]}),[v,b]=N.useState({trainings:!0,sampleRequests:!0,announcements:!0,engagement:!0}),[_,x]=N.useState({trainings:null,sampleRequests:null,announcements:null,engagement:null,brandId:null}),{now:j,sevenDaysAgo:A,thirtyDaysAgo:C}=N.useMemo(()=>{const E=new Date,k=new Date;k.setDate(E.getDate()-7);const O=new Date;return O.setDate(E.getDate()-30),{now:E,sevenDaysAgo:k,thirtyDaysAgo:O}},[]);N.useEffect(()=>{let E=!0,k=null,O=null,D=null,M=null;if(!t)return console.error("Missing brandId in BrandDashboardContent"),x($=>({...$,brandId:"No brand ID provided. Please contact support if this issue persists.",trainings:"Cannot fetch trainings: Brand ID is missing",sampleRequests:"Cannot fetch sample requests: Brand ID is missing",announcements:"Cannot fetch announcements: Brand ID is missing",engagement:"Cannot fetch engagement data: Brand ID is missing"})),b({trainings:!1,sampleRequests:!1,announcements:!1,engagement:!1}),()=>{};x($=>({...$,brandId:null}));try{const $=Zt(ft(xe,"trainings"),Dt("brandId","==",t),Dt("published","==",!0),gi("createdAt","desc"));k=wr($,X=>{if(E)try{const H=X.docs.map(U=>({id:U.id,...U.data()}));n(H),b(U=>({...U,trainings:!1}))}catch(H){console.error("Error processing trainings data:",H),x(U=>({...U,trainings:`Error processing data: ${H.message}`})),b(U=>({...U,trainings:!1}))}},X=>{E&&(console.error("Error fetching trainings:",X),x(H=>({...H,trainings:X.message})),b(H=>({...H,trainings:!1})))})}catch($){console.error("Error setting up trainings query:",$),E&&(x(X=>({...X,trainings:`Error setting up query: ${$.message}`})),b(X=>({...X,trainings:!1})))}try{const $=Zt(ft(xe,"sample_requests"),Dt("brandId","==",t),gi("createdAt","desc"),ha(5));O=wr($,X=>{if(E)try{const H=X.docs.map(U=>({id:U.id,...U.data()}));i(H),b(U=>({...U,sampleRequests:!1}))}catch(H){console.error("Error processing sample requests data:",H),x(U=>({...U,sampleRequests:`Error processing data: ${H.message}`})),b(U=>({...U,sampleRequests:!1}))}},X=>{E&&(console.error("Error fetching sample requests:",X),x(H=>({...H,sampleRequests:X.message})),b(H=>({...H,sampleRequests:!1})))})}catch($){console.error("Error setting up sample requests query:",$),E&&(x(X=>({...X,sampleRequests:`Error setting up query: ${$.message}`})),b(X=>({...X,sampleRequests:!1})))}try{const $=Zt(ft(xe,"announcements"),Dt("brandId","==",t),gi("createdAt","desc"),ha(5));D=wr($,X=>{if(E)try{const H=X.docs.map(U=>({id:U.id,...U.data()}));a(H),b(U=>({...U,announcements:!1}))}catch(H){console.error("Error processing announcements data:",H),x(U=>({...U,announcements:`Error processing data: ${H.message}`})),b(U=>({...U,announcements:!1}))}},X=>{E&&(console.error("Error fetching announcements:",X),x(H=>({...H,announcements:X.message})),b(H=>({...H,announcements:!1})))})}catch($){console.error("Error setting up announcements query:",$),E&&(x(X=>({...X,announcements:`Error setting up query: ${$.message}`})),b(X=>({...X,announcements:!1})))}return(async()=>{try{if(!E)return;const $=Zt(ft(xe,"trainings"),Dt("brandId","==",t));let H=(await Vr($)).docs.map(U=>U.id);if(H.length===0){E&&b(U=>({...U,engagement:!1}));return}H.length>10&&(H=H.slice(0,10));try{const U=Zt(ft(xe,"training_progress"),Dt("trainingId","in",H),Dt("updatedAt",">=",$n.fromDate(A)));M=wr(U,q=>{if(E)try{const G=q.docs.map(Z=>Z.data()),W=G.length,z=G.filter(Z=>Z.status==="completed").length;u({enrolled:W,completed:z}),b(Z=>({...Z,engagement:!1}))}catch(G){console.error("Error processing engagement data:",G),E&&(x(W=>({...W,engagement:`Error processing data: ${G.message}`})),b(W=>({...W,engagement:!1})))}},q=>{console.error("Error fetching engagement:",q),E&&(x(G=>({...G,engagement:q.message})),b(G=>({...G,engagement:!1})))})}catch(U){console.error("Error setting up progress query:",U),E&&(x(q=>({...q,engagement:`Error setting up query: ${U.message}`})),b(q=>({...q,engagement:!1})))}}catch($){console.error("Error fetching training IDs:",$),E&&(x(X=>({...X,engagement:`Error fetching training IDs: ${$.message}`})),b(X=>({...X,engagement:!1})))}})(),()=>{if(E=!1,typeof k=="function")try{k()}catch($){console.error("Error unsubscribing from trainings:",$)}if(typeof O=="function")try{O()}catch($){console.error("Error unsubscribing from requests:",$)}if(typeof D=="function")try{D()}catch($){console.error("Error unsubscribing from announcements:",$)}if(typeof M=="function")try{M()}catch($){console.error("Error unsubscribing from progress:",$)}}},[t]),N.useEffect(()=>{if(!t)return;const E=Zt(ft(xe,"brand_follows"),Dt("brandId","==",t)),k=wr(E,O=>{const D=O.size;let M=0,V=0;const $=new Array(30).fill(0);O.forEach(X=>{var W;const H=(W=X.data())==null?void 0:W.createdAt,U=H!=null&&H.toDate?H.toDate():null;if(!U)return;const q=j-U,G=Math.floor(q/864e5);if(G<30){V+=1;const z=29-G;z>=0&&z<30&&($[z]+=1)}G<7&&(M+=1)}),g({total:D,last7d:M,last30d:V,series30d:$})},O=>console.error("followers snapshot error:",O));return()=>k()},[t,j]),N.useEffect(()=>{if(!t){h({});return}if(!e||e.length===0){h({});return}let E=!0;const k=e.slice(0,10).map(M=>M.id),O=Zt(ft(xe,"training_progress"),Dt("trainingId","in",k)),D=wr(O,M=>{if(!E)return;const V={};M.forEach($=>{const X=$.data(),H=X.trainingId;V[H]||(V[H]={enrolled:0,completed:0}),V[H].enrolled+=1,X.status==="completed"&&(V[H].completed+=1)}),h(V)},M=>{console.error("Error fetching training progress counts:",M)});return()=>{if(E=!1,typeof D=="function")try{D()}catch(M){console.error("Error unsubscribing training progress listener:",M)}}},[e,t]);const P=E=>{let k="";switch(E){case"pending":k="bg-yellow-100 text-yellow-800";break;case"approved":k="bg-blue-100 text-blue-800";break;case"shipped":k="bg-green-100 text-green-800";break;case"denied":k="bg-red-100 text-red-800";break;case"completed":k="bg-green-100 text-green-800";break;case"in_progress":k="bg-blue-100 text-blue-800";break;default:k="bg-gray-100 text-gray-800"}return o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k}`,children:E.replace("_"," ")})},T=E=>{if(!E)return"N/A";const k=E.toDate?E.toDate():new Date(E);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(k)};if(_.brandId)return o.jsx("div",{className:"p-6",children:o.jsx(De,{className:"p-6 bg-red-50 border border-red-200",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx(Mv,{className:"h-12 w-12 text-red-500 mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-red-700 mb-2",children:"Brand Dashboard Error"}),o.jsx("p",{className:"text-red-600 mb-4",children:_.brandId}),o.jsx("p",{className:"text-gray-600 mb-6",children:"This could be due to missing permissions or an invalid brand identifier. Please ensure you are logged in with the correct account and have brand manager permissions."}),o.jsx(Oe,{variant:"outline",onClick:()=>window.location.reload(),children:"Retry"})]})})});const I=()=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(De,{className:"overflow-hidden",children:o.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-2 rounded-full",children:o.jsx(Eo,{className:"h-5 w-5 text-blue-600 dark:text-blue-300"})}),o.jsx("h3",{className:"ml-3 text-lg font-semibold text-gray-900 dark:text-gray-100",children:"My Trainings"})]}),o.jsx(Oe,{variant:"outline",size:"sm",asChild:!0,children:o.jsx(Mt,{to:"/brand/trainings",children:"View All"})})]}),v.trainings?o.jsx("div",{className:"flex justify-center items-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):_.trainings?o.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 p-4 rounded-md",children:o.jsxs("p",{children:["Error loading trainings: ",_.trainings]})}):e.length===0?o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md p-6 text-center",children:[o.jsx(Eo,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),o.jsx("h3",{className:"text-gray-900 dark:text-gray-100 font-medium mb-1",children:"No Trainings Found"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"You don't have any published trainings yet."}),o.jsx(Oe,{variant:"outline",size:"sm",asChild:!0,children:o.jsx(Mt,{to:"/brand/trainings/new",children:"Create Training"})}),o.jsx("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:o.jsx("p",{children:"Need sample data? Use the Demo Data tool in Admin panel."})})]}):o.jsxs("div",{className:"space-y-4",children:[e.slice(0,4).map(E=>o.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-md p-4",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:E.title}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 line-clamp-1",children:E.description})]}),o.jsx(un,{variant:"outline",className:"ml-2",children:E.status||"draft"})]}),d[E.id]&&o.jsxs("div",{className:"mt-3 flex items-center text-sm",children:[o.jsxs("div",{className:"flex items-center mr-4",children:[o.jsx(ei,{className:"h-4 w-4 text-gray-500 mr-1"}),o.jsxs("span",{className:"text-gray-600",children:[d[E.id].enrolled," enrolled"]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Eo,{className:"h-4 w-4 text-gray-500 mr-1"}),o.jsxs("span",{className:"text-gray-600",children:[d[E.id].completed," completed"]})]})]}),o.jsx("div",{className:"mt-3 flex justify-end",children:o.jsx(Oe,{variant:"outline",size:"sm",asChild:!0,className:"text-xs",children:o.jsx(Mt,{to:`/brand/trainings/${E.id}`,children:"View Details"})})})]},E.id)),e.length>4&&o.jsx("div",{className:"flex justify-center mt-2",children:o.jsx(Oe,{variant:"ghost",size:"sm",asChild:!0,children:o.jsxs(Mt,{to:"/brand/trainings",children:["View All ",e.length," Trainings"]})})})]})]})}),o.jsx(De,{className:"overflow-hidden",children:o.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-2 rounded-full",children:o.jsx(Iv,{className:"h-5 w-5 text-purple-600 dark:text-purple-300"})}),o.jsx("h3",{className:"ml-3 text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Recent Sample Requests"})]}),o.jsx(Oe,{variant:"outline",size:"sm",asChild:!0,children:o.jsx(Mt,{to:"/brand/samples",children:"View All"})})]}),v.sampleRequests?o.jsx("div",{className:"flex justify-center items-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"})}):_.sampleRequests?o.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 p-4 rounded-md",children:o.jsxs("p",{children:["Error loading sample requests: ",_.sampleRequests]})}):r.length===0?o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md p-6 text-center",children:[o.jsx(Iv,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),o.jsx("h3",{className:"text-gray-900 dark:text-gray-100 font-medium mb-1",children:"No Sample Requests"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"You don't have any sample requests yet."}),o.jsx("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:o.jsx("p",{children:"Staff members can request samples from your product catalog."})})]}):o.jsxs("div",{className:"space-y-4",children:[r.map(E=>o.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-md p-4",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:E.productName||"Unnamed Product"}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Requested by: ",E.userName||"Unknown User"]}),o.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:T(E.createdAt)})]}),o.jsx("div",{children:P(E.status||"pending")})]}),o.jsx("div",{className:"mt-3 flex justify-end",children:o.jsx(Oe,{variant:"outline",size:"sm",asChild:!0,className:"text-xs",children:o.jsx(Mt,{to:`/brand/samples/${E.id}`,children:"View Details"})})})]},E.id)),r.length>0&&o.jsx("div",{className:"flex justify-center mt-2",children:o.jsx(Oe,{variant:"ghost",size:"sm",asChild:!0,children:o.jsx(Mt,{to:"/brand/samples",children:"View All Requests"})})})]})]})}),o.jsx(De,{className:"overflow-hidden",children:o.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-2 rounded-full",children:o.jsx(du,{className:"h-5 w-5 text-green-600 dark:text-green-300"})}),o.jsx("h3",{className:"ml-3 text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Engagement"})]}),o.jsx(Oe,{variant:"outline",size:"sm",asChild:!0,children:o.jsx(Mt,{to:"/brand/analytics",children:"View Analytics"})})]}),v.engagement?o.jsx("div",{className:"flex justify-center items-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-green-500"})}):_.engagement?o.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 p-4 rounded-md",children:o.jsxs("p",{children:["Error loading engagement data: ",_.engagement]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-md p-4 text-center",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Training Enrollments (7d)"}),o.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mt-1",children:l.enrolled})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-md p-4 text-center",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Completions (7d)"}),o.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mt-1",children:l.completed})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Followers"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-md p-3 text-center",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total"}),o.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:m.total})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-md p-3 text-center",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Last 7d"}),o.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:m.last7d})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-md p-3 text-center",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Last 30d"}),o.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:m.last30d})]})]}),m.series30d.length>0&&o.jsx("div",{className:"h-20 mt-2",children:o.jsx(M9e,{data:m.series30d.map((E,k)=>({date:new Date(Date.now()-(29-k)*864e5),value:E})),showXAxis:!1,showTooltip:!0,color:"#22c55e"})})]})]})]})}),o.jsx(De,{className:"overflow-hidden",children:o.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-amber-100 dark:bg-amber-900 p-2 rounded-full",children:o.jsx(Pv,{className:"h-5 w-5 text-amber-600 dark:text-amber-300"})}),o.jsx("h3",{className:"ml-3 text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Recent Announcements"})]}),o.jsx(Oe,{variant:"outline",size:"sm",asChild:!0,children:o.jsx(Mt,{to:"/brand/announcements",children:"View All"})})]}),v.announcements?o.jsx("div",{className:"flex justify-center items-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-amber-500"})}):_.announcements?o.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 p-4 rounded-md",children:o.jsxs("p",{children:["Error loading announcements: ",_.announcements]})}):s.length===0?o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md p-6 text-center",children:[o.jsx(Pv,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),o.jsx("h3",{className:"text-gray-900 dark:text-gray-100 font-medium mb-1",children:"No Announcements"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"You haven't published any announcements yet."}),o.jsx(Oe,{variant:"outline",size:"sm",asChild:!0,children:o.jsx(Mt,{to:"/brand/announcements/new",children:"Create Announcement"})}),o.jsx("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:o.jsx("p",{children:"Announcements will be shown to staff members who follow your brand."})})]}):o.jsxs("div",{className:"space-y-4",children:[s.map(E=>o.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-md p-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:E.title||"Untitled Announcement"}),o.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:T(E.createdAt)}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2 line-clamp-2",children:E.content||"No content"})]}),o.jsx("div",{className:"mt-3 flex justify-end",children:o.jsx(Oe,{variant:"outline",size:"sm",asChild:!0,className:"text-xs",children:o.jsx(Mt,{to:`/brand/announcements/${E.id}`,children:"View Details"})})})]},E.id)),s.length>0&&o.jsx("div",{className:"flex justify-center mt-2",children:o.jsx(Oe,{variant:"ghost",size:"sm",asChild:!0,children:o.jsx(Mt,{to:"/brand/announcements",children:"View All Announcements"})})})]})]})})]});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Brand Dashboard"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your brand content, trainings, and engagement"})]}),o.jsxs("div",{className:"flex space-x-2 mt-4 md:mt-0",children:[o.jsx(Oe,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Mt,{to:"/brand/content",children:[o.jsx(Fl,{className:"mr-1 h-4 w-4"})," Content"]})}),o.jsx(Oe,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Mt,{to:"/brand/trainings/new",children:[o.jsx(Eo,{className:"mr-1 h-4 w-4"})," New Training"]})}),o.jsx(Oe,{variant:"default",size:"sm",asChild:!0,children:o.jsxs(Mt,{to:"/brand/analytics",children:[o.jsx(EK,{className:"mr-1 h-4 w-4"})," Analytics"]})})]})]}),o.jsxs(qu,{defaultValue:"overview",children:[o.jsxs(gc,{className:"grid grid-cols-4 mb-4",children:[o.jsx(bn,{value:"overview",children:"Overview"}),o.jsx(bn,{value:"analytics",children:"Analytics"}),o.jsx(bn,{value:"roi",children:"ROI Calculator"}),o.jsx(bn,{value:"communities",children:"Communities"})]}),o.jsx(qn,{value:"overview",className:"space-y-6",children:I()}),o.jsx(qn,{value:"analytics",children:o.jsx(O9e,{brandId:t,embedded:!0})}),o.jsx(qn,{value:"roi",children:o.jsx(R9e,{brandId:t,embedded:!0})}),o.jsx(qn,{value:"communities",children:o.jsx(Q9e,{brandId:t})})]})]})};function YH(){var u,d;const{user:t,isBrandManager:e}=Vn(),n=ps(),{brandId:r}=Bf(),[i,s]=N.useState(!1),{logout:a}=N6e();if(N.useEffect(()=>{if(!t){n("/auth/login");return}if(!e&&t.role!=="super_admin"){n("/");return}},[t,e,n]),N.useEffect(()=>{t!=null&&t.brandId&&!r&&n(`/brand/${t.brandId}/dashboard`)},[t,r,n]),!t)return o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(!t.brandId&&t.role!=="super_admin")return o.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[o.jsx(Mv,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Brand Access"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your account doesn't have a brand assigned. Please contact an administrator to get access to a brand dashboard."}),o.jsx(Oe,{onClick:()=>n("/"),children:"Return to Home"})]})});if(t.role==="super_admin"&&!r)return o.jsx(h6e,{});const l=r||t.brandId;return o.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[i&&o.jsx("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",onClick:()=>s(!1)}),o.jsx("div",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:h-screen
        ${i?"translate-x-0":"-translate-x-full"}
      `,children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-5 border-b border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(QS,{className:"h-6 w-6 text-brand-primary"}),o.jsx("h2",{className:"ml-2 text-xl font-bold text-gray-900 dark:text-gray-100",children:"Brand Portal"})]}),o.jsx("button",{className:"lg:hidden text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:()=>s(!1),children:o.jsx(NM,{className:"h-6 w-6"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:o.jsxs("nav",{className:"px-2 space-y-1",children:[o.jsxs(Mt,{to:`/brand/${l}/dashboard`,className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:[o.jsx(OK,{className:"mr-3 h-5 w-5"}),"Dashboard"]}),o.jsxs(Mt,{to:`/brand/${l}/analytics`,className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:[o.jsx(EK,{className:"mr-3 h-5 w-5"}),"Analytics"]}),o.jsxs(Mt,{to:`/brand/${l}/content`,className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:[o.jsx(Fl,{className:"mr-3 h-5 w-5"}),"Content Manager"]}),o.jsxs(Mt,{to:`/brand/${l}/trainings`,className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:[o.jsx(Eo,{className:"mr-3 h-5 w-5"}),"Trainings"]}),o.jsxs(Mt,{to:`/brand/${l}/communities`,className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:[o.jsx(ei,{className:"mr-3 h-5 w-5"}),"Communities"]}),o.jsxs(Mt,{to:`/brand/${l}/samples`,className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:[o.jsx(Iv,{className:"mr-3 h-5 w-5"}),"Sample Requests"]}),o.jsxs(Mt,{to:`/brand/${l}/announcements`,className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:[o.jsx(Pv,{className:"mr-3 h-5 w-5"}),"Announcements"]}),o.jsxs(Mt,{to:`/brand/${l}/config`,className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:[o.jsx(lc,{className:"mr-3 h-5 w-5"}),"Settings"]}),o.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-2"}),o.jsxs(Mt,{to:"/",className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:[o.jsx(zu,{className:"mr-3 h-5 w-5"}),"View as Staff"]}),o.jsxs("a",{href:"https://help.engagenatural.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:[o.jsx(CK,{className:"mr-3 h-5 w-5"}),"Help Center",o.jsx(Dye,{className:"ml-auto h-4 w-4"})]})]})}),o.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs(Jw,{children:[o.jsx(e1,{src:t.profileImage}),o.jsx(t1,{className:"bg-brand-primary text-white",children:((u=t.displayName)==null?void 0:u.charAt(0))||((d=t.email)==null?void 0:d.charAt(0))||"U"})]}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.displayName||t.email}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.role})]}),o.jsxs(Om,{children:[o.jsx(Rm,{asChild:!0,children:o.jsx("button",{className:"ml-auto text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:o.jsx(bM,{className:"h-4 w-4"})})}),o.jsxs(lf,{align:"end",children:[o.jsx(hb,{children:"My Account"}),o.jsxs(Cn,{children:[o.jsx(Iw,{className:"mr-2 h-4 w-4"})," Profile"]}),o.jsxs(Cn,{children:[o.jsx(lc,{className:"mr-2 h-4 w-4"})," Settings"]}),o.jsx(hu,{}),o.jsxs(Cn,{onClick:a,children:[o.jsx(JS,{className:"mr-2 h-4 w-4"})," Logout"]})]})]})]})})]})}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx("div",{className:"bg-white dark:bg-gray-800 shadow",children:o.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16",children:[o.jsx("div",{className:"flex",children:o.jsx("button",{className:"px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-brand-primary lg:hidden",onClick:()=>s(!0),children:o.jsx(uve,{className:"h-6 w-6"})})}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Em,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Search...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md leading-5 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-brand-primary focus:border-brand-primary sm:text-sm"})]}),o.jsx("div",{className:"ml-4",children:o.jsxs(Oe,{variant:"outline",size:"sm",children:[o.jsx(xM,{className:"mr-2 h-4 w-4"})," Calendar"]})}),o.jsx("div",{className:"ml-4",children:o.jsxs(Oe,{variant:"outline",size:"sm",children:[o.jsx(sb,{className:"mr-2 h-4 w-4"})," Export"]})})]})]})})}),o.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 dark:bg-gray-900 p-4 sm:p-6 lg:p-8",children:o.jsx(Z9e,{brandId:l})})]})]})}const mO=!1;function J9e(){const[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,s]=N.useState(null),[a,l]=N.useState("all"),[u,d]=N.useState({title:"",description:"",content:"",imageUrl:"",published:!1,brandId:""}),[h,m]=N.useState(!1),[g,v]=N.useState(null),[b,_]=N.useState(!1),[x,j]=N.useState(null),[A,C]=N.useState(!1),[P,T]=N.useState(!1),{user:I,brandId:E}=Vn();N.useEffect(()=>{k()},[]);const k=async()=>{r(!0),s(null);try{const W=ft(xe,"lessons"),Z=(await m6e(W,"LessonsManager list")).docs.map(te=>({id:te.id,...te.data()}));Z.sort((te,ne)=>te.createdAt&&ne.createdAt?ne.createdAt.seconds-te.createdAt.seconds:0),e(Z)}catch(W){console.error("Error fetching lessons:",W),s("Failed to fetch lessons. Please try again."),zn.error("Failed to fetch lessons.")}finally{r(!1)}},O=W=>{if(!W)return"";const z=typeof W=="object"&&W.url?W.url:W;return typeof z!="string"?(console.warn("Invalid URL format received:",z),""):z},D=W=>{const{name:z,value:Z,type:te,checked:ne}=W.target;d({...u,[z]:te==="checkbox"?ne:Z})},M=W=>{try{console.debug("File upload complete, result:",W);const z=O(W);d({...u,imageUrl:z}),T(!1),zn.success("Image uploaded successfully.")}catch(z){console.error("Error processing upload result:",z),T(!1),zn.error("Failed to process uploaded image.")}},V=W=>{console.error("File upload error:",W),T(!1),zn.error(W.message||"Failed to upload image.")},$=async W=>{W.preventDefault(),_(!0);try{const z={...u,brandId:E||"default",updatedAt:new Date};if(h)await Zr(Je(xe,"lessons",g),z),zn.success("Your lesson has been updated successfully."),m(!1),v(null);else{z.createdAt=new Date;const Z=await Ba(ft(xe,"lessons"),z);zn.success("Your lesson has been created successfully."),d({title:"",description:"",content:"",imageUrl:"",published:!1,brandId:E||"default"})}k()}catch(z){console.error("Error saving lesson:",z),zn.error("Failed to save lesson. Please try again.")}finally{_(!1)}},X=async(W,z)=>{if(confirm("Are you sure you want to delete this lesson?"))try{if(await Ja(Je(xe,"lessons",W)),z)try{let Z;if(!(mO&&z.includes("localhost"))){const te=z.split("/o/")[1];te&&(Z=decodeURIComponent(te.split("?")[0]))}if(Z){const te=KS(_f,Z);await Zpe(te)}}catch(Z){console.error("Error deleting image:",Z)}e(t.filter(Z=>Z.id!==W)),zn.success("The lesson has been deleted successfully.")}catch(Z){console.error("Error deleting lesson:",Z),zn.error("Failed to delete lesson. Please try again.")}},H=async W=>{try{const z=await vi(Je(xe,"lessons",W));if(z.exists()){const Z=z.data();d({title:Z.title||"",description:Z.description||"",content:Z.content||"",imageUrl:Z.imageUrl||"",published:Z.published||!1,brandId:Z.brandId||E||"default"}),m(!0),v(W),window.scrollTo({top:0,behavior:"smooth"})}}catch(z){console.error("Error fetching lesson for edit:",z),zn.error("Failed to load lesson for editing.")}},U=async W=>{try{const z=await vi(Je(xe,"lessons",W));z.exists()&&(j({id:W,...z.data()}),C(!0))}catch(z){console.error("Error fetching lesson for preview:",z),zn.error("Failed to load lesson preview.")}},q=()=>{m(!1),v(null),d({title:"",description:"",content:"",imageUrl:"",published:!1,brandId:E||"default"})},G=t.filter(W=>a==="all"?!0:a==="published"?W.published:a==="drafts"?!W.published:!0);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[o.jsx("div",{className:"lg:col-span-3",children:o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:h?"Edit Lesson":"Create New Lesson"}),o.jsx($t,{children:h?"Update the lesson details below":"Fill in the details to create a new lesson"})]}),o.jsx(Fe,{children:o.jsxs("form",{onSubmit:$,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"title",children:"Title"}),o.jsx(bt,{id:"title",name:"title",value:u.title,onChange:D,placeholder:"Enter lesson title",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"description",children:"Description"}),o.jsx(wu,{id:"description",name:"description",value:u.description,onChange:D,placeholder:"Enter a short description",rows:2})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"content",children:"Content"}),o.jsx(wu,{id:"content",name:"content",value:u.content,onChange:D,placeholder:"Enter lesson content",rows:6,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{children:"Cover Image"}),o.jsxs("div",{className:"flex flex-col space-y-2",children:[o.jsxs("div",{className:"flex flex-col space-y-1 mb-1",children:[o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[o.jsxs("span",{className:"inline-flex items-center mr-2 text-blue-600",children:[o.jsx(ME,{className:"h-3.5 w-3.5 mr-1"}),o.jsx("span",{className:"font-medium",children:"Image requirements:"})]}),o.jsx("span",{className:"text-xs",children:"16:9 ratio (1600900pxrecommended)  Max5MB"})]}),o.jsx("div",{className:"flex items-center",children:o.jsxs("a",{href:"https://www.iloveimg.com/resize-image",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-xs text-blue-600 hover:text-blue-800",children:[o.jsx("span",{className:"underline",children:"Need to resize an image?"}),o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"ml-1",children:[o.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),o.jsx("polyline",{points:"15 3 21 3 21 9"}),o.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]})})]}),u.imageUrl&&o.jsx("div",{className:"relative aspect-video w-full max-w-md overflow-hidden rounded-md border border-gray-200",children:o.jsx("img",{src:u.imageUrl,alt:"Cover",className:"h-full w-full object-cover",onError:W=>{W.target.onerror=null,W.target.src="https://placehold.co/600x400?text=Image+Not+Found"}})}),u.imageUrl&&mO,o.jsx(j6e,{onUploadComplete:M,onUploadError:V,folder:"lessons",brandId:E,buttonText:"Upload Cover Image",allowedTypes:["image/jpeg","image/png","image/webp"],maxSizeMB:5,resizeImage:!0,maxWidth:1600,maxHeight:900,quality:.85})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"published",name:"published",checked:u.published,onChange:D,className:"h-4 w-4 rounded border-gray-300"}),o.jsx(ze,{htmlFor:"published",children:"Publish this lesson"})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Oe,{type:"submit",disabled:b,children:b?o.jsxs(o.Fragment,{children:[o.jsx(Bl,{className:"mr-2 h-4 w-4 animate-spin"}),h?"Updating...":"Creating..."]}):o.jsx(o.Fragment,{children:h?"Update Lesson":"Create Lesson"})}),h&&o.jsx(Oe,{type:"button",variant:"outline",onClick:q,children:"Cancel"})]})]})})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(De,{className:"sticky top-4",children:[o.jsxs(He,{className:"pb-2",children:[o.jsx(Ge,{children:"Live Preview"}),o.jsx($t,{children:"See how your lesson will appear"})]}),o.jsxs(Fe,{className:"space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold break-words",children:u.title||"Lesson Title"}),u.imageUrl?o.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-md bg-gray-100",children:o.jsx("img",{src:u.imageUrl,alt:u.title,className:"h-full w-full object-cover",onError:W=>{W.target.onerror=null,W.target.src="https://placehold.co/600x400?text=Image+Not+Found"}})}):o.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-md bg-gray-100 flex items-center justify-center",children:o.jsx(ME,{className:"h-12 w-12 text-gray-300"})}),o.jsx("div",{className:"font-medium text-gray-700",children:u.description||"Lesson description will appear here"}),o.jsx(eI,{className:"h-[300px] rounded border p-4",children:o.jsx("div",{className:"prose max-w-none",children:u.content?u.content.split(`
`).map((W,z)=>o.jsx("p",{children:W},z)):o.jsx("p",{className:"text-gray-400",children:"Lesson content will appear here"})})}),o.jsx(un,{variant:u.published?"success":"secondary",children:u.published?"Published":"Draft"})]})]})})]}),o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Manage Lessons"}),o.jsx($t,{children:"View, edit, and delete existing lessons"})]}),o.jsx(Fe,{children:o.jsxs(qu,{value:a,onValueChange:l,children:[o.jsxs(gc,{className:"mb-4",children:[o.jsx(bn,{value:"all",children:"All Lessons"}),o.jsx(bn,{value:"published",children:"Published"}),o.jsx(bn,{value:"drafts",children:"Drafts"})]}),n?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(Bl,{className:"h-8 w-8 animate-spin text-primary"}),o.jsx("span",{className:"ml-2",children:"Loading lessons..."})]}):i?o.jsxs(Wa,{variant:"destructive",children:[o.jsx(Oi,{className:"h-4 w-4"}),o.jsx(Zm,{children:"Error"}),o.jsx(Ga,{children:i})]}):G.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[o.jsx(ME,{className:"h-12 w-12 text-muted-foreground"}),o.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No lessons found"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:a==="all"?"Get started by creating your first lesson":a==="published"?"No published lessons found":"No draft lessons found"})]}):o.jsx("div",{className:"space-y-4",children:G.map(W=>o.jsx(De,{className:"overflow-hidden",children:o.jsxs("div",{className:"flex flex-col md:flex-row",children:[W.imageUrl&&o.jsx("div",{className:"aspect-video w-full md:w-1/4 overflow-hidden",children:o.jsx("img",{src:W.imageUrl,alt:W.title,className:"h-full w-full object-cover",onError:z=>{z.target.onerror=null,z.target.src="https://placehold.co/600x400?text=Image+Not+Found"}})}),o.jsxs("div",{className:"flex-1 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-medium",children:W.title}),o.jsx(un,{variant:W.published?"success":"secondary",children:W.published?"Published":"Draft"})]}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground line-clamp-2",children:W.description||"No description provided"}),o.jsxs("div",{className:"mt-4 flex space-x-2",children:[o.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>U(W.id),children:[o.jsx(zu,{className:"mr-1 h-4 w-4"}),"Preview"]}),o.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>H(W.id),children:[o.jsx(yve,{className:"mr-1 h-4 w-4"}),"Edit"]}),o.jsxs(Oe,{variant:"outline",size:"sm",className:"text-red-500 hover:bg-red-50 hover:text-red-600",onClick:()=>X(W.id,W.imageUrl),children:[o.jsx(ab,{className:"mr-1 h-4 w-4"}),"Delete"]})]})]})]})},W.id))})]})})]}),x&&o.jsx(Xm,{open:A,onOpenChange:C,children:o.jsxs(Nf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Qm,{children:[o.jsx(Af,{children:x.title}),o.jsx(Ef,{children:x.description})]}),x.imageUrl&&o.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-md",children:o.jsx("img",{src:x.imageUrl,alt:x.title,className:"h-full w-full object-cover",onError:W=>{W.target.onerror=null,W.target.src="https://placehold.co/600x400?text=Image+Not+Found"}})}),o.jsx(eI,{className:"h-[400px] rounded-md border p-4",children:o.jsx("div",{className:"prose max-w-none",children:x.content.split(`
`).map((W,z)=>o.jsx("p",{children:W},z))})}),o.jsx(Dw,{children:o.jsx(Oe,{onClick:()=>C(!1),children:"Close"})})]})})]})}function eze(){const[t,e]=N.useState("overview"),{user:n,brandId:r,brandName:i}=Vn(),s=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold",children:[i||"Brand"," Dashboard"]}),o.jsx("p",{className:"text-muted-foreground",children:s})]}),o.jsxs("div",{className:"mt-4 md:mt-0 flex space-x-2",children:[o.jsxs(Oe,{variant:"outline",size:"sm",children:[o.jsx(lc,{className:"h-4 w-4 mr-2"}),"Settings"]}),o.jsxs(Oe,{size:"sm",children:[o.jsx(Fl,{className:"h-4 w-4 mr-2"}),"View Site"]})]})]}),o.jsxs(qu,{value:t,onValueChange:e,className:"space-y-6",children:[o.jsxs(gc,{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[o.jsxs(bn,{value:"overview",className:"flex items-center",children:[o.jsx(tve,{className:"h-4 w-4 mr-2"}),"Overview"]}),o.jsxs(bn,{value:"lessons",className:"flex items-center",children:[o.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Lessons"]}),o.jsxs(bn,{value:"communities",className:"flex items-center",children:[o.jsx(ei,{className:"h-4 w-4 mr-2"}),"Communities"]}),o.jsxs(bn,{value:"other",className:"flex items-center",children:[o.jsx(Fl,{className:"h-4 w-4 mr-2"}),"Other Content"]})]}),o.jsxs(qn,{value:"overview",className:"space-y-6",children:[o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Welcome to your Content Dashboard"}),o.jsx($t,{children:"Manage all your brand content from this central location"})]}),o.jsx(Fe,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(De,{className:"bg-blue-50",children:[o.jsx(He,{className:"pb-2",children:o.jsxs(Ge,{className:"text-lg flex items-center",children:[o.jsx(Eo,{className:"h-5 w-5 mr-2 text-blue-600"}),"Lessons"]})}),o.jsxs(Fe,{children:[o.jsx("p",{className:"text-2xl font-bold",children:"0"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Published lessons"}),o.jsx(Oe,{variant:"link",className:"p-0 mt-2",onClick:()=>e("lessons"),children:"Manage Lessons "})]})]}),o.jsxs(De,{className:"bg-green-50",children:[o.jsx(He,{className:"pb-2",children:o.jsxs(Ge,{className:"text-lg flex items-center",children:[o.jsx(ei,{className:"h-5 w-5 mr-2 text-green-600"}),"Communities"]})}),o.jsxs(Fe,{children:[o.jsx("p",{className:"text-2xl font-bold",children:"0"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Active communities"}),o.jsx(Oe,{variant:"link",className:"p-0 mt-2",onClick:()=>e("communities"),children:"Manage Communities "})]})]}),o.jsxs(De,{className:"bg-purple-50",children:[o.jsx(He,{className:"pb-2",children:o.jsxs(Ge,{className:"text-lg flex items-center",children:[o.jsx(Fl,{className:"h-5 w-5 mr-2 text-purple-600"}),"Other Content"]})}),o.jsxs(Fe,{children:[o.jsx("p",{className:"text-2xl font-bold",children:"0"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Content pieces"}),o.jsx(Oe,{variant:"link",className:"p-0 mt-2",onClick:()=>e("other"),children:"Manage Content "})]})]})]})})]}),o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Quick Tips"}),o.jsx($t,{children:"Get the most out of your brand dashboard"})]}),o.jsxs(Fe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"bg-blue-100 p-2 rounded-full mr-4",children:o.jsx(Eo,{className:"h-5 w-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Create Engaging Lessons"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Use high-quality images and clear, concise content to engage your audience."})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-4",children:o.jsx(ei,{className:"h-5 w-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Build Active Communities"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Organize your communities with relevant topics and encourage participation."})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"bg-purple-100 p-2 rounded-full mr-4",children:o.jsx(lc,{className:"h-5 w-5 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Customize Your Settings"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your brand profile and preferences in the settings section."})]})]})]})]})]}),o.jsx(qn,{value:"lessons",children:o.jsx(J9e,{})}),o.jsx(qn,{value:"communities",children:o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Communities Manager"}),o.jsx($t,{children:"Create and manage communities for your brand"})]}),o.jsxs(Fe,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(ei,{className:"h-16 w-16 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Communities Coming Soon"}),o.jsx("p",{className:"text-center text-muted-foreground max-w-md mb-6",children:"This feature is under development. Soon you'll be able to create and manage communities for your brand."}),o.jsx(Oe,{disabled:!0,children:"Create Community"})]})]})}),o.jsx(qn,{value:"other",children:o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Other Content"}),o.jsx($t,{children:"Manage additional content for your brand"})]}),o.jsxs(Fe,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(Fl,{className:"h-16 w-16 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Additional Content Types Coming Soon"}),o.jsx("p",{className:"text-center text-muted-foreground max-w-md mb-6",children:"We're working on supporting more content types. Check back soon for updates!"}),o.jsx(Oe,{disabled:!0,children:"Add Content"})]})]})})]})]})}const pO={mainTitle:{fontFamily:"Playfair Display, serif",fontWeight:"900",letterSpacing:"-0.015em",lineHeight:"1.1",color:"#000000"},sectionHeading:{fontFamily:"Playfair Display, serif",fontWeight:"800",letterSpacing:"-0.02em",lineHeight:"1.2",color:"#000000"},subsectionTitle:{fontFamily:"Inter, sans-serif",fontWeight:"700",letterSpacing:"-0.005em",lineHeight:"1.3",color:"#000000"}};function tze(){var v;const{id:t}=Bf(),e=ps(),[n,r]=N.useState(null),[i,s]=N.useState([]),[a,l]=N.useState({training:!0,progress:!0}),[u,d]=N.useState({training:null,progress:null}),h=b=>{if(!b)return"N/A";if(b<60)return`${b} min`;{const _=Math.floor(b/60),x=b%60;return x>0?`${_}h ${x}m`:`${_}h`}},m=b=>b?(b.toDate?b.toDate():new Date(b)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";N.useEffect(()=>{if(!t)return;const b=Je(xe,"trainings",t),_=wr(b,x=>{x.exists()?r({id:x.id,...x.data()}):d(j=>({...j,training:"Training not found"})),l(j=>({...j,training:!1}))},x=>{console.error("Error loading training:",x),d(j=>({...j,training:x.message})),nS(x,"TrainingDetail: training doc"),l(j=>({...j,training:!1}))});return()=>_()},[t]),N.useEffect(()=>{if(!t)return;const b=Zt(ft(xe,"training_progress"),Dt("trainingId","==",t),gi("updatedAt","desc")),_=p6e(b,async x=>{try{const j=x.docs.map(C=>({id:C.id,...C.data()})),A=await Promise.all(j.map(async C=>{try{const P=Je(xe,"users",C.userId),T=await vi(P);return T.exists()?{...C,user:{id:T.id,...T.data()}}:C}catch(P){return console.error("Error fetching user data:",P),C}}));s(A),l(C=>({...C,progress:!1}))}catch(j){console.error("Error loading progress data:",j),d(A=>({...A,progress:j.message})),l(A=>({...A,progress:!1}))}},x=>{console.error("Error in progress snapshot:",x),nS(x,"TrainingDetail: progress"),d(j=>({...j,progress:x.message})),l(j=>({...j,progress:!1}))});return()=>_()},[t]);const g=N.useMemo(()=>{if(!i.length)return{total:0,completed:0,inProgress:0,notStarted:0,completionRate:0};const b=i.filter(x=>x.status==="completed").length,_=i.filter(x=>x.status==="in_progress").length;return{total:i.length,completed:b,inProgress:_,completionRate:i.length>0?Math.round(b/i.length*100):0}},[i]);return a.training?o.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-brand-primary"})}):u.training?o.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md p-6 border border-red-200",children:[o.jsxs("div",{className:"flex items-center text-red-600 mb-4",children:[o.jsx(Oi,{className:"h-6 w-6 mr-2"}),o.jsx("h2",{className:"text-xl font-semibold",children:"Error Loading Training"})]}),o.jsx("p",{className:"text-gray-700 mb-4",children:u.training}),o.jsxs("button",{onClick:()=>e("/brand/trainings"),className:"flex items-center text-brand-primary hover:text-brand-primary/80",children:[o.jsx(tv,{className:"h-4 w-4 mr-1"})," Back to Trainings"]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("div",{className:"mb-6",children:o.jsxs("button",{onClick:()=>e("/brand/trainings"),className:"flex items-center text-brand-primary hover:text-brand-primary/80",children:[o.jsx(tv,{className:"h-4 w-4 mr-1"})," Back to Trainings"]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200 mb-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl mb-2",style:pO.mainTitle,children:n.title}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(nv,{className:"h-4 w-4 mr-1"}),o.jsx("span",{children:h(n.durationMins)})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(xM,{className:"h-4 w-4 mr-1"}),o.jsxs("span",{children:["Created: ",m(n.createdAt)]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(ei,{className:"h-4 w-4 mr-1"}),o.jsxs("span",{children:[((v=n.metrics)==null?void 0:v.enrolled)||0," enrolled"]})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n.published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:n.published?"Published":"Draft"}),o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n.visibility==="public"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:n.visibility==="public"?"Public":"Restricted"})]})]}),o.jsx("p",{className:"text-gray-700 mb-6",children:n.description}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Category"}),o.jsx("p",{className:"text-gray-900",children:n.category||"Uncategorized"})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Last Updated"}),o.jsx("p",{className:"text-gray-900",children:m(n.updatedAt)})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Content Type"}),o.jsx("p",{className:"text-gray-900",children:n.contentType||"Mixed Content"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx(Mt,{to:`/brand/trainings/${t}/edit`,className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90",children:"Edit Training"}),o.jsx(Mt,{to:`/brand/trainings/${t}/preview`,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Preview Training"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200 mb-6",children:[o.jsx("h2",{className:"text-2xl mb-6",style:pO.sectionHeading,children:"User Progress"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[o.jsx("h3",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Users"}),o.jsx("p",{className:"text-3xl font-bold text-blue-900",children:g.total})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:[o.jsx("h3",{className:"text-sm font-medium text-green-700 mb-1",children:"Completed"}),o.jsx("p",{className:"text-3xl font-bold text-green-900",children:g.completed})]}),o.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-100",children:[o.jsx("h3",{className:"text-sm font-medium text-yellow-700 mb-1",children:"In Progress"}),o.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:g.inProgress})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[o.jsx("h3",{className:"text-sm font-medium text-purple-700 mb-1",children:"Completion Rate"}),o.jsxs("p",{className:"text-3xl font-bold text-purple-900",children:[g.completionRate,"%"]})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[o.jsx("span",{children:"Progress Overview"}),o.jsxs("span",{children:[g.completionRate,"% Complete"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx("div",{className:"bg-brand-primary h-2.5 rounded-full",style:{width:`${g.completionRate}%`}})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl mb-4",style:pO.subsectionTitle,children:"User Progress Details"}),a.progress?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-brand-primary"})}):u.progress?o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:["Error loading progress data: ",u.progress]}):i.length===0?o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:[o.jsx(ei,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No users enrolled"}),o.jsx("p",{className:"text-gray-500",children:"No one has started this training yet. Share it with your team to get started."})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Spent"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(b=>{var _,x,j;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:(_=b.user)!=null&&_.profileImage?typeof b.user.profileImage=="string"&&b.user.profileImage.startsWith("http")?o.jsx("img",{src:b.user.profileImage,alt:"",className:"h-10 w-10 rounded-full object-cover"}):o.jsx("span",{children:b.user.profileImage}):o.jsx("span",{children:""})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:((x=b.user)==null?void 0:x.name)||"Unknown User"}),o.jsx("div",{className:"text-sm text-gray-500",children:((j=b.user)==null?void 0:j.email)||b.userId})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${b.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:b.status==="completed"?"Completed":"In Progress"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m(b.startedAt)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.completedAt?m(b.completedAt):"-"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.timeSpentMins?h(b.timeSpentMins):"-"})]},b.id)})})]})})]})]})]})})}function nze({user:t,profileImage:e,showAvatarSelector:n,setShowAvatarSelector:r,avatarOptions:i,uploadProfileImage:s,selectAvatar:a,getStatusBadge:l}){const u=N.useRef(null);return o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[o.jsx("h2",{className:"font-heading text-xl font-semibold mb-4",children:"Profile Information"}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsxs("div",{className:"relative inline-block",children:[o.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center text-4xl overflow-hidden mx-auto",children:e?typeof e=="string"&&e.startsWith("http")?o.jsx("img",{src:e,alt:"Profile",className:"w-full h-full object-cover"}):o.jsx("span",{children:e}):o.jsx("span",{children:""})}),o.jsx("button",{onClick:()=>r(!0),className:"absolute bottom-0 right-0 bg-brand-primary text-white rounded-full p-2 hover:bg-brand-primary/90",children:""})]}),n&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[o.jsx("h3",{className:"font-heading text-lg font-semibold mb-4",children:"Choose Profile Picture"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Photo"}),o.jsx("input",{type:"file",accept:"image/*",onChange:d=>{d.target.files[0]&&(s(d.target.files[0]),r(!1))},className:"w-full",ref:u})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Or Choose Avatar"}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:i.map((d,h)=>o.jsx("button",{onClick:()=>a(d),className:"w-12 h-12 text-2xl hover:bg-gray-100 rounded-lg transition-colors",children:d},h))})]})]}),o.jsx("div",{className:"flex justify-end mt-6",children:o.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"})})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),o.jsx("p",{className:"font-medium",children:(t==null?void 0:t.name)||(t==null?void 0:t.displayName)||"New User"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),o.jsx("p",{className:"font-medium",children:t==null?void 0:t.email})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Store"}),o.jsx("p",{className:"font-medium",children:(t==null?void 0:t.storeName)||(t==null?void 0:t.storeCode)||"Unknown Store"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Verification Status"}),o.jsx("div",{className:"mt-1",children:l()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Total Points"}),o.jsx("p",{className:"font-medium text-brand-primary",children:(t==null?void 0:t.points)||0})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Level"}),o.jsx("p",{className:"font-medium",children:(t==null?void 0:t.level)||1})]})]})]})}const V_={sectionHeading:{fontFamily:"Playfair Display, serif",fontWeight:"800",letterSpacing:"-0.02em",lineHeight:"1.2",color:"#000000"},subsectionTitle:{fontFamily:"Inter, sans-serif",fontWeight:"700",letterSpacing:"-0.005em",lineHeight:"1.3",color:"#000000"}};function rze(){var G;const{id:t}=Bf(),e=ps(),{user:n}=Vn(),[r,i]=N.useState(null),[s,a]=N.useState(null),[l,u]=N.useState(0),[d,h]=N.useState({training:!0,progress:!0}),[m,g]=N.useState({training:null,progress:null}),[v,b]=N.useState(!1),[_,x]=N.useState(!0),j=N.useRef(null),A=N.useRef(null),C=N.useRef(0),P=W=>{if(!W)return"N/A";if(W<60)return`${W} min`;{const z=Math.floor(W/60),Z=W%60;return Z>0?`${z}h ${Z}m`:`${z}h`}},T=W=>W?(W.toDate?W.toDate():new Date(W)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";N.useEffect(()=>{if(!t)return;const W=Je(xe,"trainings",t),z=wr(W,Z=>{Z.exists()?i({id:Z.id,...Z.data()}):g(te=>({...te,training:"Training not found"})),h(te=>({...te,training:!1}))},Z=>{console.error("Error loading training:",Z),g(te=>({...te,training:Z.message})),h(te=>({...te,training:!1}))});return()=>z()},[t]),N.useEffect(()=>{if(!t||!(n!=null&&n.uid))return;const W=`${n.uid}_${t}`,z=Je(xe,"training_progress",W),Z=wr(z,async te=>{if(te.exists())a({id:te.id,...te.data()});else try{const ne={id:W,userId:n.uid,trainingId:t,status:"in_progress",startedAt:Ye(),updatedAt:Ye(),completedSections:[],currentSection:0,timeSpentMins:0};await Bs(z,ne),a(ne)}catch(ne){console.error("Error creating progress document:",ne),g(ge=>({...ge,progress:ne.message}))}h(ne=>({...ne,progress:!1}))},te=>{console.error("Error loading progress:",te),g(ne=>({...ne,progress:te.message})),h(ne=>({...ne,progress:!1}))});return()=>Z()},[t,n==null?void 0:n.uid]),N.useEffect(()=>{(s==null?void 0:s.currentSection)!==void 0&&s.currentSection!==l&&u(s.currentSection)},[s==null?void 0:s.currentSection,l]),N.useEffect(()=>{const W=s==null?void 0:s.id;if(!W||!(n!=null&&n.uid))return;C.current=s.timeSpentMins||0,A.current=setInterval(()=>{C.current+=1/60},1e3);const z=setInterval(async()=>{try{const Z=Je(xe,"training_progress",W);await Zr(Z,{timeSpentMins:Math.round(C.current),updatedAt:Ye()})}catch(Z){console.error("Error updating time spent:",Z)}},6e4);return()=>{clearInterval(A.current),clearInterval(z);const Z=Je(xe,"training_progress",W);Zr(Z,{timeSpentMins:Math.round(C.current),updatedAt:Ye()}).catch(te=>{console.error("Error updating final time spent:",te)})}},[s==null?void 0:s.id,n==null?void 0:n.uid]);const I=N.useMemo(()=>!(r!=null&&r.sections)||!r.sections.length?null:r.sections[l]||r.sections[0],[r,l]),E=N.useMemo(()=>(s==null?void 0:s.completedSections)||[],[s]),k=N.useMemo(()=>I?E.includes(I.id):!1,[I,E]),O=N.useMemo(()=>{var W;return((W=r==null?void 0:r.sections)==null?void 0:W.length)||0},[r]),D=N.useMemo(()=>O?Math.round(E.length/O*100):0,[E,O]),M=N.useMemo(()=>O?E.length===O:!1,[E,O]),V=()=>{l<O-1&&(u(W=>W+1),H(l+1))},$=()=>{l>0&&(u(W=>W-1),H(l-1))},X=W=>{W>=0&&W<O&&(u(W),H(W))},H=async W=>{if(s!=null&&s.id)try{const z=Je(xe,"training_progress",s.id);await Zr(z,{currentSection:W,updatedAt:Ye()})}catch(z){console.error("Error updating current section:",z)}},U=async()=>{if(!(!(s!=null&&s.id)||!(I!=null&&I.id)||k||v)){b(!0);try{const W=[...E];W.includes(I.id)||W.push(I.id);const z=Je(xe,"training_progress",s.id);await Zr(z,{completedSections:W,updatedAt:Ye()}),W.length===O&&await Zr(z,{status:"completed",completedAt:Ye()})}catch(W){console.error("Error marking section complete:",W)}finally{b(!1)}}},q=async()=>{if(!(!(s!=null&&s.id)||!M||v)){b(!0);try{const W=Je(xe,"training_progress",s.id);await Zr(W,{status:"completed",completedAt:Ye(),updatedAt:Ye()})}catch(W){console.error("Error marking training complete:",W)}finally{b(!1)}}};return d.training||d.progress?o.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-brand-primary mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading training content..."})]})}):m.training||m.progress?o.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md p-6 border border-red-200",children:[o.jsxs("div",{className:"flex items-center text-red-600 mb-4",children:[o.jsx(Oi,{className:"h-6 w-6 mr-2"}),o.jsx("h2",{className:"text-xl font-semibold",children:"Error Loading Training"})]}),o.jsx("p",{className:"text-gray-700 mb-4",children:m.training||m.progress}),o.jsxs("button",{onClick:()=>e("/staff/dashboard"),className:"flex items-center text-brand-primary hover:text-brand-primary/80",children:[o.jsx(tv,{className:"h-4 w-4 mr-1"})," Back to Dashboard"]})]})}):r?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:()=>e("/staff/dashboard"),className:"flex items-center text-brand-primary hover:text-brand-primary/80",children:[o.jsx(tv,{className:"h-4 w-4 mr-1"})," Back to Dashboard"]}),o.jsx("div",{className:"text-center flex-1 mx-4",children:o.jsx("h1",{className:"text-xl md:text-2xl truncate",style:V_.sectionHeading,children:r.title})}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("button",{onClick:()=>x(!_),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg","aria-label":"Toggle sidebar",children:o.jsx(rve,{className:"h-5 w-5"})})})]})})}),o.jsx("div",{className:"bg-white border-b",children:o.jsxs("div",{className:"container mx-auto px-4 py-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-1",children:[o.jsxs("span",{children:["Progress: ",D,"%"]}),o.jsxs("span",{children:[E.length," of ",O," sections"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-brand-primary h-2 rounded-full transition-all duration-300",style:{width:`${D}%`}})})]})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[_&&o.jsxs("div",{className:"md:w-64 bg-white rounded-lg shadow-md p-4 h-fit sticky top-24",children:[o.jsx("h2",{className:"text-lg mb-4",style:V_.subsectionTitle,children:"Sections"}),o.jsx("ul",{className:"space-y-2",children:(G=r.sections)==null?void 0:G.map((W,z)=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>X(z),className:`w-full text-left px-3 py-2 rounded-lg flex items-center justify-between ${l===z?"bg-brand-primary text-white":E.includes(W.id)?"bg-green-50 text-green-800":"hover:bg-gray-100"}`,children:[o.jsxs("span",{className:"truncate flex-1 text-sm",children:[z+1,". ",W.title]}),E.includes(W.id)&&o.jsx(cs,{className:"h-4 w-4 ml-2 flex-shrink-0"})]})},W.id))}),(s==null?void 0:s.status)==="completed"?o.jsx("div",{className:"mt-6 bg-green-50 text-green-800 p-3 rounded-lg text-sm",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(cs,{className:"h-5 w-5 mr-2"}),o.jsxs("span",{children:["Completed on ",T(s.completedAt)]})]})}):M?o.jsxs("button",{onClick:q,disabled:v,className:"mt-6 w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[v?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}):o.jsx(cs,{className:"h-4 w-4 mr-2"}),"Mark Training Complete"]}):null]}),o.jsxs("div",{className:"flex-1",children:[I?o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[o.jsxs("div",{className:"bg-gray-50 border-b p-4",children:[o.jsx("h2",{className:"text-xl",style:V_.subsectionTitle,children:I.title}),k&&o.jsxs("div",{className:"mt-2 flex items-center text-green-600 text-sm",children:[o.jsx(cs,{className:"h-4 w-4 mr-1"}),o.jsx("span",{children:"Completed"})]})]}),o.jsxs("div",{className:"p-6",ref:j,children:[I.type==="video"&&I.videoUrl?o.jsx("div",{className:"aspect-video mb-6",children:o.jsx("iframe",{src:I.videoUrl,title:I.title,className:"w-full h-full rounded-lg",allowFullScreen:!0})}):null,I.content&&o.jsx("div",{className:"prose max-w-none",children:o.jsx("div",{dangerouslySetInnerHTML:{__html:I.content}})}),!I.content&&!I.videoUrl&&o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Eo,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No content available for this section."})]})]}),o.jsxs("div",{className:"border-t p-4 flex items-center justify-between",children:[o.jsxs("button",{onClick:$,disabled:l===0,className:"flex items-center px-4 py-2 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(xye,{className:"h-5 w-5 mr-1"}),"Previous"]}),o.jsx("div",{children:k?o.jsxs("span",{className:"text-green-600 flex items-center",children:[o.jsx(cs,{className:"h-5 w-5 mr-2"}),"Completed"]}):o.jsxs("button",{onClick:U,disabled:v,className:"flex items-center px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:[v?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}):o.jsx(cs,{className:"h-5 w-5 mr-2"}),"Mark Complete"]})}),o.jsxs("button",{onClick:V,disabled:l===O-1,className:"flex items-center px-4 py-2 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",o.jsx(_M,{className:"h-5 w-5 ml-1"})]})]})]}):o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[o.jsx(Oi,{className:"h-12 w-12 text-yellow-500 mx-auto mb-3"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No Content Available"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"This training doesn't have any sections yet."})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-6",children:[o.jsx("h3",{className:"text-lg mb-4",style:V_.subsectionTitle,children:"Training Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Description"}),o.jsx("p",{className:"text-gray-900",children:r.description})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Duration"}),o.jsx("p",{className:"text-gray-900",children:P(r.durationMins)})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Category"}),o.jsx("p",{className:"text-gray-900",children:r.category||"Uncategorized"})]}),(s==null?void 0:s.timeSpentMins)>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Your Time Spent"}),o.jsx("p",{className:"text-gray-900",children:P(s.timeSpentMins)})]})]})]})]})]})]})})]}):o.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex items-center text-yellow-600 mb-4",children:[o.jsx(Oi,{className:"h-6 w-6 mr-2"}),o.jsx("h2",{className:"text-xl font-semibold",children:"Training Not Found"})]}),o.jsx("p",{className:"text-gray-700 mb-4",children:"The requested training could not be found."}),o.jsxs("button",{onClick:()=>e("/staff/dashboard"),className:"flex items-center text-brand-primary hover:text-brand-primary/80",children:[o.jsx(tv,{className:"h-4 w-4 mr-1"})," Back to Dashboard"]})]})})}class ize extends Q.Component{constructor(n){super(n);rt(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,info:null,key:this.state.key+1})});this.state={hasError:!1,error:null,info:null,key:0}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){this.setState({info:r}),console.error("ErrorBoundary caught error",n,r)}render(){var n,r,i,s;return this.state.hasError?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-lg w-full border border-red-200",children:[o.jsxs("div",{className:"flex items-center text-red-600 mb-4",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),o.jsx("h2",{className:"text-xl font-bold",children:"Something went wrong"})]}),o.jsxs("div",{className:"mb-4 p-3 bg-red-50 rounded border border-red-100",children:[o.jsx("p",{className:"font-medium text-red-800",children:((n=this.state.error)==null?void 0:n.name)||"Error"}),o.jsx("p",{className:"text-red-700",children:((r=this.state.error)==null?void 0:r.message)||"An unknown error occurred"})]}),o.jsxs("details",{className:"mb-6 text-sm",children:[o.jsx("summary",{className:"cursor-pointer text-gray-600 hover:text-gray-800",children:"Show error details"}),o.jsxs("pre",{className:"mt-2 p-3 bg-gray-100 rounded overflow-auto text-xs text-gray-800 max-h-60",children:[((i=this.state.error)==null?void 0:i.stack)||"No stack trace available",((s=this.state.info)==null?void 0:s.componentStack)&&o.jsxs(o.Fragment,{children:[`

Component Stack:
`,this.state.info.componentStack]})]})]}),o.jsx("button",{onClick:this.handleRetry,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors",children:"Try Again"})]})}):this.props.children}}function sze(){return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-white shadow-sm border-b",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("div",{className:"flex items-center space-x-4",children:o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"EngageNatural"})})})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsx("div",{className:"w-full md:w-64 shrink-0",children:o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("nav",{className:"space-y-1",children:[o.jsxs(lm,{to:"/staff/profile",className:({isActive:t})=>`flex items-center px-4 py-3 rounded-md transition-colors ${t?"bg-brand-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[o.jsx("span",{className:"mr-3",children:"dY`"}),o.jsx("span",{children:"Profile"})]}),o.jsxs(lm,{to:"/staff/verification",className:({isActive:t})=>`flex items-center px-4 py-3 rounded-md transition-colors ${t?"bg-brand-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[o.jsx("span",{className:"mr-3",children:'dY"?'}),o.jsx("span",{children:"Verification"})]}),o.jsxs(lm,{to:"/staff/communities",className:({isActive:t})=>`flex items-center px-4 py-3 rounded-md transition-colors ${t?"bg-brand-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[o.jsx("span",{className:"mr-3",children:"dY`"}),o.jsx("span",{children:"Communities"})]}),o.jsxs(lm,{to:"/staff/my-brands",className:({isActive:t})=>`flex items-center px-4 py-3 rounded-md transition-colors ${t?"bg-brand-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[o.jsx("span",{className:"mr-3",children:"dY?"}),o.jsx("span",{children:"My Brands"})]}),o.jsxs(lm,{to:"/staff/learning",className:({isActive:t})=>`flex items-center px-4 py-3 rounded-md transition-colors ${t?"bg-brand-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[o.jsx("span",{className:"mr-3",children:'dY"s'}),o.jsx("span",{children:"Learning"})]})]})})}),o.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsx(aoe,{})})]})})]})}function aze(){const{user:t}=Vn(),[e,n]=N.useState(null),[r,i]=N.useState({interests:"",location:"",story:""}),[s,a]=N.useState({name:"",storeName:""}),[l,u]=N.useState(!1),[d,h]=N.useState(!1),[m,g]=N.useState(!1),[v,b]=N.useState(!1),[_,x]=N.useState(!0),j=["","","","","","","","","","","","","","","","","","","",""],A={mainTitle:{fontFamily:"Playfair Display, serif",fontWeight:"900",letterSpacing:"-0.015em",lineHeight:"1.1",color:"#000000"},sectionHeading:{fontFamily:"Playfair Display, serif",fontWeight:"800",letterSpacing:"-0.02em",lineHeight:"1.2",color:"#000000"},subsectionTitle:{fontFamily:"Inter, sans-serif",fontWeight:"700",letterSpacing:"-0.005em",lineHeight:"1.3",color:"#000000"}};N.useEffect(()=>{async function O(){if(t!=null&&t.uid)try{x(!0);const D=await vi(Je(xe,"users",t.uid));if(D.exists()){const M=D.data();i({interests:M.interests||"",location:M.location||"",story:M.story||""}),a({name:M.name||M.displayName||t.displayName||"New User",storeName:M.storeName||M.storeCode||"Unknown Store"}),n(M.profileImage||null)}}catch(D){console.error("Error loading user data:",D),alert("Error loading profile data. Please try again later.")}finally{x(!1)}}O()},[t==null?void 0:t.uid,t==null?void 0:t.displayName]);const C=()=>{const O="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium";switch((t==null?void 0:t.verificationStatus)||(t!=null&&t.verified?"approved":"pending")){case"approved":return o.jsx("span",{className:`${O} bg-green-100 text-green-800`,children:" Verified"});case"pending":return o.jsx("span",{className:`${O} bg-yellow-100 text-yellow-800`,children:" Under Review"});case"rejected":return o.jsx("span",{className:`${O} bg-red-100 text-red-800`,children:" Rejected"});default:return o.jsx("span",{className:`${O} bg-gray-100 text-gray-800`,children:" Not Verified"})}},P=async O=>{if(!(!O||!(t!=null&&t.uid))){b(!0);try{if(!_f)throw new Error("Firebase Storage not initialized");const D=KS(_f,`profile_images/${t.uid}/${Date.now()}_${O.name}`),M=await uK(D,O),V=await hM(M.ref);await Zr(Je(xe,"users",t.uid),{profileImage:V}),n(V),u(!1),alert("Profile photo uploaded successfully!")}catch(D){console.error("Error uploading avatar:",D),alert(`Error uploading photo: ${D.message}. Please check Firebase Storage setup.`)}finally{b(!1)}}},T=async O=>{if(t!=null&&t.uid){b(!0);try{await Zr(Je(xe,"users",t.uid),{profileImage:O}),n(O),u(!1)}catch(D){console.error("Error selecting avatar:",D),alert("Error updating avatar. Please try again.")}finally{b(!1)}}},I=async()=>{if(t!=null&&t.uid){b(!0);try{await Zr(Je(xe,"users",t.uid),{interests:r.interests,location:r.location,story:r.story}),h(!1),alert("About Me section updated successfully!")}catch(O){console.error("Error updating about me:",O),alert("Error updating information. Please try again.")}finally{b(!1)}}},E=async()=>{if(t!=null&&t.uid){b(!0);try{await Zr(Je(xe,"users",t.uid),{name:s.name,storeName:s.storeName}),g(!1),alert("Profile information updated successfully!")}catch(O){console.error("Error updating user info:",O),alert("Error updating information. Please try again.")}finally{b(!1)}}},k=()=>{const O=(t==null?void 0:t.verificationStatus)==="approved"||(t==null?void 0:t.verified)===!0;return o.jsxs("div",{className:"bg-gradient-to-r from-brand-primary/10 to-brand-secondary/10 rounded-lg p-6 border border-brand-primary/20",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",style:A.sectionHeading,children:O?" Verified Benefits":" Verification Benefits"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:`flex items-center space-x-3 ${O?"text-green-700":"text-gray-600"}`,children:[o.jsx("span",{children:O?"":""}),o.jsx("span",{children:"Access to premium communities (Supplement Scoop, Fresh Finds, Good Vibes)"})]}),o.jsxs("div",{className:`flex items-center space-x-3 ${O?"text-green-700":"text-gray-600"}`,children:[o.jsx("span",{children:O?"":""}),o.jsx("span",{children:"Exclusive brand challenges and training content"})]}),o.jsxs("div",{className:`flex items-center space-x-3 ${O?"text-green-700":"text-gray-600"}`,children:[o.jsx("span",{children:O?"":""}),o.jsx("span",{children:"Earn points to stand out to brands and become a super user"})]}),o.jsxs("div",{className:`flex items-center space-x-3 ${O?"text-green-700":"text-gray-600"}`,children:[o.jsx("span",{children:O?"":""}),o.jsx("span",{children:"Special access to prizes and exclusive product launches"})]}),o.jsxs("div",{className:`flex items-center space-x-3 ${O?"text-green-700":"text-gray-600"}`,children:[o.jsx("span",{children:O?"":""}),o.jsx("span",{children:"Career advancement - status follows you to help get jobs and negotiate raises"})]}),o.jsxs("div",{className:"flex items-center space-x-3 text-green-700",children:[o.jsx("span",{children:""}),o.jsx("span",{children:`Access to "What's Good" community (available to all!)`})]})]}),!O&&o.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:o.jsxs("p",{className:"text-yellow-800 text-sm",children:[o.jsx("strong",{children:"Current Status:"}),` You have access to "What's Good" community. Get verified to unlock premium communities and advance your career!`]})})]})};return _?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-brand-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",style:A.mainTitle,children:"Profile"}),o.jsx("p",{className:"text-gray-600",children:"Manage your profile information and verification status"})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[o.jsx("div",{className:"md:col-span-1",children:o.jsx(nze,{user:t,profileImage:e,showAvatarSelector:l,setShowAvatarSelector:u,avatarOptions:j,uploadProfileImage:P,selectAvatar:T,getStatusBadge:C})}),o.jsxs("div",{className:"md:col-span-2 space-y-6",children:[k(),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",style:A.subsectionTitle,children:"About Me"}),d?o.jsxs("div",{className:"space-x-2",children:[o.jsx("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700 text-sm font-medium",disabled:v,children:"Cancel"}),o.jsx("button",{onClick:I,className:"text-brand-primary hover:text-brand-primary/80 text-sm font-medium",disabled:v,children:v?"Saving...":"Save"})]}):o.jsx("button",{onClick:()=>h(!0),className:"text-brand-primary hover:text-brand-primary/80 text-sm font-medium",children:"Edit"})]}),d?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Interests"}),o.jsx("input",{type:"text",value:r.interests,onChange:O=>i({...r,interests:O.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-brand-primary focus:border-transparent",placeholder:"What are your interests?"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Location"}),o.jsx("input",{type:"text",value:r.location,onChange:O=>i({...r,location:O.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-brand-primary focus:border-transparent",placeholder:"Where are you based?"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"My Story"}),o.jsx("textarea",{value:r.story,onChange:O=>i({...r,story:O.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-brand-primary focus:border-transparent",placeholder:"Share your story...",rows:4})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Interests"}),o.jsx("p",{className:"text-gray-800",children:r.interests||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Location"}),o.jsx("p",{className:"text-gray-800",children:r.location||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"My Story"}),o.jsx("p",{className:"text-gray-800",children:r.story||"Not specified"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",style:A.subsectionTitle,children:"Profile Information"}),m?o.jsxs("div",{className:"space-x-2",children:[o.jsx("button",{onClick:()=>g(!1),className:"text-gray-500 hover:text-gray-700 text-sm font-medium",disabled:v,children:"Cancel"}),o.jsx("button",{onClick:E,className:"text-brand-primary hover:text-brand-primary/80 text-sm font-medium",disabled:v,children:v?"Saving...":"Save"})]}):o.jsx("button",{onClick:()=>g(!0),className:"text-brand-primary hover:text-brand-primary/80 text-sm font-medium",children:"Edit"})]}),m?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Name"}),o.jsx("input",{type:"text",value:s.name,onChange:O=>a({...s,name:O.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-brand-primary focus:border-transparent",placeholder:"Your name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Store Name"}),o.jsx("input",{type:"text",value:s.storeName,onChange:O=>a({...s,storeName:O.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-brand-primary focus:border-transparent",placeholder:"Your store name"})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),o.jsx("p",{className:"text-gray-800",children:s.name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Store Name"}),o.jsx("p",{className:"text-gray-800",children:s.storeName})]})]})]})]})]})]})}const oze=()=>{const[t,e]=N.useState(!1),[n,r]=N.useState(null),i=N.useRef(null),s=N.useRef(null),a=N.useRef(null);return{isActive:t,error:n,videoRef:i,canvasRef:s,startCamera:async()=>{try{r(null);const h=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:!1});i.current&&(i.current.srcObject=h,a.current=h,e(!0))}catch(h){console.error("Error accessing camera:",h),r("Unable to access camera. Please check permissions.")}},stopCamera:()=>{a.current&&(a.current.getTracks().forEach(m=>m.stop()),a.current=null),i.current&&(i.current.srcObject=null),e(!1),r(null)},capturePhoto:()=>new Promise((h,m)=>{if(!i.current||!s.current){m(new Error("Camera not ready"));return}const g=i.current,v=s.current;v.width=g.videoWidth,v.height=g.videoHeight,v.getContext("2d").drawImage(g,0,0),v.toBlob(_=>{_?h(_):m(new Error("Failed to capture photo"))},"image/jpeg",.8)})}},lze=({onPhotoCapture:t,onFileUpload:e})=>{const n=oze(),[r,i]=N.useState(!1),[s,a]=N.useState(null),l=N.useRef(null),u=async()=>{try{const g=await n.capturePhoto();a(g),t(g),i(!1),n.stopCamera()}catch(g){console.error("Error capturing photo:",g),alert("Error capturing photo. Please try again.")}},d=g=>{const v=g.target.files[0];v&&(a(v),e(v))},h=async()=>{i(!0),await n.startCamera()},m=()=>{i(!1),n.stopCamera()};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("button",{onClick:h,className:"flex items-center justify-center space-x-2 bg-brand-primary text-white py-3 px-4 rounded-lg hover:bg-brand-primary/90 transition-colors",children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Take Photo"})]}),o.jsxs("button",{onClick:()=>{var g;return(g=l.current)==null?void 0:g.click()},className:"flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Upload File"})]})]}),o.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:d,className:"hidden"}),r&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"font-heading text-lg font-semibold",children:"Take Verification Photo"}),o.jsx("button",{onClick:m,className:"text-gray-500 hover:text-gray-700 text-xl",children:""})]}),n.error&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 mb-4",children:o.jsx("p",{className:"text-red-800 text-sm",children:n.error})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("video",{ref:n.videoRef,autoPlay:!0,playsInline:!0,className:"w-full rounded-lg bg-gray-100",style:{maxHeight:"400px"}}),o.jsxs("div",{className:"absolute top-4 left-4 right-4 bg-black bg-opacity-75 text-white p-3 rounded-lg",children:[o.jsx("p",{className:"text-sm",children:" Make sure to include:"}),o.jsxs("ul",{className:"text-xs mt-1 space-y-1",children:[o.jsx("li",{children:" Your name tag or apron"}),o.jsx("li",{children:" Store environment in background"}),o.jsxs("li",{children:[" Today's code: ",o.jsxs("strong",{children:["ENG-",String(new Date().getDate()).padStart(2,"0"),String(new Date().getMonth()+1).padStart(2,"0")]})]})]})]})]}),o.jsx("canvas",{ref:n.canvasRef,className:"hidden"}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx("button",{onClick:u,disabled:!n.isActive,className:"bg-brand-primary text-white px-6 py-2 rounded-lg hover:bg-brand-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:" Capture Photo"}),o.jsx("button",{onClick:m,className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600",children:"Cancel"})]})]})]})}),s&&o.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-green-600",children:""}),o.jsx("span",{className:"text-green-800 font-medium",children:"Photo ready for submission"})]}),o.jsx("p",{className:"text-green-700 text-sm mt-1",children:"Photo captured successfully. You can now submit your verification."})]})]})};function cze(){const{user:t}=Vn(),[e,n]=N.useState(null),[r,i]=N.useState(null),[s,a]=N.useState(""),[l,u]=N.useState(""),[d,h]=N.useState(!1),[m,g]=N.useState(""),[v,b]=N.useState(""),[_,x]=N.useState({}),[j,A]=N.useState(""),C=[{id:"nature-made",name:"Nature Made"},{id:"garden-of-life",name:"Garden of Life"},{id:"new-chapter",name:"New Chapter"},{id:"nordic-naturals",name:"Nordic Naturals"},{id:"store-manager",name:"Store Manager"}],P=()=>{const D=new Date;return`ENG-${String(D.getDate()).padStart(2,"0")}${String(D.getMonth()+1).padStart(2,"0")}`},T=async D=>new Promise(M=>{const V=new Image;V.onload=()=>{M({width:V.width,height:V.height,aspectRatio:V.width/V.height})},V.onerror=()=>M(null),V.src=URL.createObjectURL(D)}),I=async D=>{if(D){n(D),i(URL.createObjectURL(D));try{const M={fileName:D.name||`capture-${Date.now()}.jpg`,mimeType:D.type||"image/jpeg",size:D.size,capturedViaCamera:!D.name,clientInfo:{userAgent:navigator.userAgent,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,hardwareConcurrency:navigator.hardwareConcurrency,platform:navigator.platform,memory:navigator.deviceMemory||"unknown"},aiPlaceholders:{pending:!0,confidence:null,moderation:null}},V=await T(D);V&&(M.dimensions=V),x(M)}catch(M){console.error("Error processing metadata:",M)}}},E=()=>{if(A("requesting"),!navigator.geolocation){A("unavailable");return}navigator.geolocation.getCurrentPosition(D=>{x(M=>({...M,geolocation:{latitude:D.coords.latitude,longitude:D.coords.longitude,accuracy:D.coords.accuracy,timestamp:D.timestamp}})),A("granted")},D=>{console.error("Geolocation error:",D),A("denied")},{timeout:1e4,maximumAge:6e4})},k=()=>{r&&URL.revokeObjectURL(r),n(null),i(null),x(D=>({...D,fileName:void 0,mimeType:void 0,size:void 0,dimensions:void 0,capturedViaCamera:void 0}))},O=async()=>{if(!e&&!s){b("Please provide a photo or verification code");return}b(""),g(""),h(!0);try{let D=null;if(e){const $=KS(_f,`verification/${t.uid}/${Date.now()}_${_.fileName||"verification.jpg"}`);await uK($,e),D=await hM($)}const M=P(),V={userId:t.uid,userEmail:t.email,userName:t.name||t.displayName||"New User",storeName:t.storeName||t.storeCode||"Unknown Store",verificationCodeDaily:M,providedCode:s,selectedBrand:l,photoURL:D,metadata:_,status:"pending",submittedAt:Ye(),aiPendingAnalysis:!0};await Ba(ft(xe,"verification_requests"),V),await Zr(Je(xe,"users",t.uid),{verificationStatus:"pending",lastVerificationSubmission:Ye()}),g("Verification submitted successfully! We'll review your submission within 1-2 business days."),k(),a(""),u("")}catch(D){console.error("Error submitting verification:",D),b(`Error submitting verification: ${D.message}`)}finally{h(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Verification Center"}),o.jsx("p",{className:"text-gray-600",children:"Submit your verification to unlock premium features and communities."})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Current Status"}),o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[(t==null?void 0:t.verificationStatus)==="approved"&&o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:" Verified"}),(t==null?void 0:t.verificationStatus)==="pending"&&o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:" Under Review"}),(t==null?void 0:t.verificationStatus)==="rejected"&&o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:" Rejected"}),(!(t!=null&&t.verificationStatus)||(t==null?void 0:t.verificationStatus)==="not_submitted")&&o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800",children:" Not Verified"})]}),(t==null?void 0:t.verificationStatus)==="pending"&&o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-4",children:o.jsx("p",{className:"text-yellow-800",children:"Your verification is under review. We'll notify you within 1-2 business days."})}),(t==null?void 0:t.verificationStatus)==="approved"&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4 mb-4",children:o.jsx("p",{className:"text-green-800",children:" Congratulations! Your account is verified and you have full access to all features."})}),(t==null?void 0:t.verificationStatus)==="rejected"&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-4",children:[o.jsx("p",{className:"text-red-800 mb-2",children:"Your verification was rejected:"}),o.jsx("p",{className:"text-red-700 text-sm",children:(t==null?void 0:t.rejectionReason)||"Please ensure your photo meets all requirements and try again."})]}),(!(t!=null&&t.verificationStatus)||(t==null?void 0:t.verificationStatus)==="not_submitted"||(t==null?void 0:t.verificationStatus)==="rejected")&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"border-t pt-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Photo Verification"}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:o.jsxs("p",{className:"text-blue-800 text-sm",children:["Take a photo of yourself ",o.jsx("strong",{children:"in-store with your name tag or apron visible"}),". Include today's verification code ",o.jsx("strong",{children:P()})," written on a piece of paper in the photo."]})}),e?o.jsxs("div",{className:"space-y-4 mb-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-green-600 font-medium mb-2",children:" Photo ready for submission"}),r&&o.jsx("img",{src:r,alt:"Verification preview",className:"max-w-full h-48 object-cover rounded-lg mx-auto"})]}),o.jsx("button",{type:"button",onClick:k,className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200",children:"Clear Photo"}),!_.geolocation&&o.jsx("button",{type:"button",onClick:E,disabled:j==="requesting",className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:j==="requesting"?"Requesting Location...":" Add Location (Optional)"}),j==="granted"&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-2 text-sm text-green-800",children:" Location added to verification"}),j==="denied"&&o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-2 text-sm text-gray-600",children:"Location access denied - that's okay, it's optional"})]}):o.jsx(lze,{onPhotoSelected:I,className:"mb-4"})]}),o.jsxs("div",{className:"border-t pt-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Brand/Manager Code Verification"}),o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Get a verification code from your store manager or brand representative."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Brand/Source"}),o.jsxs("select",{value:l,onChange:D=>u(D.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-primary focus:border-transparent",children:[o.jsx("option",{value:"",children:"Choose brand or source..."}),C.map(D=>o.jsx("option",{value:D.id,children:D.name},D.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),o.jsx("input",{type:"text",value:s,onChange:D=>a(D.target.value),placeholder:"Enter your verification code",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-primary focus:border-transparent"})]})]})]}),o.jsx("button",{onClick:O,disabled:d||!e&&!s,className:"w-full bg-brand-primary text-white py-3 px-4 rounded-lg hover:bg-brand-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:d?" Submitting...":" Submit Verification"}),m&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4 mt-4",children:o.jsx("p",{className:"text-green-800",children:m})}),v&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mt-4",children:o.jsx("p",{className:"text-red-800",children:v})})]})]})]})}const uze=({post:t,user:e,onLikeToggle:n,isLiked:r,isPendingLike:i,comments:s})=>{var d;const a=(e==null?void 0:e.role)==="staff",l=(d=t.createdAt)!=null&&d.toDate?new Date(t.createdAt.toDate()).toLocaleString():"Recently",u=(h,m=150)=>h?h.length>m?`${h.substring(0,m)}...`:h:"";return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-4 shadow-sm hover:shadow transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:"font-medium text-lg text-gray-900",children:t.title||"Untitled Post"}),o.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[o.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded mr-2",children:t.authorRole||"user"}),o.jsx("span",{children:l})]})]}),o.jsx("p",{className:"text-gray-700 my-3",children:u(t.body)}),o.jsxs("div",{className:"flex justify-between items-center mt-4",children:[o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("button",{onClick:()=>a&&n(t.id),disabled:i||!a,className:`flex items-center space-x-1 ${a?"hover:text-brand-primary":""} ${r?"text-brand-primary":"text-gray-500"}`,children:[o.jsx("span",{role:"img","aria-label":"like",children:r?"":""}),o.jsx("span",{children:t.likesCount||0})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[o.jsx("span",{role:"img","aria-label":"comments",children:""}),o.jsx("span",{children:t.commentsCount||0})]})]}),o.jsx(Mt,{to:`/community/${t.id}`,className:"text-sm px-3 py-1 bg-brand-primary text-white rounded hover:bg-brand-primary/90",children:"View thread"})]}),s&&s.length>0&&o.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-100",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recent comments:"}),o.jsx("div",{className:"space-y-2",children:s.map(h=>{var m;return o.jsxs("div",{className:"bg-gray-50 rounded p-2",children:[o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[o.jsx("span",{children:h.authorRole||"user"}),o.jsx("span",{children:(m=h.createdAt)!=null&&m.toDate?new Date(h.createdAt.toDate()).toLocaleString():"Recently"})]}),o.jsx("p",{className:"text-sm",children:u(h.text,100)})]},h.id)})})]})]})},dze=()=>o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-4 shadow-sm animate-pulse",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/5 mb-2"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/5"})]}),o.jsxs("div",{className:"space-y-2 my-3",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]}),o.jsxs("div",{className:"flex justify-between items-center mt-4",children:[o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("div",{className:"h-5 bg-gray-200 rounded w-12"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-12"})]}),o.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"})]})]});function fze(){const{user:t}=Vn(),[e,n]=N.useState([]),[r,i]=N.useState(!0),[s,a]=N.useState(!1),[l,u]=N.useState(!0),[d,h]=N.useState(new Set),[m,g]=N.useState(new Set),[v,b]=N.useState({}),_=N.useRef(null),x=N.useRef(null);N.useEffect(()=>{const T=Zt(ft(xe,"community_posts"),Dt("visibility","==","public"),gi("createdAt","desc"),ha(10));return i(!0),(async()=>{try{const I=await Vr(T),E=I.docs.map(k=>({id:k.id,...k.data()}));I.docs.length>0&&(_.current=I.docs[I.docs.length-1]),n(E),E.forEach(k=>{C(k.id)})}finally{i(!1)}})(),x.current=null,t!=null&&t.uid&&j(),()=>{x.current&&x.current()}},[t]);const j=async()=>{if(t!=null&&t.uid)try{const T=new Set;for(const I of e){const E=Je(xe,"post_likes",`${I.id}_${t.uid}`);(await vi(E)).exists()&&T.add(I.id)}h(T)}catch{}},A=async()=>{if(!(s||!l||!_.current)){a(!0);try{const T=Zt(ft(xe,"community_posts"),Dt("visibility","==","public"),gi("createdAt","desc"),FY(_.current),ha(10)),I=await Vr(T);if(I.empty){u(!1),a(!1);return}const E=I.docs.map(O=>({id:O.id,...O.data()}));_.current=I.docs[I.docs.length-1],n(O=>[...O,...E]),E.forEach(O=>{C(O.id)});const k=new Set(d);for(const O of E)if(t!=null&&t.uid){const D=Je(xe,"post_likes",`${O.id}_${t.uid}`);(await vi(D)).exists()&&k.add(O.id)}h(k)}catch{}finally{a(!1)}}},C=async T=>{try{const I=Zt(ft(xe,"community_comments"),Dt("postId","==",T),gi("createdAt","desc"),ha(3)),k=(await Vr(I)).docs.map(O=>({id:O.id,...O.data()}));b(O=>({...O,[T]:k}))}catch{}},P=async T=>{if(!(t!=null&&t.uid)||m.has(T))return;g(E=>{const k=new Set(E);return k.add(T),k});const I=d.has(T);h(E=>{const k=new Set(E);return I?k.delete(T):k.add(T),k}),n(E=>E.map(k=>{if(k.id===T){const O=Math.max(0,(k.likesCount||0)+(I?-1:1));return{...k,likesCount:O}}return k}));try{const E=`${T}_${t.uid}`,k=Je(xe,"post_likes",E),O=Je(xe,"community_posts",T);await kw(xe,async D=>{const M=await D.get(O);if(!M.exists())throw new Error("Post does not exist!");const V=await D.get(k),$=M.data().likesCount||0;V.exists()?(D.delete(k),D.update(O,{likesCount:Math.max(0,$-1)})):(D.set(k,{userId:t.uid,postId:T,createdAt:Ye()}),D.update(O,{likesCount:$+1}))})}catch{h(k=>{const O=new Set(k);return I?O.add(T):O.delete(T),O}),n(k=>k.map(O=>{if(O.id===T){const D=Math.max(0,(O.likesCount||0)+(I?1:-1));return{...O,likesCount:D}}return O}))}finally{g(E=>{const k=new Set(E);return k.delete(T),k})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Community Feed"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Stay connected with the latest public posts from the community"})]}),o.jsx("div",{className:"space-y-4",children:r?Array(3).fill().map((T,I)=>o.jsx(dze,{},I)):e.length>0?o.jsxs("div",{children:[e.map(T=>o.jsx(uze,{post:T,user:t,onLikeToggle:P,isLiked:d.has(T.id),isPendingLike:m.has(T.id),comments:v[T.id]||[]},T.id)),l&&o.jsx("div",{className:"flex justify-center mt-6",children:o.jsx("button",{onClick:A,disabled:s,className:`px-4 py-2 rounded ${s?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-brand-primary text-white hover:bg-brand-primary/90"}`,children:s?"Loading...":"Load More"})})]}):o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:[o.jsx("p",{className:"text-gray-500",children:"No community posts found"}),o.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Check back later for new content"})]})})]})}function hze(){const{user:t}=Vn();ps();const[e,n]=N.useState(""),[r,i]=N.useState([]),[s,a]=N.useState(!0),[l,u]=N.useState(!1),[d,h]=N.useState([]),[m,g]=N.useState({}),[v,b]=N.useState(new Set),_=N.useRef({});N.useEffect(()=>{(async()=>{u(!0);try{const P=Zt(ft(xe,"brands"),gi("name"),ha(20)),I=(await Vr(P)).docs.map(O=>({id:O.id,...O.data()})),E=e?I.filter(O=>{var D,M,V;return((D=O.name)==null?void 0:D.toLowerCase().includes(e.toLowerCase()))||((M=O.category)==null?void 0:M.toLowerCase().includes(e.toLowerCase()))||((V=O.description)==null?void 0:V.toLowerCase().includes(e.toLowerCase()))}):I;E.some(O=>O.id==="calm-well-co")||E.push({id:"calm-well-co",name:"Calm Well Co",description:"Natural wellness and CBD products",category:"Wellness",logo:"https://via.placeholder.com/100?text=CWC",isExample:!0}),i(E)}catch(P){console.error("Error loading brands:",P),i([{id:"calm-well-co",name:"Calm Well Co",description:"Natural wellness and CBD products",category:"Wellness",logo:"https://via.placeholder.com/100?text=CWC",isExample:!0}])}finally{u(!1),a(!1)}})()},[e]),N.useEffect(()=>{if(!(t!=null&&t.uid))return;const C=Zt(ft(xe,"brand_follows"),Dt("userId","==",t.uid));return(async()=>{try{const I=(await Vr(C)).docs.map(E=>E.data());h(I)}catch(T){console.error("Error loading follows:",T),h([])}})(),()=>{}},[t]),N.useEffect(()=>{if(Object.values(_.current).forEach(P=>{Object.values(P).forEach(T=>{typeof T=="function"&&T()})}),_.current={},!d.length)return;const C={};return d.forEach(P=>{C[P.brandId]={communities:[],trainings:[],challenges:[],loading:!0}}),g(C),d.forEach(P=>{const T=P.brandId;_.current[T]={};const I=Zt(ft(xe,"communities"),Dt("brandId","==",T),ha(5));_.current[T].communities=wr(I,O=>{const D=O.docs.map(M=>({id:M.id,...M.data()}));g(M=>({...M,[T]:{...M[T],communities:D}}))},O=>{console.error(`Error loading communities for ${T}:`,O)});const E=Zt(ft(xe,"trainings"),Dt("brandId","==",T),Dt("published","==",!0),ha(5));_.current[T].trainings=wr(E,O=>{const D=O.docs.map(M=>({id:M.id,...M.data()}));g(M=>({...M,[T]:{...M[T],trainings:D}}))},O=>{console.error(`Error loading trainings for ${T}:`,O)});const k=Zt(ft(xe,"challenges"),Dt("brandId","==",T),ha(5));_.current[T].challenges=wr(k,O=>{const D=O.docs.map(M=>({id:M.id,...M.data()}));g(M=>({...M,[T]:{...M[T],challenges:D,loading:!1}}))},O=>{console.error(`Error loading challenges for ${T}:`,O),g(D=>({...D,[T]:{...D[T],loading:!1}}))})}),()=>{Object.values(_.current).forEach(P=>{Object.values(P).forEach(T=>{typeof T=="function"&&T()})})}},[d]);const x=async C=>{if(!(t!=null&&t.uid)){alert("You need to be logged in to follow brands");return}const P=C.id;b(O=>{const D=new Set(O);return D.add(P),D});const T=C.name||C.displayName||"Unknown Brand",I={brandId:P,brandName:T,userId:t.uid,createdAt:Ye()},E=`${t.uid}_${P}`,k=d.some(O=>O.brandId===P);k||h(O=>[...O,I]);try{await Bs(Je(xe,"brand_follows",E),I),console.log(`Successfully followed brand: ${T}`)}catch(O){console.error("Error following brand:",O),k||h(D=>D.filter(M=>M.brandId!==P)),alert("Failed to follow brand. Please try again.")}finally{b(O=>{const D=new Set(O);return D.delete(P),D})}},j=async C=>{if(!(t!=null&&t.uid))return;b(I=>{const E=new Set(I);return E.add(C),E});const P=[...d];h(I=>I.filter(E=>E.brandId!==C));const T=`${t.uid}_${C}`;try{await Ja(Je(xe,"brand_follows",T)),console.log(`Successfully unfollowed brand: ${C}`)}catch(I){console.error("Error unfollowing brand:",I),h(P),alert("Failed to unfollow brand. Please try again.")}finally{b(I=>{const E=new Set(I);return E.delete(C),E})}},A=C=>d.some(P=>P.brandId===C);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Brands"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Find and explore brands, access challenges and exclusive content"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:e,onChange:C=>n(C.target.value),placeholder:"Search brands by name, category, or keyword...",className:"w-full p-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-primary focus:border-transparent"}),o.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:o.jsx("span",{role:"img","aria-label":"search",children:'dY"?'})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Available Brands"}),s?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-brand-primary"})}):r.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(C=>{var P;return o.jsxs("div",{className:`border rounded-lg p-4 ${C.id==="calm-well-co"?"border-brand-primary bg-brand-primary/5":"border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-start",children:[C.logo?o.jsx("img",{src:C.logo,alt:`${C.name} logo`,className:"w-12 h-12 object-contain rounded mr-3",onError:T=>{T.target.onerror=null,T.target.src="https://via.placeholder.com/48?text=Logo"}}):o.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-gray-500 text-xs",children:((P=C.name)==null?void 0:P.substring(0,2))||"BR"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:C.name}),o.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:C.description||"No description available"}),C.category&&o.jsx("span",{className:"inline-block mt-1 text-xs bg-gray-100 text-gray-700 px-2 py-0.5 rounded",children:C.category})]})]}),o.jsx("div",{className:"mt-3 flex justify-end",children:A(C.id)?o.jsx("button",{onClick:()=>j(C.id),disabled:v.has(C.id),className:`text-sm px-3 py-1.5 ${v.has(C.id)?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 hover:bg-gray-300 text-gray-700"} rounded`,children:v.has(C.id)?"Processing...":"Unfollow"}):o.jsx("button",{onClick:()=>x(C),disabled:v.has(C.id),className:`text-sm px-3 py-1.5 ${v.has(C.id)?"bg-brand-primary/50 cursor-not-allowed":"bg-brand-primary hover:bg-brand-primary/90"} text-white rounded`,children:v.has(C.id)?"Processing...":"Follow"})})]},C.id)})}):o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[o.jsx("p",{className:"text-gray-500",children:"No brands found matching your search"}),o.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Try a different search term or browse all brands"})]})]}),d.length>0&&o.jsxs("div",{className:"space-y-4 mt-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Following"}),d.map(C=>{var T,I,E;const P=m[C.brandId];return o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:C.brandName}),o.jsx("button",{onClick:()=>j(C.brandId),disabled:v.has(C.brandId),className:`text-xs px-2 py-1 ${v.has(C.brandId)?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-800"}`,children:v.has(C.brandId)?"Processing...":"Unfollow"})]}),P!=null&&P.loading?o.jsx("div",{className:"flex justify-center py-4",children:o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-brand-primary"})}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"border border-gray-100 rounded p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Communities"}),((T=P==null?void 0:P.communities)==null?void 0:T.length)>0?o.jsx("div",{className:"space-y-2",children:P.communities.map(k=>o.jsx(Mt,{to:`/community/${k.id}`,className:"block text-sm px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded text-brand-primary",children:k.name||"Unnamed Community"},k.id))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No communities available"})]}),o.jsxs("div",{className:"border border-gray-100 rounded p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Learning"}),((I=P==null?void 0:P.trainings)==null?void 0:I.length)>0?o.jsx("div",{className:"space-y-2",children:P.trainings.map(k=>o.jsx(Mt,{to:`/staff/trainings/${k.id}`,className:"block text-sm px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded text-brand-primary",children:k.title||"Unnamed Training"},k.id))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No trainings available"})]}),o.jsxs("div",{className:"border border-gray-100 rounded p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Challenges"}),((E=P==null?void 0:P.challenges)==null?void 0:E.length)>0?o.jsx("div",{className:"space-y-2",children:P.challenges.map(k=>o.jsx("div",{className:"text-sm px-3 py-2 bg-gray-50 rounded",children:k.title||"Unnamed Challenge"},k.id))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No challenges available"})]})]})]},C.brandId)})]}),d.length===0&&o.jsxs("div",{className:"space-y-4 mt-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Brand Challenges"}),o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[o.jsx("p",{className:"text-gray-500",children:"Complete challenges to earn points and advance your career"}),o.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Follow brands to see their challenges here"})]})]})]})}const gO=({training:t,progress:e,onStart:n,onComplete:r,isPending:i,onOpen:s})=>{const a=(e==null?void 0:e.status)||null,l=a==="completed",u=a==="in_progress",d=l?"Completed":u?"Resume":"Start",h=v=>v?(v.toDate?v.toDate():new Date(v)).toLocaleDateString():"",m=e!=null&&e.completedAt?h(e.completedAt):"",g=e!=null&&e.startedAt?h(e.startedAt):"";return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 shadow-sm hover:shadow-md transition-shadow flex flex-col justify-between h-full cursor-pointer",onClick:s,children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900 mb-1 line-clamp-2",children:t.title||"Untitled Training"}),o.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:t.description||"No description available"}),t.modules&&t.modules.length>0&&o.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:t.modules.map((v,b)=>o.jsx("span",{className:"inline-block bg-gray-100 text-xs text-gray-600 px-2 py-0.5 rounded",children:v},b))})]}),o.jsxs("div",{className:"flex justify-between items-center mt-4",children:[o.jsxs("div",{className:"text-xs text-gray-500",children:[l&&m&&`Completed: ${m}`,u&&g&&`Started: ${g}`]}),o.jsx("button",{onClick:v=>{v.stopPropagation(),(l?r:n)()},disabled:i||l,className:`px-3 py-1 text-sm rounded font-medium ${l?"bg-green-100 text-green-800 cursor-default":i?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-brand-primary text-white hover:bg-brand-primary/90"}`,children:i?"Processing...":d})]})]})},yO=()=>o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 shadow-sm flex flex-col justify-between h-full animate-pulse",children:[o.jsxs("div",{children:[o.jsx("div",{className:"h-5 w-3/4 bg-gray-200 rounded mb-2"}),o.jsx("div",{className:"h-4 w-full bg-gray-200 rounded mb-1"}),o.jsx("div",{className:"h-4 w-2/3 bg-gray-200 rounded"}),o.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[o.jsx("div",{className:"h-4 w-16 bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded"})]})]}),o.jsxs("div",{className:"flex justify-between items-center mt-4",children:[o.jsx("div",{className:"h-3 w-1/4 bg-gray-200 rounded"}),o.jsx("div",{className:"h-7 w-16 bg-gray-200 rounded"})]})]});function mze(){const{user:t}=Vn(),e=ps(),[n,r]=N.useState([]),[i,s]=N.useState({}),[a,l]=N.useState(!0),[u,d]=N.useState(!0),[h,m]=N.useState(""),[g,v]=N.useState(new Set),[b,_]=N.useState(new Set),x=N.useRef({});if(t&&t.role!=="staff")return o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-8",children:[o.jsx("span",{role:"img","aria-label":"lock",className:"text-4xl mb-4",children:""}),o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Staff Access Only"}),o.jsx("p",{className:"text-gray-600 max-w-md",children:"This learning dashboard is available exclusively to staff members. If you believe you should have access, please contact support."})]});N.useEffect(()=>{if(!(t!=null&&t.uid))return;Object.values(x.current).forEach(M=>{typeof M=="function"&&M()});const O=Zt(ft(xe,"trainings"),Dt("published","==",!0),gi("createdAt","desc"),ha(50));l(!0),x.current.trainings=wr(O,M=>{const V=M.docs.map($=>({id:$.id,...$.data()}));r(V),l(!1)},M=>{r([]),l(!1)});const D=Zt(ft(xe,"training_progress"),Dt("userId","==",t.uid));return d(!0),x.current.progress=wr(D,M=>{const V={};M.docs.forEach($=>{const X=$.data();X.trainingId&&(V[X.trainingId]={id:$.id,...X})}),s(V),d(!1)},M=>{s({}),d(!1)}),()=>{Object.values(x.current).forEach(M=>{typeof M=="function"&&M()})}},[t]);const j=N.useMemo(()=>{const O=new Set;return n.forEach(D=>{Array.isArray(D.modules)&&D.modules.forEach(M=>O.add(M))}),Array.from(O).sort()},[n]),A=N.useMemo(()=>n.filter(O=>{const D=!h||O.title&&O.title.toLowerCase().includes(h.toLowerCase()),M=g.size===0||Array.isArray(O.modules)&&O.modules.some(V=>g.has(V));return D&&M}),[n,h,g]),C=N.useMemo(()=>{const O=[];return Object.entries(i).forEach(([D,M])=>{if(M.status==="in_progress"||M.status==="not_started"){const V=n.find($=>$.id===D);V&&O.push({...V,progress:M})}}),O},[n,i]),P=N.useMemo(()=>{const O=[];return Object.entries(i).forEach(([D,M])=>{if(M.status==="completed"){const V=n.find($=>$.id===D);V&&O.push({...V,progress:M})}}),O.sort((D,M)=>{var X,H,U,q,G,W;const V=((U=(H=(X=D.progress)==null?void 0:X.completedAt)==null?void 0:H.toMillis)==null?void 0:U.call(H))||0;return(((W=(G=(q=M.progress)==null?void 0:q.completedAt)==null?void 0:G.toMillis)==null?void 0:W.call(G))||0)-V})},[n,i]),T=O=>{v(D=>{const M=new Set(D);return M.has(O)?M.delete(O):M.add(O),M})},I=async O=>{if(!(!(t!=null&&t.uid)||b.has(O.id))){_(D=>{const M=new Set(D);return M.add(O.id),M});try{const D=`${t.uid}_${O.id}`,M=Je(xe,"training_progress",D),V=await vi(M),$=V.exists()?V.data():null,X={userId:t.uid,trainingId:O.id,status:"in_progress",updatedAt:Ye(),demoSeed:!1};$!=null&&$.startedAt||(X.startedAt=Ye()),await Bs(M,X,{merge:!0})}catch{}finally{_(D=>{const M=new Set(D);return M.delete(O.id),M})}}},E=async O=>{if(!(!(t!=null&&t.uid)||b.has(O.id))){_(D=>{const M=new Set(D);return M.add(O.id),M});try{const D=`${t.uid}_${O.id}`,M=Je(xe,"training_progress",D);await Bs(M,{userId:t.uid,trainingId:O.id,status:"completed",completedAt:Ye(),updatedAt:Ye()},{merge:!0})}catch{}finally{_(D=>{const M=new Set(D);return M.delete(O.id),M})}}},k=a||u;return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Learning Dashboard"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Continue your learning journey and discover new training content"})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{role:"img","aria-label":"book",children:""}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Continue Learning"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:k?o.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(O=>o.jsx(yO,{},O))}):C.length>0?o.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:C.map(O=>o.jsx(gO,{training:O,progress:O.progress,onStart:()=>I(O),onComplete:()=>E(O),isPending:b.has(O.id),onOpen:()=>e(`/staff/trainings/${O.id}`)},O.id))}):o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx("p",{children:"No trainings in progress"}),o.jsx("p",{className:"text-sm mt-1",children:"Start a training from the Discover section below"})]})})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{role:"img","aria-label":"check",children:""}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Completed"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:k?o.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:[1,2].map(O=>o.jsx(yO,{},O))}):P.length>0?o.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:P.map(O=>o.jsx(gO,{training:O,progress:O.progress,onStart:()=>I(O),onComplete:()=>E(O),isPending:b.has(O.id),onOpen:()=>e(`/staff/trainings/${O.id}`)},O.id))}):o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx("p",{children:"No completed trainings yet"}),o.jsx("p",{className:"text-sm mt-1",children:"Complete trainings to see them here"})]})})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{role:"img","aria-label":"sparkle",children:""}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Discover"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx("input",{type:"text",value:h,onChange:O=>m(O.target.value),placeholder:"Search trainings...",className:"w-full p-2 pl-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-primary focus:border-transparent"}),o.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none",children:o.jsx("span",{role:"img","aria-label":"search",className:"text-gray-400",children:""})})]}),o.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:j.map(O=>o.jsx("button",{onClick:()=>T(O),className:`px-3 py-1 text-xs rounded-full transition-colors ${g.has(O)?"bg-brand-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:O},O))})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:k?o.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4].map(O=>o.jsx(yO,{},O))}):A.length>0?o.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:A.map(O=>{const D=i[O.id];return o.jsx(gO,{training:O,progress:D,onStart:()=>I(O),onComplete:()=>E(O),isPending:b.has(O.id),onOpen:()=>e(`/staff/trainings/${O.id}`)},O.id)})}):o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx("p",{children:"No trainings match your search"}),o.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your filters"})]})})]})]})}function KH({children:t}){const{user:e}=Vn();return(e==null?void 0:e.verified)===!0||(e==null?void 0:e.verificationStatus)==="approved"?t:o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[o.jsx("h3",{className:"text-lg font-medium text-yellow-800 mb-2",children:"Verification Required"}),o.jsx("p",{className:"text-yellow-700 mb-4",children:"This content requires verification. Please complete the verification process to access it."}),o.jsx(Mt,{to:"/staff/verification",className:"inline-block bg-brand-primary hover:bg-brand-primary/90 text-white px-4 py-2 rounded-lg transition-colors",children:"Get Verified Now"})]})}function pze(){return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Firebase Emulator Dashboard"}),o.jsx(un,{variant:"outline",className:"ml-2 bg-amber-100 text-amber-800 border-amber-200",children:"Emulator Mode"})]}),o.jsx("p",{className:"text-muted-foreground",children:"Test your Firebase functionality in a local environment"})]}),o.jsx("div",{className:"mt-4 md:mt-0",children:o.jsx(Oe,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs("a",{href:"/emulator-diagnostics",target:"_blank",rel:"noopener noreferrer",children:[o.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Run Diagnostics"]})})})]}),o.jsxs(qu,{defaultValue:"overview",className:"space-y-6",children:[o.jsxs(gc,{children:[o.jsx(bn,{value:"overview",children:"Overview"}),o.jsx(bn,{value:"auth",children:"Authentication"}),o.jsx(bn,{value:"firestore",children:"Firestore"}),o.jsx(bn,{value:"storage",children:"Storage"})]}),o.jsx(qn,{value:"overview",children:o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Firebase Emulator Test Dashboard"}),o.jsx($t,{children:"This dashboard will be expanded with comprehensive testing tools"})]}),o.jsxs(Fe,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(De,{className:"bg-blue-50",children:[o.jsx(He,{className:"pb-2",children:o.jsxs(Ge,{className:"text-lg flex items-center",children:[o.jsx(Pw,{className:"h-5 w-5 mr-2 text-blue-600"}),"Authentication"]})}),o.jsxs(Fe,{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Test user authentication and roles"}),o.jsx(Oe,{variant:"link",className:"p-0 mt-2",children:"Coming Soon "})]})]}),o.jsxs(De,{className:"bg-green-50",children:[o.jsx(He,{className:"pb-2",children:o.jsxs(Ge,{className:"text-lg flex items-center",children:[o.jsx(Ym,{className:"h-5 w-5 mr-2 text-green-600"}),"Firestore"]})}),o.jsxs(Fe,{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Test database operations"}),o.jsx(Oe,{variant:"link",className:"p-0 mt-2",children:"Coming Soon "})]})]}),o.jsxs(De,{className:"bg-purple-50",children:[o.jsx(He,{className:"pb-2",children:o.jsxs(Ge,{className:"text-lg flex items-center",children:[o.jsx(XO,{className:"h-5 w-5 mr-2 text-purple-600"}),"Storage"]})}),o.jsxs(Fe,{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Test file uploads and downloads"}),o.jsx(Oe,{variant:"link",className:"p-0 mt-2",children:"Coming Soon "})]})]})]}),o.jsx("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg border border-blue-100",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(SM,{className:"h-5 w-5 text-blue-500 mr-3 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-blue-800",children:"Placeholder Dashboard"}),o.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"This is a placeholder for the Firebase Emulator Test Dashboard. The full implementation will include comprehensive tools for testing all Firebase services in the emulator environment."})]})]})})]})]})}),o.jsx(qn,{value:"auth",children:o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Authentication Testing"}),o.jsx($t,{children:"Coming soon"})]}),o.jsxs(Fe,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(Pw,{className:"h-16 w-16 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Authentication Testing Coming Soon"}),o.jsx("p",{className:"text-center text-muted-foreground max-w-md",children:"This section will include tools for testing user authentication, roles, and permissions."})]})]})}),o.jsx(qn,{value:"firestore",children:o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Firestore Testing"}),o.jsx($t,{children:"Coming soon"})]}),o.jsxs(Fe,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(Ym,{className:"h-16 w-16 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Firestore Testing Coming Soon"}),o.jsx("p",{className:"text-center text-muted-foreground max-w-md",children:"This section will include tools for testing Firestore CRUD operations and security rules."})]})]})}),o.jsx(qn,{value:"storage",children:o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Storage Testing"}),o.jsx($t,{children:"Coming soon"})]}),o.jsxs(Fe,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(XO,{className:"h-16 w-16 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Storage Testing Coming Soon"}),o.jsx("p",{className:"text-center text-muted-foreground max-w-md",children:"This section will include tools for testing file uploads, downloads, and storage security rules."})]})]})})]}),o.jsxs(De,{className:"mt-6",children:[o.jsx(He,{children:o.jsx(Ge,{className:"text-lg",children:"Emulator Status"})}),o.jsx(Fe,{children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500 mr-2"}),o.jsx("span",{className:"font-medium",children:"Running in Emulator Mode"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Firebase emulators should be running at localhost:9099"})]}),o.jsx(Oe,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs("a",{href:"http://127.0.0.1:9099",target:"_blank",rel:"noopener noreferrer",className:"flex items-center",children:[o.jsx(lc,{className:"h-4 w-4 mr-2"}),"Emulator UI"]})})]})})]})]})}function gze(){return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Firebase Emulator Diagnostics"}),o.jsx(un,{variant:"outline",className:"ml-2 bg-amber-100 text-amber-800 border-amber-200",children:"Emulator Mode"})]}),o.jsx("p",{className:"text-muted-foreground",children:"Diagnose and troubleshoot Firebase emulator connectivity issues"})]}),o.jsx("div",{className:"mt-4 md:mt-0",children:o.jsx(Oe,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs("a",{href:"/emulator",className:"flex items-center",children:[o.jsx(Ym,{className:"h-4 w-4 mr-2"}),"Emulator Dashboard"]})})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Emulator Diagnostics"}),o.jsx($t,{children:"Test connectivity to Firebase emulator services"})]}),o.jsx(Fe,{children:o.jsxs("div",{className:"space-y-6",children:[!mM&&o.jsxs(Wa,{variant:"destructive",children:[o.jsx(Oi,{className:"h-4 w-4 mr-2"}),o.jsx(Ga,{children:"This page is designed to work with Firebase emulators in a local development environment. You appear to be accessing it from a production environment."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(De,{children:[o.jsx(He,{className:"pb-2",children:o.jsxs(Ge,{className:"text-lg flex items-center",children:[o.jsx(Pw,{className:"h-5 w-5 mr-2 text-blue-600"}),"Authentication"]})}),o.jsx(Fe,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"Status: Pending check"})})]}),o.jsxs(De,{children:[o.jsx(He,{className:"pb-2",children:o.jsxs(Ge,{className:"text-lg flex items-center",children:[o.jsx(Ym,{className:"h-5 w-5 mr-2 text-green-600"}),"Firestore"]})}),o.jsx(Fe,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"Status: Pending check"})})]}),o.jsxs(De,{children:[o.jsx(He,{className:"pb-2",children:o.jsxs(Ge,{className:"text-lg flex items-center",children:[o.jsx(XO,{className:"h-5 w-5 mr-2 text-purple-600"}),"Storage"]})}),o.jsx(Fe,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"Status: Pending check"})})]})]}),o.jsx("div",{className:"flex justify-center mt-6",children:o.jsxs(Oe,{className:"flex items-center",children:[o.jsx(Km,{className:"h-4 w-4 mr-2"}),"Run Diagnostics"]})}),o.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-100 mt-6",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(SM,{className:"h-5 w-5 text-blue-500 mr-3 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-blue-800",children:"Placeholder"}),o.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"This is a placeholder for the Firebase Emulator Diagnostic Page. The full implementation will include comprehensive tools for diagnosing connectivity issues with Firebase emulators."})]})]})})]})})]}),o.jsxs(De,{children:[o.jsxs(He,{children:[o.jsx(Ge,{children:"Emulator Configuration"}),o.jsx($t,{children:"Check your Firebase emulator configuration"})]}),o.jsx(Fe,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm",children:"Ensure your Firebase emulators are running with the following configuration:"}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-md font-mono text-sm",children:o.jsx("pre",{className:"whitespace-pre-wrap",children:`{
  "emulators": {
    "auth": {
      "port": 9099,
      "host": "127.0.0.1"
    },
    "firestore": {
      "port": 8080,
      "host": "127.0.0.1"
    },
    "storage": {
      "port": 9199,
      "host": "127.0.0.1"
    },
    "ui": {
      "port": 4000,
      "host": "127.0.0.1"
    }
  }
}`})}),o.jsx("p",{className:"text-sm mt-4",children:"To start the emulators, run:"}),o.jsx("div",{className:"bg-gray-50 p-3 rounded-md font-mono text-sm",children:"firebase emulators:start"})]})})]})]})]})}const yze=({comment:t})=>{var n;const e=(n=t.createdAt)!=null&&n.toDate?new Date(t.createdAt.toDate()).toLocaleString():"Recently";return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-3",children:[o.jsx("div",{className:"flex justify-between items-center mb-2",children:o.jsxs("span",{className:"font-medium text-sm flex items-center",children:[o.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-0.5 rounded text-xs mr-2",children:t.userRole||"user"}),o.jsx("span",{className:"text-gray-500 text-xs",children:e})]})}),o.jsx("p",{className:"text-gray-800",children:t.text})]})},vze=()=>o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6 animate-pulse",children:[o.jsx("div",{className:"h-7 bg-gray-200 rounded w-3/4 mb-4"}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]}),o.jsxs("div",{className:"flex justify-between items-center mt-6",children:[o.jsx("div",{className:"h-5 bg-gray-200 rounded w-24"}),o.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"})]})]}),xze=()=>o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-3 animate-pulse",children:[o.jsx("div",{className:"flex justify-between items-center mb-2",children:o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),o.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]});function F_(){const{postId:t,id:e}=Bf(),n=t||e,{user:r}=Vn(),i=!0,[s,a]=N.useState(null),[l,u]=N.useState([]),[d,h]=N.useState(""),[m,g]=N.useState(!0),[v,b]=N.useState(!0),[_,x]=N.useState(!1),[j,A]=N.useState(null),[C,P]=N.useState(!1),[T,I]=N.useState(!1),E=N.useRef(null),k=N.useRef(null),O=N.useRef(null);N.useEffect(()=>{if(!n){A("Post ID is missing"),g(!1);return}const $=Je(xe,"community_posts",n);return(async()=>{try{const X=await vi($);if(X.exists()){const H={id:X.id,...X.data()};H.visibility!=="public"?(A("This post is not available"),a(null)):(a(H),A(null))}else A("Post not found"),a(null)}catch{A("Error loading post")}finally{g(!1)}})(),k.current=null,()=>{k.current&&k.current()}},[n,i]),N.useEffect(()=>{if(!n)return;const $=Zt(ft(xe,"community_comments"),Dt("postId","==",n),gi("createdAt","asc"));return b(!0),(async()=>{try{b(!0);const H=(await Vr($)).docs.map(U=>({id:U.id,...U.data()}));u(H)}finally{b(!1)}})(),O.current=null,()=>{O.current&&O.current()}},[n,i]),N.useEffect(()=>{if(!(r!=null&&r.uid)||!n)return;(async()=>{try{const X=Je(xe,"post_likes",`${n}_${r.uid}`),H=await vi(X);P(H.exists())}catch{}})()},[r,n]),N.useEffect(()=>{E.current&&E.current.scrollIntoView({behavior:"smooth"})},[l.length]);const D=async()=>{if(!(!(r!=null&&r.uid)||!n||T)){I(!0);try{const $=`${n}_${r.uid}`,X=Je(xe,"post_likes",$),H=Je(xe,"community_posts",n);await kw(xe,async U=>{const q=await U.get(H);if(!q.exists())throw new Error("Post does not exist!");const G=await U.get(X),W=q.data().likesCount||0;G.exists()?(U.delete(X),U.update(H,{likesCount:Math.max(0,W-1)})):(U.set(X,{userId:r.uid,postId:n,createdAt:Ye()}),U.update(H,{likesCount:W+1}))}),P(!C)}catch{}finally{I(!1)}}},M=async $=>{if($.preventDefault(),!(!(r!=null&&r.uid)||!n||!d.trim()||_)){x(!0);try{const X=`${Date.now()}_${r.uid}`,H=Je(xe,"community_comments",X),U=Je(xe,"community_posts",n);await kw(xe,async q=>{const G=await q.get(U);if(!G.exists())throw new Error("Post does not exist!");const W=G.data().commentsCount||0;q.set(H,{postId:n,userId:r.uid,userRole:r.role||"user",text:d.trim(),createdAt:Ye(),demoSeed:!1}),q.update(U,{commentsCount:W+1})}),h("")}catch{}finally{x(!1)}}},V=$=>$?($.toDate?$.toDate():new Date($)).toLocaleString():"Recently";return j&&!m?o.jsx("div",{className:"max-w-3xl mx-auto p-4",children:o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-red-700 mb-2",children:j}),o.jsx("p",{className:"text-red-600",children:"The post you're looking for might have been removed or is not publicly available."})]})}):o.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[m?o.jsx(vze,{}):s&&o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6 shadow-sm",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:s.title||"Untitled Post"}),o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-0.5 rounded text-sm mr-2",children:s.authorRole||"user"}),o.jsx("span",{className:"text-gray-500 text-sm",children:s.createdAt?V(s.createdAt):"Recently"})]})}),o.jsx("div",{className:"prose max-w-none mb-6",children:o.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:s.body})}),o.jsx("div",{className:"flex justify-between items-center border-t border-gray-100 pt-4",children:o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("button",{onClick:D,disabled:T||!r,className:`flex items-center space-x-1 ${r?"hover:text-brand-primary":""} ${C?"text-brand-primary":"text-gray-500"}`,children:[o.jsx("span",{role:"img","aria-label":"like",children:C?"":""}),o.jsx("span",{children:s.likesCount||0})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[o.jsx("span",{role:"img","aria-label":"comments",children:""}),o.jsx("span",{children:s.commentsCount||0})]})]})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Comments"}),v?o.jsx("div",{className:"space-y-3",children:[1,2,3].map($=>o.jsx(xze,{},$))}):l.length>0?o.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto mb-4",children:[l.map($=>o.jsx(yze,{comment:$},$.id)),o.jsx("div",{ref:E})]}):o.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center mb-4",children:[o.jsx("p",{className:"text-gray-500",children:"No comments yet"}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Be the first to comment"})]})]}),r?o.jsxs("form",{onSubmit:M,className:"bg-white rounded-lg border border-gray-200 p-4",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Add a comment"}),o.jsx("textarea",{id:"comment",rows:"3",value:d,onChange:$=>h($.target.value),disabled:_,className:"w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-brand-primary focus:border-transparent",placeholder:"Share your thoughts..."})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"submit",disabled:!d.trim()||_,className:`px-4 py-2 rounded ${!d.trim()||_?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-brand-primary text-white hover:bg-brand-primary/90"}`,children:_?"Posting...":"Post Comment"})})]}):o.jsx("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:o.jsx("p",{className:"text-gray-600",children:"Sign in to leave a comment"})})]})}function bze(){return null}const _ze=()=>null;function wze(){const{user:t,role:e,signOut:n}=Vn(),r=async()=>{try{await n(),window.location.assign("/")}catch(s){console.error("Error signing out:",s)}};if(!t)return o.jsx(Oe,{variant:"ghost",size:"icon",className:"rounded-full",children:o.jsx(Iw,{className:"h-5 w-5"})});const i=s=>{if(!s)return"U";const l=s.split(" ").map(u=>u[0]).join("");return l.length>2?l.substring(0,2):l};return o.jsxs(Om,{children:[o.jsx(Rm,{asChild:!0,children:o.jsx(Oe,{variant:"ghost",className:"relative h-9 w-9 rounded-full",children:o.jsx(Jw,{className:"h-9 w-9",children:t.profileImage&&t.profileImage.startsWith("http")?o.jsx(e1,{src:t.profileImage,alt:t.displayName||"User Avatar"}):o.jsx(t1,{children:i(t.displayName||t.name)})})})}),o.jsxs(lf,{className:"w-60",align:"end",forceMount:!0,children:[o.jsx(hb,{className:"font-normal",children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:t.displayName||t.name}),o.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})}),o.jsx(hu,{}),o.jsxs(_Se,{children:[o.jsx(Cn,{asChild:!0,children:o.jsxs(Mt,{to:"/staff/profile",children:[o.jsx(Iw,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]})}),o.jsx(Cn,{asChild:!0,children:o.jsxs(Mt,{to:"/staff/verification",children:[o.jsx(sV,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Verification"})]})}),o.jsx(Cn,{asChild:!0,children:o.jsxs(Mt,{to:"/staff/communities",children:[o.jsx(ei,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Communities"})]})}),o.jsx(Cn,{asChild:!0,children:o.jsxs(Mt,{to:"/staff/my-brands",children:[o.jsx(IK,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"My Brands"})]})})]}),o.jsx(hu,{}),o.jsx(Cn,{asChild:!0,children:o.jsxs(Mt,{to:"/staff/profile",children:[o.jsx(lc,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Settings"})]})}),e==="super_admin"&&o.jsxs(o.Fragment,{children:[o.jsx(hu,{}),o.jsx(Cn,{asChild:!0,children:o.jsxs(Mt,{to:"/admin",children:[o.jsx(sV,{className:"mr-2 h-4 w-4 text-primary"}),o.jsx("span",{className:"font-semibold",children:"Admin Panel"})]})})]}),o.jsx(hu,{}),o.jsxs(Cn,{onClick:r,children:[o.jsx(JS,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Sign Out"})]})]})]})}const Sze=()=>o.jsx("div",{className:"flex h-screen items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"})}),B_=({children:t})=>{const{user:e,loading:n}=Vn(),r=zs();if(n)return o.jsx("div",{className:"flex h-screen items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"})});if(!e){const i=encodeURIComponent(r.pathname+r.search+r.hash);return o.jsx(No,{to:`/?returnUrl=${i}`,state:{from:r},replace:!0})}return t},jze=()=>{const{user:t,loading:e}=Vn(),n=zs(),i=new URLSearchParams(n.search).has("logout")||typeof window<"u"&&localStorage.getItem("FORCE_PUBLIC_WEBSITE")==="true";if(typeof window<"u"&&localStorage.getItem("FORCE_PUBLIC_WEBSITE")==="true"&&localStorage.removeItem("FORCE_PUBLIC_WEBSITE"),e)return o.jsx(Sze,{});if(i)return o.jsx(xV,{});if(!t)return o.jsx(xV,{});const s=hK(t);return n.pathname!==s?o.jsx(No,{to:s,state:{from:n},replace:!0}):null};function Nze(){const[t,e]=N.useState(!1);return N.useEffect(()=>{e(!0)},[]),o.jsxs(age,{children:[o.jsxs(Roe,{children:[o.jsx("div",{className:"fixed top-3 right-3 z-50",children:o.jsx(wze,{})}),o.jsxs(loe,{children:[o.jsx(Lt,{path:"/",element:o.jsx(jze,{})}),o.jsx(Lt,{path:"/admin",element:o.jsx(Zn,{allowedRoles:["super_admin"],children:o.jsx(cr,{children:o.jsx(Lbe,{})})})}),o.jsx(Lt,{path:"/admin/users",element:o.jsx(Zn,{allowedRoles:["super_admin"],children:o.jsx(cr,{children:o.jsx(ESe,{})})})}),o.jsx(Lt,{path:"/admin/verifications",element:o.jsx(Zn,{allowedRoles:["super_admin"],children:o.jsx(cr,{children:o.jsx(TSe,{})})})}),o.jsx(Lt,{path:"/admin/brands",element:o.jsx(Zn,{allowedRoles:["super_admin"],children:o.jsx(cr,{children:o.jsx(CSe,{})})})}),o.jsx(Lt,{path:"/admin/analytics",element:o.jsx(Zn,{allowedRoles:["super_admin"],children:o.jsx(cr,{children:o.jsx(ISe,{})})})}),o.jsx(Lt,{path:"/admin/content",element:o.jsx(Zn,{allowedRoles:["super_admin"],children:o.jsx(cr,{children:o.jsx(lF,{})})})}),o.jsx(Lt,{path:"/admin/products",element:o.jsx(Zn,{allowedRoles:["super_admin"],children:o.jsx(cr,{children:o.jsx(MSe,{})})})}),o.jsx(Lt,{path:"/admin/activity",element:o.jsx(Zn,{allowedRoles:["super_admin"],children:o.jsx(cr,{children:o.jsx(YSe,{})})})}),o.jsx(Lt,{path:"/admin/settings",element:o.jsx(Zn,{allowedRoles:["super_admin"],children:o.jsx(cr,{children:o.jsx(nje,{})})})}),o.jsxs(o.Fragment,{children:[o.jsx(Lt,{path:"/admin/demo",element:o.jsx(Zn,{allowedRoles:["super_admin"],children:o.jsx(cr,{children:o.jsx(uje,{})})})}),o.jsx(Lt,{path:"/admin/dev",element:o.jsx(Zn,{allowedRoles:["super_admin"],children:o.jsx(cr,{children:o.jsx(dje,{})})})}),o.jsx(Lt,{path:"/admin/env-check",element:o.jsx(Zn,{allowedRoles:["super_admin"],children:o.jsx(cr,{children:o.jsx(fje,{})})})})]}),o.jsx(Lt,{path:"/admin/templates",element:o.jsx(Zn,{allowedRoles:["super_admin"],children:o.jsx(cr,{children:o.jsx(lF,{})})})}),o.jsx(Lt,{path:"/admin/templates/new",element:o.jsx(Zn,{allowedRoles:["super_admin"],children:o.jsx(cr,{children:o.jsx(cF,{})})})}),o.jsx(Lt,{path:"/admin/templates/:id",element:o.jsx(Zn,{allowedRoles:["super_admin"],children:o.jsx(cr,{children:o.jsx(uF,{})})})}),o.jsx(Lt,{path:"/admin/templates/:id/view",element:o.jsx(Zn,{allowedRoles:["super_admin"],children:o.jsx(cr,{children:o.jsx(uF,{})})})}),o.jsx(Lt,{path:"/admin/templates/:id/edit",element:o.jsx(Zn,{allowedRoles:["super_admin"],children:o.jsx(cr,{children:o.jsx(cF,{})})})}),o.jsx(Lt,{path:"/pending",element:o.jsx(Zn,{allowedRoles:["brand_manager"],requireApprovedBrandManager:!1,children:o.jsx(hje,{})})}),o.jsx(Lt,{path:"/brand",element:o.jsx(Zn,{allowedRoles:["brand_manager"],requireApprovedBrandManager:!0,children:o.jsx(YH,{})})}),o.jsx(Lt,{path:"/brand/*",element:o.jsx(Zn,{allowedRoles:["brand_manager"],requireApprovedBrandManager:!0,children:o.jsx(YH,{})})}),o.jsx(Lt,{path:"/brand/content",element:o.jsx(Zn,{allowedRoles:["brand_manager"],requireApprovedBrandManager:!0,children:o.jsx(eze,{})})}),o.jsx(Lt,{path:"/brand/trainings/:id",element:o.jsx(Zn,{allowedRoles:["brand_manager"],requireApprovedBrandManager:!0,children:o.jsx(tze,{})})}),o.jsx(Lt,{path:"/community/:postId",element:o.jsx(B_,{children:o.jsx(F_,{})})}),o.jsx(Lt,{path:"/community/:id",element:o.jsx(B_,{children:o.jsx(F_,{})})}),o.jsx(Lt,{path:"/staff/community/:postId",element:o.jsx(B_,{children:o.jsx(F_,{})})}),o.jsx(Lt,{path:"/staff/community/:id",element:o.jsx(B_,{children:o.jsx(F_,{})})}),o.jsx(Lt,{path:"/staff",element:o.jsx(No,{to:"/staff/profile",replace:!0})}),o.jsxs(Lt,{path:"/staff/*",element:o.jsx(Zn,{allowedRoles:["staff"],children:o.jsx(ize,{children:o.jsx(sze,{})})}),children:[o.jsx(Lt,{index:!0,element:o.jsx(No,{to:"/staff/profile",replace:!0})}),o.jsx(Lt,{path:"profile",element:o.jsx(aze,{})}),o.jsx(Lt,{path:"verification",element:o.jsx(cze,{})}),o.jsx(Lt,{path:"communities",element:o.jsx(fze,{})}),o.jsx(Lt,{path:"my-brands",element:o.jsx(KH,{children:o.jsx(hze,{})})}),o.jsx(Lt,{path:"learning",element:o.jsx(KH,{children:o.jsx(mze,{})})})]}),o.jsx(Lt,{path:"/staff/trainings/:id",element:o.jsx(Zn,{allowedRoles:["staff"],children:o.jsx(rze,{})})}),mM&&o.jsx(Lt,{path:"/emulator",element:o.jsx(Zn,{allowedRoles:[],children:o.jsx(pze,{})})}),o.jsx(Lt,{path:"/emulator-diagnostics",element:o.jsx(gze,{})}),o.jsx(Lt,{path:"*",element:o.jsx(No,{to:"/"})})]})]}),o.jsx(bze,{}),o.jsx(_ze,{})]})}mae.createRoot(document.getElementById("root")).render(o.jsx(N.StrictMode,{children:o.jsx(Nze,{})}));
//# sourceMappingURL=index-DuZ22Kb5.js.map
