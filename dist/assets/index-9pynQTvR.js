function Z4(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function AE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ey={exports:{}},Qu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vj;function J4(){if(Vj)return Qu;Vj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var h in o)h!=="key"&&(l[h]=o[h])}else l=o;return o=l.ref,{$$typeof:t,type:i,key:u,ref:o!==void 0?o:null,props:l}}return Qu.Fragment=e,Qu.jsx=n,Qu.jsxs=n,Qu}var Uj;function ek(){return Uj||(Uj=1,ey.exports=J4()),ey.exports}var s=ek(),ty={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bj;function tk(){if(Bj)return nt;Bj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,j={};function I(z,re,me){this.props=z,this.context=re,this.refs=j,this.updater=me||A}I.prototype.isReactComponent={},I.prototype.setState=function(z,re){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,re,"setState")},I.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function M(){}M.prototype=I.prototype;function L(z,re,me){this.props=z,this.context=re,this.refs=j,this.updater=me||A}var V=L.prototype=new M;V.constructor=L,T(V,I.prototype),V.isPureReactComponent=!0;var F=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function N(z,re,me,le,ye,Ve){return me=Ve.ref,{$$typeof:t,type:z,key:re,ref:me!==void 0?me:null,props:Ve}}function E(z,re){return N(z.type,re,void 0,void 0,void 0,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function U(z){var re={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(me){return re[me]})}var B=/\/+/g;function R(z,re){return typeof z=="object"&&z!==null&&z.key!=null?U(""+z.key):re.toString(36)}function k(){}function se(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(k,k):(z.status="pending",z.then(function(re){z.status==="pending"&&(z.status="fulfilled",z.value=re)},function(re){z.status==="pending"&&(z.status="rejected",z.reason=re)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function pe(z,re,me,le,ye){var Ve=typeof z;(Ve==="undefined"||Ve==="boolean")&&(z=null);var Te=!1;if(z===null)Te=!0;else switch(Ve){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(z.$$typeof){case t:case e:Te=!0;break;case y:return Te=z._init,pe(Te(z._payload),re,me,le,ye)}}if(Te)return ye=ye(z),Te=le===""?"."+R(z,0):le,F(ye)?(me="",Te!=null&&(me=Te.replace(B,"$&/")+"/"),pe(ye,re,me,"",function(Qe){return Qe})):ye!=null&&(P(ye)&&(ye=E(ye,me+(ye.key==null||z&&z.key===ye.key?"":(""+ye.key).replace(B,"$&/")+"/")+Te)),re.push(ye)),1;Te=0;var ge=le===""?".":le+":";if(F(z))for(var Pe=0;Pe<z.length;Pe++)le=z[Pe],Ve=ge+R(le,Pe),Te+=pe(le,re,me,Ve,ye);else if(Pe=w(z),typeof Pe=="function")for(z=Pe.call(z),Pe=0;!(le=z.next()).done;)le=le.value,Ve=ge+R(le,Pe++),Te+=pe(le,re,me,Ve,ye);else if(Ve==="object"){if(typeof z.then=="function")return pe(se(z),re,me,le,ye);throw re=String(z),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Te}function K(z,re,me){if(z==null)return z;var le=[],ye=0;return pe(z,le,"","",function(Ve){return re.call(me,Ve,ye++)}),le}function ae(z){if(z._status===-1){var re=z._result;re=re(),re.then(function(me){(z._status===0||z._status===-1)&&(z._status=1,z._result=me)},function(me){(z._status===0||z._status===-1)&&(z._status=2,z._result=me)}),z._status===-1&&(z._status=0,z._result=re)}if(z._status===1)return z._result.default;throw z._result}var Q=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function he(){}return nt.Children={map:K,forEach:function(z,re,me){K(z,function(){re.apply(this,arguments)},me)},count:function(z){var re=0;return K(z,function(){re++}),re},toArray:function(z){return K(z,function(re){return re})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},nt.Component=I,nt.Fragment=n,nt.Profiler=o,nt.PureComponent=L,nt.StrictMode=i,nt.Suspense=m,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,nt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return H.H.useMemoCache(z)}},nt.cache=function(z){return function(){return z.apply(null,arguments)}},nt.cloneElement=function(z,re,me){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var le=T({},z.props),ye=z.key,Ve=void 0;if(re!=null)for(Te in re.ref!==void 0&&(Ve=void 0),re.key!==void 0&&(ye=""+re.key),re)!$.call(re,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&re.ref===void 0||(le[Te]=re[Te]);var Te=arguments.length-2;if(Te===1)le.children=me;else if(1<Te){for(var ge=Array(Te),Pe=0;Pe<Te;Pe++)ge[Pe]=arguments[Pe+2];le.children=ge}return N(z.type,ye,void 0,void 0,Ve,le)},nt.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},nt.createElement=function(z,re,me){var le,ye={},Ve=null;if(re!=null)for(le in re.key!==void 0&&(Ve=""+re.key),re)$.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=re[le]);var Te=arguments.length-2;if(Te===1)ye.children=me;else if(1<Te){for(var ge=Array(Te),Pe=0;Pe<Te;Pe++)ge[Pe]=arguments[Pe+2];ye.children=ge}if(z&&z.defaultProps)for(le in Te=z.defaultProps,Te)ye[le]===void 0&&(ye[le]=Te[le]);return N(z,Ve,void 0,void 0,null,ye)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(z){return{$$typeof:h,render:z}},nt.isValidElement=P,nt.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:ae}},nt.memo=function(z,re){return{$$typeof:p,type:z,compare:re===void 0?null:re}},nt.startTransition=function(z){var re=H.T,me={};H.T=me;try{var le=z(),ye=H.S;ye!==null&&ye(me,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(he,Q)}catch(Ve){Q(Ve)}finally{H.T=re}},nt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},nt.use=function(z){return H.H.use(z)},nt.useActionState=function(z,re,me){return H.H.useActionState(z,re,me)},nt.useCallback=function(z,re){return H.H.useCallback(z,re)},nt.useContext=function(z){return H.H.useContext(z)},nt.useDebugValue=function(){},nt.useDeferredValue=function(z,re){return H.H.useDeferredValue(z,re)},nt.useEffect=function(z,re,me){var le=H.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(z,re)},nt.useId=function(){return H.H.useId()},nt.useImperativeHandle=function(z,re,me){return H.H.useImperativeHandle(z,re,me)},nt.useInsertionEffect=function(z,re){return H.H.useInsertionEffect(z,re)},nt.useLayoutEffect=function(z,re){return H.H.useLayoutEffect(z,re)},nt.useMemo=function(z,re){return H.H.useMemo(z,re)},nt.useOptimistic=function(z,re){return H.H.useOptimistic(z,re)},nt.useReducer=function(z,re,me){return H.H.useReducer(z,re,me)},nt.useRef=function(z){return H.H.useRef(z)},nt.useState=function(z){return H.H.useState(z)},nt.useSyncExternalStore=function(z,re,me){return H.H.useSyncExternalStore(z,re,me)},nt.useTransition=function(){return H.H.useTransition()},nt.version="19.1.0",nt}var zj;function sp(){return zj||(zj=1,ty.exports=tk()),ty.exports}var b=sp();const _i=AE(b),CE=Z4({__proto__:null,default:_i},[b]);var ny={exports:{}},Zu={},sy={exports:{}},ry={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fj;function nk(){return Fj||(Fj=1,function(t){function e(K,ae){var Q=K.length;K.push(ae);e:for(;0<Q;){var he=Q-1>>>1,z=K[he];if(0<o(z,ae))K[he]=ae,K[Q]=z,Q=he;else break e}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var ae=K[0],Q=K.pop();if(Q!==ae){K[0]=Q;e:for(var he=0,z=K.length,re=z>>>1;he<re;){var me=2*(he+1)-1,le=K[me],ye=me+1,Ve=K[ye];if(0>o(le,Q))ye<z&&0>o(Ve,le)?(K[he]=Ve,K[ye]=Q,he=ye):(K[he]=le,K[me]=Q,he=me);else if(ye<z&&0>o(Ve,Q))K[he]=Ve,K[ye]=Q,he=ye;else break e}}return ae}function o(K,ae){var Q=K.sortIndex-ae.sortIndex;return Q!==0?Q:K.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var m=[],p=[],y=1,v=null,w=3,A=!1,T=!1,j=!1,I=!1,M=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function F(K){for(var ae=n(p);ae!==null;){if(ae.callback===null)i(p);else if(ae.startTime<=K)i(p),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(p)}}function H(K){if(j=!1,F(K),!T)if(n(m)!==null)T=!0,$||($=!0,R());else{var ae=n(p);ae!==null&&pe(H,ae.startTime-K)}}var $=!1,N=-1,E=5,P=-1;function U(){return I?!0:!(t.unstable_now()-P<E)}function B(){if(I=!1,$){var K=t.unstable_now();P=K;var ae=!0;try{e:{T=!1,j&&(j=!1,L(N),N=-1),A=!0;var Q=w;try{t:{for(F(K),v=n(m);v!==null&&!(v.expirationTime>K&&U());){var he=v.callback;if(typeof he=="function"){v.callback=null,w=v.priorityLevel;var z=he(v.expirationTime<=K);if(K=t.unstable_now(),typeof z=="function"){v.callback=z,F(K),ae=!0;break t}v===n(m)&&i(m),F(K)}else i(m);v=n(m)}if(v!==null)ae=!0;else{var re=n(p);re!==null&&pe(H,re.startTime-K),ae=!1}}break e}finally{v=null,w=Q,A=!1}ae=void 0}}finally{ae?R():$=!1}}}var R;if(typeof V=="function")R=function(){V(B)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,se=k.port2;k.port1.onmessage=B,R=function(){se.postMessage(null)}}else R=function(){M(B,0)};function pe(K,ae){N=M(function(){K(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(K){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var Q=w;w=ae;try{return K()}finally{w=Q}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Q=w;w=K;try{return ae()}finally{w=Q}},t.unstable_scheduleCallback=function(K,ae,Q){var he=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?he+Q:he):Q=he,K){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Q+z,K={id:y++,callback:ae,priorityLevel:K,startTime:Q,expirationTime:z,sortIndex:-1},Q>he?(K.sortIndex=Q,e(p,K),n(m)===null&&K===n(p)&&(j?(L(N),N=-1):j=!0,pe(H,Q-he))):(K.sortIndex=z,e(m,K),T||A||(T=!0,$||($=!0,R()))),K},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(K){var ae=w;return function(){var Q=w;w=ae;try{return K.apply(this,arguments)}finally{w=Q}}}}(ry)),ry}var qj;function sk(){return qj||(qj=1,sy.exports=nk()),sy.exports}var iy={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hj;function rk(){if(Hj)return zn;Hj=1;var t=sp();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,zn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},zn.flushSync=function(m){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=p,i.p=y,i.d.f()}},zn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},zn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},zn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:A}):y==="script"&&i.d.X(m,{crossOrigin:v,integrity:w,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},zn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},zn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},zn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},zn.requestFormReset=function(m){i.d.r(m)},zn.unstable_batchedUpdates=function(m,p){return m(p)},zn.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},zn.useFormStatus=function(){return u.H.useHostTransitionStatus()},zn.version="19.1.0",zn}var $j;function RE(){if($j)return iy.exports;$j=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iy.exports=rk(),iy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gj;function ik(){if(Gj)return Zu;Gj=1;var t=sk(),e=sp(),n=RE();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(i(188))}function m(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var c=r,d=a;;){var g=c.return;if(g===null)break;var x=g.alternate;if(x===null){if(d=g.return,d!==null){c=d;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===c)return h(g),r;if(x===d)return h(g),a;x=x.sibling}throw Error(i(188))}if(c.return!==d.return)c=g,d=x;else{for(var C=!1,D=g.child;D;){if(D===c){C=!0,c=g,d=x;break}if(D===d){C=!0,d=g,c=x;break}D=D.sibling}if(!C){for(D=x.child;D;){if(D===c){C=!0,c=x,d=g;break}if(D===d){C=!0,d=x,c=g;break}D=D.sibling}if(!C)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:a}function p(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=p(r),a!==null)return a;r=r.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),V=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function R(r){return r===null||typeof r!="object"?null:(r=B&&r[B]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function se(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case I:return"Profiler";case j:return"StrictMode";case H:return"Suspense";case $:return"SuspenseList";case P:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case A:return"Portal";case V:return(r.displayName||"Context")+".Provider";case L:return(r._context.displayName||"Context")+".Consumer";case F:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return a=r.displayName||null,a!==null?a:se(r.type)||"Memo";case E:a=r._payload,r=r._init;try{return se(r(a))}catch{}}return null}var pe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},he=[],z=-1;function re(r){return{current:r}}function me(r){0>z||(r.current=he[z],he[z]=null,z--)}function le(r,a){z++,he[z]=r.current,r.current=a}var ye=re(null),Ve=re(null),Te=re(null),ge=re(null);function Pe(r,a){switch(le(Te,a),le(Ve,r),le(ye,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?hj(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=hj(a),r=fj(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}me(ye),le(ye,r)}function Qe(){me(ye),me(Ve),me(Te)}function Ye(r){r.memoizedState!==null&&le(ge,r);var a=ye.current,c=fj(a,r.type);a!==c&&(le(Ve,r),le(ye,c))}function Ze(r){Ve.current===r&&(me(ye),me(Ve)),ge.current===r&&(me(ge),Gu._currentValue=Q)}var et=Object.prototype.hasOwnProperty,$t=t.unstable_scheduleCallback,Zt=t.unstable_cancelCallback,os=t.unstable_shouldYield,js=t.unstable_requestPaint,an=t.unstable_now,no=t.unstable_getCurrentPriorityLevel,Ns=t.unstable_ImmediatePriority,Fi=t.unstable_UserBlockingPriority,Wr=t.unstable_NormalPriority,$c=t.unstable_LowPriority,qs=t.unstable_IdlePriority,so=t.log,ll=t.unstable_setDisableYieldValue,Pt=null,J=null;function _e(r){if(typeof so=="function"&&ll(r),J&&typeof J.setStrictMode=="function")try{J.setStrictMode(Pt,r)}catch{}}var ze=Math.clz32?Math.clz32:Yr,tt=Math.log,Ot=Math.LN2;function Yr(r){return r>>>=0,r===0?32:31-(tt(r)/Ot|0)|0}var ro=256,io=4194304;function Hs(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function cl(r,a,c){var d=r.pendingLanes;if(d===0)return 0;var g=0,x=r.suspendedLanes,C=r.pingedLanes;r=r.warmLanes;var D=d&134217727;return D!==0?(d=D&~x,d!==0?g=Hs(d):(C&=D,C!==0?g=Hs(C):c||(c=D&~r,c!==0&&(g=Hs(c))))):(D=d&~x,D!==0?g=Hs(D):C!==0?g=Hs(C):c||(c=d&~r,c!==0&&(g=Hs(c)))),g===0?0:a!==0&&a!==g&&(a&x)===0&&(x=g&-g,c=a&-a,x>=c||x===32&&(c&4194048)!==0)?a:g}function ao(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Gc(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kc(){var r=ro;return ro<<=1,(ro&4194048)===0&&(ro=256),r}function Wc(){var r=io;return io<<=1,(io&62914560)===0&&(io=4194304),r}function Xr(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function Qr(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Yc(r,a,c,d,g,x){var C=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var D=r.entanglements,q=r.expirationTimes,Z=r.hiddenUpdates;for(c=C&~c;0<c;){var oe=31-ze(c),ue=1<<oe;D[oe]=0,q[oe]=-1;var ee=Z[oe];if(ee!==null)for(Z[oe]=null,oe=0;oe<ee.length;oe++){var te=ee[oe];te!==null&&(te.lane&=-536870913)}c&=~ue}d!==0&&mr(r,d,0),x!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=x&~(C&~a))}function mr(r,a,c){r.pendingLanes|=a,r.suspendedLanes&=~a;var d=31-ze(a);r.entangledLanes|=a,r.entanglements[d]=r.entanglements[d]|1073741824|c&4194090}function Xc(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var d=31-ze(c),g=1<<d;g&a|r[d]&a&&(r[d]|=a),c&=~g}}function qi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ul(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Hi(){var r=ae.p;return r!==0?r:(r=window.event,r===void 0?32:kj(r.type))}function gh(r,a){var c=ae.p;try{return ae.p=r,a()}finally{ae.p=c}}var Bt=Math.random().toString(36).slice(2),pn="__reactFiber$"+Bt,on="__reactProps$"+Bt,Es="__reactContainer$"+Bt,Qc="__reactEvents$"+Bt,sg="__reactListeners$"+Bt,$i="__reactHandles$"+Bt,xh="__reactResources$"+Bt,oo="__reactMarker$"+Bt;function Gi(r){delete r[pn],delete r[on],delete r[Qc],delete r[sg],delete r[$i]}function Zr(r){var a=r[pn];if(a)return a;for(var c=r.parentNode;c;){if(a=c[Es]||c[pn]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=xj(r);r!==null;){if(c=r[pn])return c;r=xj(r)}return a}r=c,c=r.parentNode}return null}function pr(r){if(r=r[pn]||r[Es]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function gr(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Kn(r){var a=r[xh];return a||(a=r[xh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Jt(r){r[oo]=!0}var Zc=new Set,dl={};function $s(r,a){Jr(r,a),Jr(r+"Capture",a)}function Jr(r,a){for(dl[r]=a,r=0;r<a.length;r++)Zc.add(a[r])}var yh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vh={},lo={};function bh(r){return et.call(lo,r)?!0:et.call(vh,r)?!1:yh.test(r)?lo[r]=!0:(vh[r]=!0,!1)}function Ki(r,a,c){if(bh(a))if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+c)}}function xr(r,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+c)}}function kn(r,a,c,d){if(d===null)r.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(a,c,""+d)}}var co,wh;function ei(r){if(co===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);co=a&&a[1]||"",wh=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+co+r+wh}var hl=!1;function fl(r,a){if(!r||hl)return"";hl=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var ee=te}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(te){ee=te}r.call(ue.prototype)}}else{try{throw Error()}catch(te){ee=te}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),C=x[0],D=x[1];if(C&&D){var q=C.split(`
`),Z=D.split(`
`);for(g=d=0;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;for(;g<Z.length&&!Z[g].includes("DetermineComponentFrameRoot");)g++;if(d===q.length||g===Z.length)for(d=q.length-1,g=Z.length-1;1<=d&&0<=g&&q[d]!==Z[g];)g--;for(;1<=d&&0<=g;d--,g--)if(q[d]!==Z[g]){if(d!==1||g!==1)do if(d--,g--,0>g||q[d]!==Z[g]){var oe=`
`+q[d].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=d&&0<=g);break}}}finally{hl=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?ei(c):""}function Jc(r){switch(r.tag){case 26:case 27:case 5:return ei(r.type);case 16:return ei("Lazy");case 13:return ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return fl(r.type,!1);case 11:return fl(r.type.render,!1);case 1:return fl(r.type,!0);case 31:return ei("Activity");default:return""}}function ml(r){try{var a="";do a+=Jc(r),r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Wn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function eu(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function rg(r){var a=eu(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),d=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,x=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return g.call(this)},set:function(C){d=""+C,x.call(this,C)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(C){d=""+C},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function pl(r){r._valueTracker||(r._valueTracker=rg(r))}function tu(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),d="";return r&&(d=eu(r)?r.checked?"true":"false":r.value),r=d,r!==c?(a.setValue(r),!0):!1}function uo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ig=/[\n"\\]/g;function ln(r){return r.replace(ig,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ls(r,a,c,d,g,x,C,D){r.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.type=C:r.removeAttribute("type"),a!=null?C==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Wn(a)):r.value!==""+Wn(a)&&(r.value=""+Wn(a)):C!=="submit"&&C!=="reset"||r.removeAttribute("value"),a!=null?Wi(r,C,Wn(a)):c!=null?Wi(r,C,Wn(c)):d!=null&&r.removeAttribute("value"),g==null&&x!=null&&(r.defaultChecked=!!x),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+Wn(D):r.removeAttribute("name")}function ho(r,a,c,d,g,x,C,D){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),a!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||a!=null))return;c=c!=null?""+Wn(c):"",a=a!=null?""+Wn(a):c,D||a===r.value||(r.value=a),r.defaultValue=a}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=D?r.checked:!!d,r.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.name=C)}function Wi(r,a,c){a==="number"&&uo(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function ti(r,a,c,d){if(r=r.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<r.length;c++)g=a.hasOwnProperty("$"+r[c].value),r[c].selected!==g&&(r[c].selected=g),g&&d&&(r[c].defaultSelected=!0)}else{for(c=""+Wn(c),a=null,g=0;g<r.length;g++){if(r[g].value===c){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function Et(r,a,c){if(a!=null&&(a=""+Wn(a),a!==r.value&&(r.value=a),c==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=c!=null?""+Wn(c):""}function fo(r,a,c,d){if(a==null){if(d!=null){if(c!=null)throw Error(i(92));if(pe(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),a=c}c=Wn(a),r.defaultValue=c,d=r.textContent,d===c&&d!==""&&d!==null&&(r.value=d)}function Ss(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _h(r,a,c){var d=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":d?r.setProperty(a,c):typeof c!="number"||c===0||mo.has(a)?a==="float"?r.cssFloat=c:r[a]=(""+c).trim():r[a]=c+"px"}function nu(r,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var g in a)d=a[g],a.hasOwnProperty(g)&&c[g]!==d&&_h(r,g,d)}else for(var x in a)a.hasOwnProperty(x)&&_h(r,x,a[x])}function su(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ag=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),og=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gl(r){return og.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ni=null;function Ts(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var si=null,ri=null;function ru(r){var a=pr(r);if(a&&(r=a.stateNode)){var c=r[on]||null;e:switch(r=a.stateNode,a.type){case"input":if(ls(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ln(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var d=c[a];if(d!==r&&d.form===r.form){var g=d[on]||null;if(!g)throw Error(i(90));ls(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<c.length;a++)d=c[a],d.form===r.form&&tu(d)}break e;case"textarea":Et(r,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&ti(r,!!c.multiple,a,!1)}}}var yr=!1;function jh(r,a,c){if(yr)return r(a,c);yr=!0;try{var d=r(a);return d}finally{if(yr=!1,(si!==null||ri!==null)&&(xf(),si&&(a=si,r=ri,ri=si=null,ru(a),r)))for(a=0;a<r.length;a++)ru(r[a])}}function po(r,a){var c=r.stateNode;if(c===null)return null;var d=c[on]||null;if(d===null)return null;c=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var Gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),As=!1;if(Gs)try{var go={};Object.defineProperty(go,"passive",{get:function(){As=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{As=!1}var vr=null,Yi=null,ii=null;function iu(){if(ii)return ii;var r,a=Yi,c=a.length,d,g="value"in vr?vr.value:vr.textContent,x=g.length;for(r=0;r<c&&a[r]===g[r];r++);var C=c-r;for(d=1;d<=C&&a[c-d]===g[x-d];d++);return ii=g.slice(r,1<d?1-d:void 0)}function br(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function wr(){return!0}function au(){return!1}function Nn(r){function a(c,d,g,x,C){this._reactName=c,this._targetInst=g,this.type=d,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(c=r[D],this[D]=c?c(x):x[D]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?wr:au,this.isPropagationStopped=au,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),a}var vt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xl=Nn(vt),xo=y({},vt,{view:0,detail:0}),Nh=Nn(xo),yl,vl,_r,yo=y({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==_r&&(_r&&r.type==="mousemove"?(yl=r.screenX-_r.screenX,vl=r.screenY-_r.screenY):vl=yl=0,_r=r),yl)},movementY:function(r){return"movementY"in r?r.movementY:vl}}),Cs=Nn(yo),Eh=y({},yo,{dataTransfer:0}),lg=Nn(Eh),vo=y({},xo,{relatedTarget:0}),bl=Nn(vo),ou=y({},vt,{animationName:0,elapsedTime:0,pseudoElement:0}),wl=Nn(ou),Sh=y({},vt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),_l=Nn(Sh),cg=y({},vt,{data:0}),lu=Nn(cg),bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Ah[r])?!!a[r]:!1}function wo(){return cu}var Ch=y({},xo,{key:function(r){if(r.key){var a=bo[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=br(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Th[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wo,charCode:function(r){return r.type==="keypress"?br(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?br(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),jl=Nn(Ch),Rh=y({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uu=Nn(Rh),ai=y({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wo}),Ih=Nn(ai),kh=y({},vt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dh=Nn(kh),Mh=y({},yo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Nl=Nn(Mh),Yn=y({},vt,{newState:0,oldState:0}),Ph=Nn(Yn),Oh=[9,13,27,32],jr=Gs&&"CompositionEvent"in window,f=null;Gs&&"documentMode"in document&&(f=document.documentMode);var _=Gs&&"TextEvent"in window&&!f,S=Gs&&(!jr||f&&8<f&&11>=f),O=" ",Y=!1;function ne(r,a){switch(r){case"keyup":return Oh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var dt=!1;function gn(r,a){switch(r){case"compositionend":return xe(a);case"keypress":return a.which!==32?null:(Y=!0,O);case"textInput":return r=a.data,r===O&&Y?null:r;default:return null}}function ht(r,a){if(dt)return r==="compositionend"||!jr&&ne(r,a)?(r=iu(),ii=Yi=vr=null,dt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xn(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!En[r.type]:a==="textarea"}function oi(r,a,c,d){si?ri?ri.push(d):ri=[d]:si=d,a=jf(a,"onChange"),0<a.length&&(c=new xl("onChange","change",null,c,d),r.push({event:c,listeners:a}))}var Dn=null,Nr=null;function du(r){oj(r,0)}function Lh(r){var a=gr(r);if(tu(a))return r}function Ab(r,a){if(r==="change")return a}var Cb=!1;if(Gs){var ug;if(Gs){var dg="oninput"in document;if(!dg){var Rb=document.createElement("div");Rb.setAttribute("oninput","return;"),dg=typeof Rb.oninput=="function"}ug=dg}else ug=!1;Cb=ug&&(!document.documentMode||9<document.documentMode)}function Ib(){Dn&&(Dn.detachEvent("onpropertychange",kb),Nr=Dn=null)}function kb(r){if(r.propertyName==="value"&&Lh(Nr)){var a=[];oi(a,Nr,r,Ts(r)),jh(du,a)}}function AI(r,a,c){r==="focusin"?(Ib(),Dn=a,Nr=c,Dn.attachEvent("onpropertychange",kb)):r==="focusout"&&Ib()}function CI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Lh(Nr)}function RI(r,a){if(r==="click")return Lh(a)}function II(r,a){if(r==="input"||r==="change")return Lh(a)}function kI(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var cs=typeof Object.is=="function"?Object.is:kI;function hu(r,a){if(cs(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),d=Object.keys(a);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var g=c[d];if(!et.call(a,g)||!cs(r[g],a[g]))return!1}return!0}function Db(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Mb(r,a){var c=Db(r);r=0;for(var d;c;){if(c.nodeType===3){if(d=r+c.textContent.length,r<=a&&d>=a)return{node:c,offset:a-r};r=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Db(c)}}function Pb(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Pb(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Ob(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=uo(r.document);a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=uo(r.document)}return a}function hg(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var DI=Gs&&"documentMode"in document&&11>=document.documentMode,El=null,fg=null,fu=null,mg=!1;function Lb(r,a,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;mg||El==null||El!==uo(d)||(d=El,"selectionStart"in d&&hg(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),fu&&hu(fu,d)||(fu=d,d=jf(fg,"onSelect"),0<d.length&&(a=new xl("onSelect","select",null,a,c),r.push({event:a,listeners:d}),a.target=El)))}function _o(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var Sl={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionrun:_o("Transition","TransitionRun"),transitionstart:_o("Transition","TransitionStart"),transitioncancel:_o("Transition","TransitionCancel"),transitionend:_o("Transition","TransitionEnd")},pg={},Vb={};Gs&&(Vb=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function jo(r){if(pg[r])return pg[r];if(!Sl[r])return r;var a=Sl[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in Vb)return pg[r]=a[c];return r}var Ub=jo("animationend"),Bb=jo("animationiteration"),zb=jo("animationstart"),MI=jo("transitionrun"),PI=jo("transitionstart"),OI=jo("transitioncancel"),Fb=jo("transitionend"),qb=new Map,gg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gg.push("scrollEnd");function Ks(r,a){qb.set(r,a),$s(a,[r])}var Hb=new WeakMap;function Rs(r,a){if(typeof r=="object"&&r!==null){var c=Hb.get(r);return c!==void 0?c:(a={value:r,source:a,stack:ml(a)},Hb.set(r,a),a)}return{value:r,source:a,stack:ml(a)}}var Is=[],Tl=0,xg=0;function Vh(){for(var r=Tl,a=xg=Tl=0;a<r;){var c=Is[a];Is[a++]=null;var d=Is[a];Is[a++]=null;var g=Is[a];Is[a++]=null;var x=Is[a];if(Is[a++]=null,d!==null&&g!==null){var C=d.pending;C===null?g.next=g:(g.next=C.next,C.next=g),d.pending=g}x!==0&&$b(c,g,x)}}function Uh(r,a,c,d){Is[Tl++]=r,Is[Tl++]=a,Is[Tl++]=c,Is[Tl++]=d,xg|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function yg(r,a,c,d){return Uh(r,a,c,d),Bh(r)}function Al(r,a){return Uh(r,null,null,a),Bh(r)}function $b(r,a,c){r.lanes|=c;var d=r.alternate;d!==null&&(d.lanes|=c);for(var g=!1,x=r.return;x!==null;)x.childLanes|=c,d=x.alternate,d!==null&&(d.childLanes|=c),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(g=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,g&&a!==null&&(g=31-ze(c),r=x.hiddenUpdates,d=r[g],d===null?r[g]=[a]:d.push(a),a.lane=c|536870912),x):null}function Bh(r){if(50<Vu)throw Vu=0,Nx=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Cl={};function LI(r,a,c,d){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(r,a,c,d){return new LI(r,a,c,d)}function vg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function li(r,a){var c=r.alternate;return c===null?(c=us(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function Gb(r,a){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,a=c.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function zh(r,a,c,d,g,x){var C=0;if(d=r,typeof r=="function")vg(r)&&(C=1);else if(typeof r=="string")C=U4(r,c,ye.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case P:return r=us(31,c,a,g),r.elementType=P,r.lanes=x,r;case T:return No(c.children,g,x,a);case j:C=8,g|=24;break;case I:return r=us(12,c,a,g|2),r.elementType=I,r.lanes=x,r;case H:return r=us(13,c,a,g),r.elementType=H,r.lanes=x,r;case $:return r=us(19,c,a,g),r.elementType=$,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case V:C=10;break e;case L:C=9;break e;case F:C=11;break e;case N:C=14;break e;case E:C=16,d=null;break e}C=29,c=Error(i(130,r===null?"null":typeof r,"")),d=null}return a=us(C,c,a,g),a.elementType=r,a.type=d,a.lanes=x,a}function No(r,a,c,d){return r=us(7,r,d,a),r.lanes=c,r}function bg(r,a,c){return r=us(6,r,null,a),r.lanes=c,r}function wg(r,a,c){return a=us(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Rl=[],Il=0,Fh=null,qh=0,ks=[],Ds=0,Eo=null,ci=1,ui="";function So(r,a){Rl[Il++]=qh,Rl[Il++]=Fh,Fh=r,qh=a}function Kb(r,a,c){ks[Ds++]=ci,ks[Ds++]=ui,ks[Ds++]=Eo,Eo=r;var d=ci;r=ui;var g=32-ze(d)-1;d&=~(1<<g),c+=1;var x=32-ze(a)+g;if(30<x){var C=g-g%5;x=(d&(1<<C)-1).toString(32),d>>=C,g-=C,ci=1<<32-ze(a)+g|c<<g|d,ui=x+r}else ci=1<<x|c<<g|d,ui=r}function _g(r){r.return!==null&&(So(r,1),Kb(r,1,0))}function jg(r){for(;r===Fh;)Fh=Rl[--Il],Rl[Il]=null,qh=Rl[--Il],Rl[Il]=null;for(;r===Eo;)Eo=ks[--Ds],ks[Ds]=null,ui=ks[--Ds],ks[Ds]=null,ci=ks[--Ds],ks[Ds]=null}var Xn=null,Wt=null,yt=!1,To=null,Er=!1,Ng=Error(i(519));function Ao(r){var a=Error(i(418,""));throw gu(Rs(a,r)),Ng}function Wb(r){var a=r.stateNode,c=r.type,d=r.memoizedProps;switch(a[pn]=r,a[on]=d,c){case"dialog":lt("cancel",a),lt("close",a);break;case"iframe":case"object":case"embed":lt("load",a);break;case"video":case"audio":for(c=0;c<Bu.length;c++)lt(Bu[c],a);break;case"source":lt("error",a);break;case"img":case"image":case"link":lt("error",a),lt("load",a);break;case"details":lt("toggle",a);break;case"input":lt("invalid",a),ho(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),pl(a);break;case"select":lt("invalid",a);break;case"textarea":lt("invalid",a),fo(a,d.value,d.defaultValue,d.children),pl(a)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||d.suppressHydrationWarning===!0||dj(a.textContent,c)?(d.popover!=null&&(lt("beforetoggle",a),lt("toggle",a)),d.onScroll!=null&&lt("scroll",a),d.onScrollEnd!=null&&lt("scrollend",a),d.onClick!=null&&(a.onclick=Nf),a=!0):a=!1,a||Ao(r)}function Yb(r){for(Xn=r.return;Xn;)switch(Xn.tag){case 5:case 13:Er=!1;return;case 27:case 3:Er=!0;return;default:Xn=Xn.return}}function mu(r){if(r!==Xn)return!1;if(!yt)return Yb(r),yt=!0,!1;var a=r.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Bx(r.type,r.memoizedProps)),c=!c),c&&Wt&&Ao(r),Yb(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(a===0){Wt=Ys(r.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;r=r.nextSibling}Wt=null}}else a===27?(a=Wt,da(r.type)?(r=Hx,Hx=null,Wt=r):Wt=a):Wt=Xn?Ys(r.stateNode.nextSibling):null;return!0}function pu(){Wt=Xn=null,yt=!1}function Xb(){var r=To;return r!==null&&(ts===null?ts=r:ts.push.apply(ts,r),To=null),r}function gu(r){To===null?To=[r]:To.push(r)}var Eg=re(null),Co=null,di=null;function Xi(r,a,c){le(Eg,a._currentValue),a._currentValue=c}function hi(r){r._currentValue=Eg.current,me(Eg)}function Sg(r,a,c){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===c)break;r=r.return}}function Tg(r,a,c,d){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var x=g.dependencies;if(x!==null){var C=g.child;x=x.firstContext;e:for(;x!==null;){var D=x;x=g;for(var q=0;q<a.length;q++)if(D.context===a[q]){x.lanes|=c,D=x.alternate,D!==null&&(D.lanes|=c),Sg(x.return,c,r),d||(C=null);break e}x=D.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(i(341));C.lanes|=c,x=C.alternate,x!==null&&(x.lanes|=c),Sg(C,c,r),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===r){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function xu(r,a,c,d){r=null;for(var g=a,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var D=g.type;cs(g.pendingProps.value,C.value)||(r!==null?r.push(D):r=[D])}}else if(g===ge.current){if(C=g.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Gu):r=[Gu])}g=g.return}r!==null&&Tg(a,r,c,d),a.flags|=262144}function Hh(r){for(r=r.firstContext;r!==null;){if(!cs(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ro(r){Co=r,di=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Bn(r){return Qb(Co,r)}function $h(r,a){return Co===null&&Ro(r),Qb(r,a)}function Qb(r,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},di===null){if(r===null)throw Error(i(308));di=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else di=di.next=a;return c}var VI=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(c,d){r.push(d)}};this.abort=function(){a.aborted=!0,r.forEach(function(c){return c()})}},UI=t.unstable_scheduleCallback,BI=t.unstable_NormalPriority,yn={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ag(){return{controller:new VI,data:new Map,refCount:0}}function yu(r){r.refCount--,r.refCount===0&&UI(BI,function(){r.controller.abort()})}var vu=null,Cg=0,kl=0,Dl=null;function zI(r,a){if(vu===null){var c=vu=[];Cg=0,kl=Ix(),Dl={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Cg++,a.then(Zb,Zb),a}function Zb(){if(--Cg===0&&vu!==null){Dl!==null&&(Dl.status="fulfilled");var r=vu;vu=null,kl=0,Dl=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function FI(r,a){var c=[],d={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return r.then(function(){d.status="fulfilled",d.value=a;for(var g=0;g<c.length;g++)(0,c[g])(a)},function(g){for(d.status="rejected",d.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),d}var Jb=K.S;K.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&zI(r,a),Jb!==null&&Jb(r,a)};var Io=re(null);function Rg(){var r=Io.current;return r!==null?r:Mt.pooledCache}function Gh(r,a){a===null?le(Io,Io.current):le(Io,a.pool)}function ew(){var r=Rg();return r===null?null:{parent:yn._currentValue,pool:r}}var bu=Error(i(460)),tw=Error(i(474)),Kh=Error(i(542)),Ig={then:function(){}};function nw(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Wh(){}function sw(r,a,c){switch(c=r[c],c===void 0?r.push(a):c!==a&&(a.then(Wh,Wh),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,iw(r),r;default:if(typeof a.status=="string")a.then(Wh,Wh);else{if(r=Mt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(d){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=d}},function(d){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,iw(r),r}throw wu=a,bu}}var wu=null;function rw(){if(wu===null)throw Error(i(459));var r=wu;return wu=null,r}function iw(r){if(r===bu||r===Kh)throw Error(i(483))}var Qi=!1;function kg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dg(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Zi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ji(r,a,c){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(wt&2)!==0){var g=d.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),d.pending=a,a=Bh(r),$b(r,null,c),a}return Uh(r,d,a,c),Bh(r)}function _u(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var d=a.lanes;d&=r.pendingLanes,c|=d,a.lanes=c,Xc(r,c)}}function Mg(r,a){var c=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var g=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?g=x=C:x=x.next=C,c=c.next}while(c!==null);x===null?g=x=a:x=x.next=a}else g=x=a;c={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}var Pg=!1;function ju(){if(Pg){var r=Dl;if(r!==null)throw r}}function Nu(r,a,c,d){Pg=!1;var g=r.updateQueue;Qi=!1;var x=g.firstBaseUpdate,C=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var q=D,Z=q.next;q.next=null,C===null?x=Z:C.next=Z,C=q;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,D=oe.lastBaseUpdate,D!==C&&(D===null?oe.firstBaseUpdate=Z:D.next=Z,oe.lastBaseUpdate=q))}if(x!==null){var ue=g.baseState;C=0,oe=Z=q=null,D=x;do{var ee=D.lane&-536870913,te=ee!==D.lane;if(te?(ft&ee)===ee:(d&ee)===ee){ee!==0&&ee===kl&&(Pg=!0),oe!==null&&(oe=oe.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var $e=r,Be=D;ee=a;var At=c;switch(Be.tag){case 1:if($e=Be.payload,typeof $e=="function"){ue=$e.call(At,ue,ee);break e}ue=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Be.payload,ee=typeof $e=="function"?$e.call(At,ue,ee):$e,ee==null)break e;ue=y({},ue,ee);break e;case 2:Qi=!0}}ee=D.callback,ee!==null&&(r.flags|=64,te&&(r.flags|=8192),te=g.callbacks,te===null?g.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},oe===null?(Z=oe=te,q=ue):oe=oe.next=te,C|=ee;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;te=D,D=te.next,te.next=null,g.lastBaseUpdate=te,g.shared.pending=null}}while(!0);oe===null&&(q=ue),g.baseState=q,g.firstBaseUpdate=Z,g.lastBaseUpdate=oe,x===null&&(g.shared.lanes=0),oa|=C,r.lanes=C,r.memoizedState=ue}}function aw(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function ow(r,a){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)aw(c[r],a)}var Ml=re(null),Yh=re(0);function lw(r,a){r=vi,le(Yh,r),le(Ml,a),vi=r|a.baseLanes}function Og(){le(Yh,vi),le(Ml,Ml.current)}function Lg(){vi=Yh.current,me(Ml),me(Yh)}var ea=0,st=null,St=null,cn=null,Xh=!1,Pl=!1,ko=!1,Qh=0,Eu=0,Ol=null,qI=0;function en(){throw Error(i(321))}function Vg(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!cs(r[c],a[c]))return!1;return!0}function Ug(r,a,c,d,g,x){return ea=x,st=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=r===null||r.memoizedState===null?$w:Gw,ko=!1,x=c(d,g),ko=!1,Pl&&(x=uw(a,c,d,g)),cw(r),x}function cw(r){K.H=sf;var a=St!==null&&St.next!==null;if(ea=0,cn=St=st=null,Xh=!1,Eu=0,Ol=null,a)throw Error(i(300));r===null||Sn||(r=r.dependencies,r!==null&&Hh(r)&&(Sn=!0))}function uw(r,a,c,d){st=r;var g=0;do{if(Pl&&(Ol=null),Eu=0,Pl=!1,25<=g)throw Error(i(301));if(g+=1,cn=St=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}K.H=XI,x=a(c,d)}while(Pl);return x}function HI(){var r=K.H,a=r.useState()[0];return a=typeof a.then=="function"?Su(a):a,r=r.useState()[0],(St!==null?St.memoizedState:null)!==r&&(st.flags|=1024),a}function Bg(){var r=Qh!==0;return Qh=0,r}function zg(r,a,c){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~c}function Fg(r){if(Xh){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Xh=!1}ea=0,cn=St=st=null,Pl=!1,Eu=Qh=0,Ol=null}function Jn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?st.memoizedState=cn=r:cn=cn.next=r,cn}function un(){if(St===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=St.next;var a=cn===null?st.memoizedState:cn.next;if(a!==null)cn=a,St=r;else{if(r===null)throw st.alternate===null?Error(i(467)):Error(i(310));St=r,r={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},cn===null?st.memoizedState=cn=r:cn=cn.next=r}return cn}function qg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Su(r){var a=Eu;return Eu+=1,Ol===null&&(Ol=[]),r=sw(Ol,r,a),a=st,(cn===null?a.memoizedState:cn.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?$w:Gw),r}function Zh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Su(r);if(r.$$typeof===V)return Bn(r)}throw Error(i(438,String(r)))}function Hg(r){var a=null,c=st.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var d=st.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=qg(),st.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(r),d=0;d<r;d++)c[d]=U;return a.index++,c}function fi(r,a){return typeof a=="function"?a(r):a}function Jh(r){var a=un();return $g(a,St,r)}function $g(r,a,c){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var g=r.baseQueue,x=d.pending;if(x!==null){if(g!==null){var C=g.next;g.next=x.next,x.next=C}a.baseQueue=g=x,d.pending=null}if(x=r.baseState,g===null)r.memoizedState=x;else{a=g.next;var D=C=null,q=null,Z=a,oe=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(ft&ue)===ue:(ea&ue)===ue){var ee=Z.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===kl&&(oe=!0);else if((ea&ee)===ee){Z=Z.next,ee===kl&&(oe=!0);continue}else ue={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(D=q=ue,C=x):q=q.next=ue,st.lanes|=ee,oa|=ee;ue=Z.action,ko&&c(x,ue),x=Z.hasEagerState?Z.eagerState:c(x,ue)}else ee={lane:ue,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(D=q=ee,C=x):q=q.next=ee,st.lanes|=ue,oa|=ue;Z=Z.next}while(Z!==null&&Z!==a);if(q===null?C=x:q.next=D,!cs(x,r.memoizedState)&&(Sn=!0,oe&&(c=Dl,c!==null)))throw c;r.memoizedState=x,r.baseState=C,r.baseQueue=q,d.lastRenderedState=x}return g===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Gg(r){var a=un(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var d=c.dispatch,g=c.pending,x=a.memoizedState;if(g!==null){c.pending=null;var C=g=g.next;do x=r(x,C.action),C=C.next;while(C!==g);cs(x,a.memoizedState)||(Sn=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),c.lastRenderedState=x}return[x,d]}function dw(r,a,c){var d=st,g=un(),x=yt;if(x){if(c===void 0)throw Error(i(407));c=c()}else c=a();var C=!cs((St||g).memoizedState,c);C&&(g.memoizedState=c,Sn=!0),g=g.queue;var D=mw.bind(null,d,g,r);if(Tu(2048,8,D,[r]),g.getSnapshot!==a||C||cn!==null&&cn.memoizedState.tag&1){if(d.flags|=2048,Ll(9,ef(),fw.bind(null,d,g,c,a),null),Mt===null)throw Error(i(349));x||(ea&124)!==0||hw(d,a,c)}return c}function hw(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=st.updateQueue,a===null?(a=qg(),st.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function fw(r,a,c,d){a.value=c,a.getSnapshot=d,pw(a)&&gw(r)}function mw(r,a,c){return c(function(){pw(a)&&gw(r)})}function pw(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!cs(r,c)}catch{return!0}}function gw(r){var a=Al(r,2);a!==null&&ps(a,r,2)}function Kg(r){var a=Jn();if(typeof r=="function"){var c=r;if(r=c(),ko){_e(!0);try{c()}finally{_e(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:r},a}function xw(r,a,c,d){return r.baseState=c,$g(r,St,typeof d=="function"?d:fi)}function $I(r,a,c,d,g){if(nf(r))throw Error(i(485));if(r=a.action,r!==null){var x={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){x.listeners.push(C)}};K.T!==null?c(!0):x.isTransition=!1,d(x),c=a.pending,c===null?(x.next=a.pending=x,yw(a,x)):(x.next=c.next,a.pending=c.next=x)}}function yw(r,a){var c=a.action,d=a.payload,g=r.state;if(a.isTransition){var x=K.T,C={};K.T=C;try{var D=c(g,d),q=K.S;q!==null&&q(C,D),vw(r,a,D)}catch(Z){Wg(r,a,Z)}finally{K.T=x}}else try{x=c(g,d),vw(r,a,x)}catch(Z){Wg(r,a,Z)}}function vw(r,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){bw(r,a,d)},function(d){return Wg(r,a,d)}):bw(r,a,c)}function bw(r,a,c){a.status="fulfilled",a.value=c,ww(a),r.state=c,a=r.pending,a!==null&&(c=a.next,c===a?r.pending=null:(c=c.next,a.next=c,yw(r,c)))}function Wg(r,a,c){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=c,ww(a),a=a.next;while(a!==d)}r.action=null}function ww(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function _w(r,a){return a}function jw(r,a){if(yt){var c=Mt.formState;if(c!==null){e:{var d=st;if(yt){if(Wt){t:{for(var g=Wt,x=Er;g.nodeType!==8;){if(!x){g=null;break t}if(g=Ys(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){Wt=Ys(g.nextSibling),d=g.data==="F!";break e}}Ao(d)}d=!1}d&&(a=c[0])}}return c=Jn(),c.memoizedState=c.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_w,lastRenderedState:a},c.queue=d,c=Fw.bind(null,st,d),d.dispatch=c,d=Kg(!1),x=Jg.bind(null,st,!1,d.queue),d=Jn(),g={state:a,dispatch:null,action:r,pending:null},d.queue=g,c=$I.bind(null,st,g,x,c),g.dispatch=c,d.memoizedState=r,[a,c,!1]}function Nw(r){var a=un();return Ew(a,St,r)}function Ew(r,a,c){if(a=$g(r,a,_w)[0],r=Jh(fi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=Su(a)}catch(C){throw C===bu?Kh:C}else d=a;a=un();var g=a.queue,x=g.dispatch;return c!==a.memoizedState&&(st.flags|=2048,Ll(9,ef(),GI.bind(null,g,c),null)),[d,x,r]}function GI(r,a){r.action=a}function Sw(r){var a=un(),c=St;if(c!==null)return Ew(a,c,r);un(),a=a.memoizedState,c=un();var d=c.queue.dispatch;return c.memoizedState=r,[a,d,!1]}function Ll(r,a,c,d){return r={tag:r,create:c,deps:d,inst:a,next:null},a=st.updateQueue,a===null&&(a=qg(),st.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=r.next=r:(d=c.next,c.next=r,r.next=d,a.lastEffect=r),r}function ef(){return{destroy:void 0,resource:void 0}}function Tw(){return un().memoizedState}function tf(r,a,c,d){var g=Jn();d=d===void 0?null:d,st.flags|=r,g.memoizedState=Ll(1|a,ef(),c,d)}function Tu(r,a,c,d){var g=un();d=d===void 0?null:d;var x=g.memoizedState.inst;St!==null&&d!==null&&Vg(d,St.memoizedState.deps)?g.memoizedState=Ll(a,x,c,d):(st.flags|=r,g.memoizedState=Ll(1|a,x,c,d))}function Aw(r,a){tf(8390656,8,r,a)}function Cw(r,a){Tu(2048,8,r,a)}function Rw(r,a){return Tu(4,2,r,a)}function Iw(r,a){return Tu(4,4,r,a)}function kw(r,a){if(typeof a=="function"){r=r();var c=a(r);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function Dw(r,a,c){c=c!=null?c.concat([r]):null,Tu(4,4,kw.bind(null,a,r),c)}function Yg(){}function Mw(r,a){var c=un();a=a===void 0?null:a;var d=c.memoizedState;return a!==null&&Vg(a,d[1])?d[0]:(c.memoizedState=[r,a],r)}function Pw(r,a){var c=un();a=a===void 0?null:a;var d=c.memoizedState;if(a!==null&&Vg(a,d[1]))return d[0];if(d=r(),ko){_e(!0);try{r()}finally{_e(!1)}}return c.memoizedState=[d,a],d}function Xg(r,a,c){return c===void 0||(ea&1073741824)!==0?r.memoizedState=a:(r.memoizedState=c,r=V_(),st.lanes|=r,oa|=r,c)}function Ow(r,a,c,d){return cs(c,a)?c:Ml.current!==null?(r=Xg(r,c,d),cs(r,a)||(Sn=!0),r):(ea&42)===0?(Sn=!0,r.memoizedState=c):(r=V_(),st.lanes|=r,oa|=r,a)}function Lw(r,a,c,d,g){var x=ae.p;ae.p=x!==0&&8>x?x:8;var C=K.T,D={};K.T=D,Jg(r,!1,a,c);try{var q=g(),Z=K.S;if(Z!==null&&Z(D,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var oe=FI(q,d);Au(r,a,oe,ms(r))}else Au(r,a,d,ms(r))}catch(ue){Au(r,a,{then:function(){},status:"rejected",reason:ue},ms())}finally{ae.p=x,K.T=C}}function KI(){}function Qg(r,a,c,d){if(r.tag!==5)throw Error(i(476));var g=Vw(r).queue;Lw(r,g,a,Q,c===null?KI:function(){return Uw(r),c(d)})}function Vw(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:Q},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:c},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function Uw(r){var a=Vw(r).next.queue;Au(r,a,{},ms())}function Zg(){return Bn(Gu)}function Bw(){return un().memoizedState}function zw(){return un().memoizedState}function WI(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var c=ms();r=Zi(c);var d=Ji(a,r,c);d!==null&&(ps(d,a,c),_u(d,a,c)),a={cache:Ag()},r.payload=a;return}a=a.return}}function YI(r,a,c){var d=ms();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},nf(r)?qw(a,c):(c=yg(r,a,c,d),c!==null&&(ps(c,r,d),Hw(c,a,d)))}function Fw(r,a,c){var d=ms();Au(r,a,c,d)}function Au(r,a,c,d){var g={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(nf(r))qw(a,g);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var C=a.lastRenderedState,D=x(C,c);if(g.hasEagerState=!0,g.eagerState=D,cs(D,C))return Uh(r,a,g,0),Mt===null&&Vh(),!1}catch{}finally{}if(c=yg(r,a,g,d),c!==null)return ps(c,r,d),Hw(c,a,d),!0}return!1}function Jg(r,a,c,d){if(d={lane:2,revertLane:Ix(),action:d,hasEagerState:!1,eagerState:null,next:null},nf(r)){if(a)throw Error(i(479))}else a=yg(r,c,d,2),a!==null&&ps(a,r,2)}function nf(r){var a=r.alternate;return r===st||a!==null&&a===st}function qw(r,a){Pl=Xh=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function Hw(r,a,c){if((c&4194048)!==0){var d=a.lanes;d&=r.pendingLanes,c|=d,a.lanes=c,Xc(r,c)}}var sf={readContext:Bn,use:Zh,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},$w={readContext:Bn,use:Zh,useCallback:function(r,a){return Jn().memoizedState=[r,a===void 0?null:a],r},useContext:Bn,useEffect:Aw,useImperativeHandle:function(r,a,c){c=c!=null?c.concat([r]):null,tf(4194308,4,kw.bind(null,a,r),c)},useLayoutEffect:function(r,a){return tf(4194308,4,r,a)},useInsertionEffect:function(r,a){tf(4,2,r,a)},useMemo:function(r,a){var c=Jn();a=a===void 0?null:a;var d=r();if(ko){_e(!0);try{r()}finally{_e(!1)}}return c.memoizedState=[d,a],d},useReducer:function(r,a,c){var d=Jn();if(c!==void 0){var g=c(a);if(ko){_e(!0);try{c(a)}finally{_e(!1)}}}else g=a;return d.memoizedState=d.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},d.queue=r,r=r.dispatch=YI.bind(null,st,r),[d.memoizedState,r]},useRef:function(r){var a=Jn();return r={current:r},a.memoizedState=r},useState:function(r){r=Kg(r);var a=r.queue,c=Fw.bind(null,st,a);return a.dispatch=c,[r.memoizedState,c]},useDebugValue:Yg,useDeferredValue:function(r,a){var c=Jn();return Xg(c,r,a)},useTransition:function(){var r=Kg(!1);return r=Lw.bind(null,st,r.queue,!0,!1),Jn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,c){var d=st,g=Jn();if(yt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),Mt===null)throw Error(i(349));(ft&124)!==0||hw(d,a,c)}g.memoizedState=c;var x={value:c,getSnapshot:a};return g.queue=x,Aw(mw.bind(null,d,x,r),[r]),d.flags|=2048,Ll(9,ef(),fw.bind(null,d,x,c,a),null),c},useId:function(){var r=Jn(),a=Mt.identifierPrefix;if(yt){var c=ui,d=ci;c=(d&~(1<<32-ze(d)-1)).toString(32)+c,a="«"+a+"R"+c,c=Qh++,0<c&&(a+="H"+c.toString(32)),a+="»"}else c=qI++,a="«"+a+"r"+c.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:Zg,useFormState:jw,useActionState:jw,useOptimistic:function(r){var a=Jn();a.memoizedState=a.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Jg.bind(null,st,!0,c),c.dispatch=a,[r,a]},useMemoCache:Hg,useCacheRefresh:function(){return Jn().memoizedState=WI.bind(null,st)}},Gw={readContext:Bn,use:Zh,useCallback:Mw,useContext:Bn,useEffect:Cw,useImperativeHandle:Dw,useInsertionEffect:Rw,useLayoutEffect:Iw,useMemo:Pw,useReducer:Jh,useRef:Tw,useState:function(){return Jh(fi)},useDebugValue:Yg,useDeferredValue:function(r,a){var c=un();return Ow(c,St.memoizedState,r,a)},useTransition:function(){var r=Jh(fi)[0],a=un().memoizedState;return[typeof r=="boolean"?r:Su(r),a]},useSyncExternalStore:dw,useId:Bw,useHostTransitionStatus:Zg,useFormState:Nw,useActionState:Nw,useOptimistic:function(r,a){var c=un();return xw(c,St,r,a)},useMemoCache:Hg,useCacheRefresh:zw},XI={readContext:Bn,use:Zh,useCallback:Mw,useContext:Bn,useEffect:Cw,useImperativeHandle:Dw,useInsertionEffect:Rw,useLayoutEffect:Iw,useMemo:Pw,useReducer:Gg,useRef:Tw,useState:function(){return Gg(fi)},useDebugValue:Yg,useDeferredValue:function(r,a){var c=un();return St===null?Xg(c,r,a):Ow(c,St.memoizedState,r,a)},useTransition:function(){var r=Gg(fi)[0],a=un().memoizedState;return[typeof r=="boolean"?r:Su(r),a]},useSyncExternalStore:dw,useId:Bw,useHostTransitionStatus:Zg,useFormState:Sw,useActionState:Sw,useOptimistic:function(r,a){var c=un();return St!==null?xw(c,St,r,a):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Hg,useCacheRefresh:zw},Vl=null,Cu=0;function rf(r){var a=Cu;return Cu+=1,Vl===null&&(Vl=[]),sw(Vl,r,a)}function Ru(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function af(r,a){throw a.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Kw(r){var a=r._init;return a(r._payload)}function Ww(r){function a(W,G){if(r){var X=W.deletions;X===null?(W.deletions=[G],W.flags|=16):X.push(G)}}function c(W,G){if(!r)return null;for(;G!==null;)a(W,G),G=G.sibling;return null}function d(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function g(W,G){return W=li(W,G),W.index=0,W.sibling=null,W}function x(W,G,X){return W.index=X,r?(X=W.alternate,X!==null?(X=X.index,X<G?(W.flags|=67108866,G):X):(W.flags|=67108866,G)):(W.flags|=1048576,G)}function C(W){return r&&W.alternate===null&&(W.flags|=67108866),W}function D(W,G,X,ce){return G===null||G.tag!==6?(G=bg(X,W.mode,ce),G.return=W,G):(G=g(G,X),G.return=W,G)}function q(W,G,X,ce){var Re=X.type;return Re===T?oe(W,G,X.props.children,ce,X.key):G!==null&&(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===E&&Kw(Re)===G.type)?(G=g(G,X.props),Ru(G,X),G.return=W,G):(G=zh(X.type,X.key,X.props,null,W.mode,ce),Ru(G,X),G.return=W,G)}function Z(W,G,X,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==X.containerInfo||G.stateNode.implementation!==X.implementation?(G=wg(X,W.mode,ce),G.return=W,G):(G=g(G,X.children||[]),G.return=W,G)}function oe(W,G,X,ce,Re){return G===null||G.tag!==7?(G=No(X,W.mode,ce,Re),G.return=W,G):(G=g(G,X),G.return=W,G)}function ue(W,G,X){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=bg(""+G,W.mode,X),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return X=zh(G.type,G.key,G.props,null,W.mode,X),Ru(X,G),X.return=W,X;case A:return G=wg(G,W.mode,X),G.return=W,G;case E:var ce=G._init;return G=ce(G._payload),ue(W,G,X)}if(pe(G)||R(G))return G=No(G,W.mode,X,null),G.return=W,G;if(typeof G.then=="function")return ue(W,rf(G),X);if(G.$$typeof===V)return ue(W,$h(W,G),X);af(W,G)}return null}function ee(W,G,X,ce){var Re=G!==null?G.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Re!==null?null:D(W,G,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case w:return X.key===Re?q(W,G,X,ce):null;case A:return X.key===Re?Z(W,G,X,ce):null;case E:return Re=X._init,X=Re(X._payload),ee(W,G,X,ce)}if(pe(X)||R(X))return Re!==null?null:oe(W,G,X,ce,null);if(typeof X.then=="function")return ee(W,G,rf(X),ce);if(X.$$typeof===V)return ee(W,G,$h(W,X),ce);af(W,X)}return null}function te(W,G,X,ce,Re){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return W=W.get(X)||null,D(G,W,""+ce,Re);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case w:return W=W.get(ce.key===null?X:ce.key)||null,q(G,W,ce,Re);case A:return W=W.get(ce.key===null?X:ce.key)||null,Z(G,W,ce,Re);case E:var at=ce._init;return ce=at(ce._payload),te(W,G,X,ce,Re)}if(pe(ce)||R(ce))return W=W.get(X)||null,oe(G,W,ce,Re,null);if(typeof ce.then=="function")return te(W,G,X,rf(ce),Re);if(ce.$$typeof===V)return te(W,G,X,$h(G,ce),Re);af(G,ce)}return null}function $e(W,G,X,ce){for(var Re=null,at=null,Le=G,Fe=G=0,An=null;Le!==null&&Fe<X.length;Fe++){Le.index>Fe?(An=Le,Le=null):An=Le.sibling;var gt=ee(W,Le,X[Fe],ce);if(gt===null){Le===null&&(Le=An);break}r&&Le&&gt.alternate===null&&a(W,Le),G=x(gt,G,Fe),at===null?Re=gt:at.sibling=gt,at=gt,Le=An}if(Fe===X.length)return c(W,Le),yt&&So(W,Fe),Re;if(Le===null){for(;Fe<X.length;Fe++)Le=ue(W,X[Fe],ce),Le!==null&&(G=x(Le,G,Fe),at===null?Re=Le:at.sibling=Le,at=Le);return yt&&So(W,Fe),Re}for(Le=d(Le);Fe<X.length;Fe++)An=te(Le,W,Fe,X[Fe],ce),An!==null&&(r&&An.alternate!==null&&Le.delete(An.key===null?Fe:An.key),G=x(An,G,Fe),at===null?Re=An:at.sibling=An,at=An);return r&&Le.forEach(function(ga){return a(W,ga)}),yt&&So(W,Fe),Re}function Be(W,G,X,ce){if(X==null)throw Error(i(151));for(var Re=null,at=null,Le=G,Fe=G=0,An=null,gt=X.next();Le!==null&&!gt.done;Fe++,gt=X.next()){Le.index>Fe?(An=Le,Le=null):An=Le.sibling;var ga=ee(W,Le,gt.value,ce);if(ga===null){Le===null&&(Le=An);break}r&&Le&&ga.alternate===null&&a(W,Le),G=x(ga,G,Fe),at===null?Re=ga:at.sibling=ga,at=ga,Le=An}if(gt.done)return c(W,Le),yt&&So(W,Fe),Re;if(Le===null){for(;!gt.done;Fe++,gt=X.next())gt=ue(W,gt.value,ce),gt!==null&&(G=x(gt,G,Fe),at===null?Re=gt:at.sibling=gt,at=gt);return yt&&So(W,Fe),Re}for(Le=d(Le);!gt.done;Fe++,gt=X.next())gt=te(Le,W,Fe,gt.value,ce),gt!==null&&(r&&gt.alternate!==null&&Le.delete(gt.key===null?Fe:gt.key),G=x(gt,G,Fe),at===null?Re=gt:at.sibling=gt,at=gt);return r&&Le.forEach(function(Q4){return a(W,Q4)}),yt&&So(W,Fe),Re}function At(W,G,X,ce){if(typeof X=="object"&&X!==null&&X.type===T&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case w:e:{for(var Re=X.key;G!==null;){if(G.key===Re){if(Re=X.type,Re===T){if(G.tag===7){c(W,G.sibling),ce=g(G,X.props.children),ce.return=W,W=ce;break e}}else if(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===E&&Kw(Re)===G.type){c(W,G.sibling),ce=g(G,X.props),Ru(ce,X),ce.return=W,W=ce;break e}c(W,G);break}else a(W,G);G=G.sibling}X.type===T?(ce=No(X.props.children,W.mode,ce,X.key),ce.return=W,W=ce):(ce=zh(X.type,X.key,X.props,null,W.mode,ce),Ru(ce,X),ce.return=W,W=ce)}return C(W);case A:e:{for(Re=X.key;G!==null;){if(G.key===Re)if(G.tag===4&&G.stateNode.containerInfo===X.containerInfo&&G.stateNode.implementation===X.implementation){c(W,G.sibling),ce=g(G,X.children||[]),ce.return=W,W=ce;break e}else{c(W,G);break}else a(W,G);G=G.sibling}ce=wg(X,W.mode,ce),ce.return=W,W=ce}return C(W);case E:return Re=X._init,X=Re(X._payload),At(W,G,X,ce)}if(pe(X))return $e(W,G,X,ce);if(R(X)){if(Re=R(X),typeof Re!="function")throw Error(i(150));return X=Re.call(X),Be(W,G,X,ce)}if(typeof X.then=="function")return At(W,G,rf(X),ce);if(X.$$typeof===V)return At(W,G,$h(W,X),ce);af(W,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,G!==null&&G.tag===6?(c(W,G.sibling),ce=g(G,X),ce.return=W,W=ce):(c(W,G),ce=bg(X,W.mode,ce),ce.return=W,W=ce),C(W)):c(W,G)}return function(W,G,X,ce){try{Cu=0;var Re=At(W,G,X,ce);return Vl=null,Re}catch(Le){if(Le===bu||Le===Kh)throw Le;var at=us(29,Le,null,W.mode);return at.lanes=ce,at.return=W,at}finally{}}}var Ul=Ww(!0),Yw=Ww(!1),Ms=re(null),Sr=null;function ta(r){var a=r.alternate;le(vn,vn.current&1),le(Ms,r),Sr===null&&(a===null||Ml.current!==null||a.memoizedState!==null)&&(Sr=r)}function Xw(r){if(r.tag===22){if(le(vn,vn.current),le(Ms,r),Sr===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Sr=r)}}else na()}function na(){le(vn,vn.current),le(Ms,Ms.current)}function mi(r){me(Ms),Sr===r&&(Sr=null),me(vn)}var vn=re(0);function of(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||qx(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ex(r,a,c,d){a=r.memoizedState,c=c(d,a),c=c==null?a:y({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var tx={enqueueSetState:function(r,a,c){r=r._reactInternals;var d=ms(),g=Zi(d);g.payload=a,c!=null&&(g.callback=c),a=Ji(r,g,d),a!==null&&(ps(a,r,d),_u(a,r,d))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var d=ms(),g=Zi(d);g.tag=1,g.payload=a,c!=null&&(g.callback=c),a=Ji(r,g,d),a!==null&&(ps(a,r,d),_u(a,r,d))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=ms(),d=Zi(c);d.tag=2,a!=null&&(d.callback=a),a=Ji(r,d,c),a!==null&&(ps(a,r,c),_u(a,r,c))}};function Qw(r,a,c,d,g,x,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,x,C):a.prototype&&a.prototype.isPureReactComponent?!hu(c,d)||!hu(g,x):!0}function Zw(r,a,c,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,d),a.state!==r&&tx.enqueueReplaceState(a,a.state,null)}function Do(r,a){var c=a;if("ref"in a){c={};for(var d in a)d!=="ref"&&(c[d]=a[d])}if(r=r.defaultProps){c===a&&(c=y({},c));for(var g in r)c[g]===void 0&&(c[g]=r[g])}return c}var lf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Jw(r){lf(r)}function e_(r){console.error(r)}function t_(r){lf(r)}function cf(r,a){try{var c=r.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function n_(r,a,c){try{var d=r.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function nx(r,a,c){return c=Zi(c),c.tag=3,c.payload={element:null},c.callback=function(){cf(r,a)},c}function s_(r){return r=Zi(r),r.tag=3,r}function r_(r,a,c,d){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var x=d.value;r.payload=function(){return g(x)},r.callback=function(){n_(a,c,d)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(r.callback=function(){n_(a,c,d),typeof g!="function"&&(la===null?la=new Set([this]):la.add(this));var D=d.stack;this.componentDidCatch(d.value,{componentStack:D!==null?D:""})})}function QI(r,a,c,d,g){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=c.alternate,a!==null&&xu(a,c,g,!0),c=Ms.current,c!==null){switch(c.tag){case 13:return Sr===null?Sx():c.alternate===null&&Yt===0&&(Yt=3),c.flags&=-257,c.flags|=65536,c.lanes=g,d===Ig?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([d]):a.add(d),Ax(r,d,g)),!1;case 22:return c.flags|=65536,d===Ig?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([d]):c.add(d)),Ax(r,d,g)),!1}throw Error(i(435,c.tag))}return Ax(r,d,g),Sx(),!1}if(yt)return a=Ms.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,d!==Ng&&(r=Error(i(422),{cause:d}),gu(Rs(r,c)))):(d!==Ng&&(a=Error(i(423),{cause:d}),gu(Rs(a,c))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,d=Rs(d,c),g=nx(r.stateNode,d,g),Mg(r,g),Yt!==4&&(Yt=2)),!1;var x=Error(i(520),{cause:d});if(x=Rs(x,c),Lu===null?Lu=[x]:Lu.push(x),Yt!==4&&(Yt=2),a===null)return!0;d=Rs(d,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,r=g&-g,c.lanes|=r,r=nx(c.stateNode,d,r),Mg(c,r),!1;case 1:if(a=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(la===null||!la.has(x))))return c.flags|=65536,g&=-g,c.lanes|=g,g=s_(g),r_(g,r,c,d),Mg(c,g),!1}c=c.return}while(c!==null);return!1}var i_=Error(i(461)),Sn=!1;function Mn(r,a,c,d){a.child=r===null?Yw(a,null,c,d):Ul(a,r.child,c,d)}function a_(r,a,c,d,g){c=c.render;var x=a.ref;if("ref"in d){var C={};for(var D in d)D!=="ref"&&(C[D]=d[D])}else C=d;return Ro(a),d=Ug(r,a,c,C,x,g),D=Bg(),r!==null&&!Sn?(zg(r,a,g),pi(r,a,g)):(yt&&D&&_g(a),a.flags|=1,Mn(r,a,d,g),a.child)}function o_(r,a,c,d,g){if(r===null){var x=c.type;return typeof x=="function"&&!vg(x)&&x.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=x,l_(r,a,x,d,g)):(r=zh(c.type,null,d,a,a.mode,g),r.ref=a.ref,r.return=a,a.child=r)}if(x=r.child,!ux(r,g)){var C=x.memoizedProps;if(c=c.compare,c=c!==null?c:hu,c(C,d)&&r.ref===a.ref)return pi(r,a,g)}return a.flags|=1,r=li(x,d),r.ref=a.ref,r.return=a,a.child=r}function l_(r,a,c,d,g){if(r!==null){var x=r.memoizedProps;if(hu(x,d)&&r.ref===a.ref)if(Sn=!1,a.pendingProps=d=x,ux(r,g))(r.flags&131072)!==0&&(Sn=!0);else return a.lanes=r.lanes,pi(r,a,g)}return sx(r,a,c,d,g)}function c_(r,a,c){var d=a.pendingProps,g=d.children,x=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((a.flags&128)!==0){if(d=x!==null?x.baseLanes|c:c,r!==null){for(g=a.child=r.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;a.childLanes=x&~d}else a.childLanes=0,a.child=null;return u_(r,a,d,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Gh(a,x!==null?x.cachePool:null),x!==null?lw(a,x):Og(),Xw(a);else return a.lanes=a.childLanes=536870912,u_(r,a,x!==null?x.baseLanes|c:c,c)}else x!==null?(Gh(a,x.cachePool),lw(a,x),na(),a.memoizedState=null):(r!==null&&Gh(a,null),Og(),na());return Mn(r,a,g,c),a.child}function u_(r,a,c,d){var g=Rg();return g=g===null?null:{parent:yn._currentValue,pool:g},a.memoizedState={baseLanes:c,cachePool:g},r!==null&&Gh(a,null),Og(),Xw(a),r!==null&&xu(r,a,d,!0),null}function uf(r,a){var c=a.ref;if(c===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(a.flags|=4194816)}}function sx(r,a,c,d,g){return Ro(a),c=Ug(r,a,c,d,void 0,g),d=Bg(),r!==null&&!Sn?(zg(r,a,g),pi(r,a,g)):(yt&&d&&_g(a),a.flags|=1,Mn(r,a,c,g),a.child)}function d_(r,a,c,d,g,x){return Ro(a),a.updateQueue=null,c=uw(a,d,c,g),cw(r),d=Bg(),r!==null&&!Sn?(zg(r,a,x),pi(r,a,x)):(yt&&d&&_g(a),a.flags|=1,Mn(r,a,c,x),a.child)}function h_(r,a,c,d,g){if(Ro(a),a.stateNode===null){var x=Cl,C=c.contextType;typeof C=="object"&&C!==null&&(x=Bn(C)),x=new c(d,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=tx,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=d,x.state=a.memoizedState,x.refs={},kg(a),C=c.contextType,x.context=typeof C=="object"&&C!==null?Bn(C):Cl,x.state=a.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(ex(a,c,C,d),x.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(C=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),C!==x.state&&tx.enqueueReplaceState(x,x.state,null),Nu(a,d,x,g),ju(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(r===null){x=a.stateNode;var D=a.memoizedProps,q=Do(c,D);x.props=q;var Z=x.context,oe=c.contextType;C=Cl,typeof oe=="object"&&oe!==null&&(C=Bn(oe));var ue=c.getDerivedStateFromProps;oe=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",D=a.pendingProps!==D,oe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D||Z!==C)&&Zw(a,x,d,C),Qi=!1;var ee=a.memoizedState;x.state=ee,Nu(a,d,x,g),ju(),Z=a.memoizedState,D||ee!==Z||Qi?(typeof ue=="function"&&(ex(a,c,ue,d),Z=a.memoizedState),(q=Qi||Qw(a,c,q,d,ee,Z,C))?(oe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=Z),x.props=d,x.state=Z,x.context=C,d=q):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{x=a.stateNode,Dg(r,a),C=a.memoizedProps,oe=Do(c,C),x.props=oe,ue=a.pendingProps,ee=x.context,Z=c.contextType,q=Cl,typeof Z=="object"&&Z!==null&&(q=Bn(Z)),D=c.getDerivedStateFromProps,(Z=typeof D=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==ue||ee!==q)&&Zw(a,x,d,q),Qi=!1,ee=a.memoizedState,x.state=ee,Nu(a,d,x,g),ju();var te=a.memoizedState;C!==ue||ee!==te||Qi||r!==null&&r.dependencies!==null&&Hh(r.dependencies)?(typeof D=="function"&&(ex(a,c,D,d),te=a.memoizedState),(oe=Qi||Qw(a,c,oe,d,ee,te,q)||r!==null&&r.dependencies!==null&&Hh(r.dependencies))?(Z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,te,q),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,te,q)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=te),x.props=d,x.state=te,x.context=q,d=oe):(typeof x.componentDidUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(a.flags|=1024),d=!1)}return x=d,uf(r,a),d=(a.flags&128)!==0,x||d?(x=a.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,r!==null&&d?(a.child=Ul(a,r.child,null,g),a.child=Ul(a,null,c,g)):Mn(r,a,c,g),a.memoizedState=x.state,r=a.child):r=pi(r,a,g),r}function f_(r,a,c,d){return pu(),a.flags|=256,Mn(r,a,c,d),a.child}var rx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ix(r){return{baseLanes:r,cachePool:ew()}}function ax(r,a,c){return r=r!==null?r.childLanes&~c:0,a&&(r|=Ps),r}function m_(r,a,c){var d=a.pendingProps,g=!1,x=(a.flags&128)!==0,C;if((C=x)||(C=r!==null&&r.memoizedState===null?!1:(vn.current&2)!==0),C&&(g=!0,a.flags&=-129),C=(a.flags&32)!==0,a.flags&=-33,r===null){if(yt){if(g?ta(a):na(),yt){var D=Wt,q;if(q=D){e:{for(q=D,D=Er;q.nodeType!==8;){if(!D){D=null;break e}if(q=Ys(q.nextSibling),q===null){D=null;break e}}D=q}D!==null?(a.memoizedState={dehydrated:D,treeContext:Eo!==null?{id:ci,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},q=us(18,null,null,0),q.stateNode=D,q.return=a,a.child=q,Xn=a,Wt=null,q=!0):q=!1}q||Ao(a)}if(D=a.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return qx(D)?a.lanes=32:a.lanes=536870912,null;mi(a)}return D=d.children,d=d.fallback,g?(na(),g=a.mode,D=df({mode:"hidden",children:D},g),d=No(d,g,c,null),D.return=a,d.return=a,D.sibling=d,a.child=D,g=a.child,g.memoizedState=ix(c),g.childLanes=ax(r,C,c),a.memoizedState=rx,d):(ta(a),ox(a,D))}if(q=r.memoizedState,q!==null&&(D=q.dehydrated,D!==null)){if(x)a.flags&256?(ta(a),a.flags&=-257,a=lx(r,a,c)):a.memoizedState!==null?(na(),a.child=r.child,a.flags|=128,a=null):(na(),g=d.fallback,D=a.mode,d=df({mode:"visible",children:d.children},D),g=No(g,D,c,null),g.flags|=2,d.return=a,g.return=a,d.sibling=g,a.child=d,Ul(a,r.child,null,c),d=a.child,d.memoizedState=ix(c),d.childLanes=ax(r,C,c),a.memoizedState=rx,a=g);else if(ta(a),qx(D)){if(C=D.nextSibling&&D.nextSibling.dataset,C)var Z=C.dgst;C=Z,d=Error(i(419)),d.stack="",d.digest=C,gu({value:d,source:null,stack:null}),a=lx(r,a,c)}else if(Sn||xu(r,a,c,!1),C=(c&r.childLanes)!==0,Sn||C){if(C=Mt,C!==null&&(d=c&-c,d=(d&42)!==0?1:qi(d),d=(d&(C.suspendedLanes|c))!==0?0:d,d!==0&&d!==q.retryLane))throw q.retryLane=d,Al(r,d),ps(C,r,d),i_;D.data==="$?"||Sx(),a=lx(r,a,c)}else D.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=q.treeContext,Wt=Ys(D.nextSibling),Xn=a,yt=!0,To=null,Er=!1,r!==null&&(ks[Ds++]=ci,ks[Ds++]=ui,ks[Ds++]=Eo,ci=r.id,ui=r.overflow,Eo=a),a=ox(a,d.children),a.flags|=4096);return a}return g?(na(),g=d.fallback,D=a.mode,q=r.child,Z=q.sibling,d=li(q,{mode:"hidden",children:d.children}),d.subtreeFlags=q.subtreeFlags&65011712,Z!==null?g=li(Z,g):(g=No(g,D,c,null),g.flags|=2),g.return=a,d.return=a,d.sibling=g,a.child=d,d=g,g=a.child,D=r.child.memoizedState,D===null?D=ix(c):(q=D.cachePool,q!==null?(Z=yn._currentValue,q=q.parent!==Z?{parent:Z,pool:Z}:q):q=ew(),D={baseLanes:D.baseLanes|c,cachePool:q}),g.memoizedState=D,g.childLanes=ax(r,C,c),a.memoizedState=rx,d):(ta(a),c=r.child,r=c.sibling,c=li(c,{mode:"visible",children:d.children}),c.return=a,c.sibling=null,r!==null&&(C=a.deletions,C===null?(a.deletions=[r],a.flags|=16):C.push(r)),a.child=c,a.memoizedState=null,c)}function ox(r,a){return a=df({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function df(r,a){return r=us(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function lx(r,a,c){return Ul(a,r.child,null,c),r=ox(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function p_(r,a,c){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),Sg(r.return,a,c)}function cx(r,a,c,d,g){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:g}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=c,x.tailMode=g)}function g_(r,a,c){var d=a.pendingProps,g=d.revealOrder,x=d.tail;if(Mn(r,a,d.children,c),d=vn.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&p_(r,c,a);else if(r.tag===19)p_(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(le(vn,d),g){case"forwards":for(c=a.child,g=null;c!==null;)r=c.alternate,r!==null&&of(r)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),cx(a,!1,g,c,x);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(r=g.alternate,r!==null&&of(r)===null){a.child=g;break}r=g.sibling,g.sibling=c,c=g,g=r}cx(a,!0,c,null,x);break;case"together":cx(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function pi(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),oa|=a.lanes,(c&a.childLanes)===0)if(r!==null){if(xu(r,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,c=li(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=li(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function ux(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Hh(r)))}function ZI(r,a,c){switch(a.tag){case 3:Pe(a,a.stateNode.containerInfo),Xi(a,yn,r.memoizedState.cache),pu();break;case 27:case 5:Ye(a);break;case 4:Pe(a,a.stateNode.containerInfo);break;case 10:Xi(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(ta(a),a.flags|=128,null):(c&a.child.childLanes)!==0?m_(r,a,c):(ta(a),r=pi(r,a,c),r!==null?r.sibling:null);ta(a);break;case 19:var g=(r.flags&128)!==0;if(d=(c&a.childLanes)!==0,d||(xu(r,a,c,!1),d=(c&a.childLanes)!==0),g){if(d)return g_(r,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),le(vn,vn.current),d)break;return null;case 22:case 23:return a.lanes=0,c_(r,a,c);case 24:Xi(a,yn,r.memoizedState.cache)}return pi(r,a,c)}function x_(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps)Sn=!0;else{if(!ux(r,c)&&(a.flags&128)===0)return Sn=!1,ZI(r,a,c);Sn=(r.flags&131072)!==0}else Sn=!1,yt&&(a.flags&1048576)!==0&&Kb(a,qh,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var d=a.elementType,g=d._init;if(d=g(d._payload),a.type=d,typeof d=="function")vg(d)?(r=Do(d,r),a.tag=1,a=h_(null,a,d,r,c)):(a.tag=0,a=sx(null,a,d,r,c));else{if(d!=null){if(g=d.$$typeof,g===F){a.tag=11,a=a_(null,a,d,r,c);break e}else if(g===N){a.tag=14,a=o_(null,a,d,r,c);break e}}throw a=se(d)||d,Error(i(306,a,""))}}return a;case 0:return sx(r,a,a.type,a.pendingProps,c);case 1:return d=a.type,g=Do(d,a.pendingProps),h_(r,a,d,g,c);case 3:e:{if(Pe(a,a.stateNode.containerInfo),r===null)throw Error(i(387));d=a.pendingProps;var x=a.memoizedState;g=x.element,Dg(r,a),Nu(a,d,null,c);var C=a.memoizedState;if(d=C.cache,Xi(a,yn,d),d!==x.cache&&Tg(a,[yn],c,!0),ju(),d=C.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:C.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=f_(r,a,d,c);break e}else if(d!==g){g=Rs(Error(i(424)),a),gu(g),a=f_(r,a,d,c);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Wt=Ys(r.firstChild),Xn=a,yt=!0,To=null,Er=!0,c=Yw(a,null,d,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(pu(),d===g){a=pi(r,a,c);break e}Mn(r,a,d,c)}a=a.child}return a;case 26:return uf(r,a),r===null?(c=wj(a.type,null,a.pendingProps,null))?a.memoizedState=c:yt||(c=a.type,r=a.pendingProps,d=Ef(Te.current).createElement(c),d[pn]=a,d[on]=r,On(d,c,r),Jt(d),a.stateNode=d):a.memoizedState=wj(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Ye(a),r===null&&yt&&(d=a.stateNode=yj(a.type,a.pendingProps,Te.current),Xn=a,Er=!0,g=Wt,da(a.type)?(Hx=g,Wt=Ys(d.firstChild)):Wt=g),Mn(r,a,a.pendingProps.children,c),uf(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&yt&&((g=d=Wt)&&(d=S4(d,a.type,a.pendingProps,Er),d!==null?(a.stateNode=d,Xn=a,Wt=Ys(d.firstChild),Er=!1,g=!0):g=!1),g||Ao(a)),Ye(a),g=a.type,x=a.pendingProps,C=r!==null?r.memoizedProps:null,d=x.children,Bx(g,x)?d=null:C!==null&&Bx(g,C)&&(a.flags|=32),a.memoizedState!==null&&(g=Ug(r,a,HI,null,null,c),Gu._currentValue=g),uf(r,a),Mn(r,a,d,c),a.child;case 6:return r===null&&yt&&((r=c=Wt)&&(c=T4(c,a.pendingProps,Er),c!==null?(a.stateNode=c,Xn=a,Wt=null,r=!0):r=!1),r||Ao(a)),null;case 13:return m_(r,a,c);case 4:return Pe(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=Ul(a,null,d,c):Mn(r,a,d,c),a.child;case 11:return a_(r,a,a.type,a.pendingProps,c);case 7:return Mn(r,a,a.pendingProps,c),a.child;case 8:return Mn(r,a,a.pendingProps.children,c),a.child;case 12:return Mn(r,a,a.pendingProps.children,c),a.child;case 10:return d=a.pendingProps,Xi(a,a.type,d.value),Mn(r,a,d.children,c),a.child;case 9:return g=a.type._context,d=a.pendingProps.children,Ro(a),g=Bn(g),d=d(g),a.flags|=1,Mn(r,a,d,c),a.child;case 14:return o_(r,a,a.type,a.pendingProps,c);case 15:return l_(r,a,a.type,a.pendingProps,c);case 19:return g_(r,a,c);case 31:return d=a.pendingProps,c=a.mode,d={mode:d.mode,children:d.children},r===null?(c=df(d,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=li(r.child,d),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return c_(r,a,c);case 24:return Ro(a),d=Bn(yn),r===null?(g=Rg(),g===null&&(g=Mt,x=Ag(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=c),g=x),a.memoizedState={parent:d,cache:g},kg(a),Xi(a,yn,g)):((r.lanes&c)!==0&&(Dg(r,a),Nu(a,null,null,c),ju()),g=r.memoizedState,x=a.memoizedState,g.parent!==d?(g={parent:d,cache:d},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Xi(a,yn,d)):(d=x.cache,Xi(a,yn,d),d!==g.cache&&Tg(a,[yn],c,!0))),Mn(r,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function gi(r){r.flags|=4}function y_(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Sj(a)){if(a=Ms.current,a!==null&&((ft&4194048)===ft?Sr!==null:(ft&62914560)!==ft&&(ft&536870912)===0||a!==Sr))throw wu=Ig,tw;r.flags|=8192}}function hf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Wc():536870912,r.lanes|=a,ql|=a)}function Iu(r,a){if(!yt)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Gt(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,d=0;if(a)for(var g=r.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=c,a}function JI(r,a,c){var d=a.pendingProps;switch(jg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(a),null;case 1:return Gt(a),null;case 3:return c=a.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),hi(yn),Qe(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(mu(a)?gi(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Xb())),Gt(a),null;case 26:return c=a.memoizedState,r===null?(gi(a),c!==null?(Gt(a),y_(a,c)):(Gt(a),a.flags&=-16777217)):c?c!==r.memoizedState?(gi(a),Gt(a),y_(a,c)):(Gt(a),a.flags&=-16777217):(r.memoizedProps!==d&&gi(a),Gt(a),a.flags&=-16777217),null;case 27:Ze(a),c=Te.current;var g=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==d&&gi(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Gt(a),null}r=ye.current,mu(a)?Wb(a):(r=yj(g,d,c),a.stateNode=r,gi(a))}return Gt(a),null;case 5:if(Ze(a),c=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==d&&gi(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Gt(a),null}if(r=ye.current,mu(a))Wb(a);else{switch(g=Ef(Te.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?g.createElement(c,{is:d.is}):g.createElement(c)}}r[pn]=a,r[on]=d;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=r;e:switch(On(r,c,d),c){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&gi(a)}}return Gt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==d&&gi(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(i(166));if(r=Te.current,mu(a)){if(r=a.stateNode,c=a.memoizedProps,d=null,g=Xn,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}r[pn]=a,r=!!(r.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||dj(r.nodeValue,c)),r||Ao(a)}else r=Ef(r).createTextNode(d),r[pn]=a,a.stateNode=r}return Gt(a),null;case 13:if(d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=mu(a),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[pn]=a}else pu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Gt(a),g=!1}else g=Xb(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(mi(a),a):(mi(a),null)}if(mi(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=d!==null,r=r!==null&&r.memoizedState!==null,c){d=a.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var x=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==g&&(d.flags|=2048)}return c!==r&&c&&(a.child.flags|=8192),hf(a,a.updateQueue),Gt(a),null;case 4:return Qe(),r===null&&Px(a.stateNode.containerInfo),Gt(a),null;case 10:return hi(a.type),Gt(a),null;case 19:if(me(vn),g=a.memoizedState,g===null)return Gt(a),null;if(d=(a.flags&128)!==0,x=g.rendering,x===null)if(d)Iu(g,!1);else{if(Yt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(x=of(r),x!==null){for(a.flags|=128,Iu(g,!1),r=x.updateQueue,a.updateQueue=r,hf(a,r),a.subtreeFlags=0,r=c,c=a.child;c!==null;)Gb(c,r),c=c.sibling;return le(vn,vn.current&1|2),a.child}r=r.sibling}g.tail!==null&&an()>pf&&(a.flags|=128,d=!0,Iu(g,!1),a.lanes=4194304)}else{if(!d)if(r=of(x),r!==null){if(a.flags|=128,d=!0,r=r.updateQueue,a.updateQueue=r,hf(a,r),Iu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!yt)return Gt(a),null}else 2*an()-g.renderingStartTime>pf&&c!==536870912&&(a.flags|=128,d=!0,Iu(g,!1),a.lanes=4194304);g.isBackwards?(x.sibling=a.child,a.child=x):(r=g.last,r!==null?r.sibling=x:a.child=x,g.last=x)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=an(),a.sibling=null,r=vn.current,le(vn,d?r&1|2:r&1),a):(Gt(a),null);case 22:case 23:return mi(a),Lg(),d=a.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(c&536870912)!==0&&(a.flags&128)===0&&(Gt(a),a.subtreeFlags&6&&(a.flags|=8192)):Gt(a),c=a.updateQueue,c!==null&&hf(a,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==c&&(a.flags|=2048),r!==null&&me(Io),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),hi(yn),Gt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function e4(r,a){switch(jg(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return hi(yn),Qe(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Ze(a),null;case 13:if(mi(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));pu()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return me(vn),null;case 4:return Qe(),null;case 10:return hi(a.type),null;case 22:case 23:return mi(a),Lg(),r!==null&&me(Io),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return hi(yn),null;case 25:return null;default:return null}}function v_(r,a){switch(jg(a),a.tag){case 3:hi(yn),Qe();break;case 26:case 27:case 5:Ze(a);break;case 4:Qe();break;case 13:mi(a);break;case 19:me(vn);break;case 10:hi(a.type);break;case 22:case 23:mi(a),Lg(),r!==null&&me(Io);break;case 24:hi(yn)}}function ku(r,a){try{var c=a.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&r)===r){d=void 0;var x=c.create,C=c.inst;d=x(),C.destroy=d}c=c.next}while(c!==g)}}catch(D){Dt(a,a.return,D)}}function sa(r,a,c){try{var d=a.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var x=g.next;d=x;do{if((d.tag&r)===r){var C=d.inst,D=C.destroy;if(D!==void 0){C.destroy=void 0,g=a;var q=c,Z=D;try{Z()}catch(oe){Dt(g,q,oe)}}}d=d.next}while(d!==x)}}catch(oe){Dt(a,a.return,oe)}}function b_(r){var a=r.updateQueue;if(a!==null){var c=r.stateNode;try{ow(a,c)}catch(d){Dt(r,r.return,d)}}}function w_(r,a,c){c.props=Do(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(d){Dt(r,a,d)}}function Du(r,a){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof c=="function"?r.refCleanup=c(d):c.current=d}}catch(g){Dt(r,a,g)}}function Tr(r,a){var c=r.ref,d=r.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(g){Dt(r,a,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){Dt(r,a,g)}else c.current=null}function __(r){var a=r.type,c=r.memoizedProps,d=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(g){Dt(r,r.return,g)}}function dx(r,a,c){try{var d=r.stateNode;w4(d,r.type,c,a),d[on]=a}catch(g){Dt(r,r.return,g)}}function j_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&da(r.type)||r.tag===4}function hx(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||j_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&da(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function fx(r,a,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(r),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Nf));else if(d!==4&&(d===27&&da(r.type)&&(c=r.stateNode,a=null),r=r.child,r!==null))for(fx(r,a,c),r=r.sibling;r!==null;)fx(r,a,c),r=r.sibling}function ff(r,a,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(d!==4&&(d===27&&da(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(ff(r,a,c),r=r.sibling;r!==null;)ff(r,a,c),r=r.sibling}function N_(r){var a=r.stateNode,c=r.memoizedProps;try{for(var d=r.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);On(a,d,c),a[pn]=r,a[on]=c}catch(x){Dt(r,r.return,x)}}var xi=!1,tn=!1,mx=!1,E_=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function t4(r,a){if(r=r.containerInfo,Vx=If,r=Ob(r),hg(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var g=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var C=0,D=-1,q=-1,Z=0,oe=0,ue=r,ee=null;t:for(;;){for(var te;ue!==c||g!==0&&ue.nodeType!==3||(D=C+g),ue!==x||d!==0&&ue.nodeType!==3||(q=C+d),ue.nodeType===3&&(C+=ue.nodeValue.length),(te=ue.firstChild)!==null;)ee=ue,ue=te;for(;;){if(ue===r)break t;if(ee===c&&++Z===g&&(D=C),ee===x&&++oe===d&&(q=C),(te=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=te}c=D===-1||q===-1?null:{start:D,end:q}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ux={focusedElem:r,selectionRange:c},If=!1,Tn=a;Tn!==null;)if(a=Tn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,Tn=r;else for(;Tn!==null;){switch(a=Tn,x=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,c=a,g=x.memoizedProps,x=x.memoizedState,d=c.stateNode;try{var $e=Do(c.type,g,c.elementType===c.type);r=d.getSnapshotBeforeUpdate($e,x),d.__reactInternalSnapshotBeforeUpdate=r}catch(Be){Dt(c,c.return,Be)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,c=r.nodeType,c===9)Fx(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Fx(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Tn=r;break}Tn=a.return}}function S_(r,a,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:ra(r,c),d&4&&ku(5,c);break;case 1:if(ra(r,c),d&4)if(r=c.stateNode,a===null)try{r.componentDidMount()}catch(C){Dt(c,c.return,C)}else{var g=Do(c.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(g,a,r.__reactInternalSnapshotBeforeUpdate)}catch(C){Dt(c,c.return,C)}}d&64&&b_(c),d&512&&Du(c,c.return);break;case 3:if(ra(r,c),d&64&&(r=c.updateQueue,r!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{ow(r,a)}catch(C){Dt(c,c.return,C)}}break;case 27:a===null&&d&4&&N_(c);case 26:case 5:ra(r,c),a===null&&d&4&&__(c),d&512&&Du(c,c.return);break;case 12:ra(r,c);break;case 13:ra(r,c),d&4&&C_(r,c),d&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=u4.bind(null,c),A4(r,c))));break;case 22:if(d=c.memoizedState!==null||xi,!d){a=a!==null&&a.memoizedState!==null||tn,g=xi;var x=tn;xi=d,(tn=a)&&!x?ia(r,c,(c.subtreeFlags&8772)!==0):ra(r,c),xi=g,tn=x}break;case 30:break;default:ra(r,c)}}function T_(r){var a=r.alternate;a!==null&&(r.alternate=null,T_(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Gi(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var zt=null,es=!1;function yi(r,a,c){for(c=c.child;c!==null;)A_(r,a,c),c=c.sibling}function A_(r,a,c){if(J&&typeof J.onCommitFiberUnmount=="function")try{J.onCommitFiberUnmount(Pt,c)}catch{}switch(c.tag){case 26:tn||Tr(c,a),yi(r,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:tn||Tr(c,a);var d=zt,g=es;da(c.type)&&(zt=c.stateNode,es=!1),yi(r,a,c),Fu(c.stateNode),zt=d,es=g;break;case 5:tn||Tr(c,a);case 6:if(d=zt,g=es,zt=null,yi(r,a,c),zt=d,es=g,zt!==null)if(es)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(c.stateNode)}catch(x){Dt(c,a,x)}else try{zt.removeChild(c.stateNode)}catch(x){Dt(c,a,x)}break;case 18:zt!==null&&(es?(r=zt,gj(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Xu(r)):gj(zt,c.stateNode));break;case 4:d=zt,g=es,zt=c.stateNode.containerInfo,es=!0,yi(r,a,c),zt=d,es=g;break;case 0:case 11:case 14:case 15:tn||sa(2,c,a),tn||sa(4,c,a),yi(r,a,c);break;case 1:tn||(Tr(c,a),d=c.stateNode,typeof d.componentWillUnmount=="function"&&w_(c,a,d)),yi(r,a,c);break;case 21:yi(r,a,c);break;case 22:tn=(d=tn)||c.memoizedState!==null,yi(r,a,c),tn=d;break;default:yi(r,a,c)}}function C_(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Xu(r)}catch(c){Dt(a,a.return,c)}}function n4(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new E_),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new E_),a;default:throw Error(i(435,r.tag))}}function px(r,a){var c=n4(r);a.forEach(function(d){var g=d4.bind(null,r,d);c.has(d)||(c.add(d),d.then(g,g))})}function ds(r,a){var c=a.deletions;if(c!==null)for(var d=0;d<c.length;d++){var g=c[d],x=r,C=a,D=C;e:for(;D!==null;){switch(D.tag){case 27:if(da(D.type)){zt=D.stateNode,es=!1;break e}break;case 5:zt=D.stateNode,es=!1;break e;case 3:case 4:zt=D.stateNode.containerInfo,es=!0;break e}D=D.return}if(zt===null)throw Error(i(160));A_(x,C,g),zt=null,es=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)R_(a,r),a=a.sibling}var Ws=null;function R_(r,a){var c=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ds(a,r),hs(r),d&4&&(sa(3,r,r.return),ku(3,r),sa(5,r,r.return));break;case 1:ds(a,r),hs(r),d&512&&(tn||c===null||Tr(c,c.return)),d&64&&xi&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var g=Ws;if(ds(a,r),hs(r),d&512&&(tn||c===null||Tr(c,c.return)),d&4){var x=c!==null?c.memoizedState:null;if(d=r.memoizedState,c===null)if(d===null)if(r.stateNode===null){e:{d=r.type,c=r.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":x=g.getElementsByTagName("title")[0],(!x||x[oo]||x[pn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(d),g.head.insertBefore(x,g.querySelector("head > title"))),On(x,d,c),x[pn]=r,Jt(x),d=x;break e;case"link":var C=Nj("link","href",g).get(d+(c.href||""));if(C){for(var D=0;D<C.length;D++)if(x=C[D],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(D,1);break t}}x=g.createElement(d),On(x,d,c),g.head.appendChild(x);break;case"meta":if(C=Nj("meta","content",g).get(d+(c.content||""))){for(D=0;D<C.length;D++)if(x=C[D],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(D,1);break t}}x=g.createElement(d),On(x,d,c),g.head.appendChild(x);break;default:throw Error(i(468,d))}x[pn]=r,Jt(x),d=x}r.stateNode=d}else Ej(g,r.type,r.stateNode);else r.stateNode=jj(g,d,r.memoizedProps);else x!==d?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,d===null?Ej(g,r.type,r.stateNode):jj(g,d,r.memoizedProps)):d===null&&r.stateNode!==null&&dx(r,r.memoizedProps,c.memoizedProps)}break;case 27:ds(a,r),hs(r),d&512&&(tn||c===null||Tr(c,c.return)),c!==null&&d&4&&dx(r,r.memoizedProps,c.memoizedProps);break;case 5:if(ds(a,r),hs(r),d&512&&(tn||c===null||Tr(c,c.return)),r.flags&32){g=r.stateNode;try{Ss(g,"")}catch(te){Dt(r,r.return,te)}}d&4&&r.stateNode!=null&&(g=r.memoizedProps,dx(r,g,c!==null?c.memoizedProps:g)),d&1024&&(mx=!0);break;case 6:if(ds(a,r),hs(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,c=r.stateNode;try{c.nodeValue=d}catch(te){Dt(r,r.return,te)}}break;case 3:if(Af=null,g=Ws,Ws=Sf(a.containerInfo),ds(a,r),Ws=g,hs(r),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Xu(a.containerInfo)}catch(te){Dt(r,r.return,te)}mx&&(mx=!1,I_(r));break;case 4:d=Ws,Ws=Sf(r.stateNode.containerInfo),ds(a,r),hs(r),Ws=d;break;case 12:ds(a,r),hs(r);break;case 13:ds(a,r),hs(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(wx=an()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,px(r,d)));break;case 22:g=r.memoizedState!==null;var q=c!==null&&c.memoizedState!==null,Z=xi,oe=tn;if(xi=Z||g,tn=oe||q,ds(a,r),tn=oe,xi=Z,hs(r),d&8192)e:for(a=r.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(c===null||q||xi||tn||Mo(r)),c=null,a=r;;){if(a.tag===5||a.tag===26){if(c===null){q=c=a;try{if(x=q.stateNode,g)C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{D=q.stateNode;var ue=q.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;D.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){Dt(q,q.return,te)}}}else if(a.tag===6){if(c===null){q=a;try{q.stateNode.nodeValue=g?"":q.memoizedProps}catch(te){Dt(q,q.return,te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=r.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,px(r,c))));break;case 19:ds(a,r),hs(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,px(r,d)));break;case 30:break;case 21:break;default:ds(a,r),hs(r)}}function hs(r){var a=r.flags;if(a&2){try{for(var c,d=r.return;d!==null;){if(j_(d)){c=d;break}d=d.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var g=c.stateNode,x=hx(r);ff(r,x,g);break;case 5:var C=c.stateNode;c.flags&32&&(Ss(C,""),c.flags&=-33);var D=hx(r);ff(r,D,C);break;case 3:case 4:var q=c.stateNode.containerInfo,Z=hx(r);fx(r,Z,q);break;default:throw Error(i(161))}}catch(oe){Dt(r,r.return,oe)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function I_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;I_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function ra(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)S_(r,a.alternate,a),a=a.sibling}function Mo(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:sa(4,a,a.return),Mo(a);break;case 1:Tr(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&w_(a,a.return,c),Mo(a);break;case 27:Fu(a.stateNode);case 26:case 5:Tr(a,a.return),Mo(a);break;case 22:a.memoizedState===null&&Mo(a);break;case 30:Mo(a);break;default:Mo(a)}r=r.sibling}}function ia(r,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,g=r,x=a,C=x.flags;switch(x.tag){case 0:case 11:case 15:ia(g,x,c),ku(4,x);break;case 1:if(ia(g,x,c),d=x,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Z){Dt(d,d.return,Z)}if(d=x,g=d.updateQueue,g!==null){var D=d.stateNode;try{var q=g.shared.hiddenCallbacks;if(q!==null)for(g.shared.hiddenCallbacks=null,g=0;g<q.length;g++)aw(q[g],D)}catch(Z){Dt(d,d.return,Z)}}c&&C&64&&b_(x),Du(x,x.return);break;case 27:N_(x);case 26:case 5:ia(g,x,c),c&&d===null&&C&4&&__(x),Du(x,x.return);break;case 12:ia(g,x,c);break;case 13:ia(g,x,c),c&&C&4&&C_(g,x);break;case 22:x.memoizedState===null&&ia(g,x,c),Du(x,x.return);break;case 30:break;default:ia(g,x,c)}a=a.sibling}}function gx(r,a){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&yu(c))}function xx(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&yu(r))}function Ar(r,a,c,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)k_(r,a,c,d),a=a.sibling}function k_(r,a,c,d){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Ar(r,a,c,d),g&2048&&ku(9,a);break;case 1:Ar(r,a,c,d);break;case 3:Ar(r,a,c,d),g&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&yu(r)));break;case 12:if(g&2048){Ar(r,a,c,d),r=a.stateNode;try{var x=a.memoizedProps,C=x.id,D=x.onPostCommit;typeof D=="function"&&D(C,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(q){Dt(a,a.return,q)}}else Ar(r,a,c,d);break;case 13:Ar(r,a,c,d);break;case 23:break;case 22:x=a.stateNode,C=a.alternate,a.memoizedState!==null?x._visibility&2?Ar(r,a,c,d):Mu(r,a):x._visibility&2?Ar(r,a,c,d):(x._visibility|=2,Bl(r,a,c,d,(a.subtreeFlags&10256)!==0)),g&2048&&gx(C,a);break;case 24:Ar(r,a,c,d),g&2048&&xx(a.alternate,a);break;default:Ar(r,a,c,d)}}function Bl(r,a,c,d,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var x=r,C=a,D=c,q=d,Z=C.flags;switch(C.tag){case 0:case 11:case 15:Bl(x,C,D,q,g),ku(8,C);break;case 23:break;case 22:var oe=C.stateNode;C.memoizedState!==null?oe._visibility&2?Bl(x,C,D,q,g):Mu(x,C):(oe._visibility|=2,Bl(x,C,D,q,g)),g&&Z&2048&&gx(C.alternate,C);break;case 24:Bl(x,C,D,q,g),g&&Z&2048&&xx(C.alternate,C);break;default:Bl(x,C,D,q,g)}a=a.sibling}}function Mu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=r,d=a,g=d.flags;switch(d.tag){case 22:Mu(c,d),g&2048&&gx(d.alternate,d);break;case 24:Mu(c,d),g&2048&&xx(d.alternate,d);break;default:Mu(c,d)}a=a.sibling}}var Pu=8192;function zl(r){if(r.subtreeFlags&Pu)for(r=r.child;r!==null;)D_(r),r=r.sibling}function D_(r){switch(r.tag){case 26:zl(r),r.flags&Pu&&r.memoizedState!==null&&z4(Ws,r.memoizedState,r.memoizedProps);break;case 5:zl(r);break;case 3:case 4:var a=Ws;Ws=Sf(r.stateNode.containerInfo),zl(r),Ws=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Pu,Pu=16777216,zl(r),Pu=a):zl(r));break;default:zl(r)}}function M_(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Ou(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];Tn=d,O_(d,r)}M_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)P_(r),r=r.sibling}function P_(r){switch(r.tag){case 0:case 11:case 15:Ou(r),r.flags&2048&&sa(9,r,r.return);break;case 3:Ou(r);break;case 12:Ou(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,mf(r)):Ou(r);break;default:Ou(r)}}function mf(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];Tn=d,O_(d,r)}M_(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:sa(8,a,a.return),mf(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,mf(a));break;default:mf(a)}r=r.sibling}}function O_(r,a){for(;Tn!==null;){var c=Tn;switch(c.tag){case 0:case 11:case 15:sa(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:yu(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,Tn=d;else e:for(c=r;Tn!==null;){d=Tn;var g=d.sibling,x=d.return;if(T_(d),d===c){Tn=null;break e}if(g!==null){g.return=x,Tn=g;break e}Tn=x}}}var s4={getCacheForType:function(r){var a=Bn(yn),c=a.data.get(r);return c===void 0&&(c=r(),a.data.set(r,c)),c}},r4=typeof WeakMap=="function"?WeakMap:Map,wt=0,Mt=null,ot=null,ft=0,_t=0,fs=null,aa=!1,Fl=!1,yx=!1,vi=0,Yt=0,oa=0,Po=0,vx=0,Ps=0,ql=0,Lu=null,ts=null,bx=!1,wx=0,pf=1/0,gf=null,la=null,Pn=0,ca=null,Hl=null,$l=0,_x=0,jx=null,L_=null,Vu=0,Nx=null;function ms(){if((wt&2)!==0&&ft!==0)return ft&-ft;if(K.T!==null){var r=kl;return r!==0?r:Ix()}return Hi()}function V_(){Ps===0&&(Ps=(ft&536870912)===0||yt?Kc():536870912);var r=Ms.current;return r!==null&&(r.flags|=32),Ps}function ps(r,a,c){(r===Mt&&(_t===2||_t===9)||r.cancelPendingCommit!==null)&&(Gl(r,0),ua(r,ft,Ps,!1)),Qr(r,c),((wt&2)===0||r!==Mt)&&(r===Mt&&((wt&2)===0&&(Po|=c),Yt===4&&ua(r,ft,Ps,!1)),Cr(r))}function U_(r,a,c){if((wt&6)!==0)throw Error(i(327));var d=!c&&(a&124)===0&&(a&r.expiredLanes)===0||ao(r,a),g=d?o4(r,a):Tx(r,a,!0),x=d;do{if(g===0){Fl&&!d&&ua(r,a,0,!1);break}else{if(c=r.current.alternate,x&&!i4(c)){g=Tx(r,a,!1),x=!1;continue}if(g===2){if(x=a,r.errorRecoveryDisabledLanes&x)var C=0;else C=r.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){a=C;e:{var D=r;g=Lu;var q=D.current.memoizedState.isDehydrated;if(q&&(Gl(D,C).flags|=256),C=Tx(D,C,!1),C!==2){if(yx&&!q){D.errorRecoveryDisabledLanes|=x,Po|=x,g=4;break e}x=ts,ts=g,x!==null&&(ts===null?ts=x:ts.push.apply(ts,x))}g=C}if(x=!1,g!==2)continue}}if(g===1){Gl(r,0),ua(r,a,0,!0);break}e:{switch(d=r,x=g,x){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ua(d,a,Ps,!aa);break e;case 2:ts=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=wx+300-an(),10<g)){if(ua(d,a,Ps,!aa),cl(d,0,!0)!==0)break e;d.timeoutHandle=mj(B_.bind(null,d,c,ts,gf,bx,a,Ps,Po,ql,aa,x,2,-0,0),g);break e}B_(d,c,ts,gf,bx,a,Ps,Po,ql,aa,x,0,-0,0)}}break}while(!0);Cr(r)}function B_(r,a,c,d,g,x,C,D,q,Z,oe,ue,ee,te){if(r.timeoutHandle=-1,ue=a.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&($u={stylesheets:null,count:0,unsuspend:B4},D_(a),ue=F4(),ue!==null)){r.cancelPendingCommit=ue(K_.bind(null,r,a,x,c,d,g,C,D,q,oe,1,ee,te)),ua(r,x,C,!Z);return}K_(r,a,x,c,d,g,C,D,q)}function i4(r){for(var a=r;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var g=c[d],x=g.getSnapshot;g=g.value;try{if(!cs(x(),g))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ua(r,a,c,d){a&=~vx,a&=~Po,r.suspendedLanes|=a,r.pingedLanes&=~a,d&&(r.warmLanes|=a),d=r.expirationTimes;for(var g=a;0<g;){var x=31-ze(g),C=1<<x;d[x]=-1,g&=~C}c!==0&&mr(r,c,a)}function xf(){return(wt&6)===0?(Uu(0),!1):!0}function Ex(){if(ot!==null){if(_t===0)var r=ot.return;else r=ot,di=Co=null,Fg(r),Vl=null,Cu=0,r=ot;for(;r!==null;)v_(r.alternate,r),r=r.return;ot=null}}function Gl(r,a){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,j4(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Ex(),Mt=r,ot=c=li(r.current,null),ft=a,_t=0,fs=null,aa=!1,Fl=ao(r,a),yx=!1,ql=Ps=vx=Po=oa=Yt=0,ts=Lu=null,bx=!1,(a&8)!==0&&(a|=a&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=a;0<d;){var g=31-ze(d),x=1<<g;a|=r[g],d&=~x}return vi=a,Vh(),c}function z_(r,a){st=null,K.H=sf,a===bu||a===Kh?(a=rw(),_t=3):a===tw?(a=rw(),_t=4):_t=a===i_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,fs=a,ot===null&&(Yt=1,cf(r,Rs(a,r.current)))}function F_(){var r=K.H;return K.H=sf,r===null?sf:r}function q_(){var r=K.A;return K.A=s4,r}function Sx(){Yt=4,aa||(ft&4194048)!==ft&&Ms.current!==null||(Fl=!0),(oa&134217727)===0&&(Po&134217727)===0||Mt===null||ua(Mt,ft,Ps,!1)}function Tx(r,a,c){var d=wt;wt|=2;var g=F_(),x=q_();(Mt!==r||ft!==a)&&(gf=null,Gl(r,a)),a=!1;var C=Yt;e:do try{if(_t!==0&&ot!==null){var D=ot,q=fs;switch(_t){case 8:Ex(),C=6;break e;case 3:case 2:case 9:case 6:Ms.current===null&&(a=!0);var Z=_t;if(_t=0,fs=null,Kl(r,D,q,Z),c&&Fl){C=0;break e}break;default:Z=_t,_t=0,fs=null,Kl(r,D,q,Z)}}a4(),C=Yt;break}catch(oe){z_(r,oe)}while(!0);return a&&r.shellSuspendCounter++,di=Co=null,wt=d,K.H=g,K.A=x,ot===null&&(Mt=null,ft=0,Vh()),C}function a4(){for(;ot!==null;)H_(ot)}function o4(r,a){var c=wt;wt|=2;var d=F_(),g=q_();Mt!==r||ft!==a?(gf=null,pf=an()+500,Gl(r,a)):Fl=ao(r,a);e:do try{if(_t!==0&&ot!==null){a=ot;var x=fs;t:switch(_t){case 1:_t=0,fs=null,Kl(r,a,x,1);break;case 2:case 9:if(nw(x)){_t=0,fs=null,$_(a);break}a=function(){_t!==2&&_t!==9||Mt!==r||(_t=7),Cr(r)},x.then(a,a);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:nw(x)?(_t=0,fs=null,$_(a)):(_t=0,fs=null,Kl(r,a,x,7));break;case 5:var C=null;switch(ot.tag){case 26:C=ot.memoizedState;case 5:case 27:var D=ot;if(!C||Sj(C)){_t=0,fs=null;var q=D.sibling;if(q!==null)ot=q;else{var Z=D.return;Z!==null?(ot=Z,yf(Z)):ot=null}break t}}_t=0,fs=null,Kl(r,a,x,5);break;case 6:_t=0,fs=null,Kl(r,a,x,6);break;case 8:Ex(),Yt=6;break e;default:throw Error(i(462))}}l4();break}catch(oe){z_(r,oe)}while(!0);return di=Co=null,K.H=d,K.A=g,wt=c,ot!==null?0:(Mt=null,ft=0,Vh(),Yt)}function l4(){for(;ot!==null&&!os();)H_(ot)}function H_(r){var a=x_(r.alternate,r,vi);r.memoizedProps=r.pendingProps,a===null?yf(r):ot=a}function $_(r){var a=r,c=a.alternate;switch(a.tag){case 15:case 0:a=d_(c,a,a.pendingProps,a.type,void 0,ft);break;case 11:a=d_(c,a,a.pendingProps,a.type.render,a.ref,ft);break;case 5:Fg(a);default:v_(c,a),a=ot=Gb(a,vi),a=x_(c,a,vi)}r.memoizedProps=r.pendingProps,a===null?yf(r):ot=a}function Kl(r,a,c,d){di=Co=null,Fg(a),Vl=null,Cu=0;var g=a.return;try{if(QI(r,g,a,c,ft)){Yt=1,cf(r,Rs(c,r.current)),ot=null;return}}catch(x){if(g!==null)throw ot=g,x;Yt=1,cf(r,Rs(c,r.current)),ot=null;return}a.flags&32768?(yt||d===1?r=!0:Fl||(ft&536870912)!==0?r=!1:(aa=r=!0,(d===2||d===9||d===3||d===6)&&(d=Ms.current,d!==null&&d.tag===13&&(d.flags|=16384))),G_(a,r)):yf(a)}function yf(r){var a=r;do{if((a.flags&32768)!==0){G_(a,aa);return}r=a.return;var c=JI(a.alternate,a,vi);if(c!==null){ot=c;return}if(a=a.sibling,a!==null){ot=a;return}ot=a=r}while(a!==null);Yt===0&&(Yt=5)}function G_(r,a){do{var c=e4(r.alternate,r);if(c!==null){c.flags&=32767,ot=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(r=r.sibling,r!==null)){ot=r;return}ot=r=c}while(r!==null);Yt=6,ot=null}function K_(r,a,c,d,g,x,C,D,q){r.cancelPendingCommit=null;do vf();while(Pn!==0);if((wt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(x=a.lanes|a.childLanes,x|=xg,Yc(r,c,x,C,D,q),r===Mt&&(ot=Mt=null,ft=0),Hl=a,ca=r,$l=c,_x=x,jx=g,L_=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,h4(Wr,function(){return Z_(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=K.T,K.T=null,g=ae.p,ae.p=2,C=wt,wt|=4;try{t4(r,a,c)}finally{wt=C,ae.p=g,K.T=d}}Pn=1,W_(),Y_(),X_()}}function W_(){if(Pn===1){Pn=0;var r=ca,a=Hl,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=K.T,K.T=null;var d=ae.p;ae.p=2;var g=wt;wt|=4;try{R_(a,r);var x=Ux,C=Ob(r.containerInfo),D=x.focusedElem,q=x.selectionRange;if(C!==D&&D&&D.ownerDocument&&Pb(D.ownerDocument.documentElement,D)){if(q!==null&&hg(D)){var Z=q.start,oe=q.end;if(oe===void 0&&(oe=Z),"selectionStart"in D)D.selectionStart=Z,D.selectionEnd=Math.min(oe,D.value.length);else{var ue=D.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),$e=D.textContent.length,Be=Math.min(q.start,$e),At=q.end===void 0?Be:Math.min(q.end,$e);!te.extend&&Be>At&&(C=At,At=Be,Be=C);var W=Mb(D,Be),G=Mb(D,At);if(W&&G&&(te.rangeCount!==1||te.anchorNode!==W.node||te.anchorOffset!==W.offset||te.focusNode!==G.node||te.focusOffset!==G.offset)){var X=ue.createRange();X.setStart(W.node,W.offset),te.removeAllRanges(),Be>At?(te.addRange(X),te.extend(G.node,G.offset)):(X.setEnd(G.node,G.offset),te.addRange(X))}}}}for(ue=[],te=D;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ue.length;D++){var ce=ue[D];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}If=!!Vx,Ux=Vx=null}finally{wt=g,ae.p=d,K.T=c}}r.current=a,Pn=2}}function Y_(){if(Pn===2){Pn=0;var r=ca,a=Hl,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=K.T,K.T=null;var d=ae.p;ae.p=2;var g=wt;wt|=4;try{S_(r,a.alternate,a)}finally{wt=g,ae.p=d,K.T=c}}Pn=3}}function X_(){if(Pn===4||Pn===3){Pn=0,js();var r=ca,a=Hl,c=$l,d=L_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Pn=5:(Pn=0,Hl=ca=null,Q_(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(la=null),ul(c),a=a.stateNode,J&&typeof J.onCommitFiberRoot=="function")try{J.onCommitFiberRoot(Pt,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=K.T,g=ae.p,ae.p=2,K.T=null;try{for(var x=r.onRecoverableError,C=0;C<d.length;C++){var D=d[C];x(D.value,{componentStack:D.stack})}}finally{K.T=a,ae.p=g}}($l&3)!==0&&vf(),Cr(r),g=r.pendingLanes,(c&4194090)!==0&&(g&42)!==0?r===Nx?Vu++:(Vu=0,Nx=r):Vu=0,Uu(0)}}function Q_(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,yu(a)))}function vf(r){return W_(),Y_(),X_(),Z_()}function Z_(){if(Pn!==5)return!1;var r=ca,a=_x;_x=0;var c=ul($l),d=K.T,g=ae.p;try{ae.p=32>c?32:c,K.T=null,c=jx,jx=null;var x=ca,C=$l;if(Pn=0,Hl=ca=null,$l=0,(wt&6)!==0)throw Error(i(331));var D=wt;if(wt|=4,P_(x.current),k_(x,x.current,C,c),wt=D,Uu(0,!1),J&&typeof J.onPostCommitFiberRoot=="function")try{J.onPostCommitFiberRoot(Pt,x)}catch{}return!0}finally{ae.p=g,K.T=d,Q_(r,a)}}function J_(r,a,c){a=Rs(c,a),a=nx(r.stateNode,a,2),r=Ji(r,a,2),r!==null&&(Qr(r,2),Cr(r))}function Dt(r,a,c){if(r.tag===3)J_(r,r,c);else for(;a!==null;){if(a.tag===3){J_(a,r,c);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(la===null||!la.has(d))){r=Rs(c,r),c=s_(2),d=Ji(a,c,2),d!==null&&(r_(c,d,a,r),Qr(d,2),Cr(d));break}}a=a.return}}function Ax(r,a,c){var d=r.pingCache;if(d===null){d=r.pingCache=new r4;var g=new Set;d.set(a,g)}else g=d.get(a),g===void 0&&(g=new Set,d.set(a,g));g.has(c)||(yx=!0,g.add(c),r=c4.bind(null,r,a,c),a.then(r,r))}function c4(r,a,c){var d=r.pingCache;d!==null&&d.delete(a),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,Mt===r&&(ft&c)===c&&(Yt===4||Yt===3&&(ft&62914560)===ft&&300>an()-wx?(wt&2)===0&&Gl(r,0):vx|=c,ql===ft&&(ql=0)),Cr(r)}function ej(r,a){a===0&&(a=Wc()),r=Al(r,a),r!==null&&(Qr(r,a),Cr(r))}function u4(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),ej(r,c)}function d4(r,a){var c=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(c=g.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(a),ej(r,c)}function h4(r,a){return $t(r,a)}var bf=null,Wl=null,Cx=!1,wf=!1,Rx=!1,Oo=0;function Cr(r){r!==Wl&&r.next===null&&(Wl===null?bf=Wl=r:Wl=Wl.next=r),wf=!0,Cx||(Cx=!0,m4())}function Uu(r,a){if(!Rx&&wf){Rx=!0;do for(var c=!1,d=bf;d!==null;){if(r!==0){var g=d.pendingLanes;if(g===0)var x=0;else{var C=d.suspendedLanes,D=d.pingedLanes;x=(1<<31-ze(42|r)+1)-1,x&=g&~(C&~D),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,rj(d,x))}else x=ft,x=cl(d,d===Mt?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||ao(d,x)||(c=!0,rj(d,x));d=d.next}while(c);Rx=!1}}function f4(){tj()}function tj(){wf=Cx=!1;var r=0;Oo!==0&&(_4()&&(r=Oo),Oo=0);for(var a=an(),c=null,d=bf;d!==null;){var g=d.next,x=nj(d,a);x===0?(d.next=null,c===null?bf=g:c.next=g,g===null&&(Wl=c)):(c=d,(r!==0||(x&3)!==0)&&(wf=!0)),d=g}Uu(r)}function nj(r,a){for(var c=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var C=31-ze(x),D=1<<C,q=g[C];q===-1?((D&c)===0||(D&d)!==0)&&(g[C]=Gc(D,a)):q<=a&&(r.expiredLanes|=D),x&=~D}if(a=Mt,c=ft,c=cl(r,r===a?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,c===0||r===a&&(_t===2||_t===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Zt(d),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||ao(r,c)){if(a=c&-c,a===r.callbackPriority)return a;switch(d!==null&&Zt(d),ul(c)){case 2:case 8:c=Fi;break;case 32:c=Wr;break;case 268435456:c=qs;break;default:c=Wr}return d=sj.bind(null,r),c=$t(c,d),r.callbackPriority=a,r.callbackNode=c,a}return d!==null&&d!==null&&Zt(d),r.callbackPriority=2,r.callbackNode=null,2}function sj(r,a){if(Pn!==0&&Pn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(vf()&&r.callbackNode!==c)return null;var d=ft;return d=cl(r,r===Mt?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(U_(r,d,a),nj(r,an()),r.callbackNode!=null&&r.callbackNode===c?sj.bind(null,r):null)}function rj(r,a){if(vf())return null;U_(r,a,!0)}function m4(){N4(function(){(wt&6)!==0?$t(Ns,f4):tj()})}function Ix(){return Oo===0&&(Oo=Kc()),Oo}function ij(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:gl(""+r)}function aj(r,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,r.id&&c.setAttribute("form",r.id),a.parentNode.insertBefore(c,a),r=new FormData(r),c.parentNode.removeChild(c),r}function p4(r,a,c,d,g){if(a==="submit"&&c&&c.stateNode===g){var x=ij((g[on]||null).action),C=d.submitter;C&&(a=(a=C[on]||null)?ij(a.formAction):C.getAttribute("formAction"),a!==null&&(x=a,C=null));var D=new xl("action","action",null,d,g);r.push({event:D,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Oo!==0){var q=C?aj(g,C):new FormData(g);Qg(c,{pending:!0,data:q,method:g.method,action:x},null,q)}}else typeof x=="function"&&(D.preventDefault(),q=C?aj(g,C):new FormData(g),Qg(c,{pending:!0,data:q,method:g.method,action:x},x,q))},currentTarget:g}]})}}for(var kx=0;kx<gg.length;kx++){var Dx=gg[kx],g4=Dx.toLowerCase(),x4=Dx[0].toUpperCase()+Dx.slice(1);Ks(g4,"on"+x4)}Ks(Ub,"onAnimationEnd"),Ks(Bb,"onAnimationIteration"),Ks(zb,"onAnimationStart"),Ks("dblclick","onDoubleClick"),Ks("focusin","onFocus"),Ks("focusout","onBlur"),Ks(MI,"onTransitionRun"),Ks(PI,"onTransitionStart"),Ks(OI,"onTransitionCancel"),Ks(Fb,"onTransitionEnd"),Jr("onMouseEnter",["mouseout","mouseover"]),Jr("onMouseLeave",["mouseout","mouseover"]),Jr("onPointerEnter",["pointerout","pointerover"]),Jr("onPointerLeave",["pointerout","pointerover"]),$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$s("onBeforeInput",["compositionend","keypress","textInput","paste"]),$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function oj(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var d=r[c],g=d.event;d=d.listeners;e:{var x=void 0;if(a)for(var C=d.length-1;0<=C;C--){var D=d[C],q=D.instance,Z=D.currentTarget;if(D=D.listener,q!==x&&g.isPropagationStopped())break e;x=D,g.currentTarget=Z;try{x(g)}catch(oe){lf(oe)}g.currentTarget=null,x=q}else for(C=0;C<d.length;C++){if(D=d[C],q=D.instance,Z=D.currentTarget,D=D.listener,q!==x&&g.isPropagationStopped())break e;x=D,g.currentTarget=Z;try{x(g)}catch(oe){lf(oe)}g.currentTarget=null,x=q}}}}function lt(r,a){var c=a[Qc];c===void 0&&(c=a[Qc]=new Set);var d=r+"__bubble";c.has(d)||(lj(a,r,2,!1),c.add(d))}function Mx(r,a,c){var d=0;a&&(d|=4),lj(c,r,d,a)}var _f="_reactListening"+Math.random().toString(36).slice(2);function Px(r){if(!r[_f]){r[_f]=!0,Zc.forEach(function(c){c!=="selectionchange"&&(y4.has(c)||Mx(c,!1,r),Mx(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[_f]||(a[_f]=!0,Mx("selectionchange",!1,a))}}function lj(r,a,c,d){switch(kj(a)){case 2:var g=$4;break;case 8:g=G4;break;default:g=Yx}c=g.bind(null,a,c,r),g=void 0,!As||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(a,c,{capture:!0,passive:g}):r.addEventListener(a,c,!0):g!==void 0?r.addEventListener(a,c,{passive:g}):r.addEventListener(a,c,!1)}function Ox(r,a,c,d,g){var x=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var D=d.stateNode.containerInfo;if(D===g)break;if(C===4)for(C=d.return;C!==null;){var q=C.tag;if((q===3||q===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;D!==null;){if(C=Zr(D),C===null)return;if(q=C.tag,q===5||q===6||q===26||q===27){d=x=C;continue e}D=D.parentNode}}d=d.return}jh(function(){var Z=x,oe=Ts(c),ue=[];e:{var ee=qb.get(r);if(ee!==void 0){var te=xl,$e=r;switch(r){case"keypress":if(br(c)===0)break e;case"keydown":case"keyup":te=jl;break;case"focusin":$e="focus",te=bl;break;case"focusout":$e="blur",te=bl;break;case"beforeblur":case"afterblur":te=bl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=lg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Ih;break;case Ub:case Bb:case zb:te=wl;break;case Fb:te=Dh;break;case"scroll":case"scrollend":te=Nh;break;case"wheel":te=Nl;break;case"copy":case"cut":case"paste":te=_l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=uu;break;case"toggle":case"beforetoggle":te=Ph}var Be=(a&4)!==0,At=!Be&&(r==="scroll"||r==="scrollend"),W=Be?ee!==null?ee+"Capture":null:ee;Be=[];for(var G=Z,X;G!==null;){var ce=G;if(X=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||X===null||W===null||(ce=po(G,W),ce!=null&&Be.push(zu(G,ce,X))),At)break;G=G.return}0<Be.length&&(ee=new te(ee,$e,null,c,oe),ue.push({event:ee,listeners:Be}))}}if((a&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",ee&&c!==ni&&($e=c.relatedTarget||c.fromElement)&&(Zr($e)||$e[Es]))break e;if((te||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?($e=c.relatedTarget||c.toElement,te=Z,$e=$e?Zr($e):null,$e!==null&&(At=l($e),Be=$e.tag,$e!==At||Be!==5&&Be!==27&&Be!==6)&&($e=null)):(te=null,$e=Z),te!==$e)){if(Be=Cs,ce="onMouseLeave",W="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Be=uu,ce="onPointerLeave",W="onPointerEnter",G="pointer"),At=te==null?ee:gr(te),X=$e==null?ee:gr($e),ee=new Be(ce,G+"leave",te,c,oe),ee.target=At,ee.relatedTarget=X,ce=null,Zr(oe)===Z&&(Be=new Be(W,G+"enter",$e,c,oe),Be.target=X,Be.relatedTarget=At,ce=Be),At=ce,te&&$e)t:{for(Be=te,W=$e,G=0,X=Be;X;X=Yl(X))G++;for(X=0,ce=W;ce;ce=Yl(ce))X++;for(;0<G-X;)Be=Yl(Be),G--;for(;0<X-G;)W=Yl(W),X--;for(;G--;){if(Be===W||W!==null&&Be===W.alternate)break t;Be=Yl(Be),W=Yl(W)}Be=null}else Be=null;te!==null&&cj(ue,ee,te,Be,!1),$e!==null&&At!==null&&cj(ue,At,$e,Be,!0)}}e:{if(ee=Z?gr(Z):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Re=Ab;else if(xn(ee))if(Cb)Re=II;else{Re=CI;var at=AI}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&su(Z.elementType)&&(Re=Ab):Re=RI;if(Re&&(Re=Re(r,Z))){oi(ue,Re,c,oe);break e}at&&at(r,ee,Z),r==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Wi(ee,"number",ee.value)}switch(at=Z?gr(Z):window,r){case"focusin":(xn(at)||at.contentEditable==="true")&&(El=at,fg=Z,fu=null);break;case"focusout":fu=fg=El=null;break;case"mousedown":mg=!0;break;case"contextmenu":case"mouseup":case"dragend":mg=!1,Lb(ue,c,oe);break;case"selectionchange":if(DI)break;case"keydown":case"keyup":Lb(ue,c,oe)}var Le;if(jr)e:{switch(r){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else dt?ne(r,c)&&(Fe="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Fe="onCompositionStart");Fe&&(S&&c.locale!=="ko"&&(dt||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&dt&&(Le=iu()):(vr=oe,Yi="value"in vr?vr.value:vr.textContent,dt=!0)),at=jf(Z,Fe),0<at.length&&(Fe=new lu(Fe,r,null,c,oe),ue.push({event:Fe,listeners:at}),Le?Fe.data=Le:(Le=xe(c),Le!==null&&(Fe.data=Le)))),(Le=_?gn(r,c):ht(r,c))&&(Fe=jf(Z,"onBeforeInput"),0<Fe.length&&(at=new lu("onBeforeInput","beforeinput",null,c,oe),ue.push({event:at,listeners:Fe}),at.data=Le)),p4(ue,r,Z,c,oe)}oj(ue,a)})}function zu(r,a,c){return{instance:r,listener:a,currentTarget:c}}function jf(r,a){for(var c=a+"Capture",d=[];r!==null;){var g=r,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=po(r,c),g!=null&&d.unshift(zu(r,g,x)),g=po(r,a),g!=null&&d.push(zu(r,g,x))),r.tag===3)return d;r=r.return}return[]}function Yl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function cj(r,a,c,d,g){for(var x=a._reactName,C=[];c!==null&&c!==d;){var D=c,q=D.alternate,Z=D.stateNode;if(D=D.tag,q!==null&&q===d)break;D!==5&&D!==26&&D!==27||Z===null||(q=Z,g?(Z=po(c,x),Z!=null&&C.unshift(zu(c,Z,q))):g||(Z=po(c,x),Z!=null&&C.push(zu(c,Z,q)))),c=c.return}C.length!==0&&r.push({event:a,listeners:C})}var v4=/\r\n?/g,b4=/\u0000|\uFFFD/g;function uj(r){return(typeof r=="string"?r:""+r).replace(v4,`
`).replace(b4,"")}function dj(r,a){return a=uj(a),uj(r)===a}function Nf(){}function Tt(r,a,c,d,g,x){switch(c){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||Ss(r,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&Ss(r,""+d);break;case"className":xr(r,"class",d);break;case"tabIndex":xr(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(r,c,d);break;case"style":nu(r,d,x);break;case"data":if(a!=="object"){xr(r,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||c!=="href")){r.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=gl(""+d),r.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(a!=="input"&&Tt(r,a,"name",g.name,g,null),Tt(r,a,"formEncType",g.formEncType,g,null),Tt(r,a,"formMethod",g.formMethod,g,null),Tt(r,a,"formTarget",g.formTarget,g,null)):(Tt(r,a,"encType",g.encType,g,null),Tt(r,a,"method",g.method,g,null),Tt(r,a,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=gl(""+d),r.setAttribute(c,d);break;case"onClick":d!=null&&(r.onclick=Nf);break;case"onScroll":d!=null&&lt("scroll",r);break;case"onScrollEnd":d!=null&&lt("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}c=gl(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""+d):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":d===!0?r.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,d):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(c,d):r.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(c):r.setAttribute(c,d);break;case"popover":lt("beforetoggle",r),lt("toggle",r),Ki(r,"popover",d);break;case"xlinkActuate":kn(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":kn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":kn(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":kn(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":kn(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":kn(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":kn(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":kn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":kn(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ki(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=ag.get(c)||c,Ki(r,c,d))}}function Lx(r,a,c,d,g,x){switch(c){case"style":nu(r,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof d=="string"?Ss(r,d):(typeof d=="number"||typeof d=="bigint")&&Ss(r,""+d);break;case"onScroll":d!=null&&lt("scroll",r);break;case"onScrollEnd":d!=null&&lt("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Nf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dl.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),a=c.slice(2,g?c.length-7:void 0),x=r[on]||null,x=x!=null?x[c]:null,typeof x=="function"&&r.removeEventListener(a,x,g),typeof d=="function")){typeof x!="function"&&x!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(a,d,g);break e}c in r?r[c]=d:d===!0?r.setAttribute(c,""):Ki(r,c,d)}}}function On(r,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",r),lt("load",r);var d=!1,g=!1,x;for(x in c)if(c.hasOwnProperty(x)){var C=c[x];if(C!=null)switch(x){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Tt(r,a,x,C,c,null)}}g&&Tt(r,a,"srcSet",c.srcSet,c,null),d&&Tt(r,a,"src",c.src,c,null);return;case"input":lt("invalid",r);var D=x=C=g=null,q=null,Z=null;for(d in c)if(c.hasOwnProperty(d)){var oe=c[d];if(oe!=null)switch(d){case"name":g=oe;break;case"type":C=oe;break;case"checked":q=oe;break;case"defaultChecked":Z=oe;break;case"value":x=oe;break;case"defaultValue":D=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,a));break;default:Tt(r,a,d,oe,c,null)}}ho(r,x,D,q,Z,C,g,!1),pl(r);return;case"select":lt("invalid",r),d=C=x=null;for(g in c)if(c.hasOwnProperty(g)&&(D=c[g],D!=null))switch(g){case"value":x=D;break;case"defaultValue":C=D;break;case"multiple":d=D;default:Tt(r,a,g,D,c,null)}a=x,c=C,r.multiple=!!d,a!=null?ti(r,!!d,a,!1):c!=null&&ti(r,!!d,c,!0);return;case"textarea":lt("invalid",r),x=g=d=null;for(C in c)if(c.hasOwnProperty(C)&&(D=c[C],D!=null))switch(C){case"value":d=D;break;case"defaultValue":g=D;break;case"children":x=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:Tt(r,a,C,D,c,null)}fo(r,d,g,x),pl(r);return;case"option":for(q in c)if(c.hasOwnProperty(q)&&(d=c[q],d!=null))switch(q){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Tt(r,a,q,d,c,null)}return;case"dialog":lt("beforetoggle",r),lt("toggle",r),lt("cancel",r),lt("close",r);break;case"iframe":case"object":lt("load",r);break;case"video":case"audio":for(d=0;d<Bu.length;d++)lt(Bu[d],r);break;case"image":lt("error",r),lt("load",r);break;case"details":lt("toggle",r);break;case"embed":case"source":case"link":lt("error",r),lt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(d=c[Z],d!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Tt(r,a,Z,d,c,null)}return;default:if(su(a)){for(oe in c)c.hasOwnProperty(oe)&&(d=c[oe],d!==void 0&&Lx(r,a,oe,d,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(d=c[D],d!=null&&Tt(r,a,D,d,c,null))}function w4(r,a,c,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,C=null,D=null,q=null,Z=null,oe=null;for(te in c){var ue=c[te];if(c.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":q=ue;default:d.hasOwnProperty(te)||Tt(r,a,te,null,d,ue)}}for(var ee in d){var te=d[ee];if(ue=c[ee],d.hasOwnProperty(ee)&&(te!=null||ue!=null))switch(ee){case"type":x=te;break;case"name":g=te;break;case"checked":Z=te;break;case"defaultChecked":oe=te;break;case"value":C=te;break;case"defaultValue":D=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:te!==ue&&Tt(r,a,ee,te,d,ue)}}ls(r,C,D,q,Z,oe,x,g);return;case"select":te=C=D=ee=null;for(x in c)if(q=c[x],c.hasOwnProperty(x)&&q!=null)switch(x){case"value":break;case"multiple":te=q;default:d.hasOwnProperty(x)||Tt(r,a,x,null,d,q)}for(g in d)if(x=d[g],q=c[g],d.hasOwnProperty(g)&&(x!=null||q!=null))switch(g){case"value":ee=x;break;case"defaultValue":D=x;break;case"multiple":C=x;default:x!==q&&Tt(r,a,g,x,d,q)}a=D,c=C,d=te,ee!=null?ti(r,!!c,ee,!1):!!d!=!!c&&(a!=null?ti(r,!!c,a,!0):ti(r,!!c,c?[]:"",!1));return;case"textarea":te=ee=null;for(D in c)if(g=c[D],c.hasOwnProperty(D)&&g!=null&&!d.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Tt(r,a,D,null,d,g)}for(C in d)if(g=d[C],x=c[C],d.hasOwnProperty(C)&&(g!=null||x!=null))switch(C){case"value":ee=g;break;case"defaultValue":te=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==x&&Tt(r,a,C,g,d,x)}Et(r,ee,te);return;case"option":for(var $e in c)if(ee=c[$e],c.hasOwnProperty($e)&&ee!=null&&!d.hasOwnProperty($e))switch($e){case"selected":r.selected=!1;break;default:Tt(r,a,$e,null,d,ee)}for(q in d)if(ee=d[q],te=c[q],d.hasOwnProperty(q)&&ee!==te&&(ee!=null||te!=null))switch(q){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Tt(r,a,q,ee,d,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in c)ee=c[Be],c.hasOwnProperty(Be)&&ee!=null&&!d.hasOwnProperty(Be)&&Tt(r,a,Be,null,d,ee);for(Z in d)if(ee=d[Z],te=c[Z],d.hasOwnProperty(Z)&&ee!==te&&(ee!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:Tt(r,a,Z,ee,d,te)}return;default:if(su(a)){for(var At in c)ee=c[At],c.hasOwnProperty(At)&&ee!==void 0&&!d.hasOwnProperty(At)&&Lx(r,a,At,void 0,d,ee);for(oe in d)ee=d[oe],te=c[oe],!d.hasOwnProperty(oe)||ee===te||ee===void 0&&te===void 0||Lx(r,a,oe,ee,d,te);return}}for(var W in c)ee=c[W],c.hasOwnProperty(W)&&ee!=null&&!d.hasOwnProperty(W)&&Tt(r,a,W,null,d,ee);for(ue in d)ee=d[ue],te=c[ue],!d.hasOwnProperty(ue)||ee===te||ee==null&&te==null||Tt(r,a,ue,ee,d,te)}var Vx=null,Ux=null;function Ef(r){return r.nodeType===9?r:r.ownerDocument}function hj(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fj(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Bx(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zx=null;function _4(){var r=window.event;return r&&r.type==="popstate"?r===zx?!1:(zx=r,!0):(zx=null,!1)}var mj=typeof setTimeout=="function"?setTimeout:void 0,j4=typeof clearTimeout=="function"?clearTimeout:void 0,pj=typeof Promise=="function"?Promise:void 0,N4=typeof queueMicrotask=="function"?queueMicrotask:typeof pj<"u"?function(r){return pj.resolve(null).then(r).catch(E4)}:mj;function E4(r){setTimeout(function(){throw r})}function da(r){return r==="head"}function gj(r,a){var c=a,d=0,g=0;do{var x=c.nextSibling;if(r.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(0<d&&8>d){c=d;var C=r.ownerDocument;if(c&1&&Fu(C.documentElement),c&2&&Fu(C.body),c&4)for(c=C.head,Fu(c),C=c.firstChild;C;){var D=C.nextSibling,q=C.nodeName;C[oo]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&C.rel.toLowerCase()==="stylesheet"||c.removeChild(C),C=D}}if(g===0){r.removeChild(x),Xu(a);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:d=c.charCodeAt(0)-48;else d=0;c=x}while(c);Xu(a)}function Fx(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Fx(c),Gi(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function S4(r,a,c,d){for(;r.nodeType===1;){var g=c;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[oo])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=Ys(r.nextSibling),r===null)break}return null}function T4(r,a,c){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Ys(r.nextSibling),r===null))return null;return r}function qx(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function A4(r,a){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")a();else{var d=function(){a(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Ys(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Hx=null;function xj(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}function yj(r,a,c){switch(a=Ef(c),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Fu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Gi(r)}var Os=new Map,vj=new Set;function Sf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var bi=ae.d;ae.d={f:C4,r:R4,D:I4,C:k4,L:D4,m:M4,X:O4,S:P4,M:L4};function C4(){var r=bi.f(),a=xf();return r||a}function R4(r){var a=pr(r);a!==null&&a.tag===5&&a.type==="form"?Uw(a):bi.r(r)}var Xl=typeof document>"u"?null:document;function bj(r,a,c){var d=Xl;if(d&&typeof a=="string"&&a){var g=ln(a);g='link[rel="'+r+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),vj.has(g)||(vj.add(g),r={rel:r,crossOrigin:c,href:a},d.querySelector(g)===null&&(a=d.createElement("link"),On(a,"link",r),Jt(a),d.head.appendChild(a)))}}function I4(r){bi.D(r),bj("dns-prefetch",r,null)}function k4(r,a){bi.C(r,a),bj("preconnect",r,a)}function D4(r,a,c){bi.L(r,a,c);var d=Xl;if(d&&r&&a){var g='link[rel="preload"][as="'+ln(a)+'"]';a==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+ln(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+ln(c.imageSizes)+'"]')):g+='[href="'+ln(r)+'"]';var x=g;switch(a){case"style":x=Ql(r);break;case"script":x=Zl(r)}Os.has(x)||(r=y({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:r,as:a},c),Os.set(x,r),d.querySelector(g)!==null||a==="style"&&d.querySelector(qu(x))||a==="script"&&d.querySelector(Hu(x))||(a=d.createElement("link"),On(a,"link",r),Jt(a),d.head.appendChild(a)))}}function M4(r,a){bi.m(r,a);var c=Xl;if(c&&r){var d=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+ln(d)+'"][href="'+ln(r)+'"]',x=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Zl(r)}if(!Os.has(x)&&(r=y({rel:"modulepreload",href:r},a),Os.set(x,r),c.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Hu(x)))return}d=c.createElement("link"),On(d,"link",r),Jt(d),c.head.appendChild(d)}}}function P4(r,a,c){bi.S(r,a,c);var d=Xl;if(d&&r){var g=Kn(d).hoistableStyles,x=Ql(r);a=a||"default";var C=g.get(x);if(!C){var D={loading:0,preload:null};if(C=d.querySelector(qu(x)))D.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":a},c),(c=Os.get(x))&&$x(r,c);var q=C=d.createElement("link");Jt(q),On(q,"link",r),q._p=new Promise(function(Z,oe){q.onload=Z,q.onerror=oe}),q.addEventListener("load",function(){D.loading|=1}),q.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Tf(C,a,d)}C={type:"stylesheet",instance:C,count:1,state:D},g.set(x,C)}}}function O4(r,a){bi.X(r,a);var c=Xl;if(c&&r){var d=Kn(c).hoistableScripts,g=Zl(r),x=d.get(g);x||(x=c.querySelector(Hu(g)),x||(r=y({src:r,async:!0},a),(a=Os.get(g))&&Gx(r,a),x=c.createElement("script"),Jt(x),On(x,"link",r),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(g,x))}}function L4(r,a){bi.M(r,a);var c=Xl;if(c&&r){var d=Kn(c).hoistableScripts,g=Zl(r),x=d.get(g);x||(x=c.querySelector(Hu(g)),x||(r=y({src:r,async:!0,type:"module"},a),(a=Os.get(g))&&Gx(r,a),x=c.createElement("script"),Jt(x),On(x,"link",r),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(g,x))}}function wj(r,a,c,d){var g=(g=Te.current)?Sf(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Ql(c.href),c=Kn(g).hoistableStyles,d=c.get(a),d||(d={type:"style",instance:null,count:0,state:null},c.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Ql(c.href);var x=Kn(g).hoistableStyles,C=x.get(r);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,C),(x=g.querySelector(qu(r)))&&!x._p&&(C.instance=x,C.state.loading=5),Os.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Os.set(r,c),x||V4(g,r,c,C.state))),a&&d===null)throw Error(i(528,""));return C}if(a&&d!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Zl(c),c=Kn(g).hoistableScripts,d=c.get(a),d||(d={type:"script",instance:null,count:0,state:null},c.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ql(r){return'href="'+ln(r)+'"'}function qu(r){return'link[rel="stylesheet"]['+r+"]"}function _j(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function V4(r,a,c,d){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=r.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),On(a,"link",c),Jt(a),r.head.appendChild(a))}function Zl(r){return'[src="'+ln(r)+'"]'}function Hu(r){return"script[async]"+r}function jj(r,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var d=r.querySelector('style[data-href~="'+ln(c.href)+'"]');if(d)return a.instance=d,Jt(d),d;var g=y({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Jt(d),On(d,"style",g),Tf(d,c.precedence,r),a.instance=d;case"stylesheet":g=Ql(c.href);var x=r.querySelector(qu(g));if(x)return a.state.loading|=4,a.instance=x,Jt(x),x;d=_j(c),(g=Os.get(g))&&$x(d,g),x=(r.ownerDocument||r).createElement("link"),Jt(x);var C=x;return C._p=new Promise(function(D,q){C.onload=D,C.onerror=q}),On(x,"link",d),a.state.loading|=4,Tf(x,c.precedence,r),a.instance=x;case"script":return x=Zl(c.src),(g=r.querySelector(Hu(x)))?(a.instance=g,Jt(g),g):(d=c,(g=Os.get(x))&&(d=y({},c),Gx(d,g)),r=r.ownerDocument||r,g=r.createElement("script"),Jt(g),On(g,"link",d),r.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Tf(d,c.precedence,r));return a.instance}function Tf(r,a,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,x=g,C=0;C<d.length;C++){var D=d[C];if(D.dataset.precedence===a)x=D;else if(x!==g)break}x?x.parentNode.insertBefore(r,x.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(r,a.firstChild))}function $x(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Gx(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Af=null;function Nj(r,a,c){if(Af===null){var d=new Map,g=Af=new Map;g.set(c,d)}else g=Af,d=g.get(c),d||(d=new Map,g.set(c,d));if(d.has(r))return d;for(d.set(r,null),c=c.getElementsByTagName(r),g=0;g<c.length;g++){var x=c[g];if(!(x[oo]||x[pn]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var C=x.getAttribute(a)||"";C=r+C;var D=d.get(C);D?D.push(x):d.set(C,[x])}}return d}function Ej(r,a,c){r=r.ownerDocument||r,r.head.insertBefore(c,a==="title"?r.querySelector("head > title"):null)}function U4(r,a,c){if(c===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Sj(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var $u=null;function B4(){}function z4(r,a,c){if($u===null)throw Error(i(475));var d=$u;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Ql(c.href),x=r.querySelector(qu(g));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=Cf.bind(d),r.then(d,d)),a.state.loading|=4,a.instance=x,Jt(x);return}x=r.ownerDocument||r,c=_j(c),(g=Os.get(g))&&$x(c,g),x=x.createElement("link"),Jt(x);var C=x;C._p=new Promise(function(D,q){C.onload=D,C.onerror=q}),On(x,"link",c),a.instance=x}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(d.count++,a=Cf.bind(d),r.addEventListener("load",a),r.addEventListener("error",a))}}function F4(){if($u===null)throw Error(i(475));var r=$u;return r.stylesheets&&r.count===0&&Kx(r,r.stylesheets),0<r.count?function(a){var c=setTimeout(function(){if(r.stylesheets&&Kx(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c)}}:null}function Cf(){if(this.count--,this.count===0){if(this.stylesheets)Kx(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Rf=null;function Kx(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Rf=new Map,a.forEach(q4,r),Rf=null,Cf.call(r))}function q4(r,a){if(!(a.state.loading&4)){var c=Rf.get(r);if(c)var d=c.get(null);else{c=new Map,Rf.set(r,c);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var C=g[x];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),d=C)}d&&c.set(null,d)}g=a.instance,C=g.getAttribute("data-precedence"),x=c.get(C)||d,x===d&&c.set(null,g),c.set(C,g),this.count++,d=Cf.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),x?x.parentNode.insertBefore(g,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),a.state.loading|=4}}var Gu={$$typeof:V,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function H4(r,a,c,d,g,x,C,D){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xr(0),this.hiddenUpdates=Xr(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Tj(r,a,c,d,g,x,C,D,q,Z,oe,ue){return r=new H4(r,a,c,C,D,q,Z,ue),a=1,x===!0&&(a|=24),x=us(3,null,null,a),r.current=x,x.stateNode=r,a=Ag(),a.refCount++,r.pooledCache=a,a.refCount++,x.memoizedState={element:d,isDehydrated:c,cache:a},kg(x),r}function Aj(r){return r?(r=Cl,r):Cl}function Cj(r,a,c,d,g,x){g=Aj(g),d.context===null?d.context=g:d.pendingContext=g,d=Zi(a),d.payload={element:c},x=x===void 0?null:x,x!==null&&(d.callback=x),c=Ji(r,d,a),c!==null&&(ps(c,r,a),_u(c,r,a))}function Rj(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function Wx(r,a){Rj(r,a),(r=r.alternate)&&Rj(r,a)}function Ij(r){if(r.tag===13){var a=Al(r,67108864);a!==null&&ps(a,r,67108864),Wx(r,67108864)}}var If=!0;function $4(r,a,c,d){var g=K.T;K.T=null;var x=ae.p;try{ae.p=2,Yx(r,a,c,d)}finally{ae.p=x,K.T=g}}function G4(r,a,c,d){var g=K.T;K.T=null;var x=ae.p;try{ae.p=8,Yx(r,a,c,d)}finally{ae.p=x,K.T=g}}function Yx(r,a,c,d){if(If){var g=Xx(d);if(g===null)Ox(r,a,d,kf,c),Dj(r,d);else if(W4(g,r,a,c,d))d.stopPropagation();else if(Dj(r,d),a&4&&-1<K4.indexOf(r)){for(;g!==null;){var x=pr(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var C=Hs(x.pendingLanes);if(C!==0){var D=x;for(D.pendingLanes|=2,D.entangledLanes|=2;C;){var q=1<<31-ze(C);D.entanglements[1]|=q,C&=~q}Cr(x),(wt&6)===0&&(pf=an()+500,Uu(0))}}break;case 13:D=Al(x,2),D!==null&&ps(D,x,2),xf(),Wx(x,2)}if(x=Xx(d),x===null&&Ox(r,a,d,kf,c),x===g)break;g=x}g!==null&&d.stopPropagation()}else Ox(r,a,d,null,c)}}function Xx(r){return r=Ts(r),Qx(r)}var kf=null;function Qx(r){if(kf=null,r=Zr(r),r!==null){var a=l(r);if(a===null)r=null;else{var c=a.tag;if(c===13){if(r=u(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return kf=r,null}function kj(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(no()){case Ns:return 2;case Fi:return 8;case Wr:case $c:return 32;case qs:return 268435456;default:return 32}default:return 32}}var Zx=!1,ha=null,fa=null,ma=null,Ku=new Map,Wu=new Map,pa=[],K4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dj(r,a){switch(r){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":Ku.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wu.delete(a.pointerId)}}function Yu(r,a,c,d,g,x){return r===null||r.nativeEvent!==x?(r={blockedOn:a,domEventName:c,eventSystemFlags:d,nativeEvent:x,targetContainers:[g]},a!==null&&(a=pr(a),a!==null&&Ij(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function W4(r,a,c,d,g){switch(a){case"focusin":return ha=Yu(ha,r,a,c,d,g),!0;case"dragenter":return fa=Yu(fa,r,a,c,d,g),!0;case"mouseover":return ma=Yu(ma,r,a,c,d,g),!0;case"pointerover":var x=g.pointerId;return Ku.set(x,Yu(Ku.get(x)||null,r,a,c,d,g)),!0;case"gotpointercapture":return x=g.pointerId,Wu.set(x,Yu(Wu.get(x)||null,r,a,c,d,g)),!0}return!1}function Mj(r){var a=Zr(r.target);if(a!==null){var c=l(a);if(c!==null){if(a=c.tag,a===13){if(a=u(c),a!==null){r.blockedOn=a,gh(r.priority,function(){if(c.tag===13){var d=ms();d=qi(d);var g=Al(c,d);g!==null&&ps(g,c,d),Wx(c,d)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Df(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=Xx(r.nativeEvent);if(c===null){c=r.nativeEvent;var d=new c.constructor(c.type,c);ni=d,c.target.dispatchEvent(d),ni=null}else return a=pr(c),a!==null&&Ij(a),r.blockedOn=c,!1;a.shift()}return!0}function Pj(r,a,c){Df(r)&&c.delete(a)}function Y4(){Zx=!1,ha!==null&&Df(ha)&&(ha=null),fa!==null&&Df(fa)&&(fa=null),ma!==null&&Df(ma)&&(ma=null),Ku.forEach(Pj),Wu.forEach(Pj)}function Mf(r,a){r.blockedOn===a&&(r.blockedOn=null,Zx||(Zx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Y4)))}var Pf=null;function Oj(r){Pf!==r&&(Pf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pf===r&&(Pf=null);for(var a=0;a<r.length;a+=3){var c=r[a],d=r[a+1],g=r[a+2];if(typeof d!="function"){if(Qx(d||c)===null)continue;break}var x=pr(c);x!==null&&(r.splice(a,3),a-=3,Qg(x,{pending:!0,data:g,method:c.method,action:d},d,g))}}))}function Xu(r){function a(q){return Mf(q,r)}ha!==null&&Mf(ha,r),fa!==null&&Mf(fa,r),ma!==null&&Mf(ma,r),Ku.forEach(a),Wu.forEach(a);for(var c=0;c<pa.length;c++){var d=pa[c];d.blockedOn===r&&(d.blockedOn=null)}for(;0<pa.length&&(c=pa[0],c.blockedOn===null);)Mj(c),c.blockedOn===null&&pa.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var g=c[d],x=c[d+1],C=g[on]||null;if(typeof x=="function")C||Oj(c);else if(C){var D=null;if(x&&x.hasAttribute("formAction")){if(g=x,C=x[on]||null)D=C.formAction;else if(Qx(g)!==null)continue}else D=C.action;typeof D=="function"?c[d+1]=D:(c.splice(d,3),d-=3),Oj(c)}}}function Jx(r){this._internalRoot=r}Of.prototype.render=Jx.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,d=ms();Cj(c,d,r,a,null,null)},Of.prototype.unmount=Jx.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;Cj(r.current,2,null,r,null,null),xf(),a[Es]=null}};function Of(r){this._internalRoot=r}Of.prototype.unstable_scheduleHydration=function(r){if(r){var a=Hi();r={blockedOn:null,target:r,priority:a};for(var c=0;c<pa.length&&a!==0&&a<pa[c].priority;c++);pa.splice(c,0,r),c===0&&Mj(r)}};var Lj=e.version;if(Lj!=="19.1.0")throw Error(i(527,Lj,"19.1.0"));ae.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(a),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var X4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lf.isDisabled&&Lf.supportsFiber)try{Pt=Lf.inject(X4),J=Lf}catch{}}return Zu.createRoot=function(r,a){if(!o(r))throw Error(i(299));var c=!1,d="",g=Jw,x=e_,C=t_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks)),a=Tj(r,1,!1,null,null,c,d,g,x,C,D,null),r[Es]=a.current,Px(r),new Jx(a)},Zu.hydrateRoot=function(r,a,c){if(!o(r))throw Error(i(299));var d=!1,g="",x=Jw,C=e_,D=t_,q=null,Z=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(q=c.unstable_transitionCallbacks),c.formState!==void 0&&(Z=c.formState)),a=Tj(r,1,!0,a,c??null,d,g,x,C,D,q,Z),a.context=Aj(null),c=a.current,d=ms(),d=qi(d),g=Zi(d),g.callback=null,Ji(c,g,d),c=d,a.current.lanes=c,Qr(a,c),Cr(a),r[Es]=a.current,Px(r),new Of(a)},Zu.version="19.1.0",Zu}var Kj;function ak(){if(Kj)return ny.exports;Kj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ny.exports=ik(),ny.exports}var ok=ak(),Ju={},Wj;function lk(){if(Wj)return Ju;Wj=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.parse=u,Ju.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,A){const T=new l,j=w.length;if(j<2)return T;const I=(A==null?void 0:A.decode)||y;let M=0;do{const L=w.indexOf("=",M);if(L===-1)break;const V=w.indexOf(";",M),F=V===-1?j:V;if(L>F){M=w.lastIndexOf(";",L-1)+1;continue}const H=h(w,M,L),$=m(w,L,H),N=w.slice(H,$);if(T[N]===void 0){let E=h(w,L+1,F),P=m(w,F,E);const U=I(w.slice(E,P));T[N]=U}M=F+1}while(M<j);return T}function h(w,A,T){do{const j=w.charCodeAt(A);if(j!==32&&j!==9)return A}while(++A<T);return T}function m(w,A,T){for(;A>T;){const j=w.charCodeAt(--A);if(j!==32&&j!==9)return A+1}return T}function p(w,A,T){const j=(T==null?void 0:T.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const I=j(A);if(!e.test(I))throw new TypeError(`argument val is invalid: ${A}`);let M=w+"="+I;if(!T)return M;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);M+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);M+="; Domain="+T.domain}if(T.path){if(!i.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);M+="; Path="+T.path}if(T.expires){if(!v(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);M+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(M+="; HttpOnly"),T.secure&&(M+="; Secure"),T.partitioned&&(M+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return M}function y(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return o.call(w)==="[object Date]"}return Ju}lk();var Yj="popstate";function ck(t={}){function e(i,o){let{pathname:l,search:u,hash:h}=i.location;return Oy("",{pathname:l,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:wd(o)}return dk(e,n,null,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uk(){return Math.random().toString(36).substring(2,10)}function Xj(t,e){return{usr:t.state,key:t.key,idx:e}}function Oy(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Cc(e):e,state:n,key:e&&e.key||i||uk()}}function wd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function dk(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,h="POP",m=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let I=y(),M=I==null?null:I-p;p=I,m&&m({action:h,location:j.location,delta:M})}function w(I,M){h="PUSH";let L=Oy(j.location,I,M);p=y()+1;let V=Xj(L,p),F=j.createHref(L);try{u.pushState(V,"",F)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;o.location.assign(F)}l&&m&&m({action:h,location:j.location,delta:1})}function A(I,M){h="REPLACE";let L=Oy(j.location,I,M);p=y();let V=Xj(L,p),F=j.createHref(L);u.replaceState(V,"",F),l&&m&&m({action:h,location:j.location,delta:0})}function T(I){return hk(I)}let j={get action(){return h},get location(){return t(o,u)},listen(I){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Yj,v),m=I,()=>{o.removeEventListener(Yj,v),m=null}},createHref(I){return e(o,I)},createURL:T,encodeLocation(I){let M=T(I);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:A,go(I){return u.go(I)}};return j}function hk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:wd(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function IE(t,e,n="/"){return fk(t,e,n,!1)}function fk(t,e,n,i){let o=typeof e=="string"?Cc(e):e,l=Ri(o.pathname||"/",n);if(l==null)return null;let u=kE(t);mk(u);let h=null;for(let m=0;h==null&&m<u.length;++m){let p=Ek(l);h=jk(u[m],p,i)}return h}function kE(t,e=[],n=[],i=""){let o=(l,u,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};m.relativePath.startsWith("/")&&(qt(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let p=Ei([i,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(qt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),kE(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:wk(p,l.index),routesMeta:y})};return t.forEach((l,u)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))o(l,u);else for(let m of DE(l.path))o(l,u,m)}),e}function DE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=DE(i.join("/")),h=[];return h.push(...u.map(m=>m===""?l:[l,m].join("/"))),o&&h.push(...u),h.map(m=>t.startsWith("/")&&m===""?"/":m)}function mk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_k(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var pk=/^:[\w-]+$/,gk=3,xk=2,yk=1,vk=10,bk=-2,Qj=t=>t==="*";function wk(t,e){let n=t.split("/"),i=n.length;return n.some(Qj)&&(i+=bk),e&&(i+=xk),n.filter(o=>!Qj(o)).reduce((o,l)=>o+(pk.test(l)?gk:l===""?yk:vk),i)}function _k(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function jk(t,e,n=!1){let{routesMeta:i}=t,o={},l="/",u=[];for(let h=0;h<i.length;++h){let m=i[h],p=h===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=ym({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),w=m.route;if(!v&&p&&n&&!i[i.length-1].route.index&&(v=ym({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:Ei([l,v.pathname]),pathnameBase:Ck(Ei([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=Ei([l,v.pathnameBase]))}return u}function ym(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Nk(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:v},w)=>{if(y==="*"){let T=h[w]||"";u=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const A=h[w];return v&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function Nk(t,e=!1,n=!0){zs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,m)=>(i.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Ek(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ri(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function Sk(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Cc(t):t;return{pathname:n?n.startsWith("/")?n:Tk(n,e):e,search:Rk(i),hash:Ik(o)}}function Tk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ay(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ak(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Mv(t){let e=Ak(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Pv(t,e,n,i=!1){let o;typeof t=="string"?o=Cc(t):(o={...t},qt(!o.pathname||!o.pathname.includes("?"),ay("?","pathname","search",o)),qt(!o.pathname||!o.pathname.includes("#"),ay("#","pathname","hash",o)),qt(!o.search||!o.search.includes("#"),ay("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;o.pathname=w.join("/")}h=v>=0?e[v]:"/"}let m=Sk(o,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Ei=t=>t.join("/").replace(/\/\/+/g,"/"),Ck=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ik=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ME=["POST","PUT","PATCH","DELETE"];new Set(ME);var Dk=["GET",...ME];new Set(Dk);var Rc=b.createContext(null);Rc.displayName="DataRouter";var rp=b.createContext(null);rp.displayName="DataRouterState";var PE=b.createContext({isTransitioning:!1});PE.displayName="ViewTransition";var Mk=b.createContext(new Map);Mk.displayName="Fetchers";var Pk=b.createContext(null);Pk.displayName="Await";var cr=b.createContext(null);cr.displayName="Navigation";var qd=b.createContext(null);qd.displayName="Location";var ur=b.createContext({outlet:null,matches:[],isDataRoute:!1});ur.displayName="Route";var Ov=b.createContext(null);Ov.displayName="RouteError";function Ok(t,{relative:e}={}){qt(Ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=b.useContext(cr),{hash:o,pathname:l,search:u}=Hd(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Ei([n,l])),i.createHref({pathname:h,search:u,hash:o})}function Ic(){return b.useContext(qd)!=null}function Fs(){return qt(Ic(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(qd).location}var OE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LE(t){b.useContext(cr).static||b.useLayoutEffect(t)}function dr(){let{isDataRoute:t}=b.useContext(ur);return t?Yk():Lk()}function Lk(){qt(Ic(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Rc),{basename:e,navigator:n}=b.useContext(cr),{matches:i}=b.useContext(ur),{pathname:o}=Fs(),l=JSON.stringify(Mv(i)),u=b.useRef(!1);return LE(()=>{u.current=!0}),b.useCallback((m,p={})=>{if(zs(u.current,OE),!u.current)return;if(typeof m=="number"){n.go(m);return}let y=Pv(m,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ei([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,o,t])}b.createContext(null);function kc(){let{matches:t}=b.useContext(ur),e=t[t.length-1];return e?e.params:{}}function Hd(t,{relative:e}={}){let{matches:n}=b.useContext(ur),{pathname:i}=Fs(),o=JSON.stringify(Mv(n));return b.useMemo(()=>Pv(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function Vk(t,e){return VE(t,e)}function VE(t,e,n,i){var M;qt(Ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=b.useContext(cr),{matches:l}=b.useContext(ur),u=l[l.length-1],h=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",y=u&&u.route;{let L=y&&y.path||"";UE(m,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let v=Fs(),w;if(e){let L=typeof e=="string"?Cc(e):e;qt(p==="/"||((M=L.pathname)==null?void 0:M.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${L.pathname}" was given in the \`location\` prop.`),w=L}else w=v;let A=w.pathname||"/",T=A;if(p!=="/"){let L=p.replace(/^\//,"").split("/");T="/"+A.replace(/^\//,"").split("/").slice(L.length).join("/")}let j=IE(t,{pathname:T});zs(y||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),zs(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=qk(j&&j.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:Ei([p,o.encodeLocation?o.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:Ei([p,o.encodeLocation?o.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,n,i);return e&&I?b.createElement(qd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},I):I}function Uk(){let t=Wk(),e=kk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:l},"ErrorBoundary")," or"," ",b.createElement("code",{style:l},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:o},n):null,u)}var Bk=b.createElement(Uk,null),zk=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?b.createElement(ur.Provider,{value:this.props.routeContext},b.createElement(Ov.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Fk({routeContext:t,match:e,children:n}){let i=b.useContext(Rc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(ur.Provider,{value:t},n)}function qk(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n==null?void 0:n.errors;if(l!=null){let m=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);qt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,h=-1;if(n)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:y,errors:v}=n,w=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,p,y)=>{let v,w=!1,A=null,T=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||Bk,u&&(h<0&&y===0?(UE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,T=null):h===y&&(w=!0,T=p.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,y+1)),I=()=>{let M;return v?M=A:w?M=T:p.route.Component?M=b.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=m,b.createElement(Fk,{match:p,routeContext:{outlet:m,matches:j,isDataRoute:n!=null},children:M})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?b.createElement(zk,{location:n.location,revalidation:n.revalidation,component:A,error:v,children:I(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):I()},null)}function Lv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hk(t){let e=b.useContext(Rc);return qt(e,Lv(t)),e}function $k(t){let e=b.useContext(rp);return qt(e,Lv(t)),e}function Gk(t){let e=b.useContext(ur);return qt(e,Lv(t)),e}function Vv(t){let e=Gk(t),n=e.matches[e.matches.length-1];return qt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Kk(){return Vv("useRouteId")}function Wk(){var i;let t=b.useContext(Ov),e=$k("useRouteError"),n=Vv("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function Yk(){let{router:t}=Hk("useNavigate"),e=Vv("useNavigate"),n=b.useRef(!1);return LE(()=>{n.current=!0}),b.useCallback(async(o,l={})=>{zs(n.current,OE),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var Zj={};function UE(t,e,n){!e&&!Zj[t]&&(Zj[t]=!0,zs(!1,n))}b.memo(Xk);function Xk({routes:t,future:e,state:n}){return VE(t,void 0,n,e)}function rc({to:t,replace:e,state:n,relative:i}){qt(Ic(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=b.useContext(cr);zs(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=b.useContext(ur),{pathname:u}=Fs(),h=dr(),m=Pv(t,Mv(l),u,i==="path"),p=JSON.stringify(m);return b.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:i})},[h,p,i,e,n]),null}function Ct(t){qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qk({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:l=!1}){qt(!Ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof n=="string"&&(n=Cc(n));let{pathname:m="/",search:p="",hash:y="",state:v=null,key:w="default"}=n,A=b.useMemo(()=>{let T=Ri(m,u);return T==null?null:{location:{pathname:T,search:p,hash:y,state:v,key:w},navigationType:i}},[u,m,p,y,v,w,i]);return zs(A!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:b.createElement(cr.Provider,{value:h},b.createElement(qd.Provider,{children:e,value:A}))}function Jj({children:t,location:e}){return Vk(Ly(t),e)}function Ly(t,e=[]){let n=[];return b.Children.forEach(t,(i,o)=>{if(!b.isValidElement(i))return;let l=[...e,o];if(i.type===b.Fragment){n.push.apply(n,Ly(i.props.children,l));return}qt(i.type===Ct,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ly(i.props.children,l)),n.push(u)}),n}var sm="get",rm="application/x-www-form-urlencoded";function ip(t){return t!=null&&typeof t.tagName=="string"}function Zk(t){return ip(t)&&t.tagName.toLowerCase()==="button"}function Jk(t){return ip(t)&&t.tagName.toLowerCase()==="form"}function eD(t){return ip(t)&&t.tagName.toLowerCase()==="input"}function tD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nD(t,e){return t.button===0&&(!e||e==="_self")&&!tD(t)}function Vy(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(o=>[n,o]):[[n,i]])},[]))}function sD(t,e){let n=Vy(t);return e&&e.forEach((i,o)=>{n.has(o)||e.getAll(o).forEach(l=>{n.append(o,l)})}),n}var Vf=null;function rD(){if(Vf===null)try{new FormData(document.createElement("form"),0),Vf=!1}catch{Vf=!0}return Vf}var iD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function oy(t){return t!=null&&!iD.has(t)?(zs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rm}"`),null):t}function aD(t,e){let n,i,o,l,u;if(Jk(t)){let h=t.getAttribute("action");i=h?Ri(h,e):null,n=t.getAttribute("method")||sm,o=oy(t.getAttribute("enctype"))||rm,l=new FormData(t)}else if(Zk(t)||eD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||h.getAttribute("action");if(i=m?Ri(m,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||sm,o=oy(t.getAttribute("formenctype"))||oy(h.getAttribute("enctype"))||rm,l=new FormData(h,t),!rD()){let{name:p,type:y,value:v}=t;if(y==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,v)}}else{if(ip(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sm,i=null,o=rm,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:l,body:u}}function Uv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function oD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function cD(t,e,n){let i=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await oD(l,n);return u.links?u.links():[]}return[]}));return fD(i.flat(1).filter(lD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function eN(t,e,n,i,o,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,h=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>u(m,p)||h(m,p)):l==="data"?e.filter((m,p)=>{var v;let y=i.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function uD(t,e,{includeHydrateFallback:n}={}){return dD(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function dD(t){return[...new Set(t)]}function hD(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function fD(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let l=JSON.stringify(hD(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mD=new Set([100,101,204,205]);function pD(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ri(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function BE(){let t=b.useContext(Rc);return Uv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function gD(){let t=b.useContext(rp);return Uv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Bv=b.createContext(void 0);Bv.displayName="FrameworkContext";function zE(){let t=b.useContext(Bv);return Uv(t,"You must render this element inside a <HydratedRouter> element"),t}function xD(t,e){let n=b.useContext(Bv),[i,o]=b.useState(!1),[l,u]=b.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,w=b.useRef(null);b.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=M=>{M.forEach(L=>{u(L.isIntersecting)})},I=new IntersectionObserver(j,{threshold:.5});return w.current&&I.observe(w.current),()=>{I.disconnect()}}},[t]),b.useEffect(()=>{if(i){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[i]);let A=()=>{o(!0)},T=()=>{o(!1),u(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:ed(h,A),onBlur:ed(m,T),onMouseEnter:ed(p,A),onMouseLeave:ed(y,T),onTouchStart:ed(v,A)}]:[!1,w,{}]}function ed(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yD({page:t,...e}){let{router:n}=BE(),i=b.useMemo(()=>IE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?b.createElement(bD,{page:t,matches:i,...e}):null}function vD(t){let{manifest:e,routeModules:n}=zE(),[i,o]=b.useState([]);return b.useEffect(()=>{let l=!1;return cD(t,e,n).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,n]),i}function bD({page:t,matches:e,...n}){let i=Fs(),{manifest:o,routeModules:l}=zE(),{basename:u}=BE(),{loaderData:h,matches:m}=gD(),p=b.useMemo(()=>eN(t,e,m,o,i,"data"),[t,e,m,o,i]),y=b.useMemo(()=>eN(t,e,m,o,i,"assets"),[t,e,m,o,i]),v=b.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let T=new Set,j=!1;if(e.forEach(M=>{var V;let L=o.routes[M.route.id];!L||!L.hasLoader||(!p.some(F=>F.route.id===M.route.id)&&M.route.id in h&&((V=l[M.route.id])!=null&&V.shouldRevalidate)||L.hasClientLoader?j=!0:T.add(M.route.id))}),T.size===0)return[];let I=pD(t,u);return j&&T.size>0&&I.searchParams.set("_routes",e.filter(M=>T.has(M.route.id)).map(M=>M.route.id).join(",")),[I.pathname+I.search]},[u,h,i,o,p,e,t,l]),w=b.useMemo(()=>uD(y,o),[y,o]),A=vD(y);return b.createElement(b.Fragment,null,v.map(T=>b.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),w.map(T=>b.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),A.map(({key:T,link:j})=>b.createElement("link",{key:T,...j})))}function wD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var FE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FE&&(window.__reactRouterVersion="7.6.2")}catch{}function _D({basename:t,children:e,window:n}){let i=b.useRef();i.current==null&&(i.current=ck({window:n,v5Compat:!0}));let o=i.current,[l,u]=b.useState({action:o.action,location:o.location}),h=b.useCallback(m=>{b.startTransition(()=>u(m))},[u]);return b.useLayoutEffect(()=>o.listen(h),[o,h]),b.createElement(Qk,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tr=b.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:l,replace:u,state:h,target:m,to:p,preventScrollReset:y,viewTransition:v,...w},A){let{basename:T}=b.useContext(cr),j=typeof p=="string"&&qE.test(p),I,M=!1;if(typeof p=="string"&&j&&(I=p,FE))try{let P=new URL(window.location.href),U=p.startsWith("//")?new URL(P.protocol+p):new URL(p),B=Ri(U.pathname,T);U.origin===P.origin&&B!=null?p=B+U.search+U.hash:M=!0}catch{zs(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=Ok(p,{relative:o}),[V,F,H]=xD(i,w),$=SD(p,{replace:u,state:h,target:m,preventScrollReset:y,relative:o,viewTransition:v});function N(P){e&&e(P),P.defaultPrevented||$(P)}let E=b.createElement("a",{...w,...H,href:I||L,onClick:M||l?e:N,ref:wD(A,F),target:m,"data-discover":!j&&n==="render"?"true":void 0});return V&&!j?b.createElement(b.Fragment,null,E,b.createElement(yD,{page:L})):E});tr.displayName="Link";var jD=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:h,children:m,...p},y){let v=Hd(u,{relative:p.relative}),w=Fs(),A=b.useContext(rp),{navigator:T,basename:j}=b.useContext(cr),I=A!=null&&kD(v)&&h===!0,M=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,L=w.pathname,V=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(L=L.toLowerCase(),V=V?V.toLowerCase():null,M=M.toLowerCase()),V&&j&&(V=Ri(V,j)||V);const F=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let H=L===M||!o&&L.startsWith(M)&&L.charAt(F)==="/",$=V!=null&&(V===M||!o&&V.startsWith(M)&&V.charAt(M.length)==="/"),N={isActive:H,isPending:$,isTransitioning:I},E=H?e:void 0,P;typeof i=="function"?P=i(N):P=[i,H?"active":null,$?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(N):l;return b.createElement(tr,{...p,"aria-current":E,className:P,ref:y,style:U,to:u,viewTransition:h},typeof m=="function"?m(N):m)});jD.displayName="NavLink";var ND=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:l,method:u=sm,action:h,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:v,...w},A)=>{let T=RD(),j=ID(h,{relative:p}),I=u.toLowerCase()==="get"?"get":"post",M=typeof h=="string"&&qE.test(h),L=V=>{if(m&&m(V),V.defaultPrevented)return;V.preventDefault();let F=V.nativeEvent.submitter,H=(F==null?void 0:F.getAttribute("formmethod"))||u;T(F||V.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:o,state:l,relative:p,preventScrollReset:y,viewTransition:v})};return b.createElement("form",{ref:A,method:I,action:j,onSubmit:i?m:L,...w,"data-discover":!M&&t==="render"?"true":void 0})});ND.displayName="Form";function ED(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HE(t){let e=b.useContext(Rc);return qt(e,ED(t)),e}function SD(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:u}={}){let h=dr(),m=Fs(),p=Hd(t,{relative:l});return b.useCallback(y=>{if(nD(y,e)){y.preventDefault();let v=n!==void 0?n:wd(m)===wd(p);h(t,{replace:v,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[m,h,p,n,i,e,t,o,l,u])}function TD(t){zs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=b.useRef(Vy(t)),n=b.useRef(!1),i=Fs(),o=b.useMemo(()=>sD(i.search,n.current?null:e.current),[i.search]),l=dr(),u=b.useCallback((h,m)=>{const p=Vy(typeof h=="function"?h(o):h);n.current=!0,l("?"+p,m)},[l,o]);return[o,u]}var AD=0,CD=()=>`__${String(++AD)}__`;function RD(){let{router:t}=HE("useSubmit"),{basename:e}=b.useContext(cr),n=Kk();return b.useCallback(async(i,o={})=>{let{action:l,method:u,encType:h,formData:m,body:p}=aD(i,e);if(o.navigate===!1){let y=o.fetcherKey||CD();await t.fetch(y,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function ID(t,{relative:e}={}){let{basename:n}=b.useContext(cr),i=b.useContext(ur);qt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Hd(t||".",{relative:e})},u=Fs();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ei([n,l.pathname])),wd(l)}function kD(t,e={}){let n=b.useContext(PE);qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=HE("useViewTransitionState"),o=Hd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Ri(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Ri(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ym(o.pathname,u)!=null||ym(o.pathname,l)!=null}[...mD];var $d=RE();const DD=AE($d);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=()=>{};var tN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},PD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],h=t[n++],m=((o&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},GE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,h=u?t[o+1]:0,m=o+2<t.length,p=m?t[o+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let w=(h&15)<<2|p>>6,A=p&63;m||(A=64,u||(w=64)),i.push(n[y],n[v],n[w],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($E(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const v=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||h==null||p==null||v==null)throw new OD;const w=l<<2|h>>4;if(i.push(w),p!==64){const A=h<<4&240|p>>2;if(i.push(A),v!==64){const T=p<<6&192|v;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LD=function(t){const e=$E(t);return GE.encodeByteArray(e,!0)},vm=function(t){return LD(t).replace(/\./g,"")},KE=function(t){try{return GE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=()=>VD().__FIREBASE_DEFAULTS__,BD=()=>{if(typeof process>"u"||typeof tN>"u")return;const t=tN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KE(t[1]);return e&&JSON.parse(e)},ap=()=>{try{return MD()||UD()||BD()||zD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WE=t=>{var e,n;return(n=(e=ap())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},YE=t=>{const e=WE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},XE=()=>{var t;return(t=ap())===null||t===void 0?void 0:t.config},QE=t=>{var e;return(e=ap())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t){return t.endsWith(".cloudworkstations.dev")}async function zv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vm(JSON.stringify(n)),vm(JSON.stringify(u)),""].join(".")}const hd={};function qD(){const t={prod:[],emulator:[]};for(const e of Object.keys(hd))hd[e]?t.emulator.push(e):t.prod.push(e);return t}function HD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let nN=!1;function Fv(t,e){if(typeof window>"u"||typeof document>"u"||!Ga(window.location.host)||hd[t]===e||hd[t]||nN)return;hd[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=qD().prod.length>0;function u(){const w=document.getElementById(i);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{nN=!0,u()},w}function y(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=HD(i),A=n("text"),T=document.getElementById(A)||document.createElement("span"),j=n("learnmore"),I=document.getElementById(j)||document.createElement("a"),M=n("preprendIcon"),L=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const V=w.element;h(V),y(I,j);const F=p();m(L,M),V.append(L,T,I,F),document.body.appendChild(V)}l?(T.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $D(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function GD(){var t;const e=(t=ap())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XD(){const t=Gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QD(){return!GD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZD(){try{return typeof indexedDB=="object"}catch{return!1}}function JD(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="FirebaseError";class Hr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=eM,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gd.prototype.create)}}class Gd{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?tM(l,i):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Hr(o,h,i)}}function tM(t,e){return t.replace(nM,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const nM=/\{\$([^}]+)}/g;function sM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fo(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],u=e[o];if(sN(l)&&sN(u)){if(!Fo(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function sN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function sd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function rd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function rM(t,e){const n=new iM(t,e);return n.subscribe.bind(n)}class iM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");aM(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=ly),o.error===void 0&&(o.error=ly),o.complete===void 0&&(o.complete=ly);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ly(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){return t&&t._delegate?t._delegate:t}class Da{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new FD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cM(e))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vo){return this.instances.has(e)}getOptions(e=Vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&u.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&e(u,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:lM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Vo){return this.component?this.component.multipleInstances?e:Vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lM(t){return t===Vo?void 0:t}function cM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const dM={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},hM=ct.INFO,fM={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},mM=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=fM[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qv{constructor(e){this.name=e,this._logLevel=hM,this._logHandler=mM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const pM=(t,e)=>e.some(n=>t instanceof n);let rN,iN;function gM(){return rN||(rN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xM(){return iN||(iN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JE=new WeakMap,Uy=new WeakMap,e2=new WeakMap,cy=new WeakMap,Hv=new WeakMap;function yM(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Ta(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&JE.set(n,t)}).catch(()=>{}),Hv.set(e,t),e}function vM(t){if(Uy.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Uy.set(t,e)}let By={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||e2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ta(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bM(t){By=t(By)}function wM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(uy(this),e,...n);return e2.set(i,e.sort?e.sort():[e]),Ta(i)}:xM().includes(t)?function(...e){return t.apply(uy(this),e),Ta(JE.get(this))}:function(...e){return Ta(t.apply(uy(this),e))}}function _M(t){return typeof t=="function"?wM(t):(t instanceof IDBTransaction&&vM(t),pM(t,gM())?new Proxy(t,By):t)}function Ta(t){if(t instanceof IDBRequest)return yM(t);if(cy.has(t))return cy.get(t);const e=_M(t);return e!==t&&(cy.set(t,e),Hv.set(e,t)),e}const uy=t=>Hv.get(t);function jM(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),h=Ta(u);return i&&u.addEventListener("upgradeneeded",m=>{i(Ta(u.result),m.oldVersion,m.newVersion,Ta(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const NM=["get","getKey","getAll","getAllKeys","count"],EM=["put","add","delete","clear"],dy=new Map;function aN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dy.get(e))return dy.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=EM.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||NM.includes(n)))return;const l=async function(u,...h){const m=this.transaction(u,o?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),o&&m.done]))[0]};return dy.set(e,l),l}bM(t=>({...t,get:(e,n,i)=>aN(e,n)||t.get(e,n,i),has:(e,n)=>!!aN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TM(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function TM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zy="@firebase/app",oN="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new qv("@firebase/app"),AM="@firebase/app-compat",CM="@firebase/analytics-compat",RM="@firebase/analytics",IM="@firebase/app-check-compat",kM="@firebase/app-check",DM="@firebase/auth",MM="@firebase/auth-compat",PM="@firebase/database",OM="@firebase/data-connect",LM="@firebase/database-compat",VM="@firebase/functions",UM="@firebase/functions-compat",BM="@firebase/installations",zM="@firebase/installations-compat",FM="@firebase/messaging",qM="@firebase/messaging-compat",HM="@firebase/performance",$M="@firebase/performance-compat",GM="@firebase/remote-config",KM="@firebase/remote-config-compat",WM="@firebase/storage",YM="@firebase/storage-compat",XM="@firebase/firestore",QM="@firebase/ai",ZM="@firebase/firestore-compat",JM="firebase",eP="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="[DEFAULT]",tP={[zy]:"fire-core",[AM]:"fire-core-compat",[RM]:"fire-analytics",[CM]:"fire-analytics-compat",[kM]:"fire-app-check",[IM]:"fire-app-check-compat",[DM]:"fire-auth",[MM]:"fire-auth-compat",[PM]:"fire-rtdb",[OM]:"fire-data-connect",[LM]:"fire-rtdb-compat",[VM]:"fire-fn",[UM]:"fire-fn-compat",[BM]:"fire-iid",[zM]:"fire-iid-compat",[FM]:"fire-fcm",[qM]:"fire-fcm-compat",[HM]:"fire-perf",[$M]:"fire-perf-compat",[GM]:"fire-rc",[KM]:"fire-rc-compat",[WM]:"fire-gcs",[YM]:"fire-gcs-compat",[XM]:"fire-fst",[ZM]:"fire-fst-compat",[QM]:"fire-vertex","fire-js":"fire-js",[JM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=new Map,nP=new Map,qy=new Map;function lN(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qo(t){const e=t.name;if(qy.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;qy.set(e,t);for(const n of bm.values())lN(n,t);for(const n of nP.values())lN(n,t);return!0}function op(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function vs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Aa=new Gd("app","Firebase",sP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=eP;function t2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Fy,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw Aa.create("bad-app-name",{appName:String(o)});if(n||(n=XE()),!n)throw Aa.create("no-options");const l=bm.get(o);if(l){if(Fo(n,l.options)&&Fo(i,l.config))return l;throw Aa.create("duplicate-app",{appName:o})}const u=new uM(o);for(const m of qy.values())u.addComponent(m);const h=new rP(n,i,u);return bm.set(o,h),h}function $v(t=Fy){const e=bm.get(t);if(!e&&t===Fy&&XE())return t2();if(!e)throw Aa.create("no-app",{appName:t});return e}function Pr(t,e,n){var i;let o=(i=tP[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${o}" with version "${e}":`];l&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(h.join(" "));return}qo(new Da(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="firebase-heartbeat-database",aP=1,_d="firebase-heartbeat-store";let hy=null;function n2(){return hy||(hy=jM(iP,aP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_d)}catch(n){console.warn(n)}}}}).catch(t=>{throw Aa.create("idb-open",{originalErrorMessage:t.message})})),hy}async function oP(t){try{const n=(await n2()).transaction(_d),i=await n.objectStore(_d).get(s2(t));return await n.done,i}catch(e){if(e instanceof Hr)Ii.warn(e.message);else{const n=Aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(n.message)}}}async function cN(t,e){try{const i=(await n2()).transaction(_d,"readwrite");await i.objectStore(_d).put(e,s2(t)),await i.done}catch(n){if(n instanceof Hr)Ii.warn(n.message);else{const i=Aa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(i.message)}}}function s2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=1024,cP=30;class uP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hP(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=uN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>cP){const u=fP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ii.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uN(),{heartbeatsToSend:i,unsentEntries:o}=dP(this._heartbeatsCache.heartbeats),l=vm(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ii.warn(n),""}}}function uN(){return new Date().toISOString().substring(0,10)}function dP(t,e=lP){const n=[];let i=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),dN(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),dN(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class hP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZD()?JD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return cN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return cN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function dN(t){return vm(JSON.stringify({version:2,heartbeats:t})).length}function fP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){qo(new Da("platform-logger",e=>new SM(e),"PRIVATE")),qo(new Da("heartbeat",e=>new uP(e),"PRIVATE")),Pr(zy,oN,t),Pr(zy,oN,"esm2017"),Pr("fire-js","")}mP("");var pP="firebase",gP="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(pP,gP,"app");var Ir=function(){return Ir=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Ir.apply(this,arguments)};function Wd(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function xP(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,l;i<o;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))}function r2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yP=r2,i2=new Gd("auth","Firebase",r2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=new qv("@firebase/auth");function vP(t,...e){wm.logLevel<=ct.WARN&&wm.warn(`Auth (${sl}): ${t}`,...e)}function im(t,...e){wm.logLevel<=ct.ERROR&&wm.error(`Auth (${sl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw Gv(t,...e)}function Or(t,...e){return Gv(t,...e)}function a2(t,e,n){const i=Object.assign(Object.assign({},yP()),{[e]:n});return new Gd("auth","Firebase",i).create(e,{appName:t.name})}function Si(t){return a2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return i2.create(t,...e)}function qe(t,e,...n){if(!t)throw Gv(e,...n)}function ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw im(e),new Error(e)}function ki(t,e){t||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bP(){return hN()==="http:"||hN()==="https:"}function hN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bP()||WD()||"connection"in navigator)?navigator.onLine:!0}function _P(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ki(n>e,"Short delay should be less than long delay!"),this.isMobile=$D()||YD()}get(){return wP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t,e){ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EP=new Yd(3e4,6e4);function Bi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $r(t,e,n,i,o={}){return l2(t,o,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const h=Kd(Object.assign({key:t.config.apiKey},u)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:m},l);return KD()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Ga(t.emulatorConfig.host)&&(p.credentials="include"),o2.fetch()(await c2(t,t.config.apiHost,n,h),p)})}async function l2(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},jP),e);try{const o=new TP(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Uf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uf(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Uf(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw Uf(t,"user-disabled",u);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw a2(t,y,p);nr(t,y)}}catch(o){if(o instanceof Hr)throw o;nr(t,"network-request-failed",{message:String(o)})}}async function Xd(t,e,n,i,o={}){const l=await $r(t,e,n,i,o);return"mfaPendingCredential"in l&&nr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function c2(t,e,n,i){const o=`${e}${n}?${i}`,l=t,u=l.config.emulator?Kv(t.config,o):`${t.config.apiScheme}://${o}`;return NP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function SP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Or(this.auth,"network-request-failed")),EP.get())})}}function Uf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Or(t,e,i);return o.customData._tokenResponse=n,o}function fN(t){return t!==void 0&&t.enterprise!==void 0}class AP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return SP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CP(t,e){return $r(t,"GET","/v2/recaptchaConfig",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(t,e){return $r(t,"POST","/v1/accounts:delete",e)}async function _m(t,e){return $r(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IP(t,e=!1){const n=Ht(t),i=await n.getIdToken(e),o=Wv(i);qe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:fd(fy(o.auth_time)),issuedAtTime:fd(fy(o.iat)),expirationTime:fd(fy(o.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function fy(t){return Number(t)*1e3}function Wv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return im("JWT malformed, contained fewer than 3 sections"),null;try{const o=KE(n);return o?JSON.parse(o):(im("Failed to decode base64 JWT payload"),null)}catch(o){return im("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function mN(t){const e=Wv(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Hr&&kP(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function kP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fd(this.lastLoginAt),this.creationTime=fd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(t){var e;const n=t.auth,i=await t.getIdToken(),o=await gc(t,_m(n,{idToken:i}));qe(o==null?void 0:o.users.length,n,"internal-error");const l=o.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?u2(l.providerUserInfo):[],h=PP(t.providerData,u),m=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(h!=null&&h.length),y=m?p:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new $y(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,v)}async function MP(t){const e=Ht(t);await jm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PP(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function u2(t){return t.map(e=>{var{providerId:n}=e,i=Wd(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(t,e){const n=await l2(t,{},async()=>{const i=Kd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,u=await c2(t,o,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:i};return t.emulatorConfig&&Ga(t.emulatorConfig.host)&&(m.credentials="include"),o2.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LP(t,e){return $r(t,"POST","/v2/accounts:revokeToken",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=mN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:l}=await OP(e,n);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:l}=n,u=new uc;return i&&(qe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(qe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(qe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uc,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zs{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,l=Wd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new $y(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await gc(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IP(this,e)}reload(){return MP(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await jm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vs(this.auth.app))return Promise.reject(Si(this.auth));const e=await this.getIdToken();return await gc(this,RP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,l,u,h,m,p,y;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,A=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,T=(u=n.photoURL)!==null&&u!==void 0?u:void 0,j=(h=n.tenantId)!==null&&h!==void 0?h:void 0,I=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,M=(p=n.createdAt)!==null&&p!==void 0?p:void 0,L=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:V,emailVerified:F,isAnonymous:H,providerData:$,stsTokenManager:N}=n;qe(V&&N,e,"internal-error");const E=uc.fromJSON(this.name,N);qe(typeof V=="string",e,"internal-error"),xa(v,e.name),xa(w,e.name),qe(typeof F=="boolean",e,"internal-error"),qe(typeof H=="boolean",e,"internal-error"),xa(A,e.name),xa(T,e.name),xa(j,e.name),xa(I,e.name),xa(M,e.name),xa(L,e.name);const P=new Zs({uid:V,auth:e,email:w,emailVerified:F,displayName:v,isAnonymous:H,photoURL:T,phoneNumber:A,tenantId:j,stsTokenManager:E,createdAt:M,lastLoginAt:L});return $&&Array.isArray($)&&(P.providerData=$.map(U=>Object.assign({},U))),I&&(P._redirectEventId=I),P}static async _fromIdTokenResponse(e,n,i=!1){const o=new uc;o.updateFromServerResponse(n);const l=new Zs({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await jm(l),l}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];qe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?u2(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),h=new uc;h.updateFromIdToken(i);const m=new Zs({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new $y(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new Map;function Ni(t){ki(t instanceof Function,"Expected a class definition");let e=pN.get(t);return e?(ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}d2.type="NONE";const gN=d2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t,e,n){return`firebase:${t}:${e}:${n}`}class dc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=am(this.userKey,o.apiKey,l),this.fullPersistenceKey=am("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _m(this.auth,{idToken:e}).catch(()=>{});return n?Zs._fromGetAccountInfoResponse(this.auth,n,e):null}return Zs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new dc(Ni(gN),e,i);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=o[0]||Ni(gN);const u=am(i,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const w=await _m(e,{idToken:y}).catch(()=>{});if(!w)break;v=await Zs._fromGetAccountInfoResponse(e,w,y)}else v=Zs._fromJSON(e,y);p!==l&&(h=v),l=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new dc(l,e,i):(l=m[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new dc(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(x2(e))return"Blackberry";if(y2(e))return"Webos";if(f2(e))return"Safari";if((e.includes("chrome/")||m2(e))&&!e.includes("edge/"))return"Chrome";if(g2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function h2(t=Gn()){return/firefox\//i.test(t)}function f2(t=Gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m2(t=Gn()){return/crios\//i.test(t)}function p2(t=Gn()){return/iemobile/i.test(t)}function g2(t=Gn()){return/android/i.test(t)}function x2(t=Gn()){return/blackberry/i.test(t)}function y2(t=Gn()){return/webos/i.test(t)}function Yv(t=Gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VP(t=Gn()){var e;return Yv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UP(){return XD()&&document.documentMode===10}function v2(t=Gn()){return Yv(t)||g2(t)||y2(t)||x2(t)||/windows phone/i.test(t)||p2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t,e=[]){let n;switch(t){case"Browser":n=xN(Gn());break;case"Worker":n=`${xN(Gn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,h)=>{try{const m=e(l);u(m)}catch(m){h(m)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(t,e={}){return $r(t,"GET","/v2/passwordPolicy",Bi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=6;class qP{constructor(e){var n,i,o,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:FP,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,l,u,h;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(u=m.containsNumericCharacter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(h=m.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),m}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yN(this),this.idTokenSubscription=new yN(this),this.beforeStateQueue=new BP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ni(n)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await dc.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _m(this,{idToken:e}),i=await Zs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(vs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&(m!=null&&m.user)&&(o=m.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_P()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vs(this.app))return Promise.reject(Si(this));const n=e?Ht(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vs(this.app)?Promise.reject(Si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vs(this.app)?Promise.reject(Si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zP(this),n=new qP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gd("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await LP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ni(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await dc.create(this,[Ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,o);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(vs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ka(t){return Ht(t)}class yN{constructor(e){this.auth=e,this.observer=null,this.addObserver=rM(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $P(t){lp=t}function w2(t){return lp.loadJS(t)}function GP(){return lp.recaptchaEnterpriseScript}function KP(){return lp.gapiScript}function WP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class YP{constructor(){this.enterprise=new XP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class XP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const QP="recaptcha-enterprise",_2="NO_RECAPTCHA";class ZP{constructor(e){this.type=QP,this.auth=Ka(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{CP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new AP(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{h(m)})})}function o(l,u,h){const m=window.grecaptcha;fN(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(_2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YP().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(h=>{if(!n&&fN(window.grecaptcha))o(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=GP();m.length!==0&&(m+=h),w2(m).then(()=>{o(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function vN(t,e,n,i=!1,o=!1){const l=new ZP(t);let u;if(o)u=_2;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Nm(t,e,n,i,o){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await vN(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await vN(t,e,n,n==="getOobCode");return i(t,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t,e){const n=op(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(Fo(l,e??{}))return o;nr(o,"already-initialized")}return n.initialize({options:e})}function eO(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function tO(t,e,n){const i=Ka(t);qe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=j2(e),{host:u,port:h}=nO(e),m=h===null?"":`:${h}`,p={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){qe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),qe(Fo(p,i.config.emulator)&&Fo(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Ga(u)?(zv(`${l}//${u}${m}`),Fv("Auth",!0)):sO()}function j2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nO(t){const e=j2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:bN(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:bN(u)}}}function bN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function rO(t,e){return $r(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(t,e){return Xd(t,"POST","/v1/accounts:signInWithPassword",Bi(t,e))}async function aO(t,e){return $r(t,"POST","/v1/accounts:sendOobCode",Bi(t,e))}async function oO(t,e){return aO(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(t,e){return Xd(t,"POST","/v1/accounts:signInWithEmailLink",Bi(t,e))}async function cO(t,e){return Xd(t,"POST","/v1/accounts:signInWithEmailLink",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Xv{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new jd(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new jd(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,n,"signInWithPassword",iO);case"emailLink":return lO(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,i,"signUpPassword",rO);case"emailLink":return cO(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t,e){return Xd(t,"POST","/v1/accounts:signInWithIdp",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="http://localhost";class Ho extends Xv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,l=Wd(n,["providerId","signInMethod"]);if(!i||!o)return null;const u=new Ho(i,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return hc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,hc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hc(e,n)}buildRequest(){const e={requestUri:uO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hO(t){const e=sd(rd(t)).link,n=e?sd(rd(e)).deep_link_id:null,i=sd(rd(t)).deep_link_id;return(i?sd(rd(i)).link:null)||i||n||e||t}class Qv{constructor(e){var n,i,o,l,u,h;const m=sd(rd(e)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,y=(i=m.oobCode)!==null&&i!==void 0?i:null,v=dO((o=m.mode)!==null&&o!==void 0?o:null);qe(p&&y&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=m.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=m.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=hO(e);try{return new Qv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this.providerId=Dc.PROVIDER_ID}static credential(e,n){return jd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Qv.parseLink(n);return qe(i,"argument-error"),jd._fromEmailAndCode(e,i.code,i.tenantId)}}Dc.PROVIDER_ID="password";Dc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends N2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Qd{constructor(){super("facebook.com")}static credential(e){return Ho._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Qd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ho._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return _a.credential(n,i)}catch{return null}}}_a.GOOGLE_SIGN_IN_METHOD="google.com";_a.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Qd{constructor(){super("github.com")}static credential(e){return Ho._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ja.credential(e.oauthAccessToken)}catch{return null}}}ja.GITHUB_SIGN_IN_METHOD="github.com";ja.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Qd{constructor(){super("twitter.com")}static credential(e,n){return Ho._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Na.credential(n,i)}catch{return null}}}Na.TWITTER_SIGN_IN_METHOD="twitter.com";Na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(t,e){return Xd(t,"POST","/v1/accounts:signUp",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const l=await Zs._fromIdTokenResponse(e,i,o),u=wN(i);return new $o({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=wN(i);return new $o({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function wN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em extends Hr{constructor(e,n,i,o){var l;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Em.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Em(e,n,i,o)}}function E2(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Em._fromErrorAndOperation(t,l,e,i):l})}async function mO(t,e,n=!1){const i=await gc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $o._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(t,e,n=!1){const{auth:i}=t;if(vs(i.app))return Promise.reject(Si(i));const o="reauthenticate";try{const l=await gc(t,E2(i,o,e,t),n);qe(l.idToken,i,"internal-error");const u=Wv(l.idToken);qe(u,i,"internal-error");const{sub:h}=u;return qe(t.uid===h,i,"user-mismatch"),$o._forOperation(t,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&nr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(t,e,n=!1){if(vs(t.app))return Promise.reject(Si(t));const i="signIn",o=await E2(t,i,e),l=await $o._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(l.user),l}async function gO(t,e){return S2(Ka(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(t){const e=Ka(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xO(t,e,n){const i=Ka(t);await Nm(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",oO)}async function Zv(t,e,n){if(vs(t.app))return Promise.reject(Si(t));const i=Ka(t),u=await Nm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fO).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&T2(t),m}),h=await $o._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function Jv(t,e,n){return vs(t.app)?Promise.reject(Si(t)):gO(Ht(t),Dc.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&T2(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(t,e){return $r(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Ht(t),l={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await gc(i,yO(i.auth,l));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const h=i.providerData.find(({providerId:m})=>m==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function bO(t,e,n,i){return Ht(t).onIdTokenChanged(e,n,i)}function wO(t,e,n){return Ht(t).beforeAuthStateChanged(e,n)}function A2(t,e,n,i){return Ht(t).onAuthStateChanged(e,n,i)}function e0(t){return Ht(t).signOut()}const Sm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sm,"1"),this.storage.removeItem(Sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=1e3,jO=10;class R2 extends C2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,m)=>{this.notifyListeners(u,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);UP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jO):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},_O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R2.type="LOCAL";const NO=R2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2 extends C2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}I2.type="SESSION";const k2=I2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new cp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:l}=n.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(u).map(async p=>p(n.origin,l)),m=await EO(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((h,m)=>{const p=t0("",20);o.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(v){const w=v;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return window}function TO(t){Lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function AO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function RO(){return D2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="firebaseLocalStorageDb",IO=1,Tm="firebaseLocalStorage",P2="fbase_key";class Zd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function up(t,e){return t.transaction([Tm],e?"readwrite":"readonly").objectStore(Tm)}function kO(){const t=indexedDB.deleteDatabase(M2);return new Zd(t).toPromise()}function Gy(){const t=indexedDB.open(M2,IO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Tm,{keyPath:P2})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Tm)?e(i):(i.close(),await kO(),e(await Gy()))})})}async function _N(t,e,n){const i=up(t,!0).put({[P2]:e,value:n});return new Zd(i).toPromise()}async function DO(t,e){const n=up(t,!1).get(e),i=await new Zd(n).toPromise();return i===void 0?null:i.value}function jN(t,e){const n=up(t,!0).delete(e);return new Zd(n).toPromise()}const MO=800,PO=3;class O2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>PO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cp._getInstance(RO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await AO(),!this.activeServiceWorker)return;this.sender=new SO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gy();return await _N(e,Sm,"1"),await jN(e,Sm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>_N(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>DO(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=up(o,!1).getAll();return new Zd(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O2.type="LOCAL";const OO=O2;new Yd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t,e){return e?Ni(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0 extends Xv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VO(t){return S2(t.auth,new n0(t),t.bypassAuthState)}function UO(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),pO(n,new n0(t),t.bypassAuthState)}async function BO(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),mO(n,new n0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VO;case"linkViaPopup":case"linkViaRedirect":return BO;case"reauthViaPopup":case"reauthViaRedirect":return UO;default:nr(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new Yd(2e3,1e4);class cc extends L2{constructor(e,n,i,o,l){super(e,n,o,l),this.provider=i,this.authWindow=null,this.pollId=null,cc.currentPopupAction&&cc.currentPopupAction.cancel(),cc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=t0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zO.get())};e()}}cc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="pendingRedirect",om=new Map;class qO extends L2{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=om.get(this.auth._key());if(!e){try{const i=await HO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}om.set(this.auth._key(),e)}return this.bypassAuthState||om.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HO(t,e){const n=KO(e),i=GO(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function $O(t,e){om.set(t._key(),e)}function GO(t){return Ni(t._redirectPersistence)}function KO(t){return am(FO,t.config.apiKey,t.name)}async function WO(t,e,n=!1){if(vs(t.app))return Promise.reject(Si(t));const i=Ka(t),o=LO(i,e),u=await new qO(i,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=10*60*1e3;class XO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!V2(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Or(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YO&&this.cachedEventUids.clear(),this.cachedEventUids.has(NN(e))}saveEventToCache(e){this.cachedEventUids.add(NN(e)),this.lastProcessedEventTime=Date.now()}}function NN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function V2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e={}){return $r(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e3=/^https?/;async function t3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ZO(t);for(const n of e)try{if(n3(n))return}catch{}nr(t,"unauthorized-domain")}function n3(t){const e=Hy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!e3.test(n))return!1;if(JO.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=new Yd(3e4,6e4);function EN(){const t=Lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function r3(t){return new Promise((e,n)=>{var i,o,l;function u(){EN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EN(),n(Or(t,"network-request-failed"))},timeout:s3.get()})}if(!((o=(i=Lr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Lr().gapi)===null||l===void 0)&&l.load)u();else{const h=WP("iframefcb");return Lr()[h]=()=>{gapi.load?u():n(Or(t,"network-request-failed"))},w2(`${KP()}?onload=${h}`).catch(m=>n(m))}}).catch(e=>{throw lm=null,e})}let lm=null;function i3(t){return lm=lm||r3(t),lm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=new Yd(5e3,15e3),o3="__/auth/iframe",l3="emulator/auth/iframe",c3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d3(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kv(e,l3):`https://${t.config.authDomain}/${o3}`,i={apiKey:e.apiKey,appName:t.name,v:sl},o=u3.get(t.config.apiHost);o&&(i.eid=o);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Kd(i).slice(1)}`}async function h3(t){const e=await i3(t),n=Lr().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:d3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c3,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const u=Or(t,"network-request-failed"),h=Lr().setTimeout(()=>{l(u)},a3.get());function m(){Lr().clearTimeout(h),o(i)}i.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m3=500,p3=600,g3="_blank",x3="http://localhost";class SN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y3(t,e,n,i=m3,o=p3){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const m=Object.assign(Object.assign({},f3),{width:i.toString(),height:o.toString(),top:l,left:u}),p=Gn().toLowerCase();n&&(h=m2(p)?g3:n),h2(p)&&(e=e||x3,m.scrollbars="yes");const y=Object.entries(m).reduce((w,[A,T])=>`${w}${A}=${T},`,"");if(VP(p)&&h!=="_self")return v3(e||"",h),new SN(null);const v=window.open(e||"",h,y);qe(v,t,"popup-blocked");try{v.focus()}catch{}return new SN(v)}function v3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="__/auth/handler",w3="emulator/auth/handler",_3=encodeURIComponent("fac");async function TN(t,e,n,i,o,l){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:sl,eventId:o};if(e instanceof N2){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",sM(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof Qd){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const m=await t._getAppCheckToken(),p=m?`#${_3}=${encodeURIComponent(m)}`:"";return`${j3(t)}?${Kd(h).slice(1)}${p}`}function j3({config:t}){return t.emulator?Kv(t,w3):`https://${t.authDomain}/${b3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="webStorageSupport";class N3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k2,this._completeRedirectFn=WO,this._overrideRedirectResult=$O}async _openPopup(e,n,i,o){var l;ki((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await TN(e,n,i,Hy(),o);return y3(e,u,t0())}async _openRedirect(e,n,i,o){await this._originValidation(e);const l=await TN(e,n,i,Hy(),o);return TO(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(ki(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await h3(e),i=new XO(e);return n.register("authEvent",o=>(qe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(my,{type:my},o=>{var l;const u=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[my];u!==void 0&&n(!!u),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return v2()||f2()||Yv()}}const E3=N3;var AN="@firebase/auth",CN="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A3(t){qo(new Da("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;qe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b2(t)},p=new HP(i,o,l,m);return eO(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),qo(new Da("auth-internal",e=>{const n=Ka(e.getProvider("auth").getImmediate());return(i=>new S3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(AN,CN,T3(t)),Pr(AN,CN,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=5*60,R3=QE("authIdTokenMaxAge")||C3;let RN=null;const I3=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>R3)return;const o=n==null?void 0:n.token;RN!==o&&(RN=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function k3(t=$v()){const e=op(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JP(t,{popupRedirectResolver:E3,persistence:[OO,NO,k2]}),i=QE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=I3(l.toString());wO(n,u,()=>u(n.currentUser)),bO(n,h=>u(h))}}const o=WE("auth");return o&&tO(n,`http://${o}`),n}function D3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$P({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const l=Or("internal-error");l.customData=o,n(l)},i.type="text/javascript",i.charset="UTF-8",D3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A3("Browser");var IN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ca,U2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,E){function P(){}P.prototype=E.prototype,N.D=E.prototype,N.prototype=new P,N.prototype.constructor=N,N.C=function(U,B,R){for(var k=Array(arguments.length-2),se=2;se<arguments.length;se++)k[se-2]=arguments[se];return E.prototype[B].apply(U,k)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,E,P){P||(P=0);var U=Array(16);if(typeof E=="string")for(var B=0;16>B;++B)U[B]=E.charCodeAt(P++)|E.charCodeAt(P++)<<8|E.charCodeAt(P++)<<16|E.charCodeAt(P++)<<24;else for(B=0;16>B;++B)U[B]=E[P++]|E[P++]<<8|E[P++]<<16|E[P++]<<24;E=N.g[0],P=N.g[1],B=N.g[2];var R=N.g[3],k=E+(R^P&(B^R))+U[0]+3614090360&4294967295;E=P+(k<<7&4294967295|k>>>25),k=R+(B^E&(P^B))+U[1]+3905402710&4294967295,R=E+(k<<12&4294967295|k>>>20),k=B+(P^R&(E^P))+U[2]+606105819&4294967295,B=R+(k<<17&4294967295|k>>>15),k=P+(E^B&(R^E))+U[3]+3250441966&4294967295,P=B+(k<<22&4294967295|k>>>10),k=E+(R^P&(B^R))+U[4]+4118548399&4294967295,E=P+(k<<7&4294967295|k>>>25),k=R+(B^E&(P^B))+U[5]+1200080426&4294967295,R=E+(k<<12&4294967295|k>>>20),k=B+(P^R&(E^P))+U[6]+2821735955&4294967295,B=R+(k<<17&4294967295|k>>>15),k=P+(E^B&(R^E))+U[7]+4249261313&4294967295,P=B+(k<<22&4294967295|k>>>10),k=E+(R^P&(B^R))+U[8]+1770035416&4294967295,E=P+(k<<7&4294967295|k>>>25),k=R+(B^E&(P^B))+U[9]+2336552879&4294967295,R=E+(k<<12&4294967295|k>>>20),k=B+(P^R&(E^P))+U[10]+4294925233&4294967295,B=R+(k<<17&4294967295|k>>>15),k=P+(E^B&(R^E))+U[11]+2304563134&4294967295,P=B+(k<<22&4294967295|k>>>10),k=E+(R^P&(B^R))+U[12]+1804603682&4294967295,E=P+(k<<7&4294967295|k>>>25),k=R+(B^E&(P^B))+U[13]+4254626195&4294967295,R=E+(k<<12&4294967295|k>>>20),k=B+(P^R&(E^P))+U[14]+2792965006&4294967295,B=R+(k<<17&4294967295|k>>>15),k=P+(E^B&(R^E))+U[15]+1236535329&4294967295,P=B+(k<<22&4294967295|k>>>10),k=E+(B^R&(P^B))+U[1]+4129170786&4294967295,E=P+(k<<5&4294967295|k>>>27),k=R+(P^B&(E^P))+U[6]+3225465664&4294967295,R=E+(k<<9&4294967295|k>>>23),k=B+(E^P&(R^E))+U[11]+643717713&4294967295,B=R+(k<<14&4294967295|k>>>18),k=P+(R^E&(B^R))+U[0]+3921069994&4294967295,P=B+(k<<20&4294967295|k>>>12),k=E+(B^R&(P^B))+U[5]+3593408605&4294967295,E=P+(k<<5&4294967295|k>>>27),k=R+(P^B&(E^P))+U[10]+38016083&4294967295,R=E+(k<<9&4294967295|k>>>23),k=B+(E^P&(R^E))+U[15]+3634488961&4294967295,B=R+(k<<14&4294967295|k>>>18),k=P+(R^E&(B^R))+U[4]+3889429448&4294967295,P=B+(k<<20&4294967295|k>>>12),k=E+(B^R&(P^B))+U[9]+568446438&4294967295,E=P+(k<<5&4294967295|k>>>27),k=R+(P^B&(E^P))+U[14]+3275163606&4294967295,R=E+(k<<9&4294967295|k>>>23),k=B+(E^P&(R^E))+U[3]+4107603335&4294967295,B=R+(k<<14&4294967295|k>>>18),k=P+(R^E&(B^R))+U[8]+1163531501&4294967295,P=B+(k<<20&4294967295|k>>>12),k=E+(B^R&(P^B))+U[13]+2850285829&4294967295,E=P+(k<<5&4294967295|k>>>27),k=R+(P^B&(E^P))+U[2]+4243563512&4294967295,R=E+(k<<9&4294967295|k>>>23),k=B+(E^P&(R^E))+U[7]+1735328473&4294967295,B=R+(k<<14&4294967295|k>>>18),k=P+(R^E&(B^R))+U[12]+2368359562&4294967295,P=B+(k<<20&4294967295|k>>>12),k=E+(P^B^R)+U[5]+4294588738&4294967295,E=P+(k<<4&4294967295|k>>>28),k=R+(E^P^B)+U[8]+2272392833&4294967295,R=E+(k<<11&4294967295|k>>>21),k=B+(R^E^P)+U[11]+1839030562&4294967295,B=R+(k<<16&4294967295|k>>>16),k=P+(B^R^E)+U[14]+4259657740&4294967295,P=B+(k<<23&4294967295|k>>>9),k=E+(P^B^R)+U[1]+2763975236&4294967295,E=P+(k<<4&4294967295|k>>>28),k=R+(E^P^B)+U[4]+1272893353&4294967295,R=E+(k<<11&4294967295|k>>>21),k=B+(R^E^P)+U[7]+4139469664&4294967295,B=R+(k<<16&4294967295|k>>>16),k=P+(B^R^E)+U[10]+3200236656&4294967295,P=B+(k<<23&4294967295|k>>>9),k=E+(P^B^R)+U[13]+681279174&4294967295,E=P+(k<<4&4294967295|k>>>28),k=R+(E^P^B)+U[0]+3936430074&4294967295,R=E+(k<<11&4294967295|k>>>21),k=B+(R^E^P)+U[3]+3572445317&4294967295,B=R+(k<<16&4294967295|k>>>16),k=P+(B^R^E)+U[6]+76029189&4294967295,P=B+(k<<23&4294967295|k>>>9),k=E+(P^B^R)+U[9]+3654602809&4294967295,E=P+(k<<4&4294967295|k>>>28),k=R+(E^P^B)+U[12]+3873151461&4294967295,R=E+(k<<11&4294967295|k>>>21),k=B+(R^E^P)+U[15]+530742520&4294967295,B=R+(k<<16&4294967295|k>>>16),k=P+(B^R^E)+U[2]+3299628645&4294967295,P=B+(k<<23&4294967295|k>>>9),k=E+(B^(P|~R))+U[0]+4096336452&4294967295,E=P+(k<<6&4294967295|k>>>26),k=R+(P^(E|~B))+U[7]+1126891415&4294967295,R=E+(k<<10&4294967295|k>>>22),k=B+(E^(R|~P))+U[14]+2878612391&4294967295,B=R+(k<<15&4294967295|k>>>17),k=P+(R^(B|~E))+U[5]+4237533241&4294967295,P=B+(k<<21&4294967295|k>>>11),k=E+(B^(P|~R))+U[12]+1700485571&4294967295,E=P+(k<<6&4294967295|k>>>26),k=R+(P^(E|~B))+U[3]+2399980690&4294967295,R=E+(k<<10&4294967295|k>>>22),k=B+(E^(R|~P))+U[10]+4293915773&4294967295,B=R+(k<<15&4294967295|k>>>17),k=P+(R^(B|~E))+U[1]+2240044497&4294967295,P=B+(k<<21&4294967295|k>>>11),k=E+(B^(P|~R))+U[8]+1873313359&4294967295,E=P+(k<<6&4294967295|k>>>26),k=R+(P^(E|~B))+U[15]+4264355552&4294967295,R=E+(k<<10&4294967295|k>>>22),k=B+(E^(R|~P))+U[6]+2734768916&4294967295,B=R+(k<<15&4294967295|k>>>17),k=P+(R^(B|~E))+U[13]+1309151649&4294967295,P=B+(k<<21&4294967295|k>>>11),k=E+(B^(P|~R))+U[4]+4149444226&4294967295,E=P+(k<<6&4294967295|k>>>26),k=R+(P^(E|~B))+U[11]+3174756917&4294967295,R=E+(k<<10&4294967295|k>>>22),k=B+(E^(R|~P))+U[2]+718787259&4294967295,B=R+(k<<15&4294967295|k>>>17),k=P+(R^(B|~E))+U[9]+3951481745&4294967295,N.g[0]=N.g[0]+E&4294967295,N.g[1]=N.g[1]+(B+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+B&4294967295,N.g[3]=N.g[3]+R&4294967295}i.prototype.u=function(N,E){E===void 0&&(E=N.length);for(var P=E-this.blockSize,U=this.B,B=this.h,R=0;R<E;){if(B==0)for(;R<=P;)o(this,N,R),R+=this.blockSize;if(typeof N=="string"){for(;R<E;)if(U[B++]=N.charCodeAt(R++),B==this.blockSize){o(this,U),B=0;break}}else for(;R<E;)if(U[B++]=N[R++],B==this.blockSize){o(this,U),B=0;break}}this.h=B,this.o+=E},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var E=1;E<N.length-8;++E)N[E]=0;var P=8*this.o;for(E=N.length-8;E<N.length;++E)N[E]=P&255,P/=256;for(this.u(N),N=Array(16),E=P=0;4>E;++E)for(var U=0;32>U;U+=8)N[P++]=this.g[E]>>>U&255;return N};function l(N,E){var P=h;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=E(N)}function u(N,E){this.h=E;for(var P=[],U=!0,B=N.length-1;0<=B;B--){var R=N[B]|0;U&&R==E||(P[B]=R,U=!1)}this.g=P}var h={};function m(N){return-128<=N&&128>N?l(N,function(E){return new u([E|0],0>E?-1:0)}):new u([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return v;if(0>N)return I(p(-N));for(var E=[],P=1,U=0;N>=P;U++)E[U]=N/P|0,P*=4294967296;return new u(E,0)}function y(N,E){if(N.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(N.charAt(0)=="-")return I(y(N.substring(1),E));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(E,8)),U=v,B=0;B<N.length;B+=8){var R=Math.min(8,N.length-B),k=parseInt(N.substring(B,B+R),E);8>R?(R=p(Math.pow(E,R)),U=U.j(R).add(p(k))):(U=U.j(P),U=U.add(p(k)))}return U}var v=m(0),w=m(1),A=m(16777216);t=u.prototype,t.m=function(){if(j(this))return-I(this).m();for(var N=0,E=1,P=0;P<this.g.length;P++){var U=this.i(P);N+=(0<=U?U:4294967296+U)*E,E*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(T(this))return"0";if(j(this))return"-"+I(this).toString(N);for(var E=p(Math.pow(N,6)),P=this,U="";;){var B=F(P,E).g;P=M(P,B.j(E));var R=((0<P.g.length?P.g[0]:P.h)>>>0).toString(N);if(P=B,T(P))return R+U;for(;6>R.length;)R="0"+R;U=R+U}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function T(N){if(N.h!=0)return!1;for(var E=0;E<N.g.length;E++)if(N.g[E]!=0)return!1;return!0}function j(N){return N.h==-1}t.l=function(N){return N=M(this,N),j(N)?-1:T(N)?0:1};function I(N){for(var E=N.g.length,P=[],U=0;U<E;U++)P[U]=~N.g[U];return new u(P,~N.h).add(w)}t.abs=function(){return j(this)?I(this):this},t.add=function(N){for(var E=Math.max(this.g.length,N.g.length),P=[],U=0,B=0;B<=E;B++){var R=U+(this.i(B)&65535)+(N.i(B)&65535),k=(R>>>16)+(this.i(B)>>>16)+(N.i(B)>>>16);U=k>>>16,R&=65535,k&=65535,P[B]=k<<16|R}return new u(P,P[P.length-1]&-2147483648?-1:0)};function M(N,E){return N.add(I(E))}t.j=function(N){if(T(this)||T(N))return v;if(j(this))return j(N)?I(this).j(I(N)):I(I(this).j(N));if(j(N))return I(this.j(I(N)));if(0>this.l(A)&&0>N.l(A))return p(this.m()*N.m());for(var E=this.g.length+N.g.length,P=[],U=0;U<2*E;U++)P[U]=0;for(U=0;U<this.g.length;U++)for(var B=0;B<N.g.length;B++){var R=this.i(U)>>>16,k=this.i(U)&65535,se=N.i(B)>>>16,pe=N.i(B)&65535;P[2*U+2*B]+=k*pe,L(P,2*U+2*B),P[2*U+2*B+1]+=R*pe,L(P,2*U+2*B+1),P[2*U+2*B+1]+=k*se,L(P,2*U+2*B+1),P[2*U+2*B+2]+=R*se,L(P,2*U+2*B+2)}for(U=0;U<E;U++)P[U]=P[2*U+1]<<16|P[2*U];for(U=E;U<2*E;U++)P[U]=0;return new u(P,0)};function L(N,E){for(;(N[E]&65535)!=N[E];)N[E+1]+=N[E]>>>16,N[E]&=65535,E++}function V(N,E){this.g=N,this.h=E}function F(N,E){if(T(E))throw Error("division by zero");if(T(N))return new V(v,v);if(j(N))return E=F(I(N),E),new V(I(E.g),I(E.h));if(j(E))return E=F(N,I(E)),new V(I(E.g),E.h);if(30<N.g.length){if(j(N)||j(E))throw Error("slowDivide_ only works with positive integers.");for(var P=w,U=E;0>=U.l(N);)P=H(P),U=H(U);var B=$(P,1),R=$(U,1);for(U=$(U,2),P=$(P,2);!T(U);){var k=R.add(U);0>=k.l(N)&&(B=B.add(P),R=k),U=$(U,1),P=$(P,1)}return E=M(N,B.j(E)),new V(B,E)}for(B=v;0<=N.l(E);){for(P=Math.max(1,Math.floor(N.m()/E.m())),U=Math.ceil(Math.log(P)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),R=p(P),k=R.j(E);j(k)||0<k.l(N);)P-=U,R=p(P),k=R.j(E);T(R)&&(R=w),B=B.add(R),N=M(N,k)}return new V(B,N)}t.A=function(N){return F(this,N).h},t.and=function(N){for(var E=Math.max(this.g.length,N.g.length),P=[],U=0;U<E;U++)P[U]=this.i(U)&N.i(U);return new u(P,this.h&N.h)},t.or=function(N){for(var E=Math.max(this.g.length,N.g.length),P=[],U=0;U<E;U++)P[U]=this.i(U)|N.i(U);return new u(P,this.h|N.h)},t.xor=function(N){for(var E=Math.max(this.g.length,N.g.length),P=[],U=0;U<E;U++)P[U]=this.i(U)^N.i(U);return new u(P,this.h^N.h)};function H(N){for(var E=N.g.length+1,P=[],U=0;U<E;U++)P[U]=N.i(U)<<1|N.i(U-1)>>>31;return new u(P,N.h)}function $(N,E){var P=E>>5;E%=32;for(var U=N.g.length-P,B=[],R=0;R<U;R++)B[R]=0<E?N.i(R+P)>>>E|N.i(R+P+1)<<32-E:N.i(R+P);return new u(B,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,U2=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Ca=u}).apply(typeof IN<"u"?IN:typeof self<"u"?self:typeof window<"u"?window:{});var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B2,id,z2,cm,Ky,F2,q2,H2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,S){return f==Array.prototype||f==Object.prototype||(f[_]=S.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bf=="object"&&Bf];for(var _=0;_<f.length;++_){var S=f[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=n(this);function o(f,_){if(_)e:{var S=i;f=f.split(".");for(var O=0;O<f.length-1;O++){var Y=f[O];if(!(Y in S))break e;S=S[Y]}f=f[f.length-1],O=S[f],_=_(O),_!=O&&_!=null&&e(S,f,{configurable:!0,writable:!0,value:_})}}function l(f,_){f instanceof String&&(f+="");var S=0,O=!1,Y={next:function(){if(!O&&S<f.length){var ne=S++;return{value:_(ne,f[ne]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}o("Array.prototype.values",function(f){return f||function(){return l(this,function(_,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function p(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function y(f,_,S){return f.call.apply(f.bind,arguments)}function v(f,_,S){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,O),f.apply(_,Y)}}return function(){return f.apply(_,arguments)}}function w(f,_,S){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,w.apply(null,arguments)}function A(f,_){var S=Array.prototype.slice.call(arguments,1);return function(){var O=S.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function T(f,_){function S(){}S.prototype=_.prototype,f.aa=_.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(O,Y,ne){for(var xe=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)xe[dt-2]=arguments[dt];return _.prototype[Y].apply(O,xe)}}function j(f){const _=f.length;if(0<_){const S=Array(_);for(let O=0;O<_;O++)S[O]=f[O];return S}return[]}function I(f,_){for(let S=1;S<arguments.length;S++){const O=arguments[S];if(m(O)){const Y=f.length||0,ne=O.length||0;f.length=Y+ne;for(let xe=0;xe<ne;xe++)f[Y+xe]=O[xe]}else f.push(O)}}class M{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function L(f){return/^[\s\xa0]*$/.test(f)}function V(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function F(f){return F[" "](f),f}F[" "]=function(){};var H=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function $(f,_,S){for(const O in f)_.call(S,f[O],O,f)}function N(f,_){for(const S in f)_.call(void 0,f[S],S,f)}function E(f){const _={};for(const S in f)_[S]=f[S];return _}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(f,_){let S,O;for(let Y=1;Y<arguments.length;Y++){O=arguments[Y];for(S in O)f[S]=O[S];for(let ne=0;ne<P.length;ne++)S=P[ne],Object.prototype.hasOwnProperty.call(O,S)&&(f[S]=O[S])}}function B(f){var _=1;f=f.split(":");const S=[];for(;0<_&&f.length;)S.push(f.shift()),_--;return f.length&&S.push(f.join(":")),S}function R(f){h.setTimeout(()=>{throw f},0)}function k(){var f=he;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class se{constructor(){this.h=this.g=null}add(_,S){const O=pe.get();O.set(_,S),this.h?this.h.next=O:this.g=O,this.h=O}}var pe=new M(()=>new K,f=>f.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,Q=!1,he=new se,z=()=>{const f=h.Promise.resolve(void 0);ae=()=>{f.then(re)}};var re=()=>{for(var f;f=k();){try{f.h.call(f.g)}catch(S){R(S)}var _=pe;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}Q=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};h.addEventListener("test",S,_),h.removeEventListener("test",S,_)}catch{}return f}();function Ve(f,_){if(le.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(H){e:{try{F(_.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(_=null)}}else S=="mouseover"?_=f.fromElement:S=="mouseout"&&(_=f.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Te[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ve.aa.h.call(this)}}T(Ve,le);var Te={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function Qe(f,_,S,O,Y){this.listener=f,this.proxy=null,this.src=_,this.type=S,this.capture=!!O,this.ha=Y,this.key=++Pe,this.da=this.fa=!1}function Ye(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ze(f){this.src=f,this.g={},this.h=0}Ze.prototype.add=function(f,_,S,O,Y){var ne=f.toString();f=this.g[ne],f||(f=this.g[ne]=[],this.h++);var xe=$t(f,_,O,Y);return-1<xe?(_=f[xe],S||(_.fa=!1)):(_=new Qe(_,this.src,ne,!!O,Y),_.fa=S,f.push(_)),_};function et(f,_){var S=_.type;if(S in f.g){var O=f.g[S],Y=Array.prototype.indexOf.call(O,_,void 0),ne;(ne=0<=Y)&&Array.prototype.splice.call(O,Y,1),ne&&(Ye(_),f.g[S].length==0&&(delete f.g[S],f.h--))}}function $t(f,_,S,O){for(var Y=0;Y<f.length;++Y){var ne=f[Y];if(!ne.da&&ne.listener==_&&ne.capture==!!S&&ne.ha==O)return Y}return-1}var Zt="closure_lm_"+(1e6*Math.random()|0),os={};function js(f,_,S,O,Y){if(Array.isArray(_)){for(var ne=0;ne<_.length;ne++)js(f,_[ne],S,O,Y);return null}return S=ll(S),f&&f[ge]?f.K(_,S,p(O)?!!O.capture:!1,Y):an(f,_,S,!1,O,Y)}function an(f,_,S,O,Y,ne){if(!_)throw Error("Invalid event type");var xe=p(Y)?!!Y.capture:!!Y,dt=qs(f);if(dt||(f[Zt]=dt=new Ze(f)),S=dt.add(_,S,O,xe,ne),S.proxy)return S;if(O=no(),S.proxy=O,O.src=f,O.listener=S,f.addEventListener)ye||(Y=xe),Y===void 0&&(Y=!1),f.addEventListener(_.toString(),O,Y);else if(f.attachEvent)f.attachEvent(Wr(_.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return S}function no(){function f(S){return _.call(f.src,f.listener,S)}const _=$c;return f}function Ns(f,_,S,O,Y){if(Array.isArray(_))for(var ne=0;ne<_.length;ne++)Ns(f,_[ne],S,O,Y);else O=p(O)?!!O.capture:!!O,S=ll(S),f&&f[ge]?(f=f.i,_=String(_).toString(),_ in f.g&&(ne=f.g[_],S=$t(ne,S,O,Y),-1<S&&(Ye(ne[S]),Array.prototype.splice.call(ne,S,1),ne.length==0&&(delete f.g[_],f.h--)))):f&&(f=qs(f))&&(_=f.g[_.toString()],f=-1,_&&(f=$t(_,S,O,Y)),(S=-1<f?_[f]:null)&&Fi(S))}function Fi(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[ge])et(_.i,f);else{var S=f.type,O=f.proxy;_.removeEventListener?_.removeEventListener(S,O,f.capture):_.detachEvent?_.detachEvent(Wr(S),O):_.addListener&&_.removeListener&&_.removeListener(O),(S=qs(_))?(et(S,f),S.h==0&&(S.src=null,_[Zt]=null)):Ye(f)}}}function Wr(f){return f in os?os[f]:os[f]="on"+f}function $c(f,_){if(f.da)f=!0;else{_=new Ve(_,this);var S=f.listener,O=f.ha||f.src;f.fa&&Fi(f),f=S.call(O,_)}return f}function qs(f){return f=f[Zt],f instanceof Ze?f:null}var so="__closure_events_fn_"+(1e9*Math.random()>>>0);function ll(f){return typeof f=="function"?f:(f[so]||(f[so]=function(_){return f.handleEvent(_)}),f[so])}function Pt(){me.call(this),this.i=new Ze(this),this.M=this,this.F=null}T(Pt,me),Pt.prototype[ge]=!0,Pt.prototype.removeEventListener=function(f,_,S,O){Ns(this,f,_,S,O)};function J(f,_){var S,O=f.F;if(O)for(S=[];O;O=O.F)S.push(O);if(f=f.M,O=_.type||_,typeof _=="string")_=new le(_,f);else if(_ instanceof le)_.target=_.target||f;else{var Y=_;_=new le(O,f),U(_,Y)}if(Y=!0,S)for(var ne=S.length-1;0<=ne;ne--){var xe=_.g=S[ne];Y=_e(xe,O,!0,_)&&Y}if(xe=_.g=f,Y=_e(xe,O,!0,_)&&Y,Y=_e(xe,O,!1,_)&&Y,S)for(ne=0;ne<S.length;ne++)xe=_.g=S[ne],Y=_e(xe,O,!1,_)&&Y}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var S=f.g[_],O=0;O<S.length;O++)Ye(S[O]);delete f.g[_],f.h--}}this.F=null},Pt.prototype.K=function(f,_,S,O){return this.i.add(String(f),_,!1,S,O)},Pt.prototype.L=function(f,_,S,O){return this.i.add(String(f),_,!0,S,O)};function _e(f,_,S,O){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var Y=!0,ne=0;ne<_.length;++ne){var xe=_[ne];if(xe&&!xe.da&&xe.capture==S){var dt=xe.listener,gn=xe.ha||xe.src;xe.fa&&et(f.i,xe),Y=dt.call(gn,O)!==!1&&Y}}return Y&&!O.defaultPrevented}function ze(f,_,S){if(typeof f=="function")S&&(f=w(f,S));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(f,_||0)}function tt(f){f.g=ze(()=>{f.g=null,f.i&&(f.i=!1,tt(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Ot extends me{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:tt(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(f){me.call(this),this.h=f,this.g={}}T(Yr,me);var ro=[];function io(f){$(f.g,function(_,S){this.g.hasOwnProperty(S)&&Fi(_)},f),f.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),io(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hs=h.JSON.stringify,cl=h.JSON.parse,ao=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Gc(){}Gc.prototype.h=null;function Kc(f){return f.h||(f.h=f.i())}function Wc(){}var Xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qr(){le.call(this,"d")}T(Qr,le);function Yc(){le.call(this,"c")}T(Yc,le);var mr={},Xc=null;function qi(){return Xc=Xc||new Pt}mr.La="serverreachability";function ul(f){le.call(this,mr.La,f)}T(ul,le);function Hi(f){const _=qi();J(_,new ul(_))}mr.STAT_EVENT="statevent";function gh(f,_){le.call(this,mr.STAT_EVENT,f),this.stat=_}T(gh,le);function Bt(f){const _=qi();J(_,new gh(_,f))}mr.Ma="timingevent";function pn(f,_){le.call(this,mr.Ma,f),this.size=_}T(pn,le);function on(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},_)}function Es(){this.g=!0}Es.prototype.xa=function(){this.g=!1};function Qc(f,_,S,O,Y,ne){f.info(function(){if(f.g)if(ne)for(var xe="",dt=ne.split("&"),gn=0;gn<dt.length;gn++){var ht=dt[gn].split("=");if(1<ht.length){var En=ht[0];ht=ht[1];var xn=En.split("_");xe=2<=xn.length&&xn[1]=="type"?xe+(En+"="+ht+"&"):xe+(En+"=redacted&")}}else xe=null;else xe=ne;return"XMLHTTP REQ ("+O+") [attempt "+Y+"]: "+_+`
`+S+`
`+xe})}function sg(f,_,S,O,Y,ne,xe){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Y+"]: "+_+`
`+S+`
`+ne+" "+xe})}function $i(f,_,S,O){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+oo(f,S)+(O?" "+O:"")})}function xh(f,_){f.info(function(){return"TIMEOUT: "+_})}Es.prototype.info=function(){};function oo(f,_){if(!f.g)return _;if(!_)return null;try{var S=JSON.parse(_);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var O=S[f];if(!(2>O.length)){var Y=O[1];if(Array.isArray(Y)&&!(1>Y.length)){var ne=Y[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var xe=1;xe<Y.length;xe++)Y[xe]=""}}}}return Hs(S)}catch{return _}}var Gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pr;function gr(){}T(gr,Gc),gr.prototype.g=function(){return new XMLHttpRequest},gr.prototype.i=function(){return{}},pr=new gr;function Kn(f,_,S,O){this.j=f,this.i=_,this.l=S,this.R=O||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jt}function Jt(){this.i=null,this.g="",this.h=!1}var Zc={},dl={};function $s(f,_,S){f.L=1,f.v=fo(ls(_)),f.m=S,f.P=!0,Jr(f,null)}function Jr(f,_){f.F=Date.now(),lo(f),f.A=ls(f.v);var S=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),ru(S.i,"t",O),f.C=0,S=f.j.J,f.h=new Jt,f.g=Dh(f.j,S?_:null,!f.m),0<f.O&&(f.M=new Ot(w(f.Y,f,f.g),f.O)),_=f.U,S=f.g,O=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ro[0]=Y.toString()),Y=ro);for(var ne=0;ne<Y.length;ne++){var xe=js(S,Y[ne],O||_.handleEvent,!1,_.h||_);if(!xe)break;_.g[xe.key]=xe}_=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),Hi(),Qc(f.i,f.u,f.A,f.l,f.R,f.m)}Kn.prototype.ca=function(f){f=f.target;const _=this.M;_&&Cs(f)==3?_.j():this.Y(f)},Kn.prototype.Y=function(f){try{if(f==this.g)e:{const xn=Cs(this.g);var _=this.g.Ba();const oi=this.g.Z();if(!(3>xn)&&(xn!=3||this.g&&(this.h.h||this.g.oa()||Eh(this.g)))){this.J||xn!=4||_==7||(_==8||0>=oi?Hi(3):Hi(2)),Ki(this);var S=this.g.Z();this.X=S;t:if(yh(this)){var O=Eh(this.g);f="";var Y=O.length,ne=Cs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),xr(this);var xe="";break t}this.h.i=new h.TextDecoder}for(_=0;_<Y;_++)this.h.h=!0,f+=this.h.i.decode(O[_],{stream:!(ne&&_==Y-1)});O.length=0,this.h.g+=f,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=S==200,sg(this.i,this.u,this.A,this.l,this.R,xn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,gn=this.g;if((dt=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(dt)){var ht=dt;break t}}ht=null}if(S=ht)$i(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,co(this,S);else{this.o=!1,this.s=3,Bt(12),kn(this),xr(this);break e}}if(this.P){S=!0;let Dn;for(;!this.J&&this.C<xe.length;)if(Dn=vh(this,xe),Dn==dl){xn==4&&(this.s=4,Bt(14),S=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==Zc){this.s=4,Bt(15),$i(this.i,this.l,xe,"[Invalid Chunk]"),S=!1;break}else $i(this.i,this.l,Dn,null),co(this,Dn);if(yh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xn!=4||xe.length!=0||this.h.h||(this.s=1,Bt(16),S=!1),this.o=this.o&&S,!S)$i(this.i,this.l,xe,"[Invalid Chunked Response]"),kn(this),xr(this);else if(0<xe.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),wo(En),En.M=!0,Bt(11))}}else $i(this.i,this.l,xe,null),co(this,xe);xn==4&&kn(this),this.o&&!this.J&&(xn==4?Rh(this.j,this):(this.o=!1,lo(this)))}else lg(this.g),S==400&&0<xe.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),kn(this),xr(this)}}}catch{}finally{}};function yh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function vh(f,_){var S=f.C,O=_.indexOf(`
`,S);return O==-1?dl:(S=Number(_.substring(S,O)),isNaN(S)?Zc:(O+=1,O+S>_.length?dl:(_=_.slice(O,O+S),f.C=O+S,_)))}Kn.prototype.cancel=function(){this.J=!0,kn(this)};function lo(f){f.S=Date.now()+f.I,bh(f,f.I)}function bh(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=on(w(f.ba,f),_)}function Ki(f){f.B&&(h.clearTimeout(f.B),f.B=null)}Kn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(xh(this.i,this.A),this.L!=2&&(Hi(),Bt(17)),kn(this),this.s=2,xr(this)):bh(this,this.S-f)};function xr(f){f.j.G==0||f.J||Rh(f.j,f)}function kn(f){Ki(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,io(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function co(f,_){try{var S=f.j;if(S.G!=0&&(S.g==f||Jc(S.h,f))){if(!f.K&&Jc(S.h,f)&&S.G==3){try{var O=S.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Y=O;if(Y[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)jl(S),wl(S);else break e;cu(S),Bt(18)}}else S.za=Y[1],0<S.za-S.T&&37500>Y[2]&&S.F&&S.v==0&&!S.C&&(S.C=on(w(S.Za,S),6e3));if(1>=fl(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ai(S,11)}else if((f.K||S.g==f)&&jl(S),!L(_))for(Y=S.Da.g.parse(_),_=0;_<Y.length;_++){let ht=Y[_];if(S.T=ht[0],ht=ht[1],S.G==2)if(ht[0]=="c"){S.K=ht[1],S.ia=ht[2];const En=ht[3];En!=null&&(S.la=En,S.j.info("VER="+S.la));const xn=ht[4];xn!=null&&(S.Aa=xn,S.j.info("SVER="+S.Aa));const oi=ht[5];oi!=null&&typeof oi=="number"&&0<oi&&(O=1.5*oi,S.L=O,S.j.info("backChannelRequestTimeoutMs_="+O)),O=S;const Dn=f.g;if(Dn){const Nr=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var ne=O.h;ne.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(ml(ne,ne.h),ne.h=null))}if(O.D){const du=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;du&&(O.ya=du,Et(O.I,O.D,du))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),O=S;var xe=f;if(O.qa=kh(O,O.J?O.ia:null,O.W),xe.K){Wn(O.h,xe);var dt=xe,gn=O.L;gn&&(dt.I=gn),dt.B&&(Ki(dt),lo(dt)),O.g=xe}else Ah(O);0<S.i.length&&_l(S)}else ht[0]!="stop"&&ht[0]!="close"||ai(S,7);else S.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?ai(S,7):ou(S):ht[0]!="noop"&&S.l&&S.l.ta(ht),S.v=0)}}Hi(4)}catch{}}var wh=class{constructor(f,_){this.g=f,this.map=_}};function ei(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function fl(f){return f.h?1:f.g?f.g.size:0}function Jc(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function ml(f,_){f.g?f.g.add(_):f.h=_}function Wn(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}ei.prototype.cancel=function(){if(this.i=eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function eu(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const S of f.g.values())_=_.concat(S.D);return _}return j(f.i)}function rg(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var _=[],S=f.length,O=0;O<S;O++)_.push(f[O]);return _}_=[],S=0;for(O in f)_[S++]=f[O];return _}function pl(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var _=[];f=f.length;for(var S=0;S<f;S++)_.push(S);return _}_=[],S=0;for(const O in f)_[S++]=O;return _}}}function tu(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var S=pl(f),O=rg(f),Y=O.length,ne=0;ne<Y;ne++)_.call(void 0,O[ne],S&&S[ne],f)}var uo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ig(f,_){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var O=f[S].indexOf("="),Y=null;if(0<=O){var ne=f[S].substring(0,O);Y=f[S].substring(O+1)}else ne=f[S];_(ne,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ln(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ln){this.h=f.h,ho(this,f.j),this.o=f.o,this.g=f.g,Wi(this,f.s),this.l=f.l;var _=f.i,S=new ni;S.i=_.i,_.g&&(S.g=new Map(_.g),S.h=_.h),ti(this,S),this.m=f.m}else f&&(_=String(f).match(uo))?(this.h=!1,ho(this,_[1]||"",!0),this.o=Ss(_[2]||""),this.g=Ss(_[3]||"",!0),Wi(this,_[4]),this.l=Ss(_[5]||"",!0),ti(this,_[6]||"",!0),this.m=Ss(_[7]||"")):(this.h=!1,this.i=new ni(null,this.h))}ln.prototype.toString=function(){var f=[],_=this.j;_&&f.push(mo(_,nu,!0),":");var S=this.g;return(S||_=="file")&&(f.push("//"),(_=this.o)&&f.push(mo(_,nu,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(mo(S,S.charAt(0)=="/"?ag:su,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",mo(S,gl)),f.join("")};function ls(f){return new ln(f)}function ho(f,_,S){f.j=S?Ss(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Wi(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function ti(f,_,S){_ instanceof ni?(f.i=_,jh(f.i,f.h)):(S||(_=mo(_,og)),f.i=new ni(_,f.h))}function Et(f,_,S){f.i.set(_,S)}function fo(f){return Et(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ss(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function mo(f,_,S){return typeof f=="string"?(f=encodeURI(f).replace(_,_h),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function _h(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var nu=/[#\/\?@]/g,su=/[#\?:]/g,ag=/[#\?]/g,og=/[#\?@]/g,gl=/#/g;function ni(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Ts(f){f.g||(f.g=new Map,f.h=0,f.i&&ig(f.i,function(_,S){f.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}t=ni.prototype,t.add=function(f,_){Ts(this),this.i=null,f=yr(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(_),this.h+=1,this};function si(f,_){Ts(f),_=yr(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function ri(f,_){return Ts(f),_=yr(f,_),f.g.has(_)}t.forEach=function(f,_){Ts(this),this.g.forEach(function(S,O){S.forEach(function(Y){f.call(_,Y,O,this)},this)},this)},t.na=function(){Ts(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),S=[];for(let O=0;O<_.length;O++){const Y=f[O];for(let ne=0;ne<Y.length;ne++)S.push(_[O])}return S},t.V=function(f){Ts(this);let _=[];if(typeof f=="string")ri(this,f)&&(_=_.concat(this.g.get(yr(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)_=_.concat(f[S])}return _},t.set=function(f,_){return Ts(this),this.i=null,f=yr(this,f),ri(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function ru(f,_,S){si(f,_),0<S.length&&(f.i=null,f.g.set(yr(f,_),j(S)),f.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var S=0;S<_.length;S++){var O=_[S];const ne=encodeURIComponent(String(O)),xe=this.V(O);for(O=0;O<xe.length;O++){var Y=ne;xe[O]!==""&&(Y+="="+encodeURIComponent(String(xe[O]))),f.push(Y)}}return this.i=f.join("&")};function yr(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function jh(f,_){_&&!f.j&&(Ts(f),f.i=null,f.g.forEach(function(S,O){var Y=O.toLowerCase();O!=Y&&(si(this,O),ru(this,Y,S))},f)),f.j=_}function po(f,_){const S=new Es;if(h.Image){const O=new Image;O.onload=A(As,S,"TestLoadImage: loaded",!0,_,O),O.onerror=A(As,S,"TestLoadImage: error",!1,_,O),O.onabort=A(As,S,"TestLoadImage: abort",!1,_,O),O.ontimeout=A(As,S,"TestLoadImage: timeout",!1,_,O),h.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else _(!1)}function Gs(f,_){const S=new Es,O=new AbortController,Y=setTimeout(()=>{O.abort(),As(S,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:O.signal}).then(ne=>{clearTimeout(Y),ne.ok?As(S,"TestPingServer: ok",!0,_):As(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),As(S,"TestPingServer: error",!1,_)})}function As(f,_,S,O,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),O(S)}catch{}}function go(){this.g=new ao}function vr(f,_,S){const O=S||"";try{tu(f,function(Y,ne){let xe=Y;p(Y)&&(xe=Hs(Y)),_.push(O+ne+"="+encodeURIComponent(xe))})}catch(Y){throw _.push(O+"type="+encodeURIComponent("_badmap")),Y}}function Yi(f){this.l=f.Ub||null,this.j=f.eb||!1}T(Yi,Gc),Yi.prototype.g=function(){return new ii(this.l,this.j)},Yi.prototype.i=function(f){return function(){return f}}({});function ii(f,_){Pt.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(ii,Pt),t=ii.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,wr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iu(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function iu(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?br(this):wr(this),this.readyState==3&&iu(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,br(this))},t.Qa=function(f){this.g&&(this.response=f,br(this))},t.ga=function(){this.g&&br(this)};function br(f){f.readyState=4,f.l=null,f.j=null,f.v=null,wr(f)}t.setRequestHeader=function(f,_){this.u.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=_.next();return f.join(`\r
`)};function wr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function au(f){let _="";return $(f,function(S,O){_+=O,_+=":",_+=S,_+=`\r
`}),_}function Nn(f,_,S){e:{for(O in S){var O=!1;break e}O=!0}O||(S=au(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):Et(f,_,S))}function vt(f){Pt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(vt,Pt);var xl=/^https?$/i,xo=["POST","PUT"];t=vt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,_,S,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pr.g(),this.v=this.o?Kc(this.o):Kc(pr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(ne){Nh(this,ne);return}if(f=S||"",S=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Y in O)S.set(Y,O[Y]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ne of O.keys())S.set(ne,O.get(ne));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),Y=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(xo,_,void 0))||O||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,xe]of S)this.g.setRequestHeader(ne,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yo(this),this.u=!0,this.g.send(f),this.u=!1}catch(ne){Nh(this,ne)}};function Nh(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,yl(f),_r(f)}function yl(f){f.A||(f.A=!0,J(f,"complete"),J(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,J(this,"complete"),J(this,"abort"),_r(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vl(this):this.bb())},t.bb=function(){vl(this)};function vl(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Cs(f)!=4||f.Z()!=2)){if(f.u&&Cs(f)==4)ze(f.Ea,0,f);else if(J(f,"readystatechange"),Cs(f)==4){f.h=!1;try{const xe=f.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var O;if(O=xe===0){var Y=String(f.D).match(uo)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),O=!xl.test(Y?Y.toLowerCase():"")}S=O}if(S)J(f,"complete"),J(f,"success");else{f.m=6;try{var ne=2<Cs(f)?f.g.statusText:""}catch{ne=""}f.l=ne+" ["+f.Z()+"]",yl(f)}}finally{_r(f)}}}}function _r(f,_){if(f.g){yo(f);const S=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||J(f,"ready");try{S.onreadystatechange=O}catch{}}}function yo(f){f.I&&(h.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Cs(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Cs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),cl(_)}};function Eh(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function lg(f){const _={};f=(f.g&&2<=Cs(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(L(f[O]))continue;var S=B(f[O]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=_[Y]||[];_[Y]=ne,ne.push(S)}N(_,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vo(f,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||_}function bl(f){this.Aa=0,this.i=[],this.j=new Es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vo("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vo("baseRetryDelayMs",5e3,f),this.cb=vo("retryDelaySeedMs",1e4,f),this.Wa=vo("forwardChannelMaxRetries",2,f),this.wa=vo("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ei(f&&f.concurrentRequestLimit),this.Da=new go,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bl.prototype,t.la=8,t.G=1,t.connect=function(f,_,S,O){Bt(0),this.W=f,this.H=_||{},S&&O!==void 0&&(this.H.OSID=S,this.H.OAID=O),this.F=this.X,this.I=kh(this,null,this.W),_l(this)};function ou(f){if(Sh(f),f.G==3){var _=f.U++,S=ls(f.I);if(Et(S,"SID",f.K),Et(S,"RID",_),Et(S,"TYPE","terminate"),bo(f,S),_=new Kn(f,f.j,_),_.L=2,_.v=fo(ls(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!S&&h.Image&&(new Image().src=_.v,S=!0),S||(_.g=Dh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),lo(_)}Ih(f)}function wl(f){f.g&&(wo(f),f.g.cancel(),f.g=null)}function Sh(f){wl(f),f.u&&(h.clearTimeout(f.u),f.u=null),jl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function _l(f){if(!hl(f.h)&&!f.s){f.s=!0;var _=f.Ga;ae||z(),Q||(ae(),Q=!0),he.add(_,f),f.B=0}}function cg(f,_){return fl(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=on(w(f.Ga,f,_),uu(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new Kn(this,this.j,f);let ne=this.o;if(this.S&&(ne?(ne=E(ne),U(ne,this.S)):ne=this.S),this.m!==null||this.O||(Y.H=ne,ne=null),this.P)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var O=this.i[S];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=Th(this,Y,_),S=ls(this.I),Et(S,"RID",f),Et(S,"CVER",22),this.D&&Et(S,"X-HTTP-Session-Id",this.D),bo(this,S),ne&&(this.O?_="headers="+encodeURIComponent(String(au(ne)))+"&"+_:this.m&&Nn(S,this.m,ne)),ml(this.h,Y),this.Ua&&Et(S,"TYPE","init"),this.P?(Et(S,"$req",_),Et(S,"SID","null"),Y.T=!0,$s(Y,S,null)):$s(Y,S,_),this.G=2}}else this.G==3&&(f?lu(this,f):this.i.length==0||hl(this.h)||lu(this))};function lu(f,_){var S;_?S=_.l:S=f.U++;const O=ls(f.I);Et(O,"SID",f.K),Et(O,"RID",S),Et(O,"AID",f.T),bo(f,O),f.m&&f.o&&Nn(O,f.m,f.o),S=new Kn(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),_&&(f.i=_.D.concat(f.i)),_=Th(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ml(f.h,S),$s(S,O,_)}function bo(f,_){f.H&&$(f.H,function(S,O){Et(_,O,S)}),f.l&&tu({},function(S,O){Et(_,O,S)})}function Th(f,_,S){S=Math.min(f.i.length,S);var O=f.l?w(f.l.Na,f.l,f):null;e:{var Y=f.i;let ne=-1;for(;;){const xe=["count="+S];ne==-1?0<S?(ne=Y[0].g,xe.push("ofs="+ne)):ne=0:xe.push("ofs="+ne);let dt=!0;for(let gn=0;gn<S;gn++){let ht=Y[gn].g;const En=Y[gn].map;if(ht-=ne,0>ht)ne=Math.max(0,Y[gn].g-100),dt=!1;else try{vr(En,xe,"req"+ht+"_")}catch{O&&O(En)}}if(dt){O=xe.join("&");break e}}}return f=f.i.splice(0,S),_.D=f,O}function Ah(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;ae||z(),Q||(ae(),Q=!0),he.add(_,f),f.v=0}}function cu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=on(w(f.Fa,f),uu(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Ch(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=on(w(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),wl(this),Ch(this))};function wo(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Ch(f){f.g=new Kn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=ls(f.qa);Et(_,"RID","rpc"),Et(_,"SID",f.K),Et(_,"AID",f.T),Et(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&Et(_,"TO",f.ja),Et(_,"TYPE","xmlhttp"),bo(f,_),f.m&&f.o&&Nn(_,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=fo(ls(_)),S.m=null,S.P=!0,Jr(S,f)}t.Za=function(){this.C!=null&&(this.C=null,wl(this),cu(this),Bt(19))};function jl(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Rh(f,_){var S=null;if(f.g==_){jl(f),wo(f),f.g=null;var O=2}else if(Jc(f.h,_))S=_.D,Wn(f.h,_),O=1;else return;if(f.G!=0){if(_.o)if(O==1){S=_.m?_.m.length:0,_=Date.now()-_.F;var Y=f.B;O=qi(),J(O,new pn(O,S)),_l(f)}else Ah(f);else if(Y=_.s,Y==3||Y==0&&0<_.X||!(O==1&&cg(f,_)||O==2&&cu(f)))switch(S&&0<S.length&&(_=f.h,_.i=_.i.concat(S)),Y){case 1:ai(f,5);break;case 4:ai(f,10);break;case 3:ai(f,6);break;default:ai(f,2)}}}function uu(f,_){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*_}function ai(f,_){if(f.j.info("Error code "+_),_==2){var S=w(f.fb,f),O=f.Xa;const Y=!O;O=new ln(O||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ho(O,"https"),fo(O),Y?po(O.toString(),S):Gs(O.toString(),S)}else Bt(2);f.G=0,f.l&&f.l.sa(_),Ih(f),Sh(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Ih(f){if(f.G=0,f.ka=[],f.l){const _=eu(f.h);(_.length!=0||f.i.length!=0)&&(I(f.ka,_),I(f.ka,f.i),f.h.i.length=0,j(f.i),f.i.length=0),f.l.ra()}}function kh(f,_,S){var O=S instanceof ln?ls(S):new ln(S);if(O.g!="")_&&(O.g=_+"."+O.g),Wi(O,O.s);else{var Y=h.location;O=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;var ne=new ln(null);O&&ho(ne,O),_&&(ne.g=_),Y&&Wi(ne,Y),S&&(ne.l=S),O=ne}return S=f.D,_=f.ya,S&&_&&Et(O,S,_),Et(O,"VER",f.la),bo(f,O),O}function Dh(f,_,S){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new vt(new Yi({eb:S})):new vt(f.pa),_.Ha(f.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mh(){}t=Mh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nl(){}Nl.prototype.g=function(f,_){return new Yn(f,_)};function Yn(f,_){Pt.call(this),this.g=new bl(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!L(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!L(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new jr(this)}T(Yn,Pt),Yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){ou(this.g)},Yn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Hs(f),f=S);_.i.push(new wh(_.Ya++,f)),_.G==3&&_l(_)},Yn.prototype.N=function(){this.g.l=null,delete this.j,ou(this.g),delete this.g,Yn.aa.N.call(this)};function Ph(f){Qr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const S in _){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}T(Ph,Qr);function Oh(){Yc.call(this),this.status=1}T(Oh,Yc);function jr(f){this.g=f}T(jr,Mh),jr.prototype.ua=function(){J(this.g,"a")},jr.prototype.ta=function(f){J(this.g,new Ph(f))},jr.prototype.sa=function(f){J(this.g,new Oh)},jr.prototype.ra=function(){J(this.g,"b")},Nl.prototype.createWebChannel=Nl.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,H2=function(){return new Nl},q2=function(){return qi()},F2=mr,Ky={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,cm=Gi,Zr.COMPLETE="complete",z2=Zr,Wc.EventType=Xr,Xr.OPEN="a",Xr.CLOSE="b",Xr.ERROR="c",Xr.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,id=Wc,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,B2=vt}).apply(typeof Bf<"u"?Bf:typeof self<"u"?self:typeof window<"u"?window:{});const kN="@firebase/firestore",DN="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new qv("@firebase/firestore");function ic(){return Go.logLevel}function je(t,...e){if(Go.logLevel<=ct.DEBUG){const n=e.map(s0);Go.debug(`Firestore (${Mc}): ${t}`,...n)}}function Di(t,...e){if(Go.logLevel<=ct.ERROR){const n=e.map(s0);Go.error(`Firestore (${Mc}): ${t}`,...n)}}function xc(t,...e){if(Go.logLevel<=ct.WARN){const n=e.map(s0);Go.warn(`Firestore (${Mc}): ${t}`,...n)}}function s0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,$2(t,i,n)}function $2(t,e,n){let i=`FIRESTORE (${Mc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Di(i),new Error(i)}function bt(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||$2(e,o,i)}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qn.UNAUTHENTICATED))}shutdown(){}}class P3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class O3{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0,42304);let i=this.i;const o=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ti,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},h=m=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(m=>h(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ti)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(bt(typeof i.accessToken=="string",31837,{l:i}),new G2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new qn(e)}}class L3{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V3{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new L3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bt(this.o===void 0,3512);const i=l=>{l.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,je("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new MN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new MN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=B3(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<n&&(i+=e.charAt(o[l]%62))}return i}}function it(t,e){return t<e?-1:t>e?1:0}function Wy(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),o=e.codePointAt(n);if(i!==o){if(i<128&&o<128)return it(i,o);{const l=K2(),u=z3(l.encode(PN(t,n)),l.encode(PN(e,n)));return u!==0?u:it(i,o)}}n+=i>65535?2:1}return it(t.length,e.length)}function PN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function z3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return it(t[n],e[n]);return it(t.length,e.length)}function yc(t,e,n){return t.length===e.length&&t.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=-62135596800,LN=1e6;class wn{static now(){return wn.fromMillis(Date.now())}static fromDate(e){return wn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*LN);return new wn(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ON)throw new Ne(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LN}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ON;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new wn(0,0))}static max(){return new Xe(new wn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="__name__";class Rr{constructor(e,n,i){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&He(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const l=Rr.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return it(e.length,n.length)}static compareSegments(e,n){const i=Rr.isNumericId(e),o=Rr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Rr.extractNumericId(e).compare(Rr.extractNumericId(n)):Wy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ca.fromString(e.substring(4,e.length-2))}}class Ut extends Rr{construct(e,n,i){return new Ut(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ne(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new Ut(n)}static emptyPath(){return new Ut([])}}const F3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends Rr{construct(e,n,i){return new Vn(e,n,i)}static isValidIdentifier(e){return F3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VN}static keyField(){return new Vn([VN])}static fromServerFormat(e){const n=[];let i="",o=0;const l=()=>{if(i.length===0)throw new Ne(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new Ne(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ne(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(i+=h,o++):(l(),o++)}if(l(),u)throw new Ne(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vn(n)}static emptyPath(){return new Vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Ut.fromString(e))}static fromName(e){return new Ue(Ut.fromString(e).popFirst(5))}static empty(){return new Ue(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=-1;function q3(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Xe.fromTimestamp(i===1e9?new wn(n+1,0):new wn(n,i));return new Ma(o,Ue.empty(),e)}function H3(t){return new Ma(t.readTime,t.key,Nd)}class Ma{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ma(Xe.min(),Ue.empty(),Nd)}static max(){return new Ma(Xe.max(),Ue.empty(),Nd)}}function $3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ue.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==G3)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,i)=>{n(e)})}static reject(e){return new fe((n,i)=>{i(e)})}static waitFor(e){return new fe((n,i)=>{let o=0,l=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++l,u&&l===o&&n()},m=>i(m))}),u=!0,l===o&&n()})}static or(e){let n=fe.resolve(!1);for(const i of e)n=n.next(o=>o?fe.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,l)=>{i.push(n.call(this,o,l))}),this.waitFor(i)}static mapArray(e,n){return new fe((i,o)=>{const l=e.length,u=new Array(l);let h=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next(y=>{u[p]=y,++h,h===l&&i(u)},y=>o(y))}})}static doWhile(e,n){return new fe((i,o)=>{const l=()=>{e()===!0?n().next(()=>{l()},o):i()};l()})}}function W3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}dp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=-1;function hp(t){return t==null}function Am(t){return t===0&&1/t==-1/0}function Y3(t){return typeof t=="number"&&Number.isInteger(t)&&!Am(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="";function X3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UN(e)),e=Q3(t.get(n),e);return UN(e)}function Q3(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const l=t.charAt(o);switch(l){case"\0":n+="";break;case Y2:n+="";break;default:n+=l}}return n}function UN(t){return t+Y2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function X2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n){this.comparator=e,this.root=n||Ln.EMPTY}insert(e,n){return new Kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zf(this.root,e,this.comparator,!1)}getReverseIterator(){return new zf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zf(this.root,e,this.comparator,!0)}}class zf{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ln{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??Ln.RED,this.left=o??Ln.EMPTY,this.right=l??Ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,l){return new Ln(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ln.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,i,o,l){return this}insert(e,n,i){return new Ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zN(this.data.getIterator())}getIteratorFrom(e){return new zN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _n(this.comparator);return n.data=e,n}}class zN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.fields=e,e.sort(Vn.comparator)}static empty(){return new bs([])}unionWith(e){let n=new _n(Vn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new bs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yc(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Q2("Invalid base64 string: "+l):l}}(e);return new Un(n)}static fromUint8Array(e){const n=function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l}(e);return new Un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Un.EMPTY_BYTE_STRING=new Un("");const Z3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pa(t){if(bt(!!t,39018),typeof t=="string"){let e=0;const n=Z3.exec(t);if(bt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:nn(t.seconds),nanos:nn(t.nanos)}}function nn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oa(t){return typeof t=="string"?Un.fromBase64String(t):Un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="server_timestamp",J2="__type__",eS="__previous_value__",tS="__local_write_time__";function i0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[J2])===null||n===void 0?void 0:n.stringValue)===Z2}function fp(t){const e=t.mapValue.fields[eS];return i0(e)?fp(e):e}function Ed(t){const e=Pa(t.mapValue.fields[tS].timestampValue);return new wn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n,i,o,l,u,h,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Cm="(default)";class Sd{constructor(e,n){this.projectId=e,this.database=n||Cm}static empty(){return new Sd("","")}get isDefaultDatabase(){return this.database===Cm}isEqual(e){return e instanceof Sd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="__type__",e6="__max__",Ff={mapValue:{}},sS="__vector__",Rm="value";function La(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i0(t)?4:n6(t)?9007199254740991:t6(t)?10:11:He(28295,{value:t})}function Fr(t,e){if(t===e)return!0;const n=La(t);if(n!==La(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ed(t).isEqual(Ed(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Pa(o.timestampValue),h=Pa(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,l){return Oa(o.bytesValue).isEqual(Oa(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,l){return nn(o.geoPointValue.latitude)===nn(l.geoPointValue.latitude)&&nn(o.geoPointValue.longitude)===nn(l.geoPointValue.longitude)}(t,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return nn(o.integerValue)===nn(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=nn(o.doubleValue),h=nn(l.doubleValue);return u===h?Am(u)===Am(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return yc(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(o,l){const u=o.mapValue.fields||{},h=l.mapValue.fields||{};if(BN(u)!==BN(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!Fr(u[m],h[m])))return!1;return!0}(t,e);default:return He(52216,{left:t})}}function Td(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function vc(t,e){if(t===e)return 0;const n=La(t),i=La(e);if(n!==i)return it(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return function(l,u){const h=nn(l.integerValue||l.doubleValue),m=nn(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(t,e);case 3:return FN(t.timestampValue,e.timestampValue);case 4:return FN(Ed(t),Ed(e));case 5:return Wy(t.stringValue,e.stringValue);case 6:return function(l,u){const h=Oa(l),m=Oa(u);return h.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const h=l.split("/"),m=u.split("/");for(let p=0;p<h.length&&p<m.length;p++){const y=it(h[p],m[p]);if(y!==0)return y}return it(h.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const h=it(nn(l.latitude),nn(u.latitude));return h!==0?h:it(nn(l.longitude),nn(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qN(t.arrayValue,e.arrayValue);case 10:return function(l,u){var h,m,p,y;const v=l.fields||{},w=u.fields||{},A=(h=v[Rm])===null||h===void 0?void 0:h.arrayValue,T=(m=w[Rm])===null||m===void 0?void 0:m.arrayValue,j=it(((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0,((y=T==null?void 0:T.values)===null||y===void 0?void 0:y.length)||0);return j!==0?j:qN(A,T)}(t.mapValue,e.mapValue);case 11:return function(l,u){if(l===Ff.mapValue&&u===Ff.mapValue)return 0;if(l===Ff.mapValue)return 1;if(u===Ff.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const w=Wy(m[v],y[v]);if(w!==0)return w;const A=vc(h[m[v]],p[y[v]]);if(A!==0)return A}return it(m.length,y.length)}(t.mapValue,e.mapValue);default:throw He(23264,{Pe:n})}}function FN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=Pa(t),i=Pa(e),o=it(n.seconds,i.seconds);return o!==0?o:it(n.nanos,i.nanos)}function qN(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const l=vc(n[o],i[o]);if(l)return l}return it(n.length,i.length)}function bc(t){return Yy(t)}function Yy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Pa(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Oa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",o=!0;for(const l of n.values||[])o?o=!1:i+=",",i+=Yy(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const u of i)l?l=!1:o+=",",o+=`${u}:${Yy(n.fields[u])}`;return o+"}"}(t.mapValue):He(61005,{value:t})}function um(t){switch(La(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fp(t);return e?16+um(e):16;case 5:return 2*t.stringValue.length;case 6:return Oa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+um(l),0)}(t.arrayValue);case 10:case 11:return function(i){let o=0;return Wa(i.fields,(l,u)=>{o+=l.length+um(u)}),o}(t.mapValue);default:throw He(13486,{value:t})}}function HN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xy(t){return!!t&&"integerValue"in t}function a0(t){return!!t&&"arrayValue"in t}function $N(t){return!!t&&"nullValue"in t}function GN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dm(t){return!!t&&"mapValue"in t}function t6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[nS])===null||n===void 0?void 0:n.stringValue)===sS}function md(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wa(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=md(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=md(t.arrayValue.values[n]);return e}return Object.assign({},t)}function n6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===e6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.value=e}static empty(){return new ss({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!dm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=md(n)}setAll(e){let n=Vn.emptyPath(),i={},o=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const m=this.getFieldsMap(n);this.applyChanges(m,i,o),i={},o=[],n=h.popLast()}u?i[h.lastSegment()]=md(u):o.push(h.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,o)}delete(e){const n=this.field(e.popLast());dm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];dm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Wa(n,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new ss(md(this.value))}}function rS(t){const e=[];return Wa(t.fields,(n,i)=>{const o=new Vn([n]);if(dm(i)){const l=rS(i.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)}),new bs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n,i,o,l,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Hn(e,0,Xe.min(),Xe.min(),Xe.min(),ss.empty(),0)}static newFoundDocument(e,n,i,o){return new Hn(e,1,n,Xe.min(),i,o,0)}static newNoDocument(e,n){return new Hn(e,2,n,Xe.min(),Xe.min(),ss.empty(),0)}static newUnknownDocument(e,n){return new Hn(e,3,n,Xe.min(),Xe.min(),ss.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ss.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.position=e,this.inclusive=n}}function KN(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const l=e[o],u=t.position[o];if(l.field.isKeyField()?i=Ue.comparator(Ue.fromName(u.referenceValue),n.key):i=vc(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function WN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function s6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{}class mn extends iS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new i6(e,n,i):n==="array-contains"?new l6(e,i):n==="in"?new c6(e,i):n==="not-in"?new u6(e,i):n==="array-contains-any"?new d6(e,i):new mn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new a6(e,i):new o6(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vc(n,this.value)):n!==null&&La(this.value)===La(n)&&this.matchesComparison(vc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends iS{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new sr(e,n)}matches(e){return aS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function aS(t){return t.op==="and"}function oS(t){return r6(t)&&aS(t)}function r6(t){for(const e of t.filters)if(e instanceof sr)return!1;return!0}function Qy(t){if(t instanceof mn)return t.field.canonicalString()+t.op.toString()+bc(t.value);if(oS(t))return t.filters.map(e=>Qy(e)).join(",");{const e=t.filters.map(n=>Qy(n)).join(",");return`${t.op}(${e})`}}function lS(t,e){return t instanceof mn?function(i,o){return o instanceof mn&&i.op===o.op&&i.field.isEqual(o.field)&&Fr(i.value,o.value)}(t,e):t instanceof sr?function(i,o){return o instanceof sr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,u,h)=>l&&lS(u,o.filters[h]),!0):!1}(t,e):void He(19439)}function cS(t){return t instanceof mn?function(n){return`${n.field.canonicalString()} ${n.op} ${bc(n.value)}`}(t):t instanceof sr?function(n){return n.op.toString()+" {"+n.getFilters().map(cS).join(" ,")+"}"}(t):"Filter"}class i6 extends mn{constructor(e,n,i){super(e,n,i),this.key=Ue.fromName(i.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class a6 extends mn{constructor(e,n){super(e,"in",n),this.keys=uS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class o6 extends mn{constructor(e,n){super(e,"not-in",n),this.keys=uS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ue.fromName(i.referenceValue))}class l6 extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return a0(n)&&Td(n.arrayValue,this.value)}}class c6 extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Td(this.value.arrayValue,n)}}class u6 extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Td(this.value.arrayValue,n)}}class d6 extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!a0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Td(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n=null,i=[],o=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=u,this.endAt=h,this.Ie=null}}function YN(t,e=null,n=[],i=[],o=null,l=null,u=null){return new h6(t,e,n,i,o,l,u)}function o0(t){const e=Je(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Qy(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),hp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>bc(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>bc(i)).join(",")),e.Ie=n}return e.Ie}function l0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!s6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WN(t.startAt,e.startAt)&&WN(t.endAt,e.endAt)}function Zy(t){return Ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n=null,i=[],o=[],l=null,u="F",h=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function f6(t,e,n,i,o,l,u,h){return new Lc(t,e,n,i,o,l,u,h)}function mp(t){return new Lc(t)}function XN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dS(t){return t.collectionGroup!==null}function pd(t){const e=Je(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new _n(Vn.comparator);return u.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Ad(l,i))}),n.has(Vn.keyField().canonicalString())||e.Ee.push(new Ad(Vn.keyField(),i))}return e.Ee}function Vr(t){const e=Je(t);return e.de||(e.de=m6(e,pd(t))),e.de}function m6(t,e){if(t.limitType==="F")return YN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Ad(o.field,l)});const n=t.endAt?new Im(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Im(t.startAt.position,t.startAt.inclusive):null;return YN(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Jy(t,e){const n=t.filters.concat([e]);return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ev(t,e,n){return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pp(t,e){return l0(Vr(t),Vr(e))&&t.limitType===e.limitType}function hS(t){return`${o0(Vr(t))}|lt:${t.limitType}`}function ac(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>cS(o)).join(", ")}]`),hp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>bc(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>bc(o)).join(",")),`Target(${i})`}(Vr(t))}; limitType=${t.limitType})`}function gp(t,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ue.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,o){for(const l of pd(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(t,e)&&function(i,o){return!(i.startAt&&!function(u,h,m){const p=KN(u,h,m);return u.inclusive?p<=0:p<0}(i.startAt,pd(i),o)||i.endAt&&!function(u,h,m){const p=KN(u,h,m);return u.inclusive?p>=0:p>0}(i.endAt,pd(i),o))}(t,e)}function p6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fS(t){return(e,n)=>{let i=!1;for(const o of pd(t)){const l=g6(o,e,n);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function g6(t,e,n){const i=t.field.isKeyField()?Ue.comparator(e.key,n.key):function(l,u,h){const m=u.data.field(l),p=h.data.field(l);return m!==null&&p!==null?vc(m,p):He(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return He(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Wa(this.inner,(n,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return X2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new Kt(Ue.comparator);function Mi(){return x6}const mS=new Kt(Ue.comparator);function ad(...t){let e=mS;for(const n of t)e=e.insert(n.key,n);return e}function pS(t){let e=mS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Uo(){return gd()}function gS(){return gd()}function gd(){return new rl(t=>t.toString(),(t,e)=>t.isEqual(e))}const y6=new Kt(Ue.comparator),v6=new _n(Ue.comparator);function ut(...t){let e=v6;for(const n of t)e=e.add(n);return e}const b6=new _n(it);function w6(){return b6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Am(e)?"-0":e}}function xS(t){return{integerValue:""+t}}function _6(t,e){return Y3(e)?xS(e):c0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this._=void 0}}function j6(t,e,n){return t instanceof Cd?function(o,l){const u={fields:{[J2]:{stringValue:Z2},[tS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&i0(l)&&(l=fp(l)),l&&(u.fields[eS]=l),{mapValue:u}}(n,e):t instanceof Rd?vS(t,e):t instanceof Id?bS(t,e):function(o,l){const u=yS(o,l),h=QN(u)+QN(o.Re);return Xy(u)&&Xy(o.Re)?xS(h):c0(o.serializer,h)}(t,e)}function N6(t,e,n){return t instanceof Rd?vS(t,e):t instanceof Id?bS(t,e):n}function yS(t,e){return t instanceof km?function(i){return Xy(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Cd extends xp{}class Rd extends xp{constructor(e){super(),this.elements=e}}function vS(t,e){const n=wS(e);for(const i of t.elements)n.some(o=>Fr(o,i))||n.push(i);return{arrayValue:{values:n}}}class Id extends xp{constructor(e){super(),this.elements=e}}function bS(t,e){let n=wS(e);for(const i of t.elements)n=n.filter(o=>!Fr(o,i));return{arrayValue:{values:n}}}class km extends xp{constructor(e,n){super(),this.serializer=e,this.Re=n}}function QN(t){return nn(t.integerValue||t.doubleValue)}function wS(t){return a0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n){this.field=e,this.transform=n}}function S6(t,e){return t.field.isEqual(e.field)&&function(i,o){return i instanceof Rd&&o instanceof Rd||i instanceof Id&&o instanceof Id?yc(i.elements,o.elements,Fr):i instanceof km&&o instanceof km?Fr(i.Re,o.Re):i instanceof Cd&&o instanceof Cd}(t.transform,e.transform)}class T6{constructor(e,n){this.version=e,this.transformResults=n}}class Ls{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ls}static exists(e){return new Ls(void 0,e)}static updateTime(e){return new Ls(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yp{}function _S(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new u0(t.key,Ls.none()):new Jd(t.key,t.data,Ls.none());{const n=t.data,i=ss.empty();let o=new _n(Vn.comparator);for(let l of e.fields)if(!o.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),o=o.add(l)}return new Ya(t.key,i,new bs(o.toArray()),Ls.none())}}function A6(t,e,n){t instanceof Jd?function(o,l,u){const h=o.value.clone(),m=JN(o.fieldTransforms,l,u.transformResults);h.setAll(m),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Ya?function(o,l,u){if(!hm(o.precondition,l))return void l.convertToUnknownDocument(u.version);const h=JN(o.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(jS(o)),m.setAll(h),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(t,e,n):function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function xd(t,e,n,i){return t instanceof Jd?function(l,u,h,m){if(!hm(l.precondition,u))return h;const p=l.value.clone(),y=e1(l.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ya?function(l,u,h,m){if(!hm(l.precondition,u))return h;const p=e1(l.fieldTransforms,m,u),y=u.data;return y.setAll(jS(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(l,u,h){return hm(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function C6(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),l=yS(i.transform,o||null);l!=null&&(n===null&&(n=ss.empty()),n.set(i.field,l))}return n||null}function ZN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&yc(i,o,(l,u)=>S6(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jd extends yp{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ya extends yp{constructor(e,n,i,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function jS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function JN(t,e,n){const i=new Map;bt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let o=0;o<n.length;o++){const l=t[o],u=l.transform,h=e.data.field(l.field);i.set(l.field,N6(u,h,n[o]))}return i}function e1(t,e,n){const i=new Map;for(const o of t){const l=o.transform,u=n.data.field(o.field);i.set(o.field,j6(l,u,e))}return i}class u0 extends yp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R6 extends yp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&A6(l,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=xd(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=xd(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=gS();return this.mutations.forEach(o=>{const l=e.get(o.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(o.key)?null:h;const m=_S(u,h);m!==null&&i.set(o.key,m),u.isValidDocument()||u.convertToNoDocument(Xe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ut())}isEqual(e){return this.batchId===e.batchId&&yc(this.mutations,e.mutations,(n,i)=>ZN(n,i))&&yc(this.baseMutations,e.baseMutations,(n,i)=>ZN(n,i))}}class d0{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){bt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=function(){return y6}();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,i[u].version);return new d0(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k6=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,mt;function M6(t){switch(t){case de.OK:return He(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function NS(t){if(t===void 0)return Di("GRPC error has no .code"),de.UNKNOWN;switch(t){case dn.OK:return de.OK;case dn.CANCELLED:return de.CANCELLED;case dn.UNKNOWN:return de.UNKNOWN;case dn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case dn.INTERNAL:return de.INTERNAL;case dn.UNAVAILABLE:return de.UNAVAILABLE;case dn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case dn.NOT_FOUND:return de.NOT_FOUND;case dn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case dn.ABORTED:return de.ABORTED;case dn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case dn.DATA_LOSS:return de.DATA_LOSS;default:return He(39323,{code:t})}}(mt=dn||(dn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=new Ca([4294967295,4294967295],0);function t1(t){const e=K2().encode(t),n=new U2;return n.update(e),new Uint8Array(n.digest())}function n1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ca([n,i],0),new Ca([o,l],0)]}class h0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new od(`Invalid padding: ${n}`);if(i<0)throw new od(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new od(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new od(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ca.fromNumber(this.pe)}we(e,n,i){let o=e.add(n.multiply(Ca.fromNumber(i)));return o.compare(P6)===1&&(o=new Ca([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=t1(e),[i,o]=n1(n);for(let l=0;l<this.hashCount;l++){const u=this.we(i,o,l);if(!this.be(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new h0(l,o,n);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const n=t1(e),[i,o]=n1(n);for(let l=0;l<this.hashCount;l++){const u=this.we(i,o,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,i,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,eh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new vp(Xe.min(),o,new Kt(it),Mi(),ut())}}class eh{constructor(e,n,i,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new eh(i,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,i,o){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=o}}class ES{constructor(e,n){this.targetId=e,this.Ce=n}}class SS{constructor(e,n,i=Un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class s1{constructor(){this.Fe=0,this.Me=r1(),this.xe=Un.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ut(),n=ut(),i=ut();return this.Me.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:He(38017,{changeType:l})}}),new eh(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=r1()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,bt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class O6{constructor(e){this.ze=e,this.je=new Map,this.He=Mi(),this.Je=qf(),this.Ye=qf(),this.Ze=new Kt(it)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:He(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,i=e.Ce.count,o=this._t(n);if(o){const l=o.target;if(Zy(l))if(i===0){const u=new Ue(l.path);this.tt(n,u,Hn.newNoDocument(u,Xe.min()))}else bt(i===1,20013,{expectedCount:i});else{const u=this.ut(n);if(u!==i){const h=this.ct(e),m=h?this.lt(h,e,u):1;if(m!==0){this.st(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=n;let u,h;try{u=Oa(i).toUint8Array()}catch(m){if(m instanceof Q2)return xc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new h0(u,o,l)}catch(m){return xc(m instanceof od?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.pe===0?null:h}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let o=0;return i.forEach(l=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.tt(n,l,null),o++)}),o}It(e){const n=new Map;this.je.forEach((l,u)=>{const h=this._t(u);if(h){if(l.current&&Zy(h.target)){const m=new Ue(h.target.path);this.Et(m).has(u)||this.dt(u,m)||this.tt(u,m,Hn.newNoDocument(m,e))}l.Le&&(n.set(u,l.qe()),l.Qe())}});let i=ut();this.Ye.forEach((l,u)=>{let h=!0;u.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.He.forEach((l,u)=>u.setReadTime(e));const o=new vp(e,n,this.Ze,this.He,i);return this.He=Mi(),this.Je=qf(),this.Ye=qf(),this.Ze=new Kt(it),o}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new s1,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new _n(it),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new _n(it),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||je("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new s1),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function qf(){return new Kt(Ue.comparator)}function r1(){return new Kt(Ue.comparator)}const L6={asc:"ASCENDING",desc:"DESCENDING"},V6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U6={and:"AND",or:"OR"};class B6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tv(t,e){return t.useProto3Json||hp(e)?e:{value:e}}function Dm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z6(t,e){return Dm(t,e.toTimestamp())}function Ur(t){return bt(!!t,49232),Xe.fromTimestamp(function(n){const i=Pa(n);return new wn(i.seconds,i.nanos)}(t))}function f0(t,e){return nv(t,e).canonicalString()}function nv(t,e){const n=function(o){return new Ut(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AS(t){const e=Ut.fromString(t);return bt(DS(e),10190,{key:e.toString()}),e}function sv(t,e){return f0(t.databaseId,e.path)}function py(t,e){const n=AS(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(RS(n))}function CS(t,e){return f0(t.databaseId,e)}function F6(t){const e=AS(t);return e.length===4?Ut.emptyPath():RS(e)}function rv(t){return new Ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RS(t){return bt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function i1(t,e,n){return{name:sv(t,e),fields:n.value.mapValue.fields}}function q6(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:He(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(bt(y===void 0||typeof y=="string",58123),Un.fromBase64String(y||"")):(bt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Un.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=p.code===void 0?de.UNKNOWN:NS(p.code);return new Ne(y,p.message||"")}(u);n=new SS(i,o,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=py(t,i.document.name),l=Ur(i.document.updateTime),u=i.document.createTime?Ur(i.document.createTime):Xe.min(),h=new ss({mapValue:{fields:i.document.fields}}),m=Hn.newFoundDocument(o,l,u,h),p=i.targetIds||[],y=i.removedTargetIds||[];n=new fm(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=py(t,i.document),l=i.readTime?Ur(i.readTime):Xe.min(),u=Hn.newNoDocument(o,l),h=i.removedTargetIds||[];n=new fm([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=py(t,i.document),l=i.removedTargetIds||[];n=new fm([],l,o,null)}else{if(!("filter"in e))return He(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,u=new D6(o,l),h=i.targetId;n=new ES(h,u)}}return n}function H6(t,e){let n;if(e instanceof Jd)n={update:i1(t,e.key,e.value)};else if(e instanceof u0)n={delete:sv(t,e.key)};else if(e instanceof Ya)n={update:i1(t,e.key,e.data),updateMask:J6(e.fieldMask)};else{if(!(e instanceof R6))return He(16599,{ft:e.type});n={verify:sv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,u){const h=u.transform;if(h instanceof Cd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Rd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Id)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof km)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw He(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:z6(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:He(27497)}(t,e.precondition)),n}function $6(t,e){return t&&t.length>0?(bt(e!==void 0,14353),t.map(n=>function(o,l){let u=o.updateTime?Ur(o.updateTime):Ur(l);return u.isEqual(Xe.min())&&(u=Ur(l)),new T6(u,o.transformResults||[])}(n,e))):[]}function G6(t,e){return{documents:[CS(t,e.path)]}}function K6(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=CS(t,o);const l=function(p){if(p.length!==0)return kS(sr.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(p){if(p.length!==0)return p.map(y=>function(w){return{field:oc(w.field),direction:X6(w.dir)}}(y))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=tv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:o}}function W6(t){let e=F6(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){bt(i===1,65062);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(v){const w=IS(v);return w instanceof sr&&oS(w)?w.getFilters():[w]}(n.where));let u=[];n.orderBy&&(u=function(v){return v.map(w=>function(T){return new Ad(lc(T.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(w))}(n.orderBy));let h=null;n.limit&&(h=function(v){let w;return w=typeof v=="object"?v.value:v,hp(w)?null:w}(n.limit));let m=null;n.startAt&&(m=function(v){const w=!!v.before,A=v.values||[];return new Im(A,w)}(n.startAt));let p=null;return n.endAt&&(p=function(v){const w=!v.before,A=v.values||[];return new Im(A,w)}(n.endAt)),f6(e,o,u,l,h,"F",m,p)}function Y6(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=lc(n.unaryFilter.field);return mn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=lc(n.unaryFilter.field);return mn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=lc(n.unaryFilter.field);return mn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=lc(n.unaryFilter.field);return mn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}}(t):t.fieldFilter!==void 0?function(n){return mn.create(lc(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sr.create(n.compositeFilter.filters.map(i=>IS(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return He(1026)}}(n.compositeFilter.op))}(t):He(30097,{filter:t})}function X6(t){return L6[t]}function Q6(t){return V6[t]}function Z6(t){return U6[t]}function oc(t){return{fieldPath:t.canonicalString()}}function lc(t){return Vn.fromServerFormat(t.fieldPath)}function kS(t){return t instanceof mn?function(n){if(n.op==="=="){if(GN(n.value))return{unaryFilter:{field:oc(n.field),op:"IS_NAN"}};if($N(n.value))return{unaryFilter:{field:oc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GN(n.value))return{unaryFilter:{field:oc(n.field),op:"IS_NOT_NAN"}};if($N(n.value))return{unaryFilter:{field:oc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oc(n.field),op:Q6(n.op),value:n.value}}}(t):t instanceof sr?function(n){const i=n.getFilters().map(o=>kS(o));return i.length===1?i[0]:{compositeFilter:{op:Z6(n.op),filters:i}}}(t):He(54877,{filter:t})}function J6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n,i,o,l=Xe.min(),u=Xe.min(),h=Un.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.wt=e}}function tL(t){const e=W6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ev(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(){this.Cn=new sL}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(Ma.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(Ma.min())}updateCollectionGroup(e,n,i){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class sL{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new _n(Ut.comparator),l=!o.has(i);return this.index[n]=o.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new _n(Ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MS=41943040;class ns{static withCacheSize(e){return new ns(e,ns.DEFAULT_COLLECTION_PERCENTILE,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns.DEFAULT_COLLECTION_PERCENTILE=10,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ns.DEFAULT=new ns(MS,ns.DEFAULT_COLLECTION_PERCENTILE,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ns.DISABLED=new ns(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new wc(0)}static lr(){return new wc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="LruGarbageCollector",rL=1048576;function l1([t,e],[n,i]){const o=it(t,n);return o===0?it(e,i):o}class iL{constructor(e){this.Er=e,this.buffer=new _n(l1),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();l1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aL{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){je(o1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oc(n)?je(o1,"Ignoring IndexedDB error during garbage collection: ",n):await Pc(n)}await this.mr(3e5)})}}class oL{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(dp.le);const i=new iL(n);return this.gr.forEachTarget(e,o=>i.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>i.Rr(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.gr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(a1)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a1):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let i,o,l,u,h,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,u=Date.now(),this.nthSequenceNumber(e,o))).next(v=>(i=v,h=Date.now(),this.removeTargets(e,i,n))).next(v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(p=Date.now(),ic()<=ct.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:v})))}}function lL(t,e){return new oL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(){this.changes=new rl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?fe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&xd(i.mutation,o,bs.empty(),wn.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ut()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ut()){const o=Uo();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(l=>{let u=ad();return l.forEach((h,m)=>{u=u.insert(h,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const i=Uo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ut()))}populateOverlays(e,n,i){const o=[];return i.forEach(l=>{n.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,i,o){let l=Mi();const u=gd(),h=function(){return gd()}();return n.forEach((m,p)=>{const y=i.get(p.key);o.has(p.key)&&(y===void 0||y.mutation instanceof Ya)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),xd(y.mutation,p,y.mutation.getFieldMask(),wn.now())):u.set(p.key,bs.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,y)=>u.set(p,y)),n.forEach((p,y)=>{var v;return h.set(p,new uL(y,(v=u.get(p))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(e,n){const i=gd();let o=new Kt((u,h)=>u-h),l=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=i.get(m)||bs.empty();y=h.applyToLocalView(p,y),i.set(m,y);const v=(o.get(h.batchId)||ut()).add(m);o=o.insert(h.batchId,v)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),p=m.key,y=m.value,v=gS();y.forEach(w=>{if(!l.has(w)){const A=_S(n.get(w),i.get(w));A!==null&&v.set(w,A),l=l.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return fe.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(u){return Ue.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-l.size):fe.resolve(Uo());let h=Nd,m=l;return u.next(p=>fe.forEach(p,(y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?fe.resolve():this.remoteDocumentCache.getEntry(e,y).next(w=>{m=m.insert(y,w)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,ut())).next(y=>({batchId:h,changes:pS(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next(i=>{let o=ad();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const l=n.collectionGroup;let u=ad();return this.indexManager.getCollectionParents(e,l).next(h=>fe.forEach(h,m=>{const p=function(v,w){return new Lc(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,o).next(y=>{y.forEach((v,w)=>{u=u.insert(v,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,o))).next(u=>{l.forEach((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Hn.newInvalidDocument(y)))});let h=ad();return u.forEach((m,p)=>{const y=l.get(m);y!==void 0&&xd(y.mutation,p,bs.empty(),wn.now()),gp(n,p)&&(h=h.insert(m,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return fe.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ur(o.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:tL(o.bundledQuery),readTime:Ur(o.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.overlays=new Kt(Ue.comparator),this.Qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Uo();return fe.forEach(n,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,l)=>{this.St(e,n,l)}),fe.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Qr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),fe.resolve()}getOverlaysForCollection(e,n,i){const o=Uo(),l=n.length+1,u=new Ue(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&o.set(m.getKey(),m)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let l=new Kt((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=Uo(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Uo(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=o)););return fe.resolve(h)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Qr.get(o.largestBatchId).delete(i.key);this.Qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new k6(n,i));let l=this.Qr.get(n);l===void 0&&(l=ut(),this.Qr.set(n,l)),this.Qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.sessionToken=Un.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.$r=new _n(Cn.Ur),this.Kr=new _n(Cn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const i=new Cn(e,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.zr(new Cn(e,n))}jr(e,n){e.forEach(i=>this.removeReference(i,n))}Hr(e){const n=new Ue(new Ut([])),i=new Cn(n,e),o=new Cn(n,e+1),l=[];return this.Kr.forEachInRange([i,o],u=>{this.zr(u),l.push(u.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ue(new Ut([])),i=new Cn(n,e),o=new Cn(n,e+1);let l=ut();return this.Kr.forEachInRange([i,o],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new Cn(e,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Cn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ue.comparator(e.key,n.key)||it(e.Zr,n.Zr)}static Wr(e,n){return it(e.Zr,n.Zr)||Ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new _n(Cn.Ur)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new I6(l,n,i,o);this.mutationQueue.push(u);for(const h of o)this.Xr=this.Xr.add(new Cn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,n){return fe.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ti(i),l=o<0?0:o;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?r0:this.nr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Cn(n,0),o=new Cn(n,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,o],u=>{const h=this.ei(u.Zr);l.push(h)}),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new _n(it);return n.forEach(o=>{const l=new Cn(o,0),u=new Cn(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,u],h=>{i=i.add(h.Zr)})}),fe.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let l=i;Ue.isDocumentKey(l)||(l=l.child(""));const u=new Cn(new Ue(l),0);let h=new _n(it);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(h=h.add(m.Zr)),!0)},u),fe.resolve(this.ni(h))}ni(e){const n=[];return e.forEach(i=>{const o=this.ei(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){bt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return fe.forEach(n.mutations,o=>{const l=new Cn(o.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,n){const i=new Cn(n,0),o=this.Xr.firstAfterOrEqual(i);return fe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.ii=e,this.docs=function(){return new Kt(Ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),l=o?o.size:0,u=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return fe.resolve(i?i.document.mutableCopy():Hn.newInvalidDocument(n))}getEntries(e,n){let i=Mi();return n.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Hn.newInvalidDocument(o))}),fe.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let l=Mi();const u=n.path,h=new Ue(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||$3(H3(y),i)<=0||(o.has(y.key)||gp(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,n,i,o){He(9500)}si(e,n){return fe.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new xL(this)}getSize(e){return fe.resolve(this.size)}}class xL extends cL{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(i)}),fe.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.persistence=e,this.oi=new rl(n=>o0(n),l0),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this._i=0,this.ai=new m0,this.targetCount=0,this.ui=wc.cr()}forEachTarget(e,n){return this.oi.forEach((i,o)=>n(o)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),fe.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new wc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Tr(n),fe.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,i){let o=0;const l=[];return this.oi.forEach((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.oi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),fe.waitFor(l).next(()=>o)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const i=this.oi.get(n)||null;return fe.resolve(i)}addMatchingKeys(e,n,i){return this.ai.Gr(n,i),fe.resolve()}removeMatchingKeys(e,n,i){this.ai.jr(n,i);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach(u=>{l.push(o.markPotentiallyOrphaned(e,u))}),fe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ai.Yr(n);return fe.resolve(i)}containsKey(e,n){return fe.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n){this.ci={},this.overlays={},this.li=new dp(0),this.hi=!1,this.hi=!0,this.Pi=new mL,this.referenceDelegate=e(this),this.Ti=new yL(this),this.indexManager=new nL,this.remoteDocumentCache=function(o){return new gL(o)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new eL(n),this.Ei=new hL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ci[e.toKey()];return i||(i=new pL(n,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,i){je("MemoryPersistence","Starting transaction:",e);const o=new vL(this.li.next());return this.referenceDelegate.di(),i(o).next(l=>this.referenceDelegate.Ai(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ri(e,n){return fe.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,n)))}}class vL extends K3{constructor(e){super(),this.currentSequenceNumber=e}}class p0{constructor(e){this.persistence=e,this.Vi=new m0,this.mi=null}static fi(e){return new p0(e)}get gi(){if(this.mi)return this.mi;throw He(60996)}addReference(e,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),fe.resolve()}removeReference(e,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.gi,i=>{const o=Ue.fromPath(i);return this.pi(e,o).next(l=>{l||n.removeEntry(o,Xe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return fe.or([()=>fe.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Mm{constructor(e,n){this.persistence=e,this.yi=new rl(i=>X3(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=lL(this,n)}static fi(e,n){return new Mm(e,n)}di(){}Ai(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}br(e){let n=0;return this.yr(e,i=>{n++}).next(()=>n)}yr(e,n){return fe.forEach(this.yi,(i,o)=>this.Dr(e,i,o).next(l=>l?fe.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.si(e,u=>this.Dr(e,u,n).next(h=>{h||(i++,l.removeEntry(u,Xe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),fe.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=um(e.data.value)),n}Dr(e,n,i){return fe.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return fe.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.ds=i,this.As=o}static Rs(e,n){let i=ut(),o=ut();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new g0(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return QD()?8:W3(Gn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,i,o){const l={result:null};return this.ws(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.bs(e,n,o,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new bL;return this.Ss(e,n,u).next(h=>{if(l.result=h,this.fs)return this.Ds(e,n,u,h.size)})}).next(()=>l.result)}Ds(e,n,i,o){return i.documentReadCount<this.gs?(ic()<=ct.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",ac(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),fe.resolve()):(ic()<=ct.DEBUG&&je("QueryEngine","Query:",ac(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ps*o?(ic()<=ct.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",ac(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(n))):fe.resolve())}ws(e,n){if(XN(n))return fe.resolve(null);let i=Vr(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=ev(n,null,"F"),i=Vr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=ut(...l);return this.ys.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(m=>{const p=this.vs(n,h);return this.Cs(n,p,u,m.readTime)?this.ws(e,ev(n,null,"F")):this.Fs(e,p,n,m)}))})))}bs(e,n,i,o){return XN(n)||o.isEqual(Xe.min())?fe.resolve(null):this.ys.getDocuments(e,i).next(l=>{const u=this.vs(n,l);return this.Cs(n,u,i,o)?fe.resolve(null):(ic()<=ct.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ac(n)),this.Fs(e,u,n,q3(o,Nd)).next(h=>h))})}vs(e,n){let i=new _n(fS(e));return n.forEach((o,l)=>{gp(e,l)&&(i=i.add(l))}),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,n,i){return ic()<=ct.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",ac(n)),this.ys.getDocumentsMatchingQuery(e,n,Ma.min(),i)}Fs(e,n,i,o){return this.ys.getDocumentsMatchingQuery(e,i,o).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="LocalStore",_L=3e8;class jL{constructor(e,n,i,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new Kt(it),this.Os=new rl(l=>o0(l),l0),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dL(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function NL(t,e,n,i){return new jL(t,e,n,i)}async function OS(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,n.Ls(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],h=[];let m=ut();for(const p of o){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(i,m).next(p=>({ks:p,removedBatchIds:u,addedBatchIds:h}))})})}function EL(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=n.Bs.newChangeBuffer({trackRemovals:!0});return function(h,m,p,y){const v=p.batch,w=v.keys();let A=fe.resolve();return w.forEach(T=>{A=A.next(()=>y.getEntry(m,T)).next(j=>{const I=p.docVersions.get(T);bt(I!==null,48541),j.version.compareTo(I)<0&&(v.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),y.addEntry(j)))})}),A.next(()=>h.mutationQueue.removeMutationBatch(m,v))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let m=ut();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(m=m.add(h.batch.mutations[p].key));return m}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function LS(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function SL(t,e){const n=Je(t),i=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const h=[];e.targetChanges.forEach((y,v)=>{const w=o.get(v);if(!w)return;h.push(n.Ti.removeMatchingKeys(l,y.removedDocuments,v).next(()=>n.Ti.addMatchingKeys(l,y.addedDocuments,v)));let A=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(Un.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),o=o.insert(v,A),function(j,I,M){return j.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=_L?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(w,A,y)&&h.push(n.Ti.updateTargetData(l,A))});let m=Mi(),p=ut();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),h.push(TL(l,u,e.documentUpdates).next(y=>{m=y.qs,p=y.Qs})),!i.isEqual(Xe.min())){const y=n.Ti.getLastRemoteSnapshotVersion(l).next(v=>n.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(y)}return fe.waitFor(h).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.xs=o,l))}function TL(t,e,n){let i=ut(),o=ut();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let u=Mi();return n.forEach((h,m)=>{const p=l.get(h);m.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(h)),m.isNoDocument()&&m.version.isEqual(Xe.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):je(x0,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",m.version)}),{qs:u,Qs:o}})}function AL(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=r0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function CL(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Ti.getTargetData(i,e).next(l=>l?(o=l,fe.resolve(o)):n.Ti.allocateTargetId(i).next(u=>(o=new Sa(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.xs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(e,i.targetId)),i})}async function iv(t,e,n){const i=Je(t),o=i.xs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Oc(u))throw u;je(x0,`Failed to update sequence numbers for target ${e}: ${u}`)}i.xs=i.xs.remove(e),i.Os.delete(o.target)}function c1(t,e,n){const i=Je(t);let o=Xe.min(),l=ut();return i.persistence.runTransaction("Execute query","readwrite",u=>function(m,p,y){const v=Je(m),w=v.Os.get(y);return w!==void 0?fe.resolve(v.xs.get(w)):v.Ti.getTargetData(p,y)}(i,u,Vr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(u,h.targetId).next(m=>{l=m})}).next(()=>i.Ms.getDocumentsMatchingQuery(u,e,n?o:Xe.min(),n?l:ut())).next(h=>(RL(i,p6(e),h),{documents:h,$s:l})))}function RL(t,e,n){let i=t.Ns.get(e)||Xe.min();n.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Ns.set(e,i)}class u1{constructor(){this.activeTargetIds=w6()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IL{constructor(){this.xo=new u1,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,i){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new u1,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="ConnectivityMonitor";class h1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){je(d1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){je(d1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf=null;function av(){return Hf===null?Hf=function(){return 268435456+Math.round(2147483648*Math.random())}():Hf++,"0x"+Hf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="RestConnection",DL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ML{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${i}/databases/${o}`,this.Go=this.databaseId.database===Cm?`project_id=${i}`:`project_id=${i}&database_id=${o}`}zo(e,n,i,o,l){const u=av(),h=this.jo(e,n.toUriEncodedString());je(gy,`Sending RPC '${e}' ${u}:`,h,i);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,o,l);const{host:p}=new URL(h),y=Ga(p);return this.Jo(e,h,m,i,y).then(v=>(je(gy,`Received RPC '${e}' ${u}: `,v),v),v=>{throw xc(gy,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",i),v})}Yo(e,n,i,o,l,u){return this.zo(e,n,i,o,l)}Ho(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}jo(e,n){const i=DL[e];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection";class OL extends ML{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,l){const u=av();return new Promise((h,m)=>{const p=new B2;p.setWithCredentials(!0),p.listenOnce(z2.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case cm.NO_ERROR:const v=p.getResponseJson();je(Fn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case cm.TIMEOUT:je(Fn,`RPC '${e}' ${u} timed out`),m(new Ne(de.DEADLINE_EXCEEDED,"Request time out"));break;case cm.HTTP_ERROR:const w=p.getStatus();if(je(Fn,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const T=A==null?void 0:A.error;if(T&&T.status&&T.message){const j=function(M){const L=M.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(L)>=0?L:de.UNKNOWN}(T.status);m(new Ne(j,T.message))}else m(new Ne(de.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Ne(de.UNAVAILABLE,"Connection failed."));break;default:He(9055,{h_:e,streamId:u,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{je(Fn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);je(Fn,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,i,15)})}I_(e,n,i){const o=av(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=H2(),h=q2(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const y=l.join("");je(Fn,`Creating RPC '${e}' stream ${o}: ${y}`,m);const v=u.createWebChannel(y,m);this.E_(v);let w=!1,A=!1;const T=new PL({Zo:I=>{A?je(Fn,`Not sending because RPC '${e}' stream ${o} is closed:`,I):(w||(je(Fn,`Opening RPC '${e}' stream ${o} transport.`),v.open(),w=!0),je(Fn,`RPC '${e}' stream ${o} sending:`,I),v.send(I))},Xo:()=>v.close()}),j=(I,M,L)=>{I.listen(M,V=>{try{L(V)}catch(F){setTimeout(()=>{throw F},0)}})};return j(v,id.EventType.OPEN,()=>{A||(je(Fn,`RPC '${e}' stream ${o} transport opened.`),T.__())}),j(v,id.EventType.CLOSE,()=>{A||(A=!0,je(Fn,`RPC '${e}' stream ${o} transport closed`),T.u_(),this.d_(v))}),j(v,id.EventType.ERROR,I=>{A||(A=!0,xc(Fn,`RPC '${e}' stream ${o} transport errored. Name:`,I.name,"Message:",I.message),T.u_(new Ne(de.UNAVAILABLE,"The operation could not be completed")))}),j(v,id.EventType.MESSAGE,I=>{var M;if(!A){const L=I.data[0];bt(!!L,16349);const V=L,F=(V==null?void 0:V.error)||((M=V[0])===null||M===void 0?void 0:M.error);if(F){je(Fn,`RPC '${e}' stream ${o} received error:`,F);const H=F.status;let $=function(P){const U=dn[P];if(U!==void 0)return NS(U)}(H),N=F.message;$===void 0&&($=de.INTERNAL,N="Unknown error status: "+H+" with message "+F.message),A=!0,T.u_(new Ne($,N)),v.close()}else je(Fn,`RPC '${e}' stream ${o} received:`,L),T.c_(L)}}),j(h,F2.STAT_EVENT,I=>{I.stat===Ky.PROXY?je(Fn,`RPC '${e}' stream ${o} detected buffering proxy`):I.stat===Ky.NOPROXY&&je(Fn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function xy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t){return new B6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,i=1e3,o=1.5,l=6e4){this.xi=e,this.timerId=n,this.A_=i,this.R_=o,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-i);o>0&&je("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="PersistentStream";class US{constructor(e,n,i,o,l,u,h,m){this.xi=e,this.S_=i,this.D_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new VS(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.v_===n&&this.z_(i,o)},i=>{e(()=>{const o=new Ne(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(o)})})}z_(e,n){const i=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{i(()=>this.j_(o))}),this.stream.onMessage(o=>{i(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return je(f1,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(je(f1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LL extends US{constructor(e,n,i,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=l}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=q6(this.serializer,e),i=function(l){if(!("targetChange"in l))return Xe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Xe.min():u.readTime?Ur(u.readTime):Xe.min()}(e);return this.listener.Y_(n,i)}Z_(e){const n={};n.database=rv(this.serializer),n.addTarget=function(l,u){let h;const m=u.target;if(h=Zy(m)?{documents:G6(l,m)}:{query:K6(l,m).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=TS(l,u.resumeToken);const p=tv(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Xe.min())>0){h.readTime=Dm(l,u.snapshotVersion.toTimestamp());const p=tv(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const i=Y6(this.serializer,e);i&&(n.labels=i),this.Q_(n)}X_(e){const n={};n.database=rv(this.serializer),n.removeTarget=e,this.Q_(n)}}class VL extends US{constructor(e,n,i,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=$6(e.writeResults,e.commitTime),i=Ur(e.commitTime);return this.listener.ra(i,n)}ia(){const e={};e.database=rv(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>H6(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{}class BL extends UL{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new Ne(de.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.zo(e,nv(n,i),o,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ne(de.UNKNOWN,l.toString())})}Yo(e,n,i,o,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Yo(e,nv(n,i),o,u,h,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(de.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class zL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Di(n),this.ua=!1):je("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="RemoteStore";class FL{constructor(e,n,i,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(u=>{i.enqueueAndForget(async()=>{il(this)&&(je(Ko,"Restarting streams for network reachability change."),await async function(m){const p=Je(m);p.da.add(4),await th(p),p.Va.set("Unknown"),p.da.delete(4),await wp(p)}(this))})}),this.Va=new zL(i,o)}}async function wp(t){if(il(t))for(const e of t.Aa)await e(!0)}async function th(t){for(const e of t.Aa)await e(!1)}function BS(t,e){const n=Je(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),w0(n)?b0(n):Vc(n).N_()&&v0(n,e))}function y0(t,e){const n=Je(t),i=Vc(n);n.Ea.delete(e),i.N_()&&zS(n,e),n.Ea.size===0&&(i.N_()?i.k_():il(n)&&n.Va.set("Unknown"))}function v0(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vc(t).Z_(e)}function zS(t,e){t.ma.Ke(e),Vc(t).X_(e)}function b0(t){t.ma=new O6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Vc(t).start(),t.Va.ca()}function w0(t){return il(t)&&!Vc(t).O_()&&t.Ea.size>0}function il(t){return Je(t).da.size===0}function FS(t){t.ma=void 0}async function qL(t){t.Va.set("Online")}async function HL(t){t.Ea.forEach((e,n)=>{v0(t,e)})}async function $L(t,e){FS(t),w0(t)?(t.Va.Pa(e),b0(t)):t.Va.set("Unknown")}async function GL(t,e,n){if(t.Va.set("Online"),e instanceof SS&&e.state===2&&e.cause)try{await async function(o,l){const u=l.cause;for(const h of l.targetIds)o.Ea.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ea.delete(h),o.ma.removeTarget(h))}(t,e)}catch(i){je(Ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Pm(t,i)}else if(e instanceof fm?t.ma.Xe(e):e instanceof ES?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Xe.min()))try{const i=await LS(t.localStore);n.compareTo(i)>=0&&await function(l,u){const h=l.ma.It(u);return h.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ea.get(p);y&&l.Ea.set(p,y.withResumeToken(m.resumeToken,u))}}),h.targetMismatches.forEach((m,p)=>{const y=l.Ea.get(m);if(!y)return;l.Ea.set(m,y.withResumeToken(Un.EMPTY_BYTE_STRING,y.snapshotVersion)),zS(l,m);const v=new Sa(y.target,m,p,y.sequenceNumber);v0(l,v)}),l.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){je(Ko,"Failed to raise snapshot:",i),await Pm(t,i)}}async function Pm(t,e,n){if(!Oc(e))throw e;t.da.add(1),await th(t),t.Va.set("Offline"),n||(n=()=>LS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{je(Ko,"Retrying IndexedDB access"),await n(),t.da.delete(1),await wp(t)})}function qS(t,e){return e().catch(n=>Pm(t,n,e))}async function _p(t){const e=Je(t),n=Va(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:r0;for(;KL(e);)try{const o=await AL(e.localStore,i);if(o===null){e.Ia.length===0&&n.k_();break}i=o.batchId,WL(e,o)}catch(o){await Pm(e,o)}HS(e)&&$S(e)}function KL(t){return il(t)&&t.Ia.length<10}function WL(t,e){t.Ia.push(e);const n=Va(t);n.N_()&&n.ea&&n.ta(e.mutations)}function HS(t){return il(t)&&!Va(t).O_()&&t.Ia.length>0}function $S(t){Va(t).start()}async function YL(t){Va(t).ia()}async function XL(t){const e=Va(t);for(const n of t.Ia)e.ta(n.mutations)}async function QL(t,e,n){const i=t.Ia.shift(),o=d0.from(i,e,n);await qS(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await _p(t)}async function ZL(t,e){e&&Va(t).ea&&await async function(i,o){if(function(u){return M6(u)&&u!==de.ABORTED}(o.code)){const l=i.Ia.shift();Va(i).L_(),await qS(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await _p(i)}}(t,e),HS(t)&&$S(t)}async function m1(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),je(Ko,"RemoteStore received new credentials");const i=il(n);n.da.add(3),await th(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await wp(n)}async function JL(t,e){const n=Je(t);e?(n.da.delete(2),await wp(n)):e||(n.da.add(2),await th(n),n.Va.set("Unknown"))}function Vc(t){return t.fa||(t.fa=function(n,i,o){const l=Je(n);return l.oa(),new LL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{e_:qL.bind(null,t),n_:HL.bind(null,t),i_:$L.bind(null,t),Y_:GL.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),w0(t)?b0(t):t.Va.set("Unknown")):(await t.fa.stop(),FS(t))})),t.fa}function Va(t){return t.ga||(t.ga=function(n,i,o){const l=Je(n);return l.oa(),new VL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:YL.bind(null,t),i_:ZL.bind(null,t),na:XL.bind(null,t),ra:QL.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await _p(t)):(await t.ga.stop(),t.Ia.length>0&&(je(Ko,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n,i,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,l){const u=Date.now()+i,h=new _0(e,n,u,o,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function j0(t,e){if(Di("AsyncQueue",`${e}: ${t}`),Oc(t))return new Ne(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{static emptySet(e){return new fc(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ue.comparator(n.key,i.key):(n,i)=>Ue.comparator(n.key,i.key),this.keyedMap=ad(),this.sortedSet=new Kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new fc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.pa=new Kt(Ue.comparator)}track(e){const n=e.doc.key,i=this.pa.get(n);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(n,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(n):e.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):He(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,i)=>{e.push(i)}),e}}class _c{constructor(e,n,i,o,l,u,h,m,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,o,l){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new _c(e,n,fc.emptySet(n),u,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class t5{constructor(){this.queries=g1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Je(n),l=o.queries;o.queries=g1(),l.forEach((u,h)=>{for(const m of h.Sa)m.onError(i)})})(this,new Ne(de.ABORTED,"Firestore shutting down"))}}function g1(){return new rl(t=>hS(t),pp)}async function N0(t,e){const n=Je(t);let i=3;const o=e.query;let l=n.queries.get(o);l?!l.Da()&&e.va()&&(i=2):(l=new e5,i=e.va()?0:1);try{switch(i){case 0:l.ba=await n.onListen(o,!0);break;case 1:l.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const h=j0(u,`Initialization of query '${ac(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,l),l.Sa.push(e),e.Fa(n.onlineState),l.ba&&e.Ma(l.ba)&&S0(n)}async function E0(t,e){const n=Je(t),i=e.query;let o=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.va()?0:1:!l.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function n5(t,e){const n=Je(t);let i=!1;for(const o of e){const l=o.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Ma(o)&&(i=!0);u.ba=o}}i&&S0(n)}function s5(t,e,n){const i=Je(t),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(n);i.queries.delete(e)}function S0(t){t.Ca.forEach(e=>{e.next()})}var ov,x1;(x1=ov||(ov={})).xa="default",x1.Cache="cache";class T0{constructor(e,n,i){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new _c(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=_c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==ov.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.key=e}}class KS{constructor(e){this.key=e}}class r5{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ut(),this.mutatedKeys=ut(),this.Za=fS(e),this.Xa=new fc(this.Za)}get eu(){return this.Ha}tu(e,n){const i=n?n.nu:new p1,o=n?n.Xa:this.Xa;let l=n?n.mutatedKeys:this.mutatedKeys,u=o,h=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((y,v)=>{const w=o.get(y),A=gp(this.query,v)?v:null,T=!!w&&this.mutatedKeys.has(w.key),j=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let I=!1;w&&A?w.data.isEqual(A.data)?T!==j&&(i.track({type:3,doc:A}),I=!0):this.ru(w,A)||(i.track({type:2,doc:A}),I=!0,(m&&this.Za(A,m)>0||p&&this.Za(A,p)<0)&&(h=!0)):!w&&A?(i.track({type:0,doc:A}),I=!0):w&&!A&&(i.track({type:1,doc:w}),I=!0,(m||p)&&(h=!0)),I&&(A?(u=u.add(A),l=j?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{Xa:u,nu:i,Cs:h,mutatedKeys:l}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((y,v)=>function(A,T){const j=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Vt:I})}};return j(A)-j(T)}(y.type,v.type)||this.Za(y.doc,v.doc)),this.iu(i),o=o!=null&&o;const h=n&&!o?this.su():[],m=this.Ya.size===0&&this.current&&!o?1:0,p=m!==this.Ja;return this.Ja=m,u.length!==0||p?{snapshot:new _c(this.query,e.Xa,l,u,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:h}:{ou:h}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new p1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ut(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new KS(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new GS(i))}),n}au(e){this.Ha=e.$s,this.Ya=ut();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return _c.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const A0="SyncEngine";class i5{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class a5{constructor(e){this.key=e,this.cu=!1}}class o5{constructor(e,n,i,o,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new rl(h=>hS(h),pp),this.Pu=new Map,this.Tu=new Set,this.Iu=new Kt(Ue.comparator),this.Eu=new Map,this.du=new m0,this.Au={},this.Ru=new Map,this.Vu=wc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function l5(t,e,n=!0){const i=JS(t);let o;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.uu()):o=await WS(i,e,n,!0),o}async function c5(t,e){const n=JS(t);await WS(n,e,!0,!1)}async function WS(t,e,n,i){const o=await CL(t.localStore,Vr(e)),l=o.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await u5(t,e,l,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&BS(t.remoteStore,o),h}async function u5(t,e,n,i,o){t.fu=(v,w,A)=>async function(j,I,M,L){let V=I.view.tu(M);V.Cs&&(V=await c1(j.localStore,I.query,!1).then(({documents:N})=>I.view.tu(N,V)));const F=L&&L.targetChanges.get(I.targetId),H=L&&L.targetMismatches.get(I.targetId)!=null,$=I.view.applyChanges(V,j.isPrimaryClient,F,H);return v1(j,I.targetId,$.ou),$.snapshot}(t,v,w,A);const l=await c1(t.localStore,e,!0),u=new r5(e,l.$s),h=u.tu(l.documents),m=eh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),p=u.applyChanges(h,t.isPrimaryClient,m);v1(t,n,p.ou);const y=new i5(e,n,u);return t.hu.set(e,y),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),p.snapshot}async function d5(t,e,n){const i=Je(t),o=i.hu.get(e),l=i.Pu.get(o.targetId);if(l.length>1)return i.Pu.set(o.targetId,l.filter(u=>!pp(u,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await iv(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&y0(i.remoteStore,o.targetId),lv(i,o.targetId)}).catch(Pc)):(lv(i,o.targetId),await iv(i.localStore,o.targetId,!0))}async function h5(t,e){const n=Je(t),i=n.hu.get(e),o=n.Pu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),y0(n.remoteStore,i.targetId))}async function f5(t,e,n){const i=b5(t);try{const o=await function(u,h){const m=Je(u),p=wn.now(),y=h.reduce((A,T)=>A.add(T.key),ut());let v,w;return m.persistence.runTransaction("Locally write mutations","readwrite",A=>{let T=Mi(),j=ut();return m.Bs.getEntries(A,y).next(I=>{T=I,T.forEach((M,L)=>{L.isValidDocument()||(j=j.add(M))})}).next(()=>m.localDocuments.getOverlayedDocuments(A,T)).next(I=>{v=I;const M=[];for(const L of h){const V=C6(L,v.get(L.key).overlayedDocument);V!=null&&M.push(new Ya(L.key,V,rS(V.value.mapValue),Ls.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,M,h)}).next(I=>{w=I;const M=I.applyToLocalDocumentSet(v,j);return m.documentOverlayCache.saveOverlays(A,I.batchId,M)})}).then(()=>({batchId:w.batchId,changes:pS(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,h,m){let p=u.Au[u.currentUser.toKey()];p||(p=new Kt(it)),p=p.insert(h,m),u.Au[u.currentUser.toKey()]=p}(i,o.batchId,n),await nh(i,o.changes),await _p(i.remoteStore)}catch(o){const l=j0(o,"Failed to persist write");n.reject(l)}}async function YS(t,e){const n=Je(t);try{const i=await SL(n.localStore,e);e.targetChanges.forEach((o,l)=>{const u=n.Eu.get(l);u&&(bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.cu=!0:o.modifiedDocuments.size>0?bt(u.cu,14607):o.removedDocuments.size>0&&(bt(u.cu,42227),u.cu=!1))}),await nh(n,i,e)}catch(i){await Pc(i)}}function y1(t,e,n){const i=Je(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.hu.forEach((l,u)=>{const h=u.view.Fa(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const m=Je(u);m.onlineState=h;let p=!1;m.queries.forEach((y,v)=>{for(const w of v.Sa)w.Fa(h)&&(p=!0)}),p&&S0(m)}(i.eventManager,e),o.length&&i.lu.Y_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function m5(t,e,n){const i=Je(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Eu.get(e),l=o&&o.key;if(l){let u=new Kt(Ue.comparator);u=u.insert(l,Hn.newNoDocument(l,Xe.min()));const h=ut().add(l),m=new vp(Xe.min(),new Map,new Kt(it),u,h);await YS(i,m),i.Iu=i.Iu.remove(l),i.Eu.delete(e),C0(i)}else await iv(i.localStore,e,!1).then(()=>lv(i,e,n)).catch(Pc)}async function p5(t,e){const n=Je(t),i=e.batch.batchId;try{const o=await EL(n.localStore,e);QS(n,i,null),XS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await nh(n,o)}catch(o){await Pc(o)}}async function g5(t,e,n){const i=Je(t);try{const o=await function(u,h){const m=Je(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,h).next(v=>(bt(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(p,v))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(i.localStore,e);QS(i,e,n),XS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await nh(i,o)}catch(o){await Pc(o)}}function XS(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function QS(t,e,n){const i=Je(t);let o=i.Au[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),i.Au[i.currentUser.toKey()]=o}}function lv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Pu.get(e))t.hu.delete(i),n&&t.lu.gu(i,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(i=>{t.du.containsKey(i)||ZS(t,i)})}function ZS(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(y0(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),C0(t))}function v1(t,e,n){for(const i of n)i instanceof GS?(t.du.addReference(i.key,e),x5(t,i)):i instanceof KS?(je(A0,"Document no longer in limbo: "+i.key),t.du.removeReference(i.key,e),t.du.containsKey(i.key)||ZS(t,i.key)):He(19791,{pu:i})}function x5(t,e){const n=e.key,i=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(i)||(je(A0,"New document in limbo: "+n),t.Tu.add(i),C0(t))}function C0(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Ue(Ut.fromString(e)),i=t.Vu.next();t.Eu.set(i,new a5(n)),t.Iu=t.Iu.insert(n,i),BS(t.remoteStore,new Sa(Vr(mp(n.path)),i,"TargetPurposeLimboResolution",dp.le))}}async function nh(t,e,n){const i=Je(t),o=[],l=[],u=[];i.hu.isEmpty()||(i.hu.forEach((h,m)=>{u.push(i.fu(m,e,n).then(p=>{var y;if((p||n)&&i.isPrimaryClient){const v=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){o.push(p);const v=g0.Rs(m.targetId,p);l.push(v)}}))}),await Promise.all(u),i.lu.Y_(o),await async function(m,p){const y=Je(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>fe.forEach(p,w=>fe.forEach(w.ds,A=>y.persistence.referenceDelegate.addReference(v,w.targetId,A)).next(()=>fe.forEach(w.As,A=>y.persistence.referenceDelegate.removeReference(v,w.targetId,A)))))}catch(v){if(!Oc(v))throw v;je(x0,"Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const A=y.xs.get(w),T=A.snapshotVersion,j=A.withLastLimboFreeSnapshotVersion(T);y.xs=y.xs.insert(w,j)}}}(i.localStore,l))}async function y5(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){je(A0,"User change. New user:",e.toKey());const i=await OS(n.localStore,e);n.currentUser=e,function(l,u){l.Ru.forEach(h=>{h.forEach(m=>{m.reject(new Ne(de.CANCELLED,u))})}),l.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await nh(n,i.ks)}}function v5(t,e){const n=Je(t),i=n.Eu.get(e);if(i&&i.cu)return ut().add(i.key);{let o=ut();const l=n.Pu.get(e);if(!l)return o;for(const u of l){const h=n.hu.get(u);o=o.unionWith(h.view.eu)}return o}}function JS(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m5.bind(null,e),e.lu.Y_=n5.bind(null,e.eventManager),e.lu.gu=s5.bind(null,e.eventManager),e}function b5(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g5.bind(null,e),e}class Om{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return NL(this.persistence,new wL,e.initialUser,this.serializer)}Su(e){return new PS(p0.fi,this.serializer)}bu(e){return new IL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Om.provider={build:()=>new Om};class w5 extends Om{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){bt(this.persistence.referenceDelegate instanceof Mm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new aL(i,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?ns.withCacheSize(this.cacheSizeBytes):ns.DEFAULT;return new PS(i=>Mm.fi(i,n),this.serializer)}}class cv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>y1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=y5.bind(null,this.syncEngine),await JL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new t5}()}createDatastore(e){const n=bp(e.databaseInfo.databaseId),i=function(l){return new OL(l)}(e.databaseInfo);return function(l,u,h,m){return new BL(l,u,h,m)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,l,u,h){return new FL(i,o,l,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>y1(this.syncEngine,n,0),function(){return h1.C()?new h1:new kL}())}createSyncEngine(e,n){return function(o,l,u,h,m,p,y){const v=new o5(o,l,u,h,m,p);return y&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const l=Je(o);je(Ko,"RemoteStore shutting down."),l.da.add(5),await th(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}cv.provider={build:()=>new cv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="FirestoreClient";class _5{constructor(e,n,i,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=qn.UNAUTHENTICATED,this.clientId=W2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{je(Ua,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(je(Ua,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=j0(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function yy(t,e){t.asyncQueue.verifyOperationInProgress(),je(Ua,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async o=>{i.isEqual(o)||(await OS(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function b1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j5(t);je(Ua,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>m1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>m1(e.remoteStore,o)),t._onlineComponents=e}async function j5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je(Ua,"Using user provided OfflineComponentProvider");try{await yy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===de.FAILED_PRECONDITION||o.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;xc("Error using user provided cache. Falling back to memory cache: "+n),await yy(t,new Om)}}else je(Ua,"Using default OfflineComponentProvider"),await yy(t,new w5(void 0));return t._offlineComponents}async function eT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je(Ua,"Using user provided OnlineComponentProvider"),await b1(t,t._uninitializedComponentsProvider._online)):(je(Ua,"Using default OnlineComponentProvider"),await b1(t,new cv))),t._onlineComponents}function N5(t){return eT(t).then(e=>e.syncEngine)}async function Lm(t){const e=await eT(t),n=e.eventManager;return n.onListen=l5.bind(null,e.syncEngine),n.onUnlisten=d5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=c5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=h5.bind(null,e.syncEngine),n}function E5(t,e,n={}){const i=new Ti;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,m,p){const y=new R0({next:w=>{y.xu(),u.enqueueAndForget(()=>E0(l,v));const A=w.docs.has(h);!A&&w.fromCache?p.reject(new Ne(de.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&m&&m.source==="server"?p.reject(new Ne(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new T0(mp(h.path),y,{includeMetadataChanges:!0,Qa:!0});return N0(l,v)}(await Lm(t),t.asyncQueue,e,n,i)),i.promise}function S5(t,e,n={}){const i=new Ti;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,m,p){const y=new R0({next:w=>{y.xu(),u.enqueueAndForget(()=>E0(l,v)),w.fromCache&&m.source==="server"?p.reject(new Ne(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new T0(h,y,{includeMetadataChanges:!0,Qa:!0});return N0(l,v)}(await Lm(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t,e,n){if(!n)throw new Ne(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function T5(t,e,n,i){if(e===!0&&i===!0)throw new Ne(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _1(t){if(!Ue.isDocumentKey(t))throw new Ne(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j1(t){if(Ue.isDocumentKey(t))throw new Ne(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function is(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jp(t);throw new Ne(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="firestore.googleapis.com",N1=!0;class E1{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sT,this.ssl=N1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:N1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rL)throw new Ne(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ne(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ne(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ne(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Np{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new M3;switch(i.type){case"firstParty":return new V3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ne(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=w1.get(n);i&&(je("ComponentProvider","Removing Datastore"),w1.delete(n),i.terminate())}(this),Promise.resolve()}}function A5(t,e,n,i={}){var o;t=is(t,Np);const l=Ga(e),u=t._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),m=`${e}:${n}`;l&&(zv(`https://${m}`),Fv("Firestore",!0)),u.host!==sT&&u.host!==m&&xc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:l,emulatorOptions:i});if(!Fo(p,h)&&(t._setSettings(p),i.mockUserToken)){let y,v;if(typeof i.mockUserToken=="string")y=i.mockUserToken,v=qn.MOCK_USER;else{y=ZE(i.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new Ne(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new qn(w)}t._authCredentials=new P3(new G2(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class $n{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class Ra extends Xa{constructor(e,n,i){super(e,n,mp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new Ue(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function Ia(t,e,...n){if(t=Ht(t),nT("collection","path",e),t instanceof Np){const i=Ut.fromString(e,...n);return j1(i),new Ra(t,null,i)}{if(!(t instanceof $n||t instanceof Ra))throw new Ne(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ut.fromString(e,...n));return j1(i),new Ra(t.firestore,null,i)}}function Vt(t,e,...n){if(t=Ht(t),arguments.length===1&&(e=W2.newId()),nT("doc","path",e),t instanceof Np){const i=Ut.fromString(e,...n);return _1(i),new $n(t,null,new Ue(i))}{if(!(t instanceof $n||t instanceof Ra))throw new Ne(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ut.fromString(e,...n));return _1(i),new $n(t.firestore,t instanceof Ra?t.converter:null,new Ue(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="AsyncQueue";class T1{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new VS(this,"async_queue_retry"),this.rc=()=>{const i=xy();i&&je(S1,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const n=xy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=xy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ti;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Oc(e))throw e;je(S1,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Di("INTERNAL UNHANDLED ERROR: ",A1(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(e,n,i){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=_0.createAndSchedule(this,e,n,i,l=>this.uc(l));return this.Zu.push(o),o}oc(){this.Xu&&He(47125,{cc:A1(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function A1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1}(t,["next","error","complete"])}class Pi extends Np{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new T1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T1(e),this._firestoreClient=void 0,await e}}}function C5(t,e){const n=typeof t=="object"?t:$v(),i=typeof t=="string"?t:Cm,o=op(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=YE("firestore");l&&A5(o,...l)}return o}function Ep(t){if(t._terminated)throw new Ne(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||R5(t),t._firestoreClient}function R5(t){var e,n,i;const o=t._freezeSettings(),l=function(h,m,p,y){return new J3(h,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,tT(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new _5(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(h){const m=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(m),_online:m}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jc(Un.fromBase64String(e))}catch(n){throw new Ne(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jc(Un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=/^__.*__$/;class k5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jd(e,this.data,n,this.fieldTransforms)}}class rT{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ic:t})}}class D0{constructor(e,n,i,o,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new D0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:i,Rc:!1});return o.Vc(e),o}mc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:i,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Vm(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(iT(this.Ic)&&I5.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class D5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||bp(e)}bc(e,n,i,o=!1){return new D0({Ic:e,methodName:n,wc:i,path:Vn.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ap(t){const e=t._freezeSettings(),n=bp(t._databaseId);return new D5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aT(t,e,n,i,o,l={}){const u=t.bc(l.merge||l.mergeFields?2:0,e,n,o);P0("Data must be an object, but it was:",u,i);const h=oT(i,u);let m,p;if(l.merge)m=new bs(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const w=uv(e,v,n);if(!u.contains(w))throw new Ne(de.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);cT(y,w)||y.push(w)}m=new bs(y),p=u.fieldTransforms.filter(v=>m.covers(v.field))}else m=null,p=u.fieldTransforms;return new k5(new ss(h),m,p)}class Cp extends Tp{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cp}}class M0 extends Tp{_toFieldTransform(e){return new E6(e.path,new Cd)}isEqual(e){return e instanceof M0}}function M5(t,e,n,i){const o=t.bc(1,e,n);P0("Data must be an object, but it was:",o,i);const l=[],u=ss.empty();Wa(i,(m,p)=>{const y=O0(e,m,n);p=Ht(p);const v=o.mc(y);if(p instanceof Cp)l.push(y);else{const w=sh(p,v);w!=null&&(l.push(y),u.set(y,w))}});const h=new bs(l);return new rT(u,h,o.fieldTransforms)}function P5(t,e,n,i,o,l){const u=t.bc(1,e,n),h=[uv(e,i,n)],m=[o];if(l.length%2!=0)throw new Ne(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)h.push(uv(e,l[w])),m.push(l[w+1]);const p=[],y=ss.empty();for(let w=h.length-1;w>=0;--w)if(!cT(p,h[w])){const A=h[w];let T=m[w];T=Ht(T);const j=u.mc(A);if(T instanceof Cp)p.push(A);else{const I=sh(T,j);I!=null&&(p.push(A),y.set(A,I))}}const v=new bs(p);return new rT(y,v,u.fieldTransforms)}function O5(t,e,n,i=!1){return sh(n,t.bc(i?4:3,e))}function sh(t,e){if(lT(t=Ht(t)))return P0("Unsupported field value:",e,t),oT(t,e);if(t instanceof Tp)return function(i,o){if(!iT(o.Ic))throw o.gc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,o){const l=[];let u=0;for(const h of i){let m=sh(h,o.fc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}}(t,e)}return function(i,o){if((i=Ht(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _6(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=wn.fromDate(i);return{timestampValue:Dm(o.serializer,l)}}if(i instanceof wn){const l=new wn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Dm(o.serializer,l)}}if(i instanceof I0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof jc)return{bytesValue:TS(o.serializer,i._byteString)};if(i instanceof $n){const l=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw o.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:f0(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof k0)return function(u,h){return{mapValue:{fields:{[nS]:{stringValue:sS},[Rm]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.gc("VectorValues must only contain numeric values.");return c0(h.serializer,p)})}}}}}}(i,o);throw o.gc(`Unsupported field value: ${jp(i)}`)}(t,e)}function oT(t,e){const n={};return X2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wa(t,(i,o)=>{const l=sh(o,e.Ac(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function lT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wn||t instanceof I0||t instanceof jc||t instanceof $n||t instanceof Tp||t instanceof k0)}function P0(t,e,n){if(!lT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=jp(n);throw i==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+i)}}function uv(t,e,n){if((e=Ht(e))instanceof Sp)return e._internalPath;if(typeof e=="string")return O0(t,e);throw Vm("Field path arguments must be of type string or ",t,!1,void 0,n)}const L5=new RegExp("[~\\*/\\[\\]]");function O0(t,e,n){if(e.search(L5)>=0)throw Vm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sp(...e.split("."))._internalPath}catch{throw Vm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vm(t,e,n,i,o){const l=i&&!i.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${o}`),m+=")"),new Ne(de.INVALID_ARGUMENT,h+t+m)}function cT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n,i,o,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V5 extends uT{data(){return super.data()}}function Rp(t,e){return typeof e=="string"?O0(t,e):e instanceof Sp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L0{}class hT extends L0{}function Um(t,e,...n){let i=[];e instanceof L0&&i.push(e),i=i.concat(n),function(l){const u=l.filter(m=>m instanceof V0).length,h=l.filter(m=>m instanceof Ip).length;if(u>1||u>0&&h>0)throw new Ne(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)t=o._apply(t);return t}class Ip extends hT{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Ip(e,n,i)}_apply(e){const n=this._parse(e);return fT(e._query,n),new Xa(e.firestore,e.converter,Jy(e._query,n))}_parse(e){const n=Ap(e.firestore);return function(l,u,h,m,p,y,v){let w;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Ne(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){k1(v,y);const T=[];for(const j of v)T.push(I1(m,l,j));w={arrayValue:{values:T}}}else w=I1(m,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||k1(v,y),w=O5(h,u,v,y==="in"||y==="not-in");return mn.create(p,y,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function U5(t,e,n){const i=e,o=Rp("where",t);return Ip._create(o,i,n)}class V0 extends L0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new V0(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,l){let u=o;const h=l.getFlattenedFilters();for(const m of h)fT(u,m),u=Jy(u,m)}(e._query,n),new Xa(e.firestore,e.converter,Jy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class U0 extends hT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new U0(e,n)}_apply(e){const n=function(o,l,u){if(o.startAt!==null)throw new Ne(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ne(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ad(l,u)}(e._query,this._field,this._direction);return new Xa(e.firestore,e.converter,function(o,l){const u=o.explicitOrderBy.concat([l]);return new Lc(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function R1(t,e="asc"){const n=e,i=Rp("orderBy",t);return U0._create(i,n)}function I1(t,e,n){if(typeof(n=Ht(n))=="string"){if(n==="")throw new Ne(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dS(e)&&n.indexOf("/")!==-1)throw new Ne(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ut.fromString(n));if(!Ue.isDocumentKey(i))throw new Ne(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return HN(t,new Ue(i))}if(n instanceof $n)return HN(t,n._key);throw new Ne(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jp(n)}.`)}function k1(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fT(t,e){const n=function(o,l){for(const u of o)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ne(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class B5{convertValue(e,n="none"){switch(La(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Wa(e,(o,l)=>{i[o]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,o;const l=(o=(i=(n=e.fields)===null||n===void 0?void 0:n[Rm].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>nn(u.doubleValue));return new k0(l)}convertGeoPoint(e){return new I0(nn(e.latitude),nn(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=fp(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ed(e));default:return null}}convertTimestamp(e){const n=Pa(e);return new wn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ut.fromString(e);bt(DS(i),9688,{name:e});const o=new Sd(i.get(1),i.get(3)),l=new Ue(i.popFirst(5));return o.isEqual(n)||Di(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pT extends uT{constructor(e,n,i,o,l,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Rp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class mm extends pT{data(e={}){return super.data(e)}}class gT{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ld(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new mm(this._firestore,this._userDataWriter,i.key,i,new ld(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const m=new mm(o._firestore,o._userDataWriter,h.doc.key,h.doc,new ld(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const m=new mm(o._firestore,o._userDataWriter,h.doc.key,h.doc,new ld(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:z5(h.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function z5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t){t=is(t,$n);const e=is(t.firestore,Pi);return E5(Ep(e),t._key).then(n=>yT(e,t,n))}class B0 extends B5{constructor(e){super(),this.firestore=e}convertBytes(e){return new jc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,n)}}function xT(t){t=is(t,Xa);const e=is(t.firestore,Pi),n=Ep(e),i=new B0(e);return dT(t._query),S5(n,t._query).then(o=>new gT(e,i,t,o))}function kd(t,e,n){t=is(t,$n);const i=is(t.firestore,Pi),o=mT(t.converter,e);return kp(i,[aT(Ap(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Ls.none())])}function xs(t,e,n,...i){t=is(t,$n);const o=is(t.firestore,Pi),l=Ap(o);let u;return u=typeof(e=Ht(e))=="string"||e instanceof Sp?P5(l,"updateDoc",t._key,e,n,i):M5(l,"updateDoc",t._key,e),kp(o,[u.toMutation(t._key,Ls.exists(!0))])}function F5(t){return kp(is(t.firestore,Pi),[new u0(t._key,Ls.none())])}function Bm(t,e){const n=is(t.firestore,Pi),i=Vt(t),o=mT(t.converter,e);return kp(n,[aT(Ap(t.firestore),"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,Ls.exists(!1))]).then(()=>i)}function D1(t,...e){var n,i,o;t=Ht(t);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||C1(e[u])||(l=e[u],u++);const h={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(C1(e[u])){const v=e[u];e[u]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[u+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),e[u+2]=(o=v.complete)===null||o===void 0?void 0:o.bind(v)}let m,p,y;if(t instanceof $n)p=is(t.firestore,Pi),y=mp(t._key.path),m={next:v=>{e[u]&&e[u](yT(p,t,v))},error:e[u+1],complete:e[u+2]};else{const v=is(t,Xa);p=is(v.firestore,Pi),y=v._query;const w=new B0(p);m={next:A=>{e[u]&&e[u](new gT(p,w,v,A))},error:e[u+1],complete:e[u+2]},dT(t._query)}return function(w,A,T,j){const I=new R0(j),M=new T0(A,I,T);return w.asyncQueue.enqueueAndForget(async()=>N0(await Lm(w),M)),()=>{I.xu(),w.asyncQueue.enqueueAndForget(async()=>E0(await Lm(w),M))}}(Ep(p),y,h,m)}function kp(t,e){return function(i,o){const l=new Ti;return i.asyncQueue.enqueueAndForget(async()=>f5(await N5(i),o,l)),l.promise}(Ep(t),e)}function yT(t,e,n){const i=n.docs.get(e._key),o=new B0(t);return new pT(t,o,e._key,i,new ld(n.hasPendingWrites,n.fromCache),e.converter)}function Dd(){return new M0("serverTimestamp")}(function(e,n=!0){(function(o){Mc=o})(sl),qo(new Da("firestore",(i,{instanceIdentifier:o,options:l})=>{const u=i.getProvider("app").getImmediate(),h=new Pi(new O3(i.getProvider("auth-internal")),new U3(u,i.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ne(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sd(p.options.projectId,y)}(u,o),u);return l=Object.assign({useFetchStreams:n},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Pr(kN,DN,e),Pr(kN,DN,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="firebasestorage.googleapis.com",bT="storageBucket",q5=2*60*1e3,H5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt extends Hr{constructor(e,n,i=0){super(vy(e),`Firebase Storage: ${n} (${vy(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xt||(Xt={}));function vy(t){return"storage/"+t}function z0(){const t="An unknown error occurred, please check the error payload for server response.";return new Qt(Xt.UNKNOWN,t)}function $5(t){return new Qt(Xt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function G5(t){return new Qt(Xt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function K5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qt(Xt.UNAUTHENTICATED,t)}function W5(){return new Qt(Xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Y5(t){return new Qt(Xt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function X5(){return new Qt(Xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Q5(){return new Qt(Xt.CANCELED,"User canceled the upload/download.")}function Z5(t){return new Qt(Xt.INVALID_URL,"Invalid URL '"+t+"'.")}function J5(t){return new Qt(Xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function eV(){return new Qt(Xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bT+"' property when initializing the app?")}function tV(){return new Qt(Xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nV(){return new Qt(Xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sV(t){return new Qt(Xt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dv(t){return new Qt(Xt.INVALID_ARGUMENT,t)}function wT(){return new Qt(Xt.APP_DELETED,"The Firebase app was deleted.")}function rV(t){return new Qt(Xt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yd(t,e){return new Qt(Xt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function td(t){throw new Qt(Xt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=ws.makeFromUrl(e,n)}catch{return new ws(e,"")}if(i.path==="")return i;throw J5(e)}static makeFromUrl(e,n){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),m={bucket:1,path:3};function p(F){F.path_=decodeURIComponent(F.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",A=new RegExp(`^https?://${v}/${y}/b/${o}/o${w}`,"i"),T={bucket:1,path:3},j=n===vT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",M=new RegExp(`^https?://${j}/${o}/${I}`,"i"),V=[{regex:h,indices:m,postModify:l},{regex:A,indices:T,postModify:p},{regex:M,indices:{bucket:1,path:2},postModify:p}];for(let F=0;F<V.length;F++){const H=V[F],$=H.regex.exec(e);if($){const N=$[H.indices.bucket];let E=$[H.indices.path];E||(E=""),i=new ws(N,E),H.postModify(i);break}}if(i==null)throw Z5(e);return i}}class iV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t,e,n){let i=1,o=null,l=null,u=!1,h=0;function m(){return h===2}let p=!1;function y(...I){p||(p=!0,e.apply(null,I))}function v(I){o=setTimeout(()=>{o=null,t(A,m())},I)}function w(){l&&clearTimeout(l)}function A(I,...M){if(p){w();return}if(I){w(),y.call(null,I,...M);return}if(m()||u){w(),y.call(null,I,...M);return}i<64&&(i*=2);let V;h===1?(h=2,V=0):V=(i+Math.random())*1e3,v(V)}let T=!1;function j(I){T||(T=!0,w(),!p&&(o!==null?(I||(h=2),clearTimeout(o),v(0)):I||(h=1)))}return v(0),l=setTimeout(()=>{u=!0,j(!0)},n),j}function oV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){return t!==void 0}function cV(t){return typeof t=="object"&&!Array.isArray(t)}function F0(t){return typeof t=="string"||t instanceof String}function M1(t){return q0()&&t instanceof Blob}function q0(){return typeof Blob<"u"}function P1(t,e,n,i){if(i<e)throw dv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw dv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function _T(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const o=e(i)+"="+e(t[i]);n=n+o+"&"}return n=n.slice(0,-1),n}var Bo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bo||(Bo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,i,o,l,u,h,m,p,y,v,w=!0,A=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,j)=>{this.resolve_=T,this.reject_=j,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new $f(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const m=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===Bo.NO_ERROR,m=l.getStatus();if(!h||uV(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Bo.ABORT;i(!1,new $f(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;i(!0,new $f(p,l))})},n=(i,o)=>{const l=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());lV(m)?l(m):l()}catch(m){u(m)}else if(h!==null){const m=z0();m.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,m)):u(m)}else if(o.canceled){const m=this.appDelete_?wT():Q5();u(m)}else{const m=X5();u(m)}};this.canceled_?n(!1,new $f(!1,null,!0)):this.backoffId_=aV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&oV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $f{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function hV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function fV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function pV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function gV(t,e,n,i,o,l,u=!0,h=!1){const m=_T(t.urlParams),p=t.url+m,y=Object.assign({},t.headers);return mV(y,e),hV(y,n),fV(y,l),pV(y,i),new dV(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yV(...t){const e=xV();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(q0())return new Blob(t);throw new Qt(Xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t){if(typeof atob>"u")throw sV("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class by{constructor(e,n){this.data=e,this.contentType=n||null}}function wV(t,e){switch(t){case kr.RAW:return new by(jT(e));case kr.BASE64:case kr.BASE64URL:return new by(NT(t,e));case kr.DATA_URL:return new by(jV(e),NV(e))}throw z0()}function jT(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=i,u=t.charCodeAt(++n);i=65536|(l&1023)<<10|u&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function _V(t){let e;try{e=decodeURIComponent(t)}catch{throw yd(kr.DATA_URL,"Malformed data URL.")}return jT(e)}function NT(t,e){switch(t){case kr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw yd(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case kr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw yd(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=bV(e)}catch(o){throw o.message.includes("polyfill")?o:yd(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}class ET{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw yd(kr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=EV(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function jV(t){const e=new ET(t);return e.base64?NT(kr.BASE64,e.rest):_V(e.rest)}function NV(t){return new ET(t).contentType}function EV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){let i=0,o="";M1(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(M1(this.data_)){const i=this.data_,o=vV(i,e,n);return o===null?null:new Ea(o)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Ea(i,!0)}}static getBlob(...e){if(q0()){const n=e.map(i=>i instanceof Ea?i.data_:i);return new Ea(yV.apply(null,n))}else{const n=e.map(u=>F0(u)?wV(kr.RAW,u).data:u.data_);let i=0;n.forEach(u=>{i+=u.byteLength});const o=new Uint8Array(i);let l=0;return n.forEach(u=>{for(let h=0;h<u.length;h++)o[l++]=u[h]}),new Ea(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t){let e;try{e=JSON.parse(t)}catch{return null}return cV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function TV(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function TT(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t,e){return e}class Qn{constructor(e,n,i,o){this.server=e,this.local=n||e,this.writable=!!i,this.xform=o||AV}}let Gf=null;function CV(t){return!F0(t)||t.length<2?t:TT(t)}function AT(){if(Gf)return Gf;const t=[];t.push(new Qn("bucket")),t.push(new Qn("generation")),t.push(new Qn("metageneration")),t.push(new Qn("name","fullPath",!0));function e(l,u){return CV(u)}const n=new Qn("name");n.xform=e,t.push(n);function i(l,u){return u!==void 0?Number(u):u}const o=new Qn("size");return o.xform=i,t.push(o),t.push(new Qn("timeCreated")),t.push(new Qn("updated")),t.push(new Qn("md5Hash",null,!0)),t.push(new Qn("cacheControl",null,!0)),t.push(new Qn("contentDisposition",null,!0)),t.push(new Qn("contentEncoding",null,!0)),t.push(new Qn("contentLanguage",null,!0)),t.push(new Qn("contentType",null,!0)),t.push(new Qn("metadata","customMetadata",!0)),Gf=t,Gf}function RV(t,e){function n(){const i=t.bucket,o=t.fullPath,l=new ws(i,o);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function IV(t,e,n){const i={};i.type="file";const o=n.length;for(let l=0;l<o;l++){const u=n[l];i[u.local]=u.xform(i,e[u.server])}return RV(i,t),i}function CT(t,e,n){const i=ST(e);return i===null?null:IV(t,i,n)}function kV(t,e,n,i){const o=ST(e);if(o===null||!F0(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(p=>{const y=t.bucket,v=t.fullPath,w="/b/"+u(y)+"/o/"+u(v),A=H0(w,n,i),T=_T({alt:"media",token:p});return A+T})[0]}function DV(t,e){const n={},i=e.length;for(let o=0;o<i;o++){const l=e[o];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class RT{constructor(e,n,i,o){this.url=e,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t){if(!t)throw z0()}function MV(t,e){function n(i,o){const l=CT(t,o,e);return IT(l!==null),l}return n}function PV(t,e){function n(i,o){const l=CT(t,o,e);return IT(l!==null),kV(l,o,t.host,t._protocol)}return n}function kT(t){function e(n,i){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=W5():o=K5():n.getStatus()===402?o=G5(t.bucket):n.getStatus()===403?o=Y5(t.path):o=i,o.status=n.getStatus(),o.serverResponse=i.serverResponse,o}return e}function OV(t){const e=kT(t);function n(i,o){let l=e(i,o);return i.getStatus()===404&&(l=$5(t.path)),l.serverResponse=o.serverResponse,l}return n}function LV(t,e,n){const i=e.fullServerUrl(),o=H0(i,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,h=new RT(o,l,PV(t,n),u);return h.errorHandler=OV(e),h}function VV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function UV(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=VV(null,e)),i}function BV(t,e,n,i,o){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let V="";for(let F=0;F<2;F++)V=V+Math.random().toString().slice(2);return V}const m=h();u["Content-Type"]="multipart/related; boundary="+m;const p=UV(e,i,o),y=DV(p,n),v="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+m+"--",A=Ea.getBlob(v,i,w);if(A===null)throw tV();const T={name:p.fullPath},j=H0(l,t.host,t._protocol),I="POST",M=t.maxUploadRetryTime,L=new RT(j,I,MV(t,n),M);return L.urlParams=T,L.headers=u,L.body=A.uploadData(),L.errorHandler=kT(e),L}class zV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,o,l){if(this.sent_)throw td("cannot .send() more than once");if(Ga(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw td("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw td("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw td("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw td("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class FV extends zV{initXhr(){this.xhr_.responseType="text"}}function DT(){return new FV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this._service=e,n instanceof ws?this._location=n:this._location=ws.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Wo(e,n)}get root(){const e=new ws(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TT(this._location.path)}get storage(){return this._service}get parent(){const e=SV(this._location.path);if(e===null)return null;const n=new ws(this._location.bucket,e);return new Wo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw rV(e)}}function qV(t,e,n){t._throwIfRoot("uploadBytes");const i=BV(t.storage,t._location,AT(),new Ea(e,!0),n);return t.storage.makeRequestWithTokens(i,DT).then(o=>({metadata:o,ref:t}))}function HV(t){t._throwIfRoot("getDownloadURL");const e=LV(t.storage,t._location,AT());return t.storage.makeRequestWithTokens(e,DT).then(n=>{if(n===null)throw nV();return n})}function $V(t,e){const n=TV(t._location.path,e),i=new ws(t._location.bucket,n);return new Wo(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){return/^[A-Za-z]+:\/\//.test(t)}function KV(t,e){return new Wo(t,e)}function MT(t,e){if(t instanceof $0){const n=t;if(n._bucket==null)throw eV();const i=new Wo(n,n._bucket);return e!=null?MT(i,e):i}else return e!==void 0?$V(t,e):t}function WV(t,e){if(e&&GV(e)){if(t instanceof $0)return KV(t,e);throw dv("To use ref(service, url), the first argument must be a Storage instance.")}else return MT(t,e)}function O1(t,e){const n=e==null?void 0:e[bT];return n==null?null:ws.makeFromBucketSpec(n,t)}function YV(t,e,n,i={}){t.host=`${e}:${n}`;const o=Ga(e);o&&(zv(`https://${t.host}/b`),Fv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:ZE(l,t.app.options.projectId))}class $0{constructor(e,n,i,o,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=vT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=q5,this._maxUploadRetryTime=H5,this._requests=new Set,o!=null?this._bucket=ws.makeFromBucketSpec(o,this._host):this._bucket=O1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ws.makeFromBucketSpec(this._url,e):this._bucket=O1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){P1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){P1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(vs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wo(this,e)}_makeRequest(e,n,i,o,l=!0){if(this._deleted)return new iV(wT());{const u=gV(e,this._appId,i,o,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,o).getPromise()}}const L1="@firebase/storage",V1="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="storage";function hv(t,e,n){return t=Ht(t),qV(t,e,n)}function fv(t){return t=Ht(t),HV(t)}function mv(t,e){return t=Ht(t),WV(t,e)}function XV(t=$v(),e){t=Ht(t);const i=op(t,PT).getImmediate({identifier:e}),o=YE("storage");return o&&QV(i,...o),i}function QV(t,e,n,i={}){YV(t,e,n,i)}function ZV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new $0(n,i,o,e,sl)}function JV(){qo(new Da(PT,ZV,"PUBLIC").setMultipleInstances(!0)),Pr(L1,V1,""),Pr(L1,V1,"esm2017")}JV();const eU={apiKey:"AIzaSyCO65kN7L3OR7VnORRwYZckzoUEUJAoJQg",authDomain:"engagenatural-app.firebaseapp.com",projectId:"engagenatural-app",storageBucket:"engagenatural-app.firebasestorage.app",messagingSenderId:"314471463344",appId:"1:314471463344:web:db0916256301b9eb6fbe75",measurementId:"G-62ZGD6VC8P"},G0=t2(eU),rs=k3(G0),xt=C5(G0),cd=XV(G0),U1={image:5*1024*1024,video:50*1024*1024,other:10*1024*1024},wy=[{label:"Retention Policy",content:s.jsxs("div",{children:[s.jsx("strong",{children:"Content Retention Policy:"}),s.jsx("p",{style:{fontSize:14},children:"All uploaded content is tied to your active subscription. Upon contract expiration, content will be permanently removed from our servers within 30 days. To maintain access and preserve your content library, please ensure your annual subscription remains current."})]})},{label:"File Specs",content:s.jsxs("div",{children:[s.jsx("strong",{children:"File Upload Limits:"}),s.jsxs("ul",{style:{fontSize:14,margin:0,paddingLeft:18},children:[s.jsx("li",{children:"Images: Max 5MB per file (JPG, PNG, GIF)"}),s.jsx("li",{children:"Videos: Max 50MB per file, 5 minutes max duration (MP4, MOV, AVI)"}),s.jsx("li",{children:"Documents: Max 10MB per file (PDF, DOC, etc.)"}),s.jsx("li",{children:"Total brand storage: 100GB limit"})]}),s.jsx("em",{style:{fontSize:13},children:"Note: Video views will be visible in your brand dashboard."})]})},{label:"Video Tips",content:s.jsxs("div",{children:[s.jsx("strong",{children:"Video Optimization Tips:"}),s.jsxs("ul",{style:{fontSize:14,margin:0,paddingLeft:18},children:[s.jsxs("li",{children:["Use ",s.jsx("b",{children:"720p resolution"})," (1280×720) for mobile screens"]}),s.jsxs("li",{children:["Keep videos under ",s.jsx("b",{children:"5 minutes"})]}),s.jsxs("li",{children:["Use ",s.jsx("b",{children:"MP4 format"})," with H.264 codec"]}),s.jsxs("li",{children:["Target ",s.jsx("b",{children:"1.5-2.5 Mbps bitrate"})," for optimal quality/size"]})]}),s.jsxs("div",{style:{fontSize:13,marginTop:6},children:["Free compression tools:"," ",s.jsx("a",{href:"https://handbrake.fr/",target:"_blank",rel:"noopener noreferrer",children:"HandBrake"})," |"," ",s.jsx("a",{href:"https://clipchamp.com/",target:"_blank",rel:"noopener noreferrer",children:"Clipchamp"})," |"," ",s.jsx("a",{href:"https://cloudconvert.com/",target:"_blank",rel:"noopener noreferrer",children:"CloudConvert"})]})]})}];function OT(){const{brandId:t}=kc(),[e,n]=b.useState({title:"",body:"",type:"",isPublished:!1}),[i,o]=b.useState(null),[l,u]=b.useState(""),[h,m]=b.useState(""),[p,y]=b.useState(""),[v,w]=b.useState(""),[A,T]=b.useState(!1),[j,I]=b.useState(null),M=$=>{const{name:N,value:E,type:P,checked:U}=$.target;n(B=>({...B,[N]:P==="checkbox"?U:E}))},L=$=>{let N="other";return $.type.startsWith("image/")&&(N="image"),$.type.startsWith("video/")&&(N="video"),$.size>U1[N]?(u(`File too large! ${N} files must be under ${U1[N]/(1024*1024)}MB`),m(""),y(""),!1):(u(""),m(`✓ File size OK (${($.size/(1024*1024)).toFixed(2)}MB)`),N==="video"?V($):y(""),!0)},V=$=>{const N=document.createElement("video");N.preload="metadata",N.onloadedmetadata=function(){const E=Math.round(N.duration),P=Math.floor(E/60),U=E%60;E>300?y(`⚠️ Video is ${P}:${U.toString().padStart(2,"0")} - consider keeping under 5:00 for optimal performance`):y(`✓ Video: ${P}:${U.toString().padStart(2,"0")} duration - good length for mobile viewing`),URL.revokeObjectURL(N.src)},N.src=URL.createObjectURL($)},F=$=>{const N=$.target.files[0];o(N),N?L(N):(u(""),m(""),y(""))},H=async $=>{$.preventDefault(),w(""),T(!0);try{let N="";if(i){if(!L(i)){T(!1);return}const P=`${Date.now()}_${i.name}`,U=mv(cd,`brands/${t}/content/${P}`);w("Uploading file to storage...");const B=await hv(U,i);N=await fv(B.ref)}w("Saving content data...");const E={title:e.title,body:e.body,type:e.type,mediaUrl:N,isPublished:e.isPublished,createdAt:Dd(),updatedAt:Dd()};await Bm(Ia(xt,"brands",t,"content"),E),w("✓ Content uploaded successfully!"),n({title:"",body:"",type:"",isPublished:!1}),o(null),m(""),y(""),document.getElementById("mediaFile").value=""}catch(N){w(`Error: ${N.message}`)}finally{T(!1)}};return s.jsxs("div",{style:{display:"flex",maxWidth:900,margin:"40px auto",fontFamily:"Arial, sans-serif"},children:[s.jsxs("div",{style:{flex:1,padding:24,background:"#fff",borderRadius:12,boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[s.jsx("h1",{style:{fontSize:28,marginBottom:8},children:"Upload Brand Content"}),s.jsxs("div",{style:{color:"#475569",marginBottom:16},children:["Brand ID: ",s.jsx("strong",{children:t})]}),s.jsxs("form",{onSubmit:H,children:[s.jsxs("div",{className:"form-group",style:{marginBottom:20},children:[s.jsx("label",{htmlFor:"title",children:"Content Title *"}),s.jsx("input",{type:"text",id:"title",name:"title",required:!0,maxLength:100,value:e.title,onChange:M})]}),s.jsxs("div",{className:"form-group",style:{marginBottom:20},children:[s.jsx("label",{htmlFor:"body",children:"Description"}),s.jsx("textarea",{id:"body",name:"body",placeholder:"Enter content description...",maxLength:1e3,value:e.body,onChange:M,style:{height:100,resize:"vertical"}})]}),s.jsxs("div",{className:"form-group",style:{marginBottom:20},children:[s.jsx("label",{htmlFor:"type",children:"Content Type *"}),s.jsxs("select",{id:"type",name:"type",required:!0,value:e.type,onChange:M,children:[s.jsx("option",{value:"",children:"Select content type"}),s.jsx("option",{value:"article",children:"Article"}),s.jsx("option",{value:"image",children:"Image"}),s.jsx("option",{value:"video",children:"Video (720p recommended)"}),s.jsx("option",{value:"document",children:"Document"})]})]}),s.jsxs("div",{className:"form-group",style:{marginBottom:20},children:[s.jsx("label",{htmlFor:"mediaFile",children:"Upload File"}),s.jsx("input",{type:"file",id:"mediaFile",name:"mediaFile",accept:"image/*,video/mp4,video/mov,video/avi,.pdf,.doc,.docx",onChange:F}),l&&s.jsx("div",{style:{color:"#dc3545",fontSize:14},children:l}),h&&s.jsx("div",{style:{color:"#28a745",fontSize:14},children:h}),p&&s.jsx("div",{style:{color:p.startsWith("✓")?"#28a745":"#dc3545",fontSize:14},children:p})]}),s.jsx("div",{className:"form-group",style:{marginBottom:20},children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",id:"isPublished",name:"isPublished",checked:e.isPublished,onChange:M})," ","Publish immediately"]})}),s.jsx("button",{type:"submit",className:"submit-btn",style:{background:A?"#6c757d":"#007bff",color:"white",padding:"12px 30px",border:"none",borderRadius:4,cursor:A?"not-allowed":"pointer",fontSize:16},disabled:A,children:A?"Uploading...":"Upload Content"}),s.jsx("div",{style:{marginTop:10,minHeight:24},children:v&&s.jsx("span",{style:{color:v.startsWith("✓")?"#28a745":v.startsWith("Error")?"#dc3545":"#007bff"},children:v})})]})]}),s.jsxs("div",{style:{width:180,marginLeft:24,display:"flex",flexDirection:"column",alignItems:"flex-end",position:"relative"},children:[s.jsx("div",{style:{position:"sticky",top:40,width:"100%",zIndex:2},children:wy.map(($,N)=>s.jsx("button",{onClick:()=>I(j===N?null:N),style:{width:"100%",marginBottom:8,padding:"10px 12px",background:j===N?"#0ea5e9":"#f1f5f9",color:j===N?"#fff":"#0ea5e9",border:"none",borderRadius:6,fontWeight:600,cursor:"pointer",textAlign:"right",transition:"background 0.2s"},children:$.label},$.label))}),j!==null&&s.jsxs("div",{style:{position:"absolute",top:8+j*48,right:200,width:320,background:"#fff",border:"1px solid #e2e8f0",borderRadius:8,boxShadow:"0 2px 8px rgba(0,0,0,0.08)",padding:18,zIndex:10},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[s.jsx("span",{style:{fontWeight:700,color:"#0ea5e9"},children:wy[j].label}),s.jsx("button",{onClick:()=>I(null),style:{background:"none",border:"none",fontSize:18,cursor:"pointer",color:"#64748b"},children:"×"})]}),s.jsx("div",{children:wy[j].content})]})]})]})}const LT=b.createContext({}),Lt={SUPER_ADMIN:"super_admin",BRAND_MANAGER:"brand_manager",RETAIL_USER:"retail_user",COMMUNITY_USER:"community_user"},jt={VIEW_COMMUNITIES:"view_communities",POST_IN_COMMUNITIES:"post_in_communities",POST_AS_BRAND:"post_as_brand",MODERATE_COMMUNITIES:"moderate_communities",VIEW_ALL_CHALLENGES:"view_all_challenges",VIEW_OWN_BRAND_CHALLENGES:"view_own_brand_challenges",TAKE_CHALLENGES:"take_challenges",CREATE_CHALLENGES:"create_challenges",VIEW_ALL_CONTENT:"view_all_content",VIEW_OWN_BRAND_CONTENT:"view_own_brand_content",ACCESS_COMPETITOR_CONTENT:"access_competitor_content",UPLOAD_CONTENT:"upload_content",MANAGE_USERS:"manage_users",MANAGE_BRANDS:"manage_brands",VIEW_ANALYTICS:"view_analytics",SYSTEM_SETTINGS:"system_settings"},tU={[Lt.SUPER_ADMIN]:[...Object.values(jt)],[Lt.BRAND_MANAGER]:[jt.VIEW_COMMUNITIES,jt.POST_IN_COMMUNITIES,jt.POST_AS_BRAND,jt.VIEW_OWN_BRAND_CHALLENGES,jt.CREATE_CHALLENGES,jt.TAKE_CHALLENGES,jt.VIEW_OWN_BRAND_CONTENT,jt.UPLOAD_CONTENT,jt.VIEW_ANALYTICS],[Lt.RETAIL_USER]:[jt.VIEW_COMMUNITIES,jt.POST_IN_COMMUNITIES,jt.VIEW_ALL_CHALLENGES,jt.TAKE_CHALLENGES,jt.VIEW_ALL_CONTENT,jt.ACCESS_COMPETITOR_CONTENT],[Lt.COMMUNITY_USER]:[jt.VIEW_COMMUNITIES,jt.POST_IN_COMMUNITIES,jt.VIEW_ALL_CHALLENGES,jt.TAKE_CHALLENGES,jt.VIEW_ALL_CONTENT,jt.ACCESS_COMPETITOR_CONTENT]},Qa=()=>{const t=b.useContext(LT);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},nU=({children:t})=>{const[e,n]=b.useState(null),[i,o]=b.useState(null),[l,u]=b.useState(null),[h,m]=b.useState(null),[p,y]=b.useState(!0);b.useEffect(()=>A2(rs,async k=>{k?(n(k),await v(k.uid,k)):(n(null),o(null),u(null),m(null)),y(!1)}),[]);const v=async(R,k=null)=>{try{const se=await rh(Vt(xt,"users",R));if(se.exists()){const pe=se.data();o(pe),u(pe.role||Lt.COMMUNITY_USER),m(pe.brandId||null)}else{const pe={email:(k==null?void 0:k.email)||"",role:Lt.COMMUNITY_USER,createdAt:new Date,updatedAt:new Date};await kd(Vt(xt,"users",R),pe),o(pe),u(Lt.COMMUNITY_USER)}}catch(se){console.error("Error loading user profile:",se)}},w=async(R,k)=>{try{return{success:!0,user:(await Jv(rs,R,k)).user}}catch(se){return{success:!1,error:se.message}}},A=async(R,k,se={})=>{try{const pe=await Zv(rs,R,k),K={email:R,role:se.role||Lt.COMMUNITY_USER,brandId:se.brandId||null,firstName:se.firstName||"",lastName:se.lastName||"",createdAt:new Date,updatedAt:new Date};return await kd(Vt(xt,"users",pe.user.uid),K),{success:!0,user:pe.user}}catch(pe){return{success:!1,error:pe.message}}},T=async()=>{try{return await e0(rs),{success:!0}}catch(R){return{success:!1,error:R.message}}},j=async R=>{if(!e)return{success:!1,error:"No user logged in"};try{const k=Vt(xt,"users",e.uid);return await xs(k,{...R,updatedAt:new Date}),await v(e.uid,e),{success:!0}}catch(k){return{success:!1,error:k.message}}},I=R=>l?(tU[l]||[]).includes(R):!1,B={user:e,userProfile:i,role:l,brandId:h,loading:p,signIn:w,signUp:A,signOut:T,updateUserProfile:j,hasPermission:I,canAccessContent:R=>l===Lt.SUPER_ADMIN?!0:l===Lt.BRAND_MANAGER?R===h:I(jt.ACCESS_COMPETITOR_CONTENT),canTakeChallenge:R=>l===Lt.SUPER_ADMIN?!0:l===Lt.BRAND_MANAGER?R===h:I(jt.TAKE_CHALLENGES),canViewChallenge:R=>l===Lt.SUPER_ADMIN?!0:l===Lt.BRAND_MANAGER?R===h&&I(jt.VIEW_OWN_BRAND_CHALLENGES):I(jt.VIEW_ALL_CHALLENGES),canCreateChallenge:()=>I(jt.CREATE_CHALLENGES),canPostAsBrand:()=>I(jt.POST_AS_BRAND),canModerateContent:()=>I(jt.MODERATE_COMMUNITIES),isSuperAdmin:()=>l===Lt.SUPER_ADMIN,isBrandManager:()=>l===Lt.BRAND_MANAGER,isRetailUser:()=>l===Lt.RETAIL_USER,isCommunityUser:()=>l===Lt.COMMUNITY_USER};return s.jsx(LT.Provider,{value:B,children:t})},sU=t=>{const[e,n]=b.useState({totalCommunities:0,activeMembers:0,monthlyEngagement:0,contentItems:0,loading:!0,error:null});return b.useEffect(()=>{t&&(async()=>{try{const o=await fetch(`/api/brands/${t}/analytics`);if(o.ok){const l=await o.json();n({...l,loading:!1,error:null})}else throw new Error("Failed to fetch analytics")}catch(o){console.error("Error fetching brand analytics:",o),n({totalCommunities:3,activeMembers:1247,monthlyEngagement:3456,contentItems:28,challengesCompleted:156,averageScore:87,topPerformers:[{name:"Sarah Johnson",score:95},{name:"Mike Chen",score:92},{name:"Lisa Rodriguez",score:89}],recentActivity:[{id:1,type:"challenge_completed",user:"Sarah Johnson",action:"completed Sustainability Basics challenge",timestamp:new Date(Date.now()-72e5)},{id:2,type:"community_post",user:"Mike Chen",action:"posted in Product Training Hub",timestamp:new Date(Date.now()-144e5)},{id:3,type:"content_upload",user:"Brand Manager",action:"uploaded new training video",timestamp:new Date(Date.now()-216e5)}],communityStats:[{name:"Sustainability Champions",members:456,engagement:78,growth:12},{name:"Product Training Hub",members:342,engagement:85,growth:8},{name:"Retail Excellence",members:449,engagement:72,growth:15}],loading:!1,error:null})}})()},[t]),e};function pv({brandId:t}){var N;const e=dr(),{userProfile:n,role:i,brandId:o,PERMISSIONS:l={},hasPermission:u=()=>!0,canViewAnalytics:h=()=>!0,canAccessContent:m=()=>!0,isBrandManager:p=()=>i==="brand_manager"}=Qa(),{analytics:y,loading:v,error:w}=sU(t),[A,T]=b.useState(!1),[j,I]=b.useState({totalInvestment:"",employeesTrained:50,avgProfitPerItem:5}),M=()=>l.VIEW_OWN_BRAND_CONTENT?u(l.VIEW_OWN_BRAND_CONTENT):p()&&o===t;b.useEffect(()=>{if(!M()){console.warn("Permission check failed, redirecting..."),e("/");return}},[n,i,o,t,e]);const L=j.employeesTrained*3,V=L*j.avgProfitPerItem,F=j.totalInvestment>0?((V-parseFloat(j.totalInvestment))/parseFloat(j.totalInvestment)*100).toFixed(1):0,H=(E,P)=>{if(E==="totalInvestment"){const U=P.replace(/[^0-9.]/g,"");I(B=>({...B,[E]:U}))}else I(U=>({...U,[E]:P}))},$=()=>{e("/")};return v?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-lg",children:"Loading brand dashboard..."})}):w?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-red-600",children:["Error loading dashboard: ",w]})}):s.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Brand Dashboard"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your brand presence and track performance"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>T(!A),className:"flex items-center space-x-2 bg-white border border-gray-300 rounded-lg px-4 py-2 hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:((N=n==null?void 0:n.firstName)==null?void 0:N.charAt(0))||"U"})}),s.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:(n==null?void 0:n.firstName)||"User"}),s.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),A&&s.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsxs("p",{className:"font-medium text-gray-900",children:[n==null?void 0:n.firstName," ",n==null?void 0:n.lastName]}),s.jsx("p",{className:"text-sm text-gray-500",children:n==null?void 0:n.email})]}),s.jsxs("div",{className:"py-2",children:[s.jsx("button",{onClick:()=>e("/retailer/profile"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"View Profile"}),s.jsx("button",{onClick:()=>e(`/brand/${t}/configuration`),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Brand Settings"}),s.jsx("button",{onClick:$,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Logout"})]})]})]})]}),!l.VIEW_OWN_BRAND_CONTENT&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 text-yellow-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.876c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.062 15.5c-.77.833.192 2.5 1.732 2.5z"})}),s.jsx("span",{className:"text-yellow-800 text-sm",children:"Enhanced permission system not active. Using basic access controls."})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Communities"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(y==null?void 0:y.totalCommunities)||12})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("span",{className:"text-green-600 text-sm font-medium",children:"+8.2%"}),s.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"from last month"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Members"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(y==null?void 0:y.activeMembers)||2847})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("span",{className:"text-green-600 text-sm font-medium",children:"+12.5%"}),s.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"from last month"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Engagement"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(y==null?void 0:y.monthlyEngagement)||18924})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("span",{className:"text-green-600 text-sm font-medium",children:"+23.1%"}),s.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"from last month"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Content Items"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(y==null?void 0:y.contentItems)||156})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("span",{className:"text-green-600 text-sm font-medium",children:"+5.7%"}),s.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"from last month"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Content Engagement"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Last 30 days"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h8m-9 5a9 9 0 1118 0 9 9 0 01-18 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Videos"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:"1,247"}),s.jsx("p",{className:"text-xs text-gray-500",children:"engagements"})]})]})}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Articles"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:"892"}),s.jsx("p",{className:"text-xs text-gray-500",children:"engagements"})]})]})}),s.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Posts"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:"2,156"}),s.jsx("p",{className:"text-xs text-gray-500",children:"engagements"})]})]})}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Social Asks"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:"634"}),s.jsx("p",{className:"text-xs text-gray-500",children:"engagements"})]})]})})]}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Engagement Rate"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:"24.7%"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),s.jsx("span",{className:"text-sm text-purple-600 font-medium",children:"Excellent performance"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),s.jsx("span",{className:"font-medium text-gray-900",children:"Create New Campaign"})]}),s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),s.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsx("span",{className:"font-medium text-gray-900",children:"Invite Community Members"})]}),s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),s.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),s.jsx("span",{className:"font-medium text-gray-900",children:"View Analytics Report"})]}),s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Activity"}),s.jsx("div",{className:"space-y-4",children:((y==null?void 0:y.recentActivity)||[{id:1,type:"member_joined",user:"Sarah Johnson",community:"Outdoor Enthusiasts",time:"2 hours ago"},{id:2,type:"challenge_completed",user:"Mike Chen",challenge:"Product Knowledge Quiz",time:"4 hours ago"},{id:3,type:"content_shared",user:"Emily Davis",content:"Summer Collection Video",time:"6 hours ago"},{id:4,type:"campaign_launched",campaign:"Spring Promotion",time:"1 day ago"}]).map(E=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm text-gray-900",children:[s.jsx("span",{className:"font-medium",children:E.user||E.campaign}),E.type==="member_joined"&&` joined ${E.community}`,E.type==="challenge_completed"&&` completed ${E.challenge}`,E.type==="content_shared"&&` shared ${E.content}`,E.type==="campaign_launched"&&" was launched"]}),s.jsx("p",{className:"text-xs text-gray-500",children:E.time})]})]},E.id))})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Communities Overview"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:((y==null?void 0:y.communities)||[{name:"Outdoor Enthusiasts",members:1247,engagement:89,growth:"+12%"},{name:"Fitness Community",members:892,engagement:76,growth:"+8%"},{name:"Tech Innovators",members:634,engagement:94,growth:"+15%"}]).map((E,P)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:E.name}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Members"}),s.jsx("span",{className:"font-medium",children:E.members})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Engagement"}),s.jsxs("span",{className:"font-medium",children:[E.engagement,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${E.engagement}%`}})}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Growth"}),s.jsx("span",{className:"text-green-600 font-medium",children:E.growth})]})]})]},P))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"ROI Calculator"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Investment ($)"}),s.jsx("input",{type:"text",value:j.totalInvestment,onChange:E=>H("totalInvestment",E.target.value),placeholder:"Enter investment amount",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg font-bold"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employees Trained"}),s.jsx("input",{type:"number",value:j.employeesTrained,onChange:E=>H("employeesTrained",parseInt(E.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Average Profit Per Item ($)"}),s.jsx("input",{type:"number",value:j.avgProfitPerItem,onChange:E=>H("avgProfitPerItem",parseFloat(E.target.value)||0),step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-4",children:"ROI Results"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-700",children:"Additional Products Sold:"}),s.jsx("span",{className:"font-bold text-green-900",children:L})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-700",children:"Additional Revenue:"}),s.jsxs("span",{className:"font-bold text-green-900",children:["$",V.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between border-t border-green-200 pt-3",children:[s.jsx("span",{className:"text-green-700 font-medium",children:"ROI Percentage:"}),s.jsxs("span",{className:"font-bold text-green-900 text-xl",children:[F,"%"]})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-green-100 rounded-lg",children:s.jsxs("p",{className:"text-sm text-green-800",children:[s.jsx("strong",{children:"Calculation:"})," Based on 3 additional products sold per retail employee trained before someone else trains them, with an average profit of $",j.avgProfitPerItem," per item."]})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Legacy Features"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("a",{href:`/brand/${t}/upload`,className:"flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),s.jsx("span",{className:"font-medium text-gray-900",children:"Content Upload"})]}),s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),s.jsxs("a",{href:`/brand/${t}/configuration`,className:"flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-500 rounded-lg flex items-center justify-center",children:s.jsxs("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsx("span",{className:"font-medium text-gray-900",children:"Brand Configuration"})]}),s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),s.jsxs("a",{href:`/brand/${t}/challenges`,className:"flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),s.jsx("span",{className:"font-medium text-gray-900",children:"Challenges"})]}),s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),A&&s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>T(!1)})]})}function rU({onConfirm:t,onCancel:e}){return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full",children:[s.jsx("h2",{className:"text-xl font-bold mb-2 text-red-600",children:"Warning"}),s.jsx("p",{className:"mb-4",children:"This challenge has already been published and may have user participation. Editing it could affect users who have already started or completed it. Are you sure you want to continue?"}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{className:"px-4 py-2 bg-gray-300 rounded",onClick:e,children:"Cancel"}),s.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded",onClick:t,children:"Yes, Edit Anyway"})]})]})})}const B1=[{value:"photo",label:"Photo Upload"},{value:"quiz",label:"Quiz"},{value:"social",label:"Social Media Ask"},{value:"video_quiz",label:"Watch Video + Quiz"},{value:"read_quiz",label:"Read Lesson + Quiz"},{value:"document",label:"Document Upload"},{value:"audio",label:"Audio Recording"}];function iU({tabs:t,current:e,setCurrent:n}){return s.jsx("div",{className:"flex space-x-2 mb-4",children:t.map((i,o)=>s.jsx("button",{className:`px-4 py-2 rounded-t ${e===o?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>n(o),children:i},i))})}function aU({brandId:t,challenge:e,mode:n,onSaved:i,onCancel:o}){const[l,u]=b.useState(0),[h,m]=b.useState({title:"",description:"",communityId:"",startDate:"",endDate:"",points:0,status:"draft",reusedContent:!1}),[p,y]=b.useState([]),[v,w]=b.useState(!1);b.useEffect(()=>{var V,F,H,$;e&&(m({title:e.title||"",description:e.description||"",communityId:e.communityId||"",startDate:e.startDate?(F=(V=e.startDate).toDate)==null?void 0:F.call(V).toISOString().slice(0,10):"",endDate:e.endDate?($=(H=e.endDate).toDate)==null?void 0:$.call(H).toISOString().slice(0,10):"",points:e.points||0,status:e.status||"draft",reusedContent:e.reusedContent||!1}),y(e.activities||[]))},[e]);const A=V=>{const{name:F,value:H,type:$,checked:N}=V.target;m(E=>({...E,[F]:$==="checkbox"?N:H}))},T=()=>{y(V=>[...V,{type:"",instructions:"",specs:""}])},j=(V,F,H)=>{y($=>$.map((N,E)=>E===V?{...N,[F]:H}:N))},I=V=>{y(F=>F.filter((H,$)=>$!==V))},M=async()=>{if(n==="edit"&&h.status==="published"){w(!0);return}await L()},L=async()=>{const V={...h,activities:p,createdAt:(e==null?void 0:e.createdAt)||Dd(),updatedAt:Dd()};n==="edit"&&(e!=null&&e.id)?await xs(Vt(xt,"brands",t,"challenges",e.id),V):await Bm(Ia(xt,"brands",t,"challenges"),V),i()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-2xl relative",children:[s.jsx("button",{className:"absolute top-2 right-2 text-gray-500",onClick:o,children:"×"}),s.jsx(iU,{tabs:["Basic Info","Activities","Review & Publish"],current:l,setCurrent:u}),l===0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-semibold",children:"Title"}),s.jsx("input",{className:"w-full border rounded p-2",name:"title",value:h.title,onChange:A})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-semibold",children:"Description"}),s.jsx("textarea",{className:"w-full border rounded p-2",name:"description",value:h.description,onChange:A})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-semibold",children:"Community"}),s.jsxs("select",{className:"w-full border rounded p-2",name:"communityId",value:h.communityId,onChange:A,children:[s.jsx("option",{value:"",children:"Select community"}),s.jsx("option",{value:"public",children:"Public"}),s.jsx("option",{value:"retail1",children:"Retail Community 1"}),s.jsx("option",{value:"retail2",children:"Retail Community 2"}),s.jsx("option",{value:"retail3",children:"Retail Community 3"})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-semibold",children:"Start Date"}),s.jsx("input",{type:"date",className:"border rounded p-2",name:"startDate",value:h.startDate,onChange:A})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-semibold",children:"End Date"}),s.jsx("input",{type:"date",className:"border rounded p-2",name:"endDate",value:h.endDate,onChange:A})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-semibold",children:"Points"}),s.jsx("input",{type:"number",className:"border rounded p-2",name:"points",value:h.points,onChange:A,min:0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-semibold",children:"Status"}),s.jsxs("select",{className:"w-full border rounded p-2",name:"status",value:h.status,onChange:A,children:[s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"published",children:"Published"})]})]}),s.jsx("div",{children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",name:"reusedContent",checked:h.reusedContent,onChange:A})," ","Re-use content (yearly subscription required)"]})})]}),l===1&&s.jsxs("div",{children:[s.jsx("div",{className:"mb-4",children:s.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded",onClick:T,children:"+ Add Activity"})}),p.map((V,F)=>s.jsxs("div",{className:"border rounded p-3 mb-3 bg-gray-50 relative",children:[s.jsx("button",{className:"absolute top-2 right-2 text-red-500",onClick:()=>I(F),children:"×"}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-semibold",children:"Type"}),s.jsxs("select",{className:"w-full border rounded p-2",value:V.type,onChange:H=>j(F,"type",H.target.value),children:[s.jsx("option",{value:"",children:"Select type"}),B1.map(H=>s.jsx("option",{value:H.value,children:H.label},H.value))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-semibold",children:"Instructions"}),s.jsx("input",{className:"w-full border rounded p-2",value:V.instructions,onChange:H=>j(F,"instructions",H.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-semibold",children:"Specs (file type, size, etc.)"}),s.jsx("input",{className:"w-full border rounded p-2",value:V.specs,onChange:H=>j(F,"specs",H.target.value)})]})]},F))]}),l===2&&s.jsxs("div",{children:[s.jsx("h2",{className:"font-bold mb-2",children:"Review Challenge"}),s.jsxs("div",{children:[s.jsx("strong",{children:"Title:"})," ",h.title]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Description:"})," ",h.description]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Community:"})," ",h.communityId]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Start:"})," ",h.startDate]}),s.jsxs("div",{children:[s.jsx("strong",{children:"End:"})," ",h.endDate]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Points:"})," ",h.points]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Status:"})," ",h.status]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Re-used Content:"})," ",h.reusedContent?"Yes":"No"]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("strong",{children:"Activities:"}),s.jsx("ul",{children:p.map((V,F)=>{var H;return s.jsxs("li",{children:[s.jsx("b",{children:((H=B1.find($=>$.value===V.type))==null?void 0:H.label)||V.type}),": ",V.instructions," (",V.specs,")"]},F)})})]})]}),s.jsxs("div",{className:"flex justify-between mt-6",children:[s.jsx("button",{className:"px-4 py-2 bg-gray-300 rounded",onClick:o,children:"Cancel"}),s.jsxs("div",{children:[l>0&&s.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded mr-2",onClick:()=>u(l-1),children:"Back"}),l<2&&s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded",onClick:()=>u(l+1),children:"Next"}),l===2&&s.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded",onClick:M,children:"Save Challenge"})]})]}),v&&s.jsx(rU,{onConfirm:async()=>{w(!1),await L()},onCancel:()=>w(!1)})]})})}function VT(){const{brandId:t}=kc(),[e,n]=b.useState([]),[i,o]=b.useState(null),[l,u]=b.useState("create"),[h,m]=b.useState(!0);b.useEffect(()=>{async function A(){m(!0);const T=Um(Ia(xt,"brands",t,"challenges")),j=await xT(T);n(j.docs.map(I=>({id:I.id,...I.data()}))),m(!1)}A()},[t]);const p=A=>{o(A),u("edit")},y=A=>{o({...A,title:A.title+" (Copy)",status:"draft"}),u("duplicate")},v=()=>{o(null),u("create")},w=()=>{o(null),u("create"),m(!0),setTimeout(()=>m(!1),500)};return s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Brand Challenges"}),s.jsx("button",{className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded",onClick:v,children:"+ Create New Challenge"}),h?s.jsx("p",{children:"Loading..."}):s.jsx("div",{className:"space-y-4",children:e.map(A=>{var T,j,I,M;return s.jsxs("div",{className:"border rounded p-4 flex justify-between items-center bg-gray-50",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:A.title}),s.jsxs("div",{className:"text-sm text-gray-500",children:[A.status," | ",((M=(j=(T=A.startDate)==null?void 0:T.toDate)==null?void 0:(I=j.call(T)).toLocaleDateString)==null?void 0:M.call(I))||"No date"]})]}),s.jsxs("div",{className:"space-x-2",children:[s.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded",onClick:()=>p(A),children:"Edit"}),s.jsx("button",{className:"px-3 py-1 bg-yellow-500 text-white rounded",onClick:()=>y(A),children:"Duplicate"})]})]},A.id)})}),(l==="create"||l==="edit"||l==="duplicate")&&s.jsx(aU,{brandId:t,challenge:i,mode:l,onSaved:w,onCancel:()=>o(null)})]})}function UT(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=UT(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function BT(){for(var t,e,n=0,i="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=UT(t))&&(i&&(i+=" "),i+=e);return i}const K0="-",oU=t=>{const e=cU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:u=>{const h=u.split(K0);return h[0]===""&&h.length!==1&&h.shift(),zT(h,e)||lU(u)},getConflictingClassGroupIds:(u,h)=>{const m=n[u]||[];return h&&i[u]?[...m,...i[u]]:m}}},zT=(t,e)=>{var u;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),o=i?zT(t.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const l=t.join(K0);return(u=e.validators.find(({validator:h})=>h(l)))==null?void 0:u.classGroupId},z1=/^\[(.+)\]$/,lU=t=>{if(z1.test(t)){const e=z1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},cU=t=>{const{theme:e,classGroups:n}=t,i={nextPart:new Map,validators:[]};for(const o in n)gv(n[o],i,o,e);return i},gv=(t,e,n,i)=>{t.forEach(o=>{if(typeof o=="string"){const l=o===""?e:F1(e,o);l.classGroupId=n;return}if(typeof o=="function"){if(uU(o)){gv(o(i),e,n,i);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([l,u])=>{gv(u,F1(e,l),n,i)})})},F1=(t,e)=>{let n=t;return e.split(K0).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},uU=t=>t.isThemeGetter,dU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const o=(l,u)=>{n.set(l,u),e++,e>t&&(e=0,i=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=i.get(l))!==void 0)return o(l,u),u},set(l,u){n.has(l)?n.set(l,u):o(l,u)}}},xv="!",yv=":",hU=yv.length,fU=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=o=>{const l=[];let u=0,h=0,m=0,p;for(let T=0;T<o.length;T++){let j=o[T];if(u===0&&h===0){if(j===yv){l.push(o.slice(m,T)),m=T+hU;continue}if(j==="/"){p=T;continue}}j==="["?u++:j==="]"?u--:j==="("?h++:j===")"&&h--}const y=l.length===0?o:o.substring(m),v=mU(y),w=v!==y,A=p&&p>m?p-m:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:A}};if(e){const o=e+yv,l=i;i=u=>u.startsWith(o)?l(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const o=i;i=l=>n({className:l,parseClassName:o})}return i},mU=t=>t.endsWith(xv)?t.substring(0,t.length-1):t.startsWith(xv)?t.substring(1):t,pU=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const o=[];let l=[];return i.forEach(u=>{u[0]==="["||e[u]?(o.push(...l.sort(),u),l=[]):l.push(u)}),o.push(...l.sort()),o}},gU=t=>({cache:dU(t.cacheSize),parseClassName:fU(t),sortModifiers:pU(t),...oU(t)}),xU=/\s+/,yU=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:l}=e,u=[],h=t.trim().split(xU);let m="";for(let p=h.length-1;p>=0;p-=1){const y=h[p],{isExternal:v,modifiers:w,hasImportantModifier:A,baseClassName:T,maybePostfixModifierPosition:j}=n(y);if(v){m=y+(m.length>0?" "+m:m);continue}let I=!!j,M=i(I?T.substring(0,j):T);if(!M){if(!I){m=y+(m.length>0?" "+m:m);continue}if(M=i(T),!M){m=y+(m.length>0?" "+m:m);continue}I=!1}const L=l(w).join(":"),V=A?L+xv:L,F=V+M;if(u.includes(F))continue;u.push(F);const H=o(M,I);for(let $=0;$<H.length;++$){const N=H[$];u.push(V+N)}m=y+(m.length>0?" "+m:m)}return m};function vU(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=FT(e))&&(i&&(i+=" "),i+=n);return i}const FT=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=FT(t[i]))&&(n&&(n+=" "),n+=e);return n};function bU(t,...e){let n,i,o,l=u;function u(m){const p=e.reduce((y,v)=>v(y),t());return n=gU(p),i=n.cache.get,o=n.cache.set,l=h,h(m)}function h(m){const p=i(m);if(p)return p;const y=yU(m,n);return o(m,y),y}return function(){return l(vU.apply(null,arguments))}}const bn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},qT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,HT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,wU=/^\d+\/\d+$/,_U=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,EU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jl=t=>wU.test(t),rt=t=>!!t&&!Number.isNaN(Number(t)),ya=t=>!!t&&Number.isInteger(Number(t)),_y=t=>t.endsWith("%")&&rt(t.slice(0,-1)),wi=t=>_U.test(t),TU=()=>!0,AU=t=>jU.test(t)&&!NU.test(t),$T=()=>!1,CU=t=>EU.test(t),RU=t=>SU.test(t),IU=t=>!Ie(t)&&!ke(t),kU=t=>Uc(t,WT,$T),Ie=t=>qT.test(t),Lo=t=>Uc(t,YT,AU),jy=t=>Uc(t,LU,rt),q1=t=>Uc(t,GT,$T),DU=t=>Uc(t,KT,RU),Kf=t=>Uc(t,XT,CU),ke=t=>HT.test(t),nd=t=>Bc(t,YT),MU=t=>Bc(t,VU),H1=t=>Bc(t,GT),PU=t=>Bc(t,WT),OU=t=>Bc(t,KT),Wf=t=>Bc(t,XT,!0),Uc=(t,e,n)=>{const i=qT.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},Bc=(t,e,n=!1)=>{const i=HT.exec(t);return i?i[1]?e(i[1]):n:!1},GT=t=>t==="position"||t==="percentage",KT=t=>t==="image"||t==="url",WT=t=>t==="length"||t==="size"||t==="bg-size",YT=t=>t==="length",LU=t=>t==="number",VU=t=>t==="family-name",XT=t=>t==="shadow",UU=()=>{const t=bn("color"),e=bn("font"),n=bn("text"),i=bn("font-weight"),o=bn("tracking"),l=bn("leading"),u=bn("breakpoint"),h=bn("container"),m=bn("spacing"),p=bn("radius"),y=bn("shadow"),v=bn("inset-shadow"),w=bn("text-shadow"),A=bn("drop-shadow"),T=bn("blur"),j=bn("perspective"),I=bn("aspect"),M=bn("ease"),L=bn("animate"),V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],H=()=>[...F(),ke,Ie],$=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],E=()=>[ke,Ie,m],P=()=>[Jl,"full","auto",...E()],U=()=>[ya,"none","subgrid",ke,Ie],B=()=>["auto",{span:["full",ya,ke,Ie]},ya,ke,Ie],R=()=>[ya,"auto",ke,Ie],k=()=>["auto","min","max","fr",ke,Ie],se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],pe=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...E()],ae=()=>[Jl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],Q=()=>[t,ke,Ie],he=()=>[...F(),H1,q1,{position:[ke,Ie]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],re=()=>["auto","cover","contain",PU,kU,{size:[ke,Ie]}],me=()=>[_y,nd,Lo],le=()=>["","none","full",p,ke,Ie],ye=()=>["",rt,nd,Lo],Ve=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[rt,_y,H1,q1],Pe=()=>["","none",T,ke,Ie],Qe=()=>["none",rt,ke,Ie],Ye=()=>["none",rt,ke,Ie],Ze=()=>[rt,ke,Ie],et=()=>[Jl,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wi],breakpoint:[wi],color:[TU],container:[wi],"drop-shadow":[wi],ease:["in","out","in-out"],font:[IU],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wi],shadow:[wi],spacing:["px",rt],text:[wi],"text-shadow":[wi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Jl,Ie,ke,I]}],container:["container"],columns:[{columns:[rt,Ie,ke,h]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:H()}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[ya,"auto",ke,Ie]}],basis:[{basis:[Jl,"full","auto",h,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[rt,Jl,"auto","initial","none",Ie]}],grow:[{grow:["",rt,ke,Ie]}],shrink:[{shrink:["",rt,ke,Ie]}],order:[{order:[ya,"first","last","none",ke,Ie]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...se(),"normal"]}],"justify-items":[{"justify-items":[...pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...pe()]}],"align-content":[{content:["normal",...se()]}],"align-items":[{items:[...pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":se()}],"place-items":[{"place-items":[...pe(),"baseline"]}],"place-self":[{"place-self":["auto",...pe()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[h,"screen",...ae()]}],"min-w":[{"min-w":[h,"screen","none",...ae()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",n,nd,Lo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ke,jy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_y,Ie]}],"font-family":[{font:[MU,Ie,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ke,Ie]}],"line-clamp":[{"line-clamp":[rt,"none",ke,jy]}],leading:[{leading:[l,...E()]}],"list-image":[{"list-image":["none",ke,Ie]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,Ie]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[rt,"from-font","auto",ke,Lo]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[rt,"auto",ke,Ie]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:he()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ya,ke,Ie],radial:["",ke,Ie],conic:[ya,ke,Ie]},OU,DU]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:me()}],"gradient-via-pos":[{via:me()}],"gradient-to-pos":[{to:me()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ve(),"hidden","none"]}],"divide-style":[{divide:[...Ve(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...Ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[rt,ke,Ie]}],"outline-w":[{outline:["",rt,nd,Lo]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",y,Wf,Kf]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",v,Wf,Kf]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[rt,Lo]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",w,Wf,Kf]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[rt,ke,Ie]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[rt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[ke,Ie]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":F()}],"mask-image-conic-pos":[{"mask-conic":[rt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:he()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,Ie]}],filter:[{filter:["","none",ke,Ie]}],blur:[{blur:Pe()}],brightness:[{brightness:[rt,ke,Ie]}],contrast:[{contrast:[rt,ke,Ie]}],"drop-shadow":[{"drop-shadow":["","none",A,Wf,Kf]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",rt,ke,Ie]}],"hue-rotate":[{"hue-rotate":[rt,ke,Ie]}],invert:[{invert:["",rt,ke,Ie]}],saturate:[{saturate:[rt,ke,Ie]}],sepia:[{sepia:["",rt,ke,Ie]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,Ie]}],"backdrop-blur":[{"backdrop-blur":Pe()}],"backdrop-brightness":[{"backdrop-brightness":[rt,ke,Ie]}],"backdrop-contrast":[{"backdrop-contrast":[rt,ke,Ie]}],"backdrop-grayscale":[{"backdrop-grayscale":["",rt,ke,Ie]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[rt,ke,Ie]}],"backdrop-invert":[{"backdrop-invert":["",rt,ke,Ie]}],"backdrop-opacity":[{"backdrop-opacity":[rt,ke,Ie]}],"backdrop-saturate":[{"backdrop-saturate":[rt,ke,Ie]}],"backdrop-sepia":[{"backdrop-sepia":["",rt,ke,Ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,Ie]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[rt,"initial",ke,Ie]}],ease:[{ease:["linear","initial",M,ke,Ie]}],delay:[{delay:[rt,ke,Ie]}],animate:[{animate:["none",L,ke,Ie]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,ke,Ie]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:Qe()}],"rotate-x":[{"rotate-x":Qe()}],"rotate-y":[{"rotate-y":Qe()}],"rotate-z":[{"rotate-z":Qe()}],scale:[{scale:Ye()}],"scale-x":[{"scale-x":Ye()}],"scale-y":[{"scale-y":Ye()}],"scale-z":[{"scale-z":Ye()}],"scale-3d":["scale-3d"],skew:[{skew:Ze()}],"skew-x":[{"skew-x":Ze()}],"skew-y":[{"skew-y":Ze()}],transform:[{transform:[ke,Ie,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:et()}],"translate-x":[{"translate-x":et()}],"translate-y":[{"translate-y":et()}],"translate-z":[{"translate-z":et()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,Ie]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,Ie]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[rt,nd,Lo,jy]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},BU=bU(UU);function Me(...t){return BU(BT(t))}function ve({className:t,...e}){return s.jsx("div",{"data-slot":"card",className:Me("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function Ee({className:t,...e}){return s.jsx("div",{"data-slot":"card-header",className:Me("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Se({className:t,...e}){return s.jsx("div",{"data-slot":"card-title",className:Me("leading-none font-semibold",t),...e})}function Rt({className:t,...e}){return s.jsx("div",{"data-slot":"card-description",className:Me("text-muted-foreground text-sm",t),...e})}function be({className:t,...e}){return s.jsx("div",{"data-slot":"card-content",className:Me("px-6",t),...e})}function zm({className:t,...e}){return s.jsx("div",{"data-slot":"card-footer",className:Me("flex items-center px-6 [.border-t]:pt-6",t),...e})}function $1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Dp(...t){return e=>{let n=!1;const i=t.map(o=>{const l=$1(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():$1(t[o],null)}}}}function Nt(...t){return b.useCallback(Dp(...t),t)}function Yo(t){const e=zU(t),n=b.forwardRef((i,o)=>{const{children:l,...u}=i,h=b.Children.toArray(l),m=h.find(qU);if(m){const p=m.props.children,y=h.map(v=>v===m?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:v);return s.jsx(e,{...u,ref:o,children:b.isValidElement(p)?b.cloneElement(p,void 0,y):null})}return s.jsx(e,{...u,ref:o,children:l})});return n.displayName=`${t}.Slot`,n}var QT=Yo("Slot");function zU(t){const e=b.forwardRef((n,i)=>{const{children:o,...l}=n;if(b.isValidElement(o)){const u=$U(o),h=HU(l,o.props);return o.type!==b.Fragment&&(h.ref=i?Dp(i,u):u),b.cloneElement(o,h)}return b.Children.count(o)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var FU=Symbol("radix.slottable");function qU(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===FU}function HU(t,e){const n={...e};for(const i in e){const o=t[i],l=e[i];/^on[A-Z]/.test(i)?o&&l?n[i]=(...h)=>{const m=l(...h);return o(...h),m}:o&&(n[i]=o):i==="style"?n[i]={...o,...l}:i==="className"&&(n[i]=[o,l].filter(Boolean).join(" "))}return{...t,...n}}function $U(t){var i,o;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const G1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,K1=BT,W0=(t,e)=>n=>{var i;if((e==null?void 0:e.variants)==null)return K1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:l}=e,u=Object.keys(o).map(p=>{const y=n==null?void 0:n[p],v=l==null?void 0:l[p];if(y===null)return null;const w=G1(y)||G1(v);return o[p][w]}),h=n&&Object.entries(n).reduce((p,y)=>{let[v,w]=y;return w===void 0||(p[v]=w),p},{}),m=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((p,y)=>{let{class:v,className:w,...A}=y;return Object.entries(A).every(T=>{let[j,I]=T;return Array.isArray(I)?I.includes({...l,...h}[j]):{...l,...h}[j]===I})?[...p,v,w]:p},[]);return K1(t,u,m,n==null?void 0:n.class,n==null?void 0:n.className)},GU=W0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ae({className:t,variant:e,size:n,asChild:i=!1,...o}){const l=i?QT:"button";return s.jsx(l,{"data-slot":"button",className:Me(GU({variant:e,size:n,className:t})),...o})}const KU=W0("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ge({className:t,variant:e,asChild:n=!1,...i}){const o=n?QT:"span";return s.jsx(o,{"data-slot":"badge",className:Me(KU({variant:e}),t),...i})}function De({className:t,type:e,...n}){return s.jsx("input",{type:e,"data-slot":"input",className:Me("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var WU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],We=WU.reduce((t,e)=>{const n=Yo(`Primitive.${e}`),i=b.forwardRef((o,l)=>{const{asChild:u,...h}=o,m=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(m,{...h,ref:l})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function ZT(t,e){t&&$d.flushSync(()=>t.dispatchEvent(e))}var YU="Label",JT=b.forwardRef((t,e)=>s.jsx(We.label,{...t,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));JT.displayName=YU;var XU=JT;function ie({className:t,...e}){return s.jsx(XU,{"data-slot":"label",className:Me("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const Za=b.forwardRef(({className:t,...e},n)=>s.jsx("textarea",{className:Me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Za.displayName="Textarea";function Oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function QU(t,e){const n=b.createContext(e),i=l=>{const{children:u,...h}=l,m=b.useMemo(()=>h,Object.values(h));return s.jsx(n.Provider,{value:m,children:u})};i.displayName=t+"Provider";function o(l){const u=b.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[i,o]}function hr(t,e=[]){let n=[];function i(l,u){const h=b.createContext(u),m=n.length;n=[...n,u];const p=v=>{var M;const{scope:w,children:A,...T}=v,j=((M=w==null?void 0:w[t])==null?void 0:M[m])||h,I=b.useMemo(()=>T,Object.values(T));return s.jsx(j.Provider,{value:I,children:A})};p.displayName=l+"Provider";function y(v,w){var j;const A=((j=w==null?void 0:w[t])==null?void 0:j[m])||h,T=b.useContext(A);if(T)return T;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[p,y]}const o=()=>{const l=n.map(u=>b.createContext(u));return function(h){const m=(h==null?void 0:h[t])||l;return b.useMemo(()=>({[`__scope${t}`]:{...h,[t]:m}}),[h,m])}};return o.scopeName=t,[i,ZU(o,...e)]}function ZU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const u=i.reduce((h,{useScope:m,scopeName:p})=>{const v=m(l)[`__scope${p}`];return{...h,...v}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var jn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},JU=CE[" useInsertionEffect ".trim().toString()]||jn;function Xo({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[o,l,u]=e9({defaultProp:e,onChange:n}),h=t!==void 0,m=h?t:o;{const y=b.useRef(t!==void 0);b.useEffect(()=>{const v=y.current;v!==h&&console.warn(`${i} is changing from ${v?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=h},[h,i])}const p=b.useCallback(y=>{var v;if(h){const w=t9(y)?y(t):y;w!==t&&((v=u.current)==null||v.call(u,w))}else l(y)},[h,t,l,u]);return[m,p]}function e9({defaultProp:t,onChange:e}){const[n,i]=b.useState(t),o=b.useRef(n),l=b.useRef(e);return JU(()=>{l.current=e},[e]),b.useEffect(()=>{var u;o.current!==n&&((u=l.current)==null||u.call(l,n),o.current=n)},[n,o]),[n,i,l]}function t9(t){return typeof t=="function"}function eA(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function tA(t){const[e,n]=b.useState(void 0);return jn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let u,h;if("borderBoxSize"in l){const m=l.borderBoxSize,p=Array.isArray(m)?m[0]:m;u=p.inlineSize,h=p.blockSize}else u=t.offsetWidth,h=t.offsetHeight;n({width:u,height:h})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var Mp="Switch",[n9,RH]=hr(Mp),[s9,r9]=n9(Mp),nA=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:i,checked:o,defaultChecked:l,required:u,disabled:h,value:m="on",onCheckedChange:p,form:y,...v}=t,[w,A]=b.useState(null),T=Nt(e,V=>A(V)),j=b.useRef(!1),I=w?y||!!w.closest("form"):!0,[M,L]=Xo({prop:o,defaultProp:l??!1,onChange:p,caller:Mp});return s.jsxs(s9,{scope:n,checked:M,disabled:h,children:[s.jsx(We.button,{type:"button",role:"switch","aria-checked":M,"aria-required":u,"data-state":aA(M),"data-disabled":h?"":void 0,disabled:h,value:m,...v,ref:T,onClick:Oe(t.onClick,V=>{L(F=>!F),I&&(j.current=V.isPropagationStopped(),j.current||V.stopPropagation())})}),I&&s.jsx(iA,{control:w,bubbles:!j.current,name:i,value:m,checked:M,required:u,disabled:h,form:y,style:{transform:"translateX(-100%)"}})]})});nA.displayName=Mp;var sA="SwitchThumb",rA=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...i}=t,o=r9(sA,n);return s.jsx(We.span,{"data-state":aA(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e})});rA.displayName=sA;var i9="SwitchBubbleInput",iA=b.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:i=!0,...o},l)=>{const u=b.useRef(null),h=Nt(u,l),m=eA(n),p=tA(e);return b.useEffect(()=>{const y=u.current;if(!y)return;const v=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(v,"checked").set;if(m!==n&&A){const T=new Event("click",{bubbles:i});A.call(y,n),y.dispatchEvent(T)}},[m,n,i]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:h,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});iA.displayName=i9;function aA(t){return t?"checked":"unchecked"}var a9=nA,o9=rA;function pt({className:t,...e}){return s.jsx(a9,{"data-slot":"switch",className:Me("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(o9,{"data-slot":"switch-thumb",className:Me("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var l9="Separator",W1="horizontal",c9=["horizontal","vertical"],oA=b.forwardRef((t,e)=>{const{decorative:n,orientation:i=W1,...o}=t,l=u9(i)?i:W1,h=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return s.jsx(We.div,{"data-orientation":l,...h,...o,ref:e})});oA.displayName=l9;function u9(t){return c9.includes(t)}var d9=oA;function ec({className:t,orientation:e="horizontal",decorative:n=!0,...i}){return s.jsx(d9,{"data-slot":"separator-root",decorative:n,orientation:e,className:Me("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...i})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Y1=t=>{const e=f9(t);return e.charAt(0).toUpperCase()+e.slice(1)},lA=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),m9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:u,...h},m)=>b.createElement("svg",{ref:m,...p9,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:lA("lucide",o),...!l&&!m9(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>b.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(t,e)=>{const n=b.forwardRef(({className:i,...o},l)=>b.createElement(g9,{ref:l,iconNode:e,className:lA(`lucide-${h9(Y1(t))}`,`lucide-${t}`,i),...o}));return n.displayName=Y1(t),n};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Dr=Ce("activity",x9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],v9=Ce("arrow-down-right",y9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],X1=Ce("arrow-left",b9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Q1=Ce("arrow-right",w9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],cA=Ce("arrow-up-right",_9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Pp=Ce("bell",j9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],E9=Ce("book-open",N9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],T9=Ce("brain",S9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],as=Ce("building",A9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Z1=Ce("calendar",C9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Fm=Ce("camera",R9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],zc=Ce("chart-column",I9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],uA=Ce("check",k9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dA=Ce("chevron-down",D9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],P9=Ce("chevron-right",M9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],L9=Ce("chevron-up",O9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Oi=Ce("circle-alert",V9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ft=Ce("circle-check-big",U9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Nc=Ce("circle-x",B9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],F9=Ce("circle",z9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ka=Ce("clock",q9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ba=Ce("dollar-sign",H9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Y0=Ce("download",$9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],ih=Ce("ellipsis",G9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],qm=Ce("eye-off",K9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vs=Ce("eye",W9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zo=Ce("file-text",Y9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Md=Ce("funnel",X9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Z9=Ce("gamepad-2",Q9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],X0=Ce("globe",J9);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Q0=Ce("heart",e8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],hA=Ce("house",t8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Yf=Ce("image",n8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],r8=Ce("linkedin",s8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],a8=Ce("loader",i8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Hm=Ce("lock",o8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],J1=Ce("log-in",l8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],fA=Ce("log-out",c8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ja=Ce("mail",u8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],h8=Ce("menu",d8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],$m=Ce("message-square",f8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],mA=Ce("package",m8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],g8=Ce("palette",p8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],pA=Ce("play",x8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ah=Ce("plus",y8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],b8=Ce("refresh-cw",v8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gA=Ce("save",w8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ai=Ce("search",_8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oh=Ce("settings",j8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],vv=Ce("share-2",N8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Gm=Ce("shield",E8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Km=Ce("square-pen",S8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],A8=Ce("star",T8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Pd=Ce("target",C8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Op=Ce("trash-2",R8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],k8=Ce("trending-down",I8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],rr=Ce("trending-up",D8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xf=Ce("triangle-alert",M8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],bv=Ce("upload",P8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Od=Ce("user-check",O8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],V8=Ce("user-plus",L8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],B8=Ce("user-x",U8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ld=Ce("user",z8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ir=Ce("users",F8);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xA=Ce("x",q8);function yA(){const{brandId:t}=kc(),[e,n]=b.useState(!0),[i,o]=b.useState(!1),[l,u]=b.useState(""),[h,m]=b.useState({name:"",description:"",website:"",logoUrl:"",primaryColor:"#0ea5e9",secondaryColor:"#64748b",accentColor:"#10b981",allowPublicJoin:!0,requireApproval:!1,maxMembers:1e4,emailNotifications:!0,pushNotifications:!0,weeklyReports:!0,publicProfile:!0,showMemberCount:!0,allowMemberDirectory:!0,autoApproveCampaigns:!1,allowMemberCampaigns:!1,campaignReviewRequired:!0,contentModerationLevel:"medium",allowUserContent:!0,requireContentApproval:!1,customDomain:"",analyticsEnabled:!0,apiAccess:!1});b.useEffect(()=>{async function v(){try{const w=Vt(xt,"brands",t),A=await rh(w);if(A.exists()){const T=A.data();m(j=>({...j,...T}))}}catch(w){console.error("Error fetching brand config:",w),u("Error loading configuration")}finally{n(!1)}}t&&v()},[t]);const p=(v,w)=>{m(A=>({...A,[v]:w}))},y=async()=>{o(!0),u("");try{const v=Vt(xt,"brands",t);await xs(v,{...h,updatedAt:Dd()}),u("Configuration saved successfully!"),setTimeout(()=>u(""),3e3)}catch(v){console.error("Error saving configuration:",v),u("Error saving configuration")}finally{o(!1)}};return e?s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading configuration..."})})})}):s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Brand Configuration"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your brand settings, preferences, and community configuration"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(Ge,{variant:"outline",children:[s.jsx(oh,{className:"h-3 w-3 mr-1"}),"Settings"]}),s.jsxs(Ae,{onClick:y,disabled:i,children:[s.jsx(gA,{className:"h-4 w-4 mr-2"}),i?"Saving...":"Save Changes"]})]})]}),l&&s.jsx(ve,{className:`border-l-4 ${l.includes("Error")?"border-l-red-500 bg-red-50":"border-l-green-500 bg-green-50"}`,children:s.jsx(be,{className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[l.includes("Error")?s.jsx(Oi,{className:"h-4 w-4 text-red-500 mr-2"}):s.jsx(Ft,{className:"h-4 w-4 text-green-500 mr-2"}),s.jsx("span",{className:l.includes("Error")?"text-red-700":"text-green-700",children:l})]})})}),s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsxs(Se,{className:"flex items-center",children:[s.jsx(X0,{className:"h-5 w-5 mr-2"}),"Basic Information"]}),s.jsx(Rt,{children:"Configure your brand's basic information and public profile"})]}),s.jsxs(be,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"brandName",children:"Brand Name"}),s.jsx(De,{id:"brandName",value:h.name,onChange:v=>p("name",v.target.value),placeholder:"Enter brand name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"website",children:"Website URL"}),s.jsx(De,{id:"website",value:h.website,onChange:v=>p("website",v.target.value),placeholder:"https://yourbrand.com"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"description",children:"Brand Description"}),s.jsx(Za,{id:"description",value:h.description,onChange:v=>p("description",v.target.value),placeholder:"Describe your brand and mission...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"logoUrl",children:"Logo URL"}),s.jsx(De,{id:"logoUrl",value:h.logoUrl,onChange:v=>p("logoUrl",v.target.value),placeholder:"https://yourbrand.com/logo.png"})]})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsxs(Se,{className:"flex items-center",children:[s.jsx(g8,{className:"h-5 w-5 mr-2"}),"Brand Colors & Styling"]}),s.jsx(Rt,{children:"Customize your brand's color scheme and visual identity"})]}),s.jsx(be,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"primaryColor",children:"Primary Color"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(De,{id:"primaryColor",type:"color",value:h.primaryColor,onChange:v=>p("primaryColor",v.target.value),className:"w-16 h-10 p-1"}),s.jsx(De,{value:h.primaryColor,onChange:v=>p("primaryColor",v.target.value),placeholder:"#0ea5e9"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"secondaryColor",children:"Secondary Color"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(De,{id:"secondaryColor",type:"color",value:h.secondaryColor,onChange:v=>p("secondaryColor",v.target.value),className:"w-16 h-10 p-1"}),s.jsx(De,{value:h.secondaryColor,onChange:v=>p("secondaryColor",v.target.value),placeholder:"#64748b"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"accentColor",children:"Accent Color"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(De,{id:"accentColor",type:"color",value:h.accentColor,onChange:v=>p("accentColor",v.target.value),className:"w-16 h-10 p-1"}),s.jsx(De,{value:h.accentColor,onChange:v=>p("accentColor",v.target.value),placeholder:"#10b981"})]})]})]})})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsxs(Se,{className:"flex items-center",children:[s.jsx(ir,{className:"h-5 w-5 mr-2"}),"Community Settings"]}),s.jsx(Rt,{children:"Configure how users can join and interact with your brand communities"})]}),s.jsxs(be,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ie,{children:"Allow Public Join"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow users to join communities without approval"})]}),s.jsx(pt,{checked:h.allowPublicJoin,onCheckedChange:v=>p("allowPublicJoin",v)})]}),s.jsx(ec,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ie,{children:"Require Approval"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Require manual approval for new community members"})]}),s.jsx(pt,{checked:h.requireApproval,onCheckedChange:v=>p("requireApproval",v)})]}),s.jsx(ec,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"maxMembers",children:"Maximum Members"}),s.jsx(De,{id:"maxMembers",type:"number",value:h.maxMembers,onChange:v=>p("maxMembers",parseInt(v.target.value)),placeholder:"10000"})]})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsxs(Se,{className:"flex items-center",children:[s.jsx(Gm,{className:"h-5 w-5 mr-2"}),"Privacy & Visibility"]}),s.jsx(Rt,{children:"Control what information is publicly visible"})]}),s.jsxs(be,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ie,{children:"Public Profile"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Make your brand profile visible to the public"})]}),s.jsx(pt,{checked:h.publicProfile,onCheckedChange:v=>p("publicProfile",v)})]}),s.jsx(ec,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ie,{children:"Show Member Count"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Display the number of community members publicly"})]}),s.jsx(pt,{checked:h.showMemberCount,onCheckedChange:v=>p("showMemberCount",v)})]}),s.jsx(ec,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ie,{children:"Member Directory"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow members to see and connect with each other"})]}),s.jsx(pt,{checked:h.allowMemberDirectory,onCheckedChange:v=>p("allowMemberDirectory",v)})]})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsxs(Se,{className:"flex items-center",children:[s.jsx(Pp,{className:"h-5 w-5 mr-2"}),"Notifications"]}),s.jsx(Rt,{children:"Configure notification preferences for your brand"})]}),s.jsxs(be,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ie,{children:"Email Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email updates about community activity"})]}),s.jsx(pt,{checked:h.emailNotifications,onCheckedChange:v=>p("emailNotifications",v)})]}),s.jsx(ec,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ie,{children:"Push Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive real-time notifications for important events"})]}),s.jsx(pt,{checked:h.pushNotifications,onCheckedChange:v=>p("pushNotifications",v)})]}),s.jsx(ec,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ie,{children:"Weekly Reports"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive weekly analytics and performance reports"})]}),s.jsx(pt,{checked:h.weeklyReports,onCheckedChange:v=>p("weeklyReports",v)})]})]})]})]})})}function H8({brandId:t}){return s.jsxs("div",{children:[s.jsx("h1",{children:"Brand Posting Component"}),s.jsxs("p",{children:["Brand ID: ",t]}),s.jsx("p",{children:"This is a test version to check if the import works."})]})}function $8({brandId:t}){const{hasPermission:e,canAccessContent:n,userProfile:i,isBrandManager:o,PERMISSIONS:l}=Qa(),[u,h]=b.useState([]),[m,p]=b.useState([]),[y,v]=b.useState("all"),[w,A]=b.useState(!0),[T,j]=b.useState(""),[I,M]=b.useState(!1),[L,V]=b.useState(!1),[F,H]=b.useState("");b.useEffect(()=>{e(l.VIEW_COMMUNITIES)?($(),N()):A(!1)},[e,t]);const $=async()=>{try{const se=(await(await fetch("/api/communities")).json()).filter(pe=>o()?pe.brandId===t||pe.isPublic:!0);p(se)}catch(R){console.error("Error fetching communities:",R),p([{id:"sustainability",name:"Sustainability Champions",members:1247,brandId:t,isPublic:!0},{id:"product-training",name:"Product Training Hub",members:892,brandId:t,isPublic:!1},{id:"retail-excellence",name:"Retail Excellence",members:1456,brandId:"general",isPublic:!0}])}},N=async()=>{try{A(!0);const se=(await(await fetch(`/api/communities/posts?brandId=${t}`)).json()).filter(pe=>n(pe.authorBrandId));h(se)}catch(R){console.error("Error fetching posts:",R),h([{id:1,content:"Just completed the new sustainability training! The insights on eco-friendly packaging were eye-opening. 🌱",author:"Sarah Johnson",authorType:"user",authorBrandId:t,community:"Sustainability Champions",timestamp:new Date(Date.now()-2*60*60*1e3),likes:12,comments:3,isLiked:!1},{id:2,content:"Excited to announce our new product line focused on sustainable materials! We're committed to reducing our environmental impact while maintaining the quality you expect from EngageNatural.",author:"EngageNatural",authorType:"brand",authorBrandId:t,community:"Sustainability Champions",timestamp:new Date(Date.now()-4*60*60*1e3),likes:28,comments:7,isLiked:!0,isBrandPost:!0},{id:3,content:"Question for the group: What's been your most effective approach to explaining product benefits to customers?",author:"Mike Chen",authorType:"user",authorBrandId:t,community:"Retail Excellence",timestamp:new Date(Date.now()-6*60*60*1e3),likes:8,comments:15,isLiked:!1}])}finally{A(!1)}},E=async R=>{var k;if(R.preventDefault(),!!T.trim()){V(!0);try{const se={content:T,authorType:"user",authorId:i.id,authorName:`${i.firstName} ${i.lastName}`,communityId:y==="all"?(k=m[0])==null?void 0:k.id:y,timestamp:new Date};(await fetch("/api/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})).ok&&(j(""),M(!1),N())}catch(se){console.error("Error creating post:",se)}finally{V(!1)}}},P=async R=>{try{await fetch(`/api/posts/${R}/like`,{method:"POST"}),h(u.map(k=>k.id===R?{...k,likes:k.isLiked?k.likes-1:k.likes+1,isLiked:!k.isLiked}:k))}catch(k){console.error("Error liking post:",k)}},U=R=>{const se=new Date-new Date(R),pe=Math.floor(se/(1e3*60*60)),K=Math.floor(pe/24);return K>0?`${K} day${K>1?"s":""} ago`:pe>0?`${pe} hour${pe>1?"s":""} ago`:"Just now"},B=u.filter(R=>{const k=y==="all"||R.community===y,se=F===""||R.content.toLowerCase().includes(F.toLowerCase())||R.author.toLowerCase().includes(F.toLowerCase());return k&&se});return e(l.VIEW_COMMUNITIES)?o()&&(i==null?void 0:i.brandId)!==t?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Oi,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Access Restricted"}),s.jsx("p",{className:"text-gray-600",children:"You can only view communities for your own brand."})]}):w?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(a8,{className:"w-8 h-8 animate-spin text-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Loading community feed..."})]}):s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Community Feed"}),s.jsx("p",{className:"text-gray-600",children:o()?`Participate in your brand communities as ${i==null?void 0:i.firstName}`:"Engage with communities and fellow members"})]}),e(l.POST_IN_COMMUNITIES)&&s.jsxs("button",{onClick:()=>M(!I),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(ah,{className:"w-4 h-4"}),s.jsx("span",{children:"New Post"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Md,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:y,onChange:R=>v(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Communities"}),m.map(R=>s.jsx("option",{value:R.name,children:R.name},R.id))]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ai,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsx("input",{type:"text",placeholder:"Search posts...",value:F,onChange:R=>H(R.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})}),I&&e(l.POST_IN_COMMUNITIES)&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"p-6 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Create New Post"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Posting as ",i==null?void 0:i.firstName," ",i==null?void 0:i.lastName]})]}),s.jsxs("form",{onSubmit:E,className:"p-6",children:[s.jsx("textarea",{value:T,onChange:R=>j(R.target.value),placeholder:"What's on your mind?",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",required:!0}),s.jsxs("div",{className:"flex justify-between items-center mt-4",children:[s.jsxs("p",{className:"text-sm text-gray-500",children:[T.length,"/500 characters"]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>M(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:L||!T.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:L?"Posting...":"Post"})]})]})]})]}),s.jsx("div",{className:"space-y-4",children:B.length>0?B.map(R=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${R.isBrandPost?"bg-blue-600":"bg-gray-600"}`,children:R.isBrandPost?s.jsx(as,{className:"w-5 h-5 text-white"}):s.jsx("span",{className:"text-white font-medium",children:R.author.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("span",{className:"font-medium text-gray-900",children:R.author}),R.isBrandPost&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[s.jsx(as,{className:"w-3 h-3 mr-1"}),"Brand"]}),s.jsx("span",{className:"text-sm text-gray-500",children:"•"}),s.jsx("span",{className:"text-sm text-gray-500",children:R.community}),s.jsx("span",{className:"text-sm text-gray-500",children:"•"}),s.jsx("span",{className:"text-sm text-gray-500",children:U(R.timestamp)})]}),s.jsx("p",{className:"text-gray-900 mb-4",children:R.content}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("button",{onClick:()=>P(R.id),className:`flex items-center space-x-2 text-sm transition-colors ${R.isLiked?"text-red-600 hover:text-red-700":"text-gray-500 hover:text-red-600"}`,children:[s.jsx(Q0,{className:`w-4 h-4 ${R.isLiked?"fill-current":""}`}),s.jsx("span",{children:R.likes})]}),s.jsxs("button",{className:"flex items-center space-x-2 text-sm text-gray-500 hover:text-blue-600 transition-colors",children:[s.jsx($m,{className:"w-4 h-4"}),s.jsx("span",{children:R.comments})]}),s.jsxs("button",{className:"flex items-center space-x-2 text-sm text-gray-500 hover:text-green-600 transition-colors",children:[s.jsx(vv,{className:"w-4 h-4"}),s.jsx("span",{children:"Share"})]})]})]})]})})},R.id)):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[s.jsx($m,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No posts found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:F||y!=="all"?"Try adjusting your filters or search terms.":"Be the first to start a conversation!"}),e(l.POST_IN_COMMUNITIES)&&!I&&s.jsx("button",{onClick:()=>M(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create First Post"})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Community Overview"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:m.slice(0,3).map(R=>s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx(ir,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-gray-900",children:R.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[R.members," members"]})]},R.id))})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Oi,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Access Restricted"}),s.jsx("p",{className:"text-gray-600",children:"You don't have permission to view communities."})]})}function G8(){const{brandId:t}=kc(),e=Qa(),{hasPermission:n=()=>!0,canCreateChallenge:i=()=>!0,canPostAsBrand:o=()=>!0,isBrandManager:l=()=>!1,isSuperAdmin:u=()=>!1,userProfile:h={},PERMISSIONS:m={VIEW_ANALYTICS:"view_analytics",UPLOAD_CONTENT:"upload_content",VIEW_COMMUNITIES:"view_communities"}}=e||{},[p,y]=b.useState("analytics");if(l()&&(h==null?void 0:h.brandId)!==t)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"Access Restricted"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You can only access your own brand dashboard."}),s.jsx("button",{onClick:()=>window.location.href=`/brand/${h.brandId}`,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go to Your Brand Dashboard"})]})});const w=(()=>{const T=[];return n(m.VIEW_ANALYTICS)&&T.push({key:"analytics",label:"Analytics"}),i()&&T.push({key:"challenges",label:"Challenges"}),n(m.UPLOAD_CONTENT)&&T.push({key:"upload",label:"Content Upload"}),n(m.VIEW_COMMUNITIES)&&T.push({key:"community",label:"Community"}),o()&&T.push({key:"brand-posting",label:"Post as Brand"}),(l()||u())&&T.push({key:"configuration",label:"Configuration"}),T.length===0&&T.push({key:"analytics",label:"Analytics"}),T})();_i.useEffect(()=>{var T;w.find(j=>j.key===p)||y(((T=w[0])==null?void 0:T.key)||"analytics")},[w,p]);const A=()=>{switch(p){case"analytics":return s.jsx(pv,{brandId:t});case"challenges":return s.jsx(VT,{brandId:t});case"upload":return s.jsx(OT,{brandId:t});case"community":return s.jsx($8,{brandId:t});case"brand-posting":return s.jsx(H8,{brandId:t});case"configuration":return s.jsx(yA,{brandId:t});default:return s.jsx(pv,{brandId:t})}};return s.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Brand Admin"}),s.jsxs("p",{className:"text-gray-600",children:[l()&&`Managing ${(h==null?void 0:h.brandId)||t}`,u()&&`Super Admin - Managing ${t}`,!l()&&!u()&&`Managing ${t}`]})]}),s.jsx("div",{className:"flex space-x-4 mb-6 overflow-x-auto",children:w.map(T=>s.jsx("button",{onClick:()=>y(T.key),className:`px-4 py-2 rounded whitespace-nowrap transition-colors ${p===T.key?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:T.label},T.key))}),s.jsx("div",{className:"bg-white rounded shadow p-4",children:A()}),!(e!=null&&e.PERMISSIONS)&&s.jsxs("div",{className:"mt-8 p-4 bg-yellow-100 border border-yellow-400 rounded",children:[s.jsx("h3",{className:"font-bold text-yellow-800 mb-2",children:"⚠️ Permission System Not Active"}),s.jsx("p",{className:"text-yellow-700 text-sm",children:"You're using the basic auth context. To enable the full permission system with brand manager restrictions, replace your auth-context.jsx with the enhanced version that includes PERMISSIONS."})]}),!1]})}const K8=()=>{const{brandId:t}=kc(),e=dr();return s.jsxs("div",{style:{position:"fixed",top:0,left:0,width:260,height:"100%",background:"#fff",boxShadow:"2px 0 12px rgba(0,0,0,0.08)",padding:32,zIndex:1e3},children:[s.jsx("h2",{style:{color:"#1e293b",marginBottom:32},children:"Brand Menu"}),s.jsx("button",{onClick:()=>e(`/brand/${t}`),style:{display:"block",marginBottom:20,background:"none",border:"none",color:"#0ea5e9",fontSize:18,cursor:"pointer"},children:"Home"}),s.jsx("button",{onClick:()=>e(`/brand/${t}/upload`),style:{display:"block",marginBottom:20,background:"none",border:"none",color:"#0ea5e9",fontSize:18,cursor:"pointer"},children:"Content Upload"}),s.jsx("button",{onClick:()=>e(`/brand/${t}/dashboard`),style:{display:"block",marginBottom:20,background:"none",border:"none",color:"#0ea5e9",fontSize:18,cursor:"pointer"},children:"Analytics"}),s.jsx("button",{onClick:()=>e(-1),style:{display:"block",marginTop:40,background:"none",border:"none",color:"#64748b",fontSize:16,cursor:"pointer"},children:"Close"})]})};var W8=CE[" useId ".trim().toString()]||(()=>{}),Y8=0;function Br(t){const[e,n]=b.useState(W8());return jn(()=>{n(i=>i??String(Y8++))},[t]),e?`radix-${e}`:""}function ar(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}function X8(t,e=globalThis==null?void 0:globalThis.document){const n=ar(t);b.useEffect(()=>{const i=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var Q8="DismissableLayer",wv="dismissableLayer.update",Z8="dismissableLayer.pointerDownOutside",J8="dismissableLayer.focusOutside",eE,vA=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lp=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:u,onDismiss:h,...m}=t,p=b.useContext(vA),[y,v]=b.useState(null),w=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,A]=b.useState({}),T=Nt(e,N=>v(N)),j=Array.from(p.layers),[I]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),M=j.indexOf(I),L=y?j.indexOf(y):-1,V=p.layersWithOutsidePointerEventsDisabled.size>0,F=L>=M,H=n7(N=>{const E=N.target,P=[...p.branches].some(U=>U.contains(E));!F||P||(o==null||o(N),u==null||u(N),N.defaultPrevented||h==null||h())},w),$=s7(N=>{const E=N.target;[...p.branches].some(U=>U.contains(E))||(l==null||l(N),u==null||u(N),N.defaultPrevented||h==null||h())},w);return X8(N=>{L===p.layers.size-1&&(i==null||i(N),!N.defaultPrevented&&h&&(N.preventDefault(),h()))},w),b.useEffect(()=>{if(y)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(eE=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),tE(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=eE)}},[y,w,n,p]),b.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),tE())},[y,p]),b.useEffect(()=>{const N=()=>A({});return document.addEventListener(wv,N),()=>document.removeEventListener(wv,N)},[]),s.jsx(We.div,{...m,ref:T,style:{pointerEvents:V?F?"auto":"none":void 0,...t.style},onFocusCapture:Oe(t.onFocusCapture,$.onFocusCapture),onBlurCapture:Oe(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Oe(t.onPointerDownCapture,H.onPointerDownCapture)})});Lp.displayName=Q8;var e7="DismissableLayerBranch",t7=b.forwardRef((t,e)=>{const n=b.useContext(vA),i=b.useRef(null),o=Nt(e,i);return b.useEffect(()=>{const l=i.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),s.jsx(We.div,{...t,ref:o})});t7.displayName=e7;function n7(t,e=globalThis==null?void 0:globalThis.document){const n=ar(t),i=b.useRef(!1),o=b.useRef(()=>{});return b.useEffect(()=>{const l=h=>{if(h.target&&!i.current){let m=function(){bA(Z8,n,p,{discrete:!0})};const p={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=m,e.addEventListener("click",o.current,{once:!0})):m()}else e.removeEventListener("click",o.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function s7(t,e=globalThis==null?void 0:globalThis.document){const n=ar(t),i=b.useRef(!1);return b.useEffect(()=>{const o=l=>{l.target&&!i.current&&bA(J8,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function tE(){const t=new CustomEvent(wv);document.dispatchEvent(t)}function bA(t,e,n,{discrete:i}){const o=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),i?ZT(o,l):o.dispatchEvent(l)}var Ny="focusScope.autoFocusOnMount",Ey="focusScope.autoFocusOnUnmount",nE={bubbles:!1,cancelable:!0},r7="FocusScope",Vp=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...u}=t,[h,m]=b.useState(null),p=ar(o),y=ar(l),v=b.useRef(null),w=Nt(e,j=>m(j)),A=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(i){let j=function(V){if(A.paused||!h)return;const F=V.target;h.contains(F)?v.current=F:ba(v.current,{select:!0})},I=function(V){if(A.paused||!h)return;const F=V.relatedTarget;F!==null&&(h.contains(F)||ba(v.current,{select:!0}))},M=function(V){if(document.activeElement===document.body)for(const H of V)H.removedNodes.length>0&&ba(h)};document.addEventListener("focusin",j),document.addEventListener("focusout",I);const L=new MutationObserver(M);return h&&L.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",I),L.disconnect()}}},[i,h,A.paused]),b.useEffect(()=>{if(h){rE.add(A);const j=document.activeElement;if(!h.contains(j)){const M=new CustomEvent(Ny,nE);h.addEventListener(Ny,p),h.dispatchEvent(M),M.defaultPrevented||(i7(u7(wA(h)),{select:!0}),document.activeElement===j&&ba(h))}return()=>{h.removeEventListener(Ny,p),setTimeout(()=>{const M=new CustomEvent(Ey,nE);h.addEventListener(Ey,y),h.dispatchEvent(M),M.defaultPrevented||ba(j??document.body,{select:!0}),h.removeEventListener(Ey,y),rE.remove(A)},0)}}},[h,p,y,A]);const T=b.useCallback(j=>{if(!n&&!i||A.paused)return;const I=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,M=document.activeElement;if(I&&M){const L=j.currentTarget,[V,F]=a7(L);V&&F?!j.shiftKey&&M===F?(j.preventDefault(),n&&ba(V,{select:!0})):j.shiftKey&&M===V&&(j.preventDefault(),n&&ba(F,{select:!0})):M===L&&j.preventDefault()}},[n,i,A.paused]);return s.jsx(We.div,{tabIndex:-1,...u,ref:w,onKeyDown:T})});Vp.displayName=r7;function i7(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(ba(i,{select:e}),document.activeElement!==n)return}function a7(t){const e=wA(t),n=sE(e,t),i=sE(e.reverse(),t);return[n,i]}function wA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function sE(t,e){for(const n of t)if(!o7(n,{upTo:e}))return n}function o7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function l7(t){return t instanceof HTMLInputElement&&"select"in t}function ba(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&l7(t)&&e&&t.select()}}var rE=c7();function c7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=iE(t,e),t.unshift(e)},remove(e){var n;t=iE(t,e),(n=t[0])==null||n.resume()}}}function iE(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function u7(t){return t.filter(e=>e.tagName!=="A")}var d7="Portal",Up=b.forwardRef((t,e)=>{var h;const{container:n,...i}=t,[o,l]=b.useState(!1);jn(()=>l(!0),[]);const u=n||o&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return u?DD.createPortal(s.jsx(We.div,{...i,ref:e}),u):null});Up.displayName=d7;function h7(t,e){return b.useReducer((n,i)=>e[n][i]??n,t)}var zi=t=>{const{present:e,children:n}=t,i=f7(e),o=typeof n=="function"?n({present:i.isPresent}):b.Children.only(n),l=Nt(i.ref,m7(o));return typeof n=="function"||i.isPresent?b.cloneElement(o,{ref:l}):null};zi.displayName="Presence";function f7(t){const[e,n]=b.useState(),i=b.useRef(null),o=b.useRef(t),l=b.useRef("none"),u=t?"mounted":"unmounted",[h,m]=h7(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=Qf(i.current);l.current=h==="mounted"?p:"none"},[h]),jn(()=>{const p=i.current,y=o.current;if(y!==t){const w=l.current,A=Qf(p);t?m("MOUNT"):A==="none"||(p==null?void 0:p.display)==="none"?m("UNMOUNT"):m(y&&w!==A?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,m]),jn(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,v=A=>{const j=Qf(i.current).includes(A.animationName);if(A.target===e&&j&&(m("ANIMATION_END"),!o.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},w=A=>{A.target===e&&(l.current=Qf(i.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:b.useCallback(p=>{i.current=p?getComputedStyle(p):null,n(p)},[])}}function Qf(t){return(t==null?void 0:t.animationName)||"none"}function m7(t){var i,o;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Sy=0;function Z0(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??aE()),document.body.insertAdjacentElement("beforeend",t[1]??aE()),Sy++,()=>{Sy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Sy--}},[])}function aE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var pm="right-scroll-bar-position",gm="width-before-scroll-bar",p7="with-scroll-bars-hidden",g7="--removed-body-scroll-bar-size";function Ty(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function x7(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var o=n.value;o!==i&&(n.value=i,n.callback(i,o))}}}})[0];return n.callback=e,n.facade}var y7=typeof window<"u"?b.useLayoutEffect:b.useEffect,oE=new WeakMap;function v7(t,e){var n=x7(null,function(i){return t.forEach(function(o){return Ty(o,i)})});return y7(function(){var i=oE.get(n);if(i){var o=new Set(i),l=new Set(t),u=n.current;o.forEach(function(h){l.has(h)||Ty(h,null)}),l.forEach(function(h){o.has(h)||Ty(h,u)})}oE.set(n,t)},[t]),n}function b7(t){return t}function w7(t,e){e===void 0&&(e=b7);var n=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var u=e(l,i);return n.push(u),function(){n=n.filter(function(h){return h!==u})}},assignSyncMedium:function(l){for(i=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(h){return l(h)},filter:function(){return n}}},assignMedium:function(l){i=!0;var u=[];if(n.length){var h=n;n=[],h.forEach(l),u=n}var m=function(){var y=u;u=[],y.forEach(l)},p=function(){return Promise.resolve().then(m)};p(),n={push:function(y){u.push(y),p()},filter:function(y){return u=u.filter(y),n}}}};return o}function _7(t){t===void 0&&(t={});var e=w7(null);return e.options=Ir({async:!0,ssr:!1},t),e}var _A=function(t){var e=t.sideCar,n=Wd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return b.createElement(i,Ir({},n))};_A.isSideCarExport=!0;function j7(t,e){return t.useMedium(e),_A}var jA=_7(),Ay=function(){},Bp=b.forwardRef(function(t,e){var n=b.useRef(null),i=b.useState({onScrollCapture:Ay,onWheelCapture:Ay,onTouchMoveCapture:Ay}),o=i[0],l=i[1],u=t.forwardProps,h=t.children,m=t.className,p=t.removeScrollBar,y=t.enabled,v=t.shards,w=t.sideCar,A=t.noRelative,T=t.noIsolation,j=t.inert,I=t.allowPinchZoom,M=t.as,L=M===void 0?"div":M,V=t.gapMode,F=Wd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=w,$=v7([n,e]),N=Ir(Ir({},F),o);return b.createElement(b.Fragment,null,y&&b.createElement(H,{sideCar:jA,removeScrollBar:p,shards:v,noRelative:A,noIsolation:T,inert:j,setCallbacks:l,allowPinchZoom:!!I,lockRef:n,gapMode:V}),u?b.cloneElement(b.Children.only(h),Ir(Ir({},N),{ref:$})):b.createElement(L,Ir({},N,{className:m,ref:$}),h))});Bp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bp.classNames={fullWidth:gm,zeroRight:pm};var N7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function E7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=N7();return e&&t.setAttribute("nonce",e),t}function S7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function T7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var A7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=E7())&&(S7(e,n),T7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},C7=function(){var t=A7();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},NA=function(){var t=C7(),e=function(n){var i=n.styles,o=n.dynamic;return t(i,o),null};return e},R7={left:0,top:0,right:0,gap:0},Cy=function(t){return parseInt(t||"",10)||0},I7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[Cy(n),Cy(i),Cy(o)]},k7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return R7;var e=I7(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},D7=NA(),mc="data-scroll-locked",M7=function(t,e,n,i){var o=t.left,l=t.top,u=t.right,h=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(p7,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(h,"px ").concat(i,`;
  }
  body[`).concat(mc,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(h,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pm,` {
    right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(gm,` {
    margin-right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(pm," .").concat(pm,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(gm," .").concat(gm,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(mc,`] {
    `).concat(g7,": ").concat(h,`px;
  }
`)},lE=function(){var t=parseInt(document.body.getAttribute(mc)||"0",10);return isFinite(t)?t:0},P7=function(){b.useEffect(function(){return document.body.setAttribute(mc,(lE()+1).toString()),function(){var t=lE()-1;t<=0?document.body.removeAttribute(mc):document.body.setAttribute(mc,t.toString())}},[])},O7=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,o=i===void 0?"margin":i;P7();var l=b.useMemo(function(){return k7(o)},[o]);return b.createElement(D7,{styles:M7(l,!e,o,n?"":"!important")})},_v=!1;if(typeof window<"u")try{var Zf=Object.defineProperty({},"passive",{get:function(){return _v=!0,!0}});window.addEventListener("test",Zf,Zf),window.removeEventListener("test",Zf,Zf)}catch{_v=!1}var tc=_v?{passive:!1}:!1,L7=function(t){return t.tagName==="TEXTAREA"},EA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!L7(t)&&n[e]==="visible")},V7=function(t){return EA(t,"overflowY")},U7=function(t){return EA(t,"overflowX")},cE=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=SA(t,i);if(o){var l=TA(t,i),u=l[1],h=l[2];if(u>h)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},B7=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},z7=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},SA=function(t,e){return t==="v"?V7(e):U7(e)},TA=function(t,e){return t==="v"?B7(e):z7(e)},F7=function(t,e){return t==="h"&&e==="rtl"?-1:1},q7=function(t,e,n,i,o){var l=F7(t,window.getComputedStyle(e).direction),u=l*i,h=n.target,m=e.contains(h),p=!1,y=u>0,v=0,w=0;do{if(!h)break;var A=TA(t,h),T=A[0],j=A[1],I=A[2],M=j-I-l*T;(T||M)&&SA(t,h)&&(v+=M,w+=T);var L=h.parentNode;h=L&&L.nodeType===Node.DOCUMENT_FRAGMENT_NODE?L.host:L}while(!m&&h!==document.body||m&&(e.contains(h)||e===h));return(y&&Math.abs(v)<1||!y&&Math.abs(w)<1)&&(p=!0),p},Jf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},uE=function(t){return[t.deltaX,t.deltaY]},dE=function(t){return t&&"current"in t?t.current:t},H7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},$7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},G7=0,nc=[];function K7(t){var e=b.useRef([]),n=b.useRef([0,0]),i=b.useRef(),o=b.useState(G7++)[0],l=b.useState(NA)[0],u=b.useRef(t);b.useEffect(function(){u.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var j=xP([t.lockRef.current],(t.shards||[]).map(dE),!0).filter(Boolean);return j.forEach(function(I){return I.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),j.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var h=b.useCallback(function(j,I){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!u.current.allowPinchZoom;var M=Jf(j),L=n.current,V="deltaX"in j?j.deltaX:L[0]-M[0],F="deltaY"in j?j.deltaY:L[1]-M[1],H,$=j.target,N=Math.abs(V)>Math.abs(F)?"h":"v";if("touches"in j&&N==="h"&&$.type==="range")return!1;var E=cE(N,$);if(!E)return!0;if(E?H=N:(H=N==="v"?"h":"v",E=cE(N,$)),!E)return!1;if(!i.current&&"changedTouches"in j&&(V||F)&&(i.current=H),!H)return!0;var P=i.current||H;return q7(P,I,j,P==="h"?V:F)},[]),m=b.useCallback(function(j){var I=j;if(!(!nc.length||nc[nc.length-1]!==l)){var M="deltaY"in I?uE(I):Jf(I),L=e.current.filter(function(H){return H.name===I.type&&(H.target===I.target||I.target===H.shadowParent)&&H7(H.delta,M)})[0];if(L&&L.should){I.cancelable&&I.preventDefault();return}if(!L){var V=(u.current.shards||[]).map(dE).filter(Boolean).filter(function(H){return H.contains(I.target)}),F=V.length>0?h(I,V[0]):!u.current.noIsolation;F&&I.cancelable&&I.preventDefault()}}},[]),p=b.useCallback(function(j,I,M,L){var V={name:j,delta:I,target:M,should:L,shadowParent:W7(M)};e.current.push(V),setTimeout(function(){e.current=e.current.filter(function(F){return F!==V})},1)},[]),y=b.useCallback(function(j){n.current=Jf(j),i.current=void 0},[]),v=b.useCallback(function(j){p(j.type,uE(j),j.target,h(j,t.lockRef.current))},[]),w=b.useCallback(function(j){p(j.type,Jf(j),j.target,h(j,t.lockRef.current))},[]);b.useEffect(function(){return nc.push(l),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",m,tc),document.addEventListener("touchmove",m,tc),document.addEventListener("touchstart",y,tc),function(){nc=nc.filter(function(j){return j!==l}),document.removeEventListener("wheel",m,tc),document.removeEventListener("touchmove",m,tc),document.removeEventListener("touchstart",y,tc)}},[]);var A=t.removeScrollBar,T=t.inert;return b.createElement(b.Fragment,null,T?b.createElement(l,{styles:$7(o)}):null,A?b.createElement(O7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function W7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Y7=j7(jA,K7);var zp=b.forwardRef(function(t,e){return b.createElement(Bp,Ir({},t,{ref:e,sideCar:Y7}))});zp.classNames=Bp.classNames;var X7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},sc=new WeakMap,em=new WeakMap,tm={},Ry=0,AA=function(t){return t&&(t.host||AA(t.parentNode))},Q7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=AA(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Z7=function(t,e,n,i){var o=Q7(e,Array.isArray(t)?t:[t]);tm[n]||(tm[n]=new WeakMap);var l=tm[n],u=[],h=new Set,m=new Set(o),p=function(v){!v||h.has(v)||(h.add(v),p(v.parentNode))};o.forEach(p);var y=function(v){!v||m.has(v)||Array.prototype.forEach.call(v.children,function(w){if(h.has(w))y(w);else try{var A=w.getAttribute(i),T=A!==null&&A!=="false",j=(sc.get(w)||0)+1,I=(l.get(w)||0)+1;sc.set(w,j),l.set(w,I),u.push(w),j===1&&T&&em.set(w,!0),I===1&&w.setAttribute(n,"true"),T||w.setAttribute(i,"true")}catch(M){console.error("aria-hidden: cannot operate on ",w,M)}})};return y(e),h.clear(),Ry++,function(){u.forEach(function(v){var w=sc.get(v)-1,A=l.get(v)-1;sc.set(v,w),l.set(v,A),w||(em.has(v)||v.removeAttribute(i),em.delete(v)),A||v.removeAttribute(n)}),Ry--,Ry||(sc=new WeakMap,sc=new WeakMap,em=new WeakMap,tm={})}},J0=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),o=X7(t);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),Z7(i,o,n,"aria-hidden")):function(){return null}},Fp="Dialog",[CA,IH]=hr(Fp),[J7,fr]=CA(Fp),RA=t=>{const{__scopeDialog:e,children:n,open:i,defaultOpen:o,onOpenChange:l,modal:u=!0}=t,h=b.useRef(null),m=b.useRef(null),[p,y]=Xo({prop:i,defaultProp:o??!1,onChange:l,caller:Fp});return s.jsx(J7,{scope:e,triggerRef:h,contentRef:m,contentId:Br(),titleId:Br(),descriptionId:Br(),open:p,onOpenChange:y,onOpenToggle:b.useCallback(()=>y(v=>!v),[y]),modal:u,children:n})};RA.displayName=Fp;var IA="DialogTrigger",kA=b.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,o=fr(IA,n),l=Nt(e,o.triggerRef);return s.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":nb(o.open),...i,ref:l,onClick:Oe(t.onClick,o.onOpenToggle)})});kA.displayName=IA;var eb="DialogPortal",[eB,DA]=CA(eb,{forceMount:void 0}),MA=t=>{const{__scopeDialog:e,forceMount:n,children:i,container:o}=t,l=fr(eb,e);return s.jsx(eB,{scope:e,forceMount:n,children:b.Children.map(i,u=>s.jsx(zi,{present:n||l.open,children:s.jsx(Up,{asChild:!0,container:o,children:u})}))})};MA.displayName=eb;var Wm="DialogOverlay",PA=b.forwardRef((t,e)=>{const n=DA(Wm,t.__scopeDialog),{forceMount:i=n.forceMount,...o}=t,l=fr(Wm,t.__scopeDialog);return l.modal?s.jsx(zi,{present:i||l.open,children:s.jsx(nB,{...o,ref:e})}):null});PA.displayName=Wm;var tB=Yo("DialogOverlay.RemoveScroll"),nB=b.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,o=fr(Wm,n);return s.jsx(zp,{as:tB,allowPinchZoom:!0,shards:[o.contentRef],children:s.jsx(We.div,{"data-state":nb(o.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Qo="DialogContent",OA=b.forwardRef((t,e)=>{const n=DA(Qo,t.__scopeDialog),{forceMount:i=n.forceMount,...o}=t,l=fr(Qo,t.__scopeDialog);return s.jsx(zi,{present:i||l.open,children:l.modal?s.jsx(sB,{...o,ref:e}):s.jsx(rB,{...o,ref:e})})});OA.displayName=Qo;var sB=b.forwardRef((t,e)=>{const n=fr(Qo,t.__scopeDialog),i=b.useRef(null),o=Nt(e,n.contentRef,i);return b.useEffect(()=>{const l=i.current;if(l)return J0(l)},[]),s.jsx(LA,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(t.onCloseAutoFocus,l=>{var u;l.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Oe(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0;(u.button===2||h)&&l.preventDefault()}),onFocusOutside:Oe(t.onFocusOutside,l=>l.preventDefault())})}),rB=b.forwardRef((t,e)=>{const n=fr(Qo,t.__scopeDialog),i=b.useRef(!1),o=b.useRef(!1);return s.jsx(LA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,h;(u=t.onCloseAutoFocus)==null||u.call(t,l),l.defaultPrevented||(i.current||(h=n.triggerRef.current)==null||h.focus(),l.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:l=>{var m,p;(m=t.onInteractOutside)==null||m.call(t,l),l.defaultPrevented||(i.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),LA=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:l,...u}=t,h=fr(Qo,n),m=b.useRef(null),p=Nt(e,m);return Z0(),s.jsxs(s.Fragment,{children:[s.jsx(Vp,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:l,children:s.jsx(Lp,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":nb(h.open),...u,ref:p,onDismiss:()=>h.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(iB,{titleId:h.titleId}),s.jsx(oB,{contentRef:m,descriptionId:h.descriptionId})]})]})}),tb="DialogTitle",VA=b.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,o=fr(tb,n);return s.jsx(We.h2,{id:o.titleId,...i,ref:e})});VA.displayName=tb;var UA="DialogDescription",BA=b.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,o=fr(UA,n);return s.jsx(We.p,{id:o.descriptionId,...i,ref:e})});BA.displayName=UA;var zA="DialogClose",FA=b.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,o=fr(zA,n);return s.jsx(We.button,{type:"button",...i,ref:e,onClick:Oe(t.onClick,()=>o.onOpenChange(!1))})});FA.displayName=zA;function nb(t){return t?"open":"closed"}var qA="DialogTitleWarning",[kH,HA]=QU(qA,{contentName:Qo,titleName:tb,docsSlug:"dialog"}),iB=({titleId:t})=>{const e=HA(qA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},aB="DialogDescriptionWarning",oB=({contentRef:t,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HA(aB).contentName}}.`;return b.useEffect(()=>{var l;const o=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(i))},[i,t,e]),null},$A=RA,lB=kA,GA=MA,sb=PA,rb=OA,ib=VA,KA=BA,WA=FA;const Zo=$A,YA=lB,cB=GA,XA=b.forwardRef(({className:t,...e},n)=>s.jsx(sb,{ref:n,className:Me("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));XA.displayName=sb.displayName;const za=b.forwardRef(({className:t,children:e,...n},i)=>s.jsxs(cB,{children:[s.jsx(XA,{}),s.jsxs(rb,{ref:i,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,s.jsxs(WA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(xA,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));za.displayName=rb.displayName;const Jo=({className:t,...e})=>s.jsx("div",{className:Me("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Jo.displayName="DialogHeader";const qp=({className:t,...e})=>s.jsx("div",{className:Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});qp.displayName="DialogFooter";const Fa=b.forwardRef(({className:t,...e},n)=>s.jsx(ib,{ref:n,className:Me("text-lg font-semibold leading-none tracking-tight",t),...e}));Fa.displayName=ib.displayName;const Ec=b.forwardRef(({className:t,...e},n)=>s.jsx(KA,{ref:n,className:Me("text-sm text-muted-foreground",t),...e}));Ec.displayName=KA.displayName;function ab(t){const e=t+"CollectionProvider",[n,i]=hr(e),[o,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=j=>{const{scope:I,children:M}=j,L=_i.useRef(null),V=_i.useRef(new Map).current;return s.jsx(o,{scope:I,itemMap:V,collectionRef:L,children:M})};u.displayName=e;const h=t+"CollectionSlot",m=Yo(h),p=_i.forwardRef((j,I)=>{const{scope:M,children:L}=j,V=l(h,M),F=Nt(I,V.collectionRef);return s.jsx(m,{ref:F,children:L})});p.displayName=h;const y=t+"CollectionItemSlot",v="data-radix-collection-item",w=Yo(y),A=_i.forwardRef((j,I)=>{const{scope:M,children:L,...V}=j,F=_i.useRef(null),H=Nt(I,F),$=l(y,M);return _i.useEffect(()=>($.itemMap.set(F,{ref:F,...V}),()=>void $.itemMap.delete(F))),s.jsx(w,{[v]:"",ref:H,children:L})});A.displayName=y;function T(j){const I=l(t+"CollectionConsumer",j);return _i.useCallback(()=>{const L=I.collectionRef.current;if(!L)return[];const V=Array.from(L.querySelectorAll(`[${v}]`));return Array.from(I.itemMap.values()).sort(($,N)=>V.indexOf($.ref.current)-V.indexOf(N.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:u,Slot:p,ItemSlot:A},T,i]}var uB=b.createContext(void 0);function Hp(t){const e=b.useContext(uB);return t||e||"ltr"}var Iy="rovingFocusGroup.onEntryFocus",dB={bubbles:!1,cancelable:!0},lh="RovingFocusGroup",[jv,QA,hB]=ab(lh),[fB,$p]=hr(lh,[hB]),[mB,pB]=fB(lh),ZA=b.forwardRef((t,e)=>s.jsx(jv.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(jv.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(gB,{...t,ref:e})})}));ZA.displayName=lh;var gB=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:o=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:m,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,...v}=t,w=b.useRef(null),A=Nt(e,w),T=Hp(l),[j,I]=Xo({prop:u,defaultProp:h??null,onChange:m,caller:lh}),[M,L]=b.useState(!1),V=ar(p),F=QA(n),H=b.useRef(!1),[$,N]=b.useState(0);return b.useEffect(()=>{const E=w.current;if(E)return E.addEventListener(Iy,V),()=>E.removeEventListener(Iy,V)},[V]),s.jsx(mB,{scope:n,orientation:i,dir:T,loop:o,currentTabStopId:j,onItemFocus:b.useCallback(E=>I(E),[I]),onItemShiftTab:b.useCallback(()=>L(!0),[]),onFocusableItemAdd:b.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:b.useCallback(()=>N(E=>E-1),[]),children:s.jsx(We.div,{tabIndex:M||$===0?-1:0,"data-orientation":i,...v,ref:A,style:{outline:"none",...t.style},onMouseDown:Oe(t.onMouseDown,()=>{H.current=!0}),onFocus:Oe(t.onFocus,E=>{const P=!H.current;if(E.target===E.currentTarget&&P&&!M){const U=new CustomEvent(Iy,dB);if(E.currentTarget.dispatchEvent(U),!U.defaultPrevented){const B=F().filter(K=>K.focusable),R=B.find(K=>K.active),k=B.find(K=>K.id===j),pe=[R,k,...B].filter(Boolean).map(K=>K.ref.current);tC(pe,y)}}H.current=!1}),onBlur:Oe(t.onBlur,()=>L(!1))})})}),JA="RovingFocusGroupItem",eC=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:o=!1,tabStopId:l,children:u,...h}=t,m=Br(),p=l||m,y=pB(JA,n),v=y.currentTabStopId===p,w=QA(n),{onFocusableItemAdd:A,onFocusableItemRemove:T,currentTabStopId:j}=y;return b.useEffect(()=>{if(i)return A(),()=>T()},[i,A,T]),s.jsx(jv.ItemSlot,{scope:n,id:p,focusable:i,active:o,children:s.jsx(We.span,{tabIndex:v?0:-1,"data-orientation":y.orientation,...h,ref:e,onMouseDown:Oe(t.onMouseDown,I=>{i?y.onItemFocus(p):I.preventDefault()}),onFocus:Oe(t.onFocus,()=>y.onItemFocus(p)),onKeyDown:Oe(t.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){y.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const M=vB(I,y.orientation,y.dir);if(M!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let V=w().filter(F=>F.focusable).map(F=>F.ref.current);if(M==="last")V.reverse();else if(M==="prev"||M==="next"){M==="prev"&&V.reverse();const F=V.indexOf(I.currentTarget);V=y.loop?bB(V,F+1):V.slice(F+1)}setTimeout(()=>tC(V))}}),children:typeof u=="function"?u({isCurrentTabStop:v,hasTabStop:j!=null}):u})})});eC.displayName=JA;var xB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yB(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function vB(t,e,n){const i=yB(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return xB[i]}function tC(t,e=!1){const n=document.activeElement;for(const i of t)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function bB(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var nC=ZA,sC=eC,Gp="Tabs",[wB,DH]=hr(Gp,[$p]),rC=$p(),[_B,ob]=wB(Gp),iC=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:i,onValueChange:o,defaultValue:l,orientation:u="horizontal",dir:h,activationMode:m="automatic",...p}=t,y=Hp(h),[v,w]=Xo({prop:i,onChange:o,defaultProp:l??"",caller:Gp});return s.jsx(_B,{scope:n,baseId:Br(),value:v,onValueChange:w,orientation:u,dir:y,activationMode:m,children:s.jsx(We.div,{dir:y,"data-orientation":u,...p,ref:e})})});iC.displayName=Gp;var aC="TabsList",oC=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:i=!0,...o}=t,l=ob(aC,n),u=rC(n);return s.jsx(nC,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:i,children:s.jsx(We.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:e})})});oC.displayName=aC;var lC="TabsTrigger",cC=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:i,disabled:o=!1,...l}=t,u=ob(lC,n),h=rC(n),m=hC(u.baseId,i),p=fC(u.baseId,i),y=i===u.value;return s.jsx(sC,{asChild:!0,...h,focusable:!o,active:y,children:s.jsx(We.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":p,"data-state":y?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:m,...l,ref:e,onMouseDown:Oe(t.onMouseDown,v=>{!o&&v.button===0&&v.ctrlKey===!1?u.onValueChange(i):v.preventDefault()}),onKeyDown:Oe(t.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&u.onValueChange(i)}),onFocus:Oe(t.onFocus,()=>{const v=u.activationMode!=="manual";!y&&!o&&v&&u.onValueChange(i)})})})});cC.displayName=lC;var uC="TabsContent",dC=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:i,forceMount:o,children:l,...u}=t,h=ob(uC,n),m=hC(h.baseId,i),p=fC(h.baseId,i),y=i===h.value,v=b.useRef(y);return b.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),s.jsx(zi,{present:o||y,children:({present:w})=>s.jsx(We.div,{"data-state":y?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":m,hidden:!w,id:p,tabIndex:0,...u,ref:e,style:{...t.style,animationDuration:v.current?"0s":void 0},children:w&&l})})});dC.displayName=uC;function hC(t,e){return`${t}-trigger-${e}`}function fC(t,e){return`${t}-content-${e}`}var jB=iC,mC=oC,pC=cC,gC=dC;const Vd=jB,ch=b.forwardRef(({className:t,...e},n)=>s.jsx(mC,{ref:n,className:Me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));ch.displayName=mC.displayName;const Rn=b.forwardRef(({className:t,...e},n)=>s.jsx(pC,{ref:n,className:Me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Rn.displayName=pC.displayName;const In=b.forwardRef(({className:t,...e},n)=>s.jsx(gC,{ref:n,className:Me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));In.displayName=gC.displayName;const NB=W0("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Sc({className:t,variant:e,...n}){return s.jsx("div",{"data-slot":"alert",role:"alert",className:Me(NB({variant:e}),t),...n})}function Tc({className:t,...e}){return s.jsx("div",{"data-slot":"alert-description",className:Me("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function hE({buttonText:t="Login",buttonVariant:e="default",className:n=""}){const[i,o]=b.useState(!1),[l,u]=b.useState("signin"),[h,m]=b.useState(""),[p,y]=b.useState(""),[v,w]=b.useState(""),[A,T]=b.useState(""),[j,I]=b.useState(""),[M,L]=b.useState(!1),V=dr(),F=["admin@engagenatural.com","liza@engagenatural.com"],H=async N=>{N.preventDefault(),I(""),L(!0);try{const P=(await Jv(rs,h,p)).user;if(F.includes(P.email))V("/admin/dashboard");else{const U=await rh(Vt(xt,"users",P.uid));U.exists()&&U.data().verified?V("/retailer/verified"):V("/retailer/profile")}o(!1)}catch(E){switch(console.error("Sign in error:",E),E.code){case"auth/invalid-email":I("Invalid email address format.");break;case"auth/user-not-found":I("No account found with this email.");break;case"auth/wrong-password":I("Incorrect password.");break;case"auth/too-many-requests":I("Too many failed attempts. Please try again later.");break;default:I("Failed to sign in. Please try again.")}}finally{L(!1)}},$=async N=>{if(N.preventDefault(),I(""),L(!0),!v||!h||!p||!A){I("Please fill in all fields."),L(!1);return}try{const P=(await Zv(rs,h,p)).user;await kd(Vt(xt,"users",P.uid),{name:v,email:h,storeName:A,verified:!1,verificationStatus:"not_submitted",createdAt:new Date,role:"retailer"}),V("/retailer/profile"),o(!1)}catch(E){switch(console.error("Sign up error:",E),E.code){case"auth/email-already-in-use":I("An account with this email already exists.");break;case"auth/invalid-email":I("Invalid email address format.");break;case"auth/weak-password":I("Password should be at least 6 characters.");break;default:I("Failed to create account. Please try again.")}}finally{L(!1)}};return s.jsxs(Zo,{open:i,onOpenChange:o,children:[s.jsx(YA,{asChild:!0,children:s.jsxs(Ae,{variant:e,className:`flex items-center ${n}`,children:[s.jsx(J1,{className:"w-4 h-4 mr-2"}),t]})}),s.jsxs(za,{className:"sm:max-w-md",children:[s.jsx(Fa,{className:"sr-only",children:"Authentication"}),s.jsx("div",{className:"p-4",children:s.jsxs(Vd,{value:l,onValueChange:u,className:"w-full",children:[s.jsxs(ch,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(Rn,{value:"signin",className:"font-body",children:"Sign In"}),s.jsx(Rn,{value:"signup",className:"font-body",children:"Create Account"})]}),s.jsxs(In,{value:"signin",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(J1,{className:"w-8 h-8 text-brand-secondary"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2 font-heading text-brand-primary",children:"Welcome Back"}),s.jsx("p",{className:"text-gray-600 mb-6 font-body",children:"Sign in to access your profile, challenges, and community features."})]}),j&&s.jsxs(Sc,{variant:"destructive",className:"mb-4",children:[s.jsx(Oi,{className:"h-4 w-4"}),s.jsx(Tc,{className:"font-body",children:j})]}),s.jsxs("form",{onSubmit:H,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"signin-email",className:"block text-sm font-medium text-brand-primary mb-1 font-body",children:"Email"}),s.jsx(De,{id:"signin-email",type:"email",value:h,onChange:N=>m(N.target.value),placeholder:"your.email@example.com",required:!0,className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary font-body",disabled:M})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"signin-password",className:"block text-sm font-medium text-brand-primary mb-1 font-body",children:"Password"}),s.jsx(De,{id:"signin-password",type:"password",value:p,onChange:N=>y(N.target.value),placeholder:"••••••••",required:!0,className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary font-body",disabled:M})]}),s.jsx(Ae,{type:"submit",className:"w-full bg-brand-primary hover:bg-brand-primary/90 font-body",disabled:M,children:M?"Signing in...":"Sign In"})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600 font-body",children:["Don't have an account?"," ",s.jsx("button",{onClick:()=>u("signup"),className:"text-brand-secondary hover:underline font-medium",children:"Create Account"})]})})]}),s.jsxs(In,{value:"signup",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(V8,{className:"w-8 h-8 text-brand-secondary"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2 font-heading text-brand-primary",children:"Join EngageNatural"}),s.jsx("p",{className:"text-gray-600 mb-6 font-body",children:"Create your account to access challenges, community content, and exclusive features."})]}),j&&s.jsxs(Sc,{variant:"destructive",className:"mb-4",children:[s.jsx(Oi,{className:"h-4 w-4"}),s.jsx(Tc,{className:"font-body",children:j})]}),s.jsxs("form",{onSubmit:$,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"signup-name",className:"block text-sm font-medium text-brand-primary mb-1 font-body",children:"Full Name"}),s.jsx(De,{id:"signup-name",type:"text",value:v,onChange:N=>w(N.target.value),placeholder:"Your full name",required:!0,className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary font-body",disabled:M})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"signup-email",className:"block text-sm font-medium text-brand-primary mb-1 font-body",children:"Email"}),s.jsx(De,{id:"signup-email",type:"email",value:h,onChange:N=>m(N.target.value),placeholder:"your.email@example.com",required:!0,className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary font-body",disabled:M})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"signup-password",className:"block text-sm font-medium text-brand-primary mb-1 font-body",children:"Password"}),s.jsx(De,{id:"signup-password",type:"password",value:p,onChange:N=>y(N.target.value),placeholder:"Create a secure password",required:!0,className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary font-body",disabled:M})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"signup-store",className:"block text-sm font-medium text-brand-primary mb-1 font-body",children:"Store Name"}),s.jsx(De,{id:"signup-store",type:"text",value:A,onChange:N=>T(N.target.value),placeholder:"Where do you work?",required:!0,className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary font-body",disabled:M})]}),s.jsx(Ae,{type:"submit",className:"w-full bg-brand-secondary hover:bg-brand-secondary/90 font-body",disabled:M,children:M?"Creating Account...":"Create Account"})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600 font-body",children:["Already have an account?"," ",s.jsx("button",{onClick:()=>u("signin"),className:"text-brand-secondary hover:underline font-medium",children:"Sign In"})]})})]})]})})]})]})}const EB="/assets/sales_impact_graph-CgsRg9vo.png",SB="/assets/roi_growth_graph-CoK_05yN.png",TB="/assets/user_engagement_graph-VoDQg4xV.png",AB="/assets/Lizaonbeachheadshot-DcBVnZbK.jpg",CB="/assets/communityof5-M0ZUnn3_.jpg",RB="/assets/handswithheartpaint--M5Tsnoo.jpg",IB="/assets/grouppicdiverse-C5ZB7F85.jpg";function kB(){const[t,e]=b.useState({name:"",email:"",company:"",message:""}),n=l=>{e({...t,[l.target.name]:l.target.value})},i=l=>{l.preventDefault();const u=l.target,h=new FormData(u);fetch("https://formspree.io/f/xeokjykw",{method:"POST",body:h,headers:{Accept:"application/json"}}).then(m=>{m.ok?(alert("Thank you! Your message has been sent."),e({name:"",email:"",company:"",message:""})):alert("Oops! There was a problem submitting your form")}).catch(m=>{alert("Oops! There was a problem submitting your form")})},o=()=>{document.getElementById("contact").scrollIntoView({behavior:"smooth"})};return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("nav",{className:"fixed top-0 w-full bg-white/95 backdrop-blur-sm border-b border-gray-200 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx("div",{className:"text-2xl font-bold text-brand-primary font-heading",children:"EngageNatural"}),s.jsxs("div",{className:"hidden md:flex space-x-8 items-center",children:[s.jsx("button",{onClick:o,className:"text-gray-700 hover:text-brand-secondary transition-colors font-body",children:"Contact"}),s.jsx(hE,{buttonText:"Login",buttonVariant:"default",className:"bg-brand-primary hover:bg-brand-primary/90 text-white px-6 py-2 rounded-lg transition-colors flex items-center font-body"})]})]})})}),s.jsx("section",{className:"pt-20 pb-16 bg-gradient-to-br from-green-50 to-blue-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-brand-primary mb-6 font-heading",children:["Engage",s.jsx("span",{className:"text-brand-secondary",children:"Natural"})]}),s.jsx("p",{className:"text-xl text-gray-600 mb-4 max-w-3xl mx-auto font-body",children:"Learn. Connect. Grow. Naturally"}),s.jsx("p",{className:"text-lg text-brand-secondary font-semibold mb-8 max-w-3xl mx-auto font-body",children:"More Than Training… It's a Movement"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center mt-16",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("h2",{className:"text-3xl font-bold text-brand-primary mb-6 font-heading",children:"The Only Platform Built Exclusively For Natural Products Retail Staff"}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(Ft,{className:"w-6 h-6 text-brand-secondary mr-3 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-brand-primary font-body",children:"Double Your Product Knowledge in 30 Days"}),s.jsx("p",{className:"text-gray-600 font-body",children:"Master ingredients, benefits, and customer recommendations through bite-sized daily challenges"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Ft,{className:"w-6 h-6 text-brand-secondary mr-3 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-brand-primary font-body",children:"Join an Elite Community of Natural Retail Pros"}),s.jsx("p",{className:"text-gray-600 font-body",children:"Connect with verified peers who understand your daily challenges and celebrate your wins"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Ft,{className:"w-6 h-6 text-brand-secondary mr-3 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-brand-primary font-body",children:"Earn Real Rewards While Building Your Career"}),s.jsx("p",{className:"text-gray-600 font-body",children:"Transform your expertise into recognition, samples, and career advancement opportunities"})]})]})]}),s.jsx(hE,{buttonText:"Join the Community",buttonVariant:"default",className:"bg-brand-secondary hover:bg-brand-secondary/90 text-white px-8 py-3 text-lg font-body"})]}),s.jsx("div",{className:"relative",children:s.jsx("img",{src:CB,alt:"Retail community",className:"rounded-2xl shadow-2xl"})})]})]})})}),s.jsxs("div",{className:"mt-8 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Get the mobile app for the full experience"}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsxs("button",{className:"bg-black text-white px-6 py-3 rounded-lg flex items-center space-x-2 hover:bg-gray-800 transition-colors",children:[s.jsx("span",{children:"📱"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-xs",children:"Download on the"}),s.jsx("div",{className:"text-sm font-semibold",children:"App Store"})]})]}),s.jsxs("button",{className:"bg-black text-white px-6 py-3 rounded-lg flex items-center space-x-2 hover:bg-gray-800 transition-colors",children:[s.jsx("span",{children:"🤖"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-xs",children:"Get it on"}),s.jsx("div",{className:"text-sm font-semibold",children:"Google Play"})]})]})]})]}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-brand-primary mb-4 font-heading",children:"Why Choose EngageNatural?"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto font-body",children:"Stop wasting time on generic platforms that don't understand natural products. Start growing your expertise, community, and career with the only app built for YOU."})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsx(ve,{className:"text-center p-8 hover:shadow-lg transition-shadow",children:s.jsxs(be,{className:"pt-6",children:[s.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Z9,{className:"w-8 h-8 text-brand-secondary"})}),s.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-3 font-heading",children:"Gamified Experience"}),s.jsx("p",{className:"text-gray-600 font-body",children:"Forget boring training modules. Our challenges turn learning into a game that's actually FUN, with points, badges, and rewards that keep you coming back for more."})]})}),s.jsx(ve,{className:"text-center p-8 hover:shadow-lg transition-shadow",children:s.jsxs(be,{className:"pt-6",children:[s.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(T9,{className:"w-8 h-8 text-blue-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-3 font-heading",children:"Expert Knowledge"}),s.jsx("p",{className:"text-gray-600 font-body",children:"Become the go-to expert your customers trust. Access exclusive content directly from top brands that 99% of your coworkers will never see."})]})}),s.jsx(ve,{className:"text-center p-8 hover:shadow-lg transition-shadow",children:s.jsxs(be,{className:"pt-6",children:[s.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Q0,{className:"w-8 h-8 text-purple-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-3 font-heading",children:"Community Support"}),s.jsx("p",{className:"text-gray-600 font-body",children:"Stop feeling isolated in your store. Join the ONLY verified community of natural retail professionals who understand exactly what you're going through."})]})})]})]})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-4xl font-bold text-brand-primary mb-6 font-heading",children:"Meet the Founder"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6 font-body",children:"Hi, I'm Liza! After 30+ years in the natural products industry, I've seen firsthand how retail staff are the MOST IMPORTANT yet MOST OVERLOOKED part of the entire ecosystem."}),s.jsx("p",{className:"text-lg text-gray-600 mb-8 font-body",children:"EngageNatural exists because YOU deserve better than generic training platforms that don't understand our industry. This is more than an app - it's a movement to recognize, reward, and elevate the retail professionals who make natural products successful."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs(Ae,{variant:"outline",size:"sm",className:"border-brand-primary text-brand-primary hover:bg-brand-primary hover:text-white",children:[s.jsx(ir,{className:"w-4 h-4 mr-2"}),"LinkedIn"]}),s.jsxs(Ae,{variant:"outline",size:"sm",className:"border-brand-primary text-brand-primary hover:bg-brand-primary hover:text-white",children:[s.jsx($m,{className:"w-4 h-4 mr-2"}),"Email"]})]})]}),s.jsx("div",{className:"relative",children:s.jsx("img",{src:AB,alt:"Liza - Founder of EngageNatural",className:"rounded-2xl shadow-2xl max-w-xs mx-auto transform scale-x-[-1]"})})]})})}),s.jsx("section",{id:"contact",className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-brand-primary mb-4 font-heading",children:"Get In Touch"}),s.jsx("p",{className:"text-xl text-gray-600 font-body",children:"Ready to transform your retail experience? Let's start the conversation."})]}),s.jsx(ve,{className:"p-8",children:s.jsx(be,{children:s.jsxs("form",{onSubmit:i,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-brand-primary mb-2 font-body",children:"Name *"}),s.jsx(De,{type:"text",id:"name",name:"name",value:t.name,onChange:n,required:!0,placeholder:"Your full name",className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-brand-primary mb-2 font-body",children:"Email *"}),s.jsx(De,{type:"email",id:"email",name:"email",value:t.email,onChange:n,required:!0,placeholder:"your.email@company.com",className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-brand-primary mb-2 font-body",children:"Company"}),s.jsx(De,{type:"text",id:"company",name:"company",value:t.company,onChange:n,placeholder:"Your company name",className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-brand-primary mb-2 font-body",children:"Message *"}),s.jsx(Za,{id:"message",name:"message",rows:5,value:t.message,onChange:n,required:!0,placeholder:"Tell us about your needs and how we can help...",className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary"})]}),s.jsx(Ae,{type:"submit",className:"w-full bg-brand-primary hover:bg-brand-primary/90 text-white py-3 font-body",children:"Send Message"})]})})})]})}),s.jsx("footer",{className:"bg-brand-primary text-white py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold mb-4 font-heading",children:"EngageNatural"}),s.jsx("p",{className:"text-gray-300 font-body",children:"Empowering retail teams through gamified engagement and community building."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-4 font-heading",children:"For Retail Staff"}),s.jsxs("ul",{className:"space-y-2 text-gray-300 font-body",children:[s.jsx("li",{children:"Gamified Learning"}),s.jsx("li",{children:"Community Connection"}),s.jsx("li",{children:"Career Growth"}),s.jsx("li",{children:"Expert Knowledge"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-4 font-heading",children:"Platform"}),s.jsxs("ul",{className:"space-y-2 text-gray-300 font-body",children:[s.jsx("li",{children:"Challenges"}),s.jsx("li",{children:"Community"}),s.jsx("li",{children:"Learning"}),s.jsx("li",{children:"Verification"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-4 font-heading",children:"Connect"}),s.jsxs("ul",{className:"space-y-2 text-gray-300 font-body",children:[s.jsx("li",{children:"Contact Us"}),s.jsx("li",{children:"LinkedIn"}),s.jsx("li",{children:"Support"}),s.jsx("li",{children:"Privacy Policy"})]})]})]}),s.jsx("div",{className:"border-t border-gray-600 mt-8 pt-8 text-center text-gray-300",children:s.jsx("p",{className:"font-body",children:"© 2024 EngageNatural. All rights reserved."})})]})})]})}function DB(){const[t,e]=b.useState({name:"",email:"",company:"",message:""}),n=l=>{e({...t,[l.target.name]:l.target.value})},i=l=>{l.preventDefault();const u=l.target,h=new FormData(u);fetch("https://formspree.io/f/xeokjykw",{method:"POST",body:h,headers:{Accept:"application/json"}}).then(m=>{m.ok?(alert("Thank you! Your message has been sent."),e({name:"",email:"",company:"",message:""})):alert("Oops! There was a problem submitting your form")}).catch(m=>{alert("Oops! There was a problem submitting your form")})},o=()=>{document.getElementById("contact").scrollIntoView({behavior:"smooth"})};return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("nav",{className:"fixed top-0 w-full bg-white/95 backdrop-blur-sm border-b border-gray-200 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx("div",{className:"text-2xl font-bold text-brand-primary font-heading",children:"EngageNatural"}),s.jsxs("div",{className:"hidden md:flex space-x-8",children:[s.jsx("a",{href:"/",className:"text-gray-700 hover:text-brand-secondary transition-colors font-body",children:"Home"}),s.jsx("button",{onClick:o,className:"text-gray-700 hover:text-brand-secondary transition-colors font-body",children:"Contact"})]})]})})}),s.jsx("section",{className:"pt-20 pb-16 bg-gradient-to-br from-green-50 to-blue-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-brand-primary mb-6 font-heading",children:["Partner with ",s.jsx("span",{className:"text-brand-secondary",children:"EngageNatural"})]}),s.jsx("p",{className:"text-xl text-gray-600 mb-4 max-w-3xl mx-auto font-body",children:"Learn. Connect. Grow. Naturally"}),s.jsx("p",{className:"text-lg text-brand-secondary font-semibold mb-8 max-w-3xl mx-auto font-body",children:"More Than Training… It's a Movement"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center mt-16",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("h2",{className:"text-3xl font-bold text-brand-primary mb-6 font-heading",children:"Transform Your Brand Presence"}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(rr,{className:"w-6 h-6 text-brand-secondary mr-3 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-brand-primary font-body",children:"Measurable ROI"}),s.jsx("p",{className:"text-gray-600 font-body",children:"Track campaign performance and sales impact in real-time"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Pd,{className:"w-6 h-6 text-brand-secondary mr-3 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-brand-primary font-body",children:"Targeted Engagement"}),s.jsx("p",{className:"text-gray-600 font-body",children:"Connect directly with verified retail professionals"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(ir,{className:"w-6 h-6 text-brand-secondary mr-3 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-brand-primary font-body",children:"Community Building"}),s.jsx("p",{className:"text-gray-600 font-body",children:"Foster brand loyalty through authentic relationships"})]})]})]}),s.jsxs(Ae,{onClick:o,className:"bg-brand-secondary hover:bg-brand-secondary/90 text-white px-8 py-3 text-lg font-body",children:["Get Started",s.jsx(Q1,{className:"ml-2 h-5 w-5"})]})]}),s.jsx("div",{className:"relative",children:s.jsx("img",{src:IB,alt:"Diverse retail team",className:"rounded-2xl shadow-2xl"})})]})]})})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-brand-primary mb-4 font-heading",children:"Why Now?"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto font-body",children:"The retail landscape is changing rapidly, creating new challenges and opportunities"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[s.jsx("div",{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-2 mr-4 flex-shrink-0",children:s.jsx(Ft,{className:"w-6 h-6 text-brand-secondary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-2 font-heading",children:"Post-COVID Engagement Challenge"}),s.jsx("p",{className:"text-gray-600 font-body",children:"Retail teams are harder to engage in-person, requiring new digital approaches to training and connection."})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-2 mr-4 flex-shrink-0",children:s.jsx(Ft,{className:"w-6 h-6 text-brand-secondary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-2 font-heading",children:"ROI-Driven Marketing"}),s.jsx("p",{className:"text-gray-600 font-body",children:"Brands are demanding direct ROI from marketing and training budgets with measurable impact."})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-2 mr-4 flex-shrink-0",children:s.jsx(Ft,{className:"w-6 h-6 text-brand-secondary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-2 font-heading",children:"Community Over Corporate"}),s.jsx("p",{className:"text-gray-600 font-body",children:"Staff want authentic community experiences, not corporate tools or impersonal platforms."})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-2 mr-4 flex-shrink-0",children:s.jsx(Ft,{className:"w-6 h-6 text-brand-secondary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-2 font-heading",children:"Trust Deficit"}),s.jsx("p",{className:"text-gray-600 font-body",children:"General distrust of large corporations and social media creates need for authentic connection."})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-2 mr-4 flex-shrink-0",children:s.jsx(Ft,{className:"w-6 h-6 text-brand-secondary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-2 font-heading",children:"Industry Gap"}),s.jsx("p",{className:"text-gray-600 font-body",children:"No current app delivers a personal, education-first experience built just for the natural products industry."})]})]})]})}),s.jsx("div",{className:"relative",children:s.jsx("img",{src:RB,alt:"Hands forming a heart",className:"rounded-2xl shadow-2xl"})})]})]})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-brand-primary mb-4 font-heading",children:"Proven Results"}),s.jsx("p",{className:"text-xl text-gray-600 font-body",children:"See the measurable impact EngageNatural has on retail performance"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold mb-2 font-heading",children:"85%"}),s.jsx("div",{className:"text-gray-600 font-body",children:"Increase in Product Knowledge"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold mb-2 font-heading",children:"67%"}),s.jsx("div",{className:"text-gray-600 font-body",children:"Boost in Customer Satisfaction"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold mb-2 font-heading",children:"92%"}),s.jsx("div",{className:"text-gray-600 font-body",children:"Staff Engagement Rate"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsx(ve,{className:"p-6",children:s.jsxs(be,{children:[s.jsx("h3",{className:"text-lg font-semibold text-brand-primary mb-4 font-heading",children:"Sales Impact"}),s.jsx("img",{src:EB,alt:"Sales Impact Graph",className:"w-full rounded-lg"})]})}),s.jsx(ve,{className:"p-6",children:s.jsxs(be,{children:[s.jsx("h3",{className:"text-lg font-semibold text-brand-primary mb-4 font-heading",children:"ROI Growth"}),s.jsx("img",{src:SB,alt:"ROI Growth Graph",className:"w-full rounded-lg"})]})}),s.jsx(ve,{className:"p-6",children:s.jsxs(be,{children:[s.jsx("h3",{className:"text-lg font-semibold text-brand-primary mb-4 font-heading",children:"User Engagement"}),s.jsx("img",{src:TB,alt:"User Engagement Graph",className:"w-full rounded-lg"})]})})]})]})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-brand-primary mb-4 font-heading",children:"Real ROI Example"}),s.jsx("p",{className:"text-xl text-gray-600 font-body",children:"See how brands achieve measurable returns with EngageNatural"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[s.jsx("div",{children:s.jsx(ve,{className:"p-8 border-2 border-brand-secondary",children:s.jsxs(be,{children:[s.jsx("h3",{className:"text-2xl font-semibold text-brand-primary mb-6 font-heading",children:"Sales Impact Example"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[s.jsx("span",{className:"font-semibold text-gray-700 font-body",children:"Employees trained in campaign"}),s.jsx("span",{className:"text-xl font-bold text-brand-primary font-heading",children:"500"})]}),s.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[s.jsx("span",{className:"font-semibold text-gray-700 font-body",children:"Extra sales per employee"}),s.jsx("span",{className:"text-xl font-bold text-brand-primary font-heading",children:"3 units"})]}),s.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[s.jsx("span",{className:"font-semibold text-gray-700 font-body",children:"Total additional units sold"}),s.jsx("span",{className:"text-xl font-bold text-brand-primary font-heading",children:"1,500 units"})]}),s.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[s.jsx("span",{className:"font-semibold text-gray-700 font-body",children:"Profit per unit"}),s.jsx("span",{className:"text-xl font-bold text-brand-primary font-heading",children:"$5"})]}),s.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[s.jsx("span",{className:"font-semibold text-gray-700 font-body",children:"Campaign cost"}),s.jsx("span",{className:"text-xl font-bold text-brand-primary font-heading",children:"$2,000"})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2",children:[s.jsx("span",{className:"font-bold text-gray-800 font-body",children:"Total ROI"}),s.jsx("span",{className:"text-2xl font-bold text-brand-secondary font-heading",children:"275%"})]})]})]})})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-semibold text-brand-primary mb-3 font-heading",children:"Every Trained Staff Member Matters"}),s.jsx("p",{className:"text-gray-600 font-body",children:"Our data shows that properly trained retail staff sell an average of 3 more units per shift. With a $5 profit per unit, that's $15+ in added value per staff member, per shift."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-semibold text-brand-primary mb-3 font-heading",children:"Quick Campaign Recovery"}),s.jsx("p",{className:"text-gray-600 font-body",children:"Brands recover their campaign spend (avg. $2,000) through just 135 trained staff — often in a single week. Everything beyond that is pure profit."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-semibold text-brand-primary mb-3 font-heading",children:"Gamification Boosts Engagement"}),s.jsx("p",{className:"text-gray-600 font-body",children:"Gamified users interact 3–5x more often with brand content, boosting retention and creating a multiplier effect on repeat campaign ROI."})]}),s.jsxs(Ae,{onClick:o,className:"bg-brand-secondary hover:bg-brand-secondary/90 text-white px-8 py-3 text-lg font-body mt-4",children:["Start Your Campaign",s.jsx(Q1,{className:"ml-2 h-5 w-5"})]})]})]})]})}),s.jsx("section",{id:"contact",className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-brand-primary mb-4 font-heading",children:"Get In Touch"}),s.jsx("p",{className:"text-xl text-gray-600 font-body",children:"Ready to transform your brand's retail presence? Let's start the conversation."})]}),s.jsx(ve,{className:"p-8",children:s.jsx(be,{children:s.jsxs("form",{onSubmit:i,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-brand-primary mb-2 font-body",children:"Name *"}),s.jsx(De,{type:"text",id:"name",name:"name",value:t.name,onChange:n,required:!0,placeholder:"Your full name",className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-brand-primary mb-2 font-body",children:"Email *"}),s.jsx(De,{type:"email",id:"email",name:"email",value:t.email,onChange:n,required:!0,placeholder:"your.email@company.com",className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-brand-primary mb-2 font-body",children:"Company"}),s.jsx(De,{type:"text",id:"company",name:"company",value:t.company,onChange:n,placeholder:"Your company name",className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-brand-primary mb-2 font-body",children:"Message *"}),s.jsx(Za,{id:"message",name:"message",value:t.message,onChange:n,required:!0,rows:5,placeholder:"Tell us about your goals and how we can help",className:"border-gray-300 focus:border-brand-primary focus:ring-brand-primary"})]}),s.jsx("div",{children:s.jsx(Ae,{type:"submit",className:"w-full bg-brand-secondary hover:bg-brand-secondary/90 text-white py-3 font-body",children:"Send Message"})})]})})})]})}),s.jsx("footer",{className:"bg-gray-800 text-white py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 font-heading",children:"EngageNatural"}),s.jsx("p",{className:"text-gray-300 mb-4 font-body",children:"Empowering retail teams through gamified engagement, education, and community building in the natural products industry."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(Ae,{variant:"ghost",size:"icon",className:"text-gray-300 hover:text-white",children:s.jsx(r8,{className:"w-5 h-5"})}),s.jsx(Ae,{variant:"ghost",size:"icon",className:"text-gray-300 hover:text-white",children:s.jsx(Ja,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-4 font-heading",children:"Platform"}),s.jsxs("ul",{className:"space-y-2 text-gray-300 font-body",children:[s.jsx("li",{children:"Challenges"}),s.jsx("li",{children:"Community"}),s.jsx("li",{children:"Learning"}),s.jsx("li",{children:"Verification"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-4 font-heading",children:"Connect"}),s.jsxs("ul",{className:"space-y-2 text-gray-300 font-body",children:[s.jsx("li",{children:"Contact Us"}),s.jsx("li",{children:"LinkedIn"}),s.jsx("li",{children:"Support"}),s.jsx("li",{children:"Privacy Policy"})]})]})]}),s.jsx("div",{className:"border-t border-gray-600 mt-8 pt-8 text-center text-gray-300",children:s.jsx("p",{className:"font-body",children:"© 2024 EngageNatural. All rights reserved."})})]})})]})}var ky={exports:{}},Dy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function MB(){if(fE)return Dy;fE=1;var t=sp();function e(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,o=t.useEffect,l=t.useLayoutEffect,u=t.useDebugValue;function h(v,w){var A=w(),T=i({inst:{value:A,getSnapshot:w}}),j=T[0].inst,I=T[1];return l(function(){j.value=A,j.getSnapshot=w,m(j)&&I({inst:j})},[v,A,w]),o(function(){return m(j)&&I({inst:j}),v(function(){m(j)&&I({inst:j})})},[v]),u(A),A}function m(v){var w=v.getSnapshot;v=v.value;try{var A=w();return!n(v,A)}catch{return!0}}function p(v,w){return w()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:h;return Dy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,Dy}var mE;function PB(){return mE||(mE=1,ky.exports=MB()),ky.exports}var OB=PB();function LB(){return OB.useSyncExternalStore(VB,()=>!0,()=>!1)}function VB(){return()=>{}}var lb="Avatar",[UB,MH]=hr(lb),[BB,xC]=UB(lb),yC=b.forwardRef((t,e)=>{const{__scopeAvatar:n,...i}=t,[o,l]=b.useState("idle");return s.jsx(BB,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:s.jsx(We.span,{...i,ref:e})})});yC.displayName=lb;var vC="AvatarImage",bC=b.forwardRef((t,e)=>{const{__scopeAvatar:n,src:i,onLoadingStatusChange:o=()=>{},...l}=t,u=xC(vC,n),h=zB(i,l),m=ar(p=>{o(p),u.onImageLoadingStatusChange(p)});return jn(()=>{h!=="idle"&&m(h)},[h,m]),h==="loaded"?s.jsx(We.img,{...l,ref:e,src:i}):null});bC.displayName=vC;var wC="AvatarFallback",_C=b.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:i,...o}=t,l=xC(wC,n),[u,h]=b.useState(i===void 0);return b.useEffect(()=>{if(i!==void 0){const m=window.setTimeout(()=>h(!0),i);return()=>window.clearTimeout(m)}},[i]),u&&l.imageLoadingStatus!=="loaded"?s.jsx(We.span,{...o,ref:e}):null});_C.displayName=wC;function pE(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function zB(t,{referrerPolicy:e,crossOrigin:n}){const i=LB(),o=b.useRef(null),l=i?(o.current||(o.current=new window.Image),o.current):null,[u,h]=b.useState(()=>pE(l,t));return jn(()=>{h(pE(l,t))},[l,t]),jn(()=>{const m=v=>()=>{h(v)};if(!l)return;const p=m("loaded"),y=m("error");return l.addEventListener("load",p),l.addEventListener("error",y),e&&(l.referrerPolicy=e),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",p),l.removeEventListener("error",y)}},[l,n,e]),u}var FB=yC,qB=bC,HB=_C;function vd({className:t,...e}){return s.jsx(FB,{"data-slot":"avatar",className:Me("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function Nv({className:t,...e}){return s.jsx(qB,{"data-slot":"avatar-image",className:Me("aspect-square size-full",t),...e})}function bd({className:t,...e}){return s.jsx(HB,{"data-slot":"avatar-fallback",className:Me("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function $B(){const[t,e]=b.useState([]),[n,i]=b.useState([]),[o,l]=b.useState(null),[u,h]=b.useState(""),[m,p]=b.useState(!1),[y,v]=b.useState("overview"),[w,A]=b.useState({totalUsers:0,pendingVerifications:0,approvedUsers:0,rejectedRequests:0}),[T,j]=b.useState({content:[{id:1,type:"video",title:"Supplement Basics Training",views:1250,likes:89,shares:23,comments:45,engagement:12.6},{id:2,type:"activity",title:"Daily Check-in Challenge",participants:340,completions:287,engagement:84.4},{id:3,type:"challenge",title:"Vitamin D Knowledge Quiz",attempts:156,completions:134,avgScore:87,engagement:85.9},{id:4,type:"social",title:"Share Your Success Story",posts:67,likes:234,comments:89,shares:45,engagement:15.2},{id:5,type:"video",title:"Probiotic Product Deep Dive",views:890,likes:67,shares:12,comments:34,engagement:12.7},{id:6,type:"activity",title:"Weekly Sales Goal Tracker",participants:245,completions:198,engagement:80.8},{id:7,type:"challenge",title:"Omega-3 Expert Certification",attempts:89,completions:76,avgScore:92,engagement:85.4},{id:8,type:"social",title:"Product Recommendation Post",posts:123,likes:456,comments:178,shares:67,engagement:18.9}],totalEngagement:15.7,topPerformers:[{type:"challenge",title:"Vitamin D Knowledge Quiz",engagement:85.9},{type:"activity",title:"Daily Check-in Challenge",engagement:84.4},{type:"challenge",title:"Omega-3 Expert Certification",engagement:85.4}]});b.useEffect(()=>{const N=Um(Ia(xt,"verification_requests"),R1("submittedAt","desc")),E=D1(N,B=>{const R=B.docs.map(k=>{var se,pe;return{id:k.id,...k.data(),submittedAt:(se=k.data().submittedAt)==null?void 0:se.toDate(),reviewedAt:(pe=k.data().reviewedAt)==null?void 0:pe.toDate()}});e(R),A(k=>({...k,pendingVerifications:R.filter(se=>se.status==="pending").length,approvedUsers:R.filter(se=>se.status==="approved").length,rejectedRequests:R.filter(se=>se.status==="rejected").length}))}),P=Um(Ia(xt,"users"),R1("lastVerificationRequest","desc")),U=D1(P,B=>{const R=B.docs.map(k=>{var se,pe,K;return{id:k.id,...k.data(),lastVerificationRequest:(se=k.data().lastVerificationRequest)==null?void 0:se.toDate(),approvedAt:(pe=k.data().approvedAt)==null?void 0:pe.toDate(),rejectedAt:(K=k.data().rejectedAt)==null?void 0:K.toDate()}});i(R),A(k=>({...k,totalUsers:R.length}))});return()=>{E(),U()}},[]);const I=async N=>{p(!0);try{const E=Vt(xt,"verification_requests",N);await xs(E,{status:"approved",reviewedAt:new Date,adminNotes:u});const P=t.find(U=>U.id===N);if(P){const U=Vt(xt,"users",P.userId);await xs(U,{verificationStatus:"approved",verified:!0,approvedAt:new Date})}l(null),h("")}catch(E){console.error("Error approving verification:",E)}finally{p(!1)}},M=async N=>{p(!0);try{const E=Vt(xt,"verification_requests",N);await xs(E,{status:"rejected",reviewedAt:new Date,adminNotes:u});const P=t.find(U=>U.id===N);if(P){const U=Vt(xt,"users",P.userId);await xs(U,{verificationStatus:"rejected",verified:!1,rejectedAt:new Date})}l(null),h("")}catch(E){console.error("Error rejecting verification:",E)}finally{p(!1)}},L=async N=>{if(window.confirm("Are you sure you want to delete this verification request?"))try{await F5(Vt(xt,"verification_requests",N))}catch(E){console.error("Error deleting request:",E)}},V=async()=>{try{await e0(rs)}catch(N){console.error("Error signing out:",N)}},F=N=>{switch(N){case"approved":return s.jsx(Ge,{className:"bg-green-100 text-green-800",children:"Approved"});case"rejected":return s.jsx(Ge,{className:"bg-red-100 text-red-800",children:"Rejected"});case"pending":return s.jsx(Ge,{className:"bg-yellow-100 text-yellow-800",children:"Pending"});default:return s.jsx(Ge,{className:"bg-gray-100 text-gray-800",children:"Unknown"})}},H=N=>{switch(N){case"video":return s.jsx(pA,{className:"h-4 w-4 text-blue-600"});case"activity":return s.jsx(Dr,{className:"h-4 w-4 text-green-600"});case"challenge":return s.jsx(Pd,{className:"h-4 w-4 text-purple-600"});case"social":return s.jsx(vv,{className:"h-4 w-4 text-pink-600"});default:return s.jsx(zo,{className:"h-4 w-4 text-gray-600"})}},$=N=>N>=80?"text-green-600":N>=60?"text-yellow-600":"text-red-600";return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"EngageNatural Admin"}),s.jsx("p",{className:"text-gray-600",children:"Manage users, verifications, and content engagement"})]}),s.jsxs(Ae,{onClick:V,variant:"outline",children:[s.jsx(fA,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})})}),s.jsx("div",{className:"bg-white border-b",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx(Vd,{value:y,onValueChange:v,className:"w-full",children:s.jsxs(ch,{className:"grid w-full grid-cols-5",children:[s.jsx(Rn,{value:"overview",children:"Overview"}),s.jsx(Rn,{value:"verifications",children:"Verifications"}),s.jsx(Rn,{value:"users",children:"Users"}),s.jsx(Rn,{value:"engagement",children:"Engagement"}),s.jsx(Rn,{value:"gallery",children:"Photo Gallery"})]})})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs(Vd,{value:y,onValueChange:v,children:[s.jsxs(In,{value:"overview",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(ir,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:w.totalUsers}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from last month"})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Pending Verifications"}),s.jsx(ka,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:w.pendingVerifications}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting review"})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Verified Users"}),s.jsx(Ft,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:w.approvedUsers}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"+8% from last month"})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Avg Engagement"}),s.jsx(rr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[T.totalEngagement,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"+2.1% from last week"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ve,{children:[s.jsx(Ee,{children:s.jsx(Se,{children:"Recent Verification Requests"})}),s.jsx(be,{children:s.jsx("div",{className:"space-y-4",children:t.slice(0,5).map(N=>{var E;return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(vd,{className:"h-8 w-8",children:s.jsx(bd,{children:(E=N.userName)==null?void 0:E.charAt(0)})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:N.userName}),s.jsx("p",{className:"text-xs text-gray-500",children:N.storeName})]})]}),F(N.status)]},N.id)})})})]}),s.jsxs(ve,{children:[s.jsx(Ee,{children:s.jsx(Se,{children:"Top Performing Content"})}),s.jsx(be,{children:s.jsx("div",{className:"space-y-4",children:T.topPerformers.map((N,E)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[H(N.type),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:N.title}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:N.type})]})]}),s.jsxs("div",{className:`text-sm font-medium ${$(N.engagement)}`,children:[N.engagement,"%"]})]},E))})})]})]})]}),s.jsx(In,{value:"verifications",children:s.jsxs(ve,{children:[s.jsx(Ee,{children:s.jsx(Se,{children:"Verification Requests"})}),s.jsx(be,{children:s.jsx("div",{className:"space-y-4",children:t.map(N=>{var E,P,U,B;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(vd,{children:s.jsx(bd,{children:(E=N.userName)==null?void 0:E.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:N.userName}),s.jsx("p",{className:"text-sm text-gray-500",children:N.userEmail}),s.jsx("p",{className:"text-sm text-gray-500",children:N.storeName})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[F(N.status),s.jsxs(Zo,{children:[s.jsx(YA,{asChild:!0,children:s.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>{l(N),h(N.adminNotes||"")},children:[s.jsx(Vs,{className:"h-4 w-4 mr-1"}),"Review"]})}),s.jsxs(za,{className:"max-w-2xl",children:[s.jsx(Jo,{children:s.jsx(Fa,{children:"Verification Request Details"})}),o&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"User"}),s.jsx("p",{className:"text-sm",children:o.userName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Store"}),s.jsx("p",{className:"text-sm",children:o.storeName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Submitted"}),s.jsx("p",{className:"text-sm",children:(P=o.submittedAt)==null?void 0:P.toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsx("div",{className:"mt-1",children:F(o.status)})]})]}),o.photoURL&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Verification Photo"}),s.jsx("img",{src:o.photoURL,alt:"Verification",className:"mt-2 max-w-full h-64 object-cover rounded-lg"})]}),o.brandCode&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Brand Code"}),s.jsx("p",{className:"text-sm",children:o.brandCode})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Admin Notes"}),s.jsx(Za,{value:u,onChange:R=>h(R.target.value),placeholder:"Add notes about this verification...",className:"mt-1"})]}),o.status==="pending"&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(Ae,{onClick:()=>I(o.id),disabled:m,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Ft,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(Ae,{onClick:()=>M(o.id),disabled:m,variant:"destructive",children:[s.jsx(Nc,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})]})]}),s.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>L(N.id),children:s.jsx(Op,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Submitted: ",(U=N.submittedAt)==null?void 0:U.toLocaleDateString()," at ",(B=N.submittedAt)==null?void 0:B.toLocaleTimeString()]}),N.verificationCode&&s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Verification Code: ",N.verificationCode]})]},N.id)})})})]})}),s.jsx(In,{value:"users",children:s.jsxs(ve,{children:[s.jsx(Ee,{children:s.jsx(Se,{children:"User Management"})}),s.jsx(be,{children:s.jsx("div",{className:"space-y-4",children:n.map(N=>{var E;return s.jsx("div",{className:"border rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(vd,{children:[s.jsx(Nv,{src:N.profileImage}),s.jsx(bd,{children:(E=N.name)==null?void 0:E.charAt(0)})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:N.name}),s.jsx("p",{className:"text-sm text-gray-500",children:N.email}),s.jsx("p",{className:"text-sm text-gray-500",children:N.storeName})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[F(N.verificationStatus||"not_submitted"),s.jsxs(Ge,{variant:"outline",children:[N.points||0," pts"]}),s.jsxs(Ge,{variant:"outline",children:["Level ",N.level||1]})]})]})},N.id)})})})]})}),s.jsx(In,{value:"engagement",children:s.jsx("div",{className:"space-y-6",children:s.jsxs(ve,{children:[s.jsx(Ee,{children:s.jsxs(Se,{className:"flex items-center",children:[s.jsx(zc,{className:"h-5 w-5 mr-2"}),"Content Engagement Analytics"]})}),s.jsx(be,{children:s.jsx("div",{className:"space-y-4",children:T.content.map(N=>{var E;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[H(N.type),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:N.title}),s.jsx("p",{className:"text-sm text-gray-500 capitalize",children:N.type})]})]}),s.jsxs("div",{className:`text-lg font-bold ${$(N.engagement)}`,children:[N.engagement,"%"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[N.type==="video"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Views:"}),s.jsx("span",{className:"ml-1 font-medium",children:(E=N.views)==null?void 0:E.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Likes:"}),s.jsx("span",{className:"ml-1 font-medium",children:N.likes})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Shares:"}),s.jsx("span",{className:"ml-1 font-medium",children:N.shares})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Comments:"}),s.jsx("span",{className:"ml-1 font-medium",children:N.comments})]})]}),N.type==="activity"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Participants:"}),s.jsx("span",{className:"ml-1 font-medium",children:N.participants})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Completions:"}),s.jsx("span",{className:"ml-1 font-medium",children:N.completions})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Completion Rate:"}),s.jsxs("span",{className:"ml-1 font-medium",children:[(N.completions/N.participants*100).toFixed(1),"%"]})]})]}),N.type==="challenge"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Attempts:"}),s.jsx("span",{className:"ml-1 font-medium",children:N.attempts})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Completions:"}),s.jsx("span",{className:"ml-1 font-medium",children:N.completions})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Avg Score:"}),s.jsxs("span",{className:"ml-1 font-medium",children:[N.avgScore,"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Success Rate:"}),s.jsxs("span",{className:"ml-1 font-medium",children:[(N.completions/N.attempts*100).toFixed(1),"%"]})]})]}),N.type==="social"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Posts:"}),s.jsx("span",{className:"ml-1 font-medium",children:N.posts})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Likes:"}),s.jsx("span",{className:"ml-1 font-medium",children:N.likes})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Comments:"}),s.jsx("span",{className:"ml-1 font-medium",children:N.comments})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Shares:"}),s.jsx("span",{className:"ml-1 font-medium",children:N.shares})]})]})]})]},N.id)})})})]})})}),s.jsx(In,{value:"gallery",children:s.jsxs(ve,{children:[s.jsx(Ee,{children:s.jsxs(Se,{className:"flex items-center",children:[s.jsx(Fm,{className:"h-5 w-5 mr-2"}),"Photo Gallery - Social Media Content Creator"]})}),s.jsx(be,{children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium mb-4",children:"Gallery Tools"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ae,{variant:"outline",className:"w-full justify-start",children:[s.jsx(Yf,{className:"h-4 w-4 mr-2"}),"Brand Product Photos"]}),s.jsxs(Ae,{variant:"outline",className:"w-full justify-start",children:[s.jsx($m,{className:"h-4 w-4 mr-2"}),"User Comments"]}),s.jsxs(Ae,{variant:"outline",className:"w-full justify-start",children:[s.jsx(Q0,{className:"h-4 w-4 mr-2"}),"Top Testimonials"]}),s.jsxs(Ae,{variant:"outline",className:"w-full justify-start",children:[s.jsx(vv,{className:"h-4 w-4 mr-2"}),"Create Collage"]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ae,{size:"sm",className:"w-full",children:"Generate Instagram Post"}),s.jsx(Ae,{size:"sm",variant:"outline",className:"w-full",children:"Create Facebook Story"}),s.jsx(Ae,{size:"sm",variant:"outline",className:"w-full",children:"Export for LinkedIn"})]})]})]})}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[s.jsx(Fm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Social Media Content Creator"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Create branded social media posts using retailer comments and product photos"}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Coming Soon Features:"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:"• Drag & drop product photo collages"}),s.jsx("li",{children:"• Overlay retailer testimonials and comments"}),s.jsx("li",{children:"• Auto-brand with EngageNatural logo"}),s.jsx("li",{children:"• Export in multiple social media formats"}),s.jsx("li",{children:"• Template library for different brands"})]})]}),s.jsxs(Ae,{disabled:!0,className:"mb-2",children:[s.jsx(Yf,{className:"h-4 w-4 mr-2"}),"Upload Product Photos"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Widget ready for development - functionality coming soon"})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Recent Social Media Posts"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"bg-gray-200 h-32 rounded mb-2 flex items-center justify-center",children:s.jsx(Yf,{className:"h-8 w-8 text-gray-400"})}),s.jsx("p",{className:"text-xs text-gray-600",children:"Sample Instagram Post"})]}),s.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"bg-gray-200 h-32 rounded mb-2 flex items-center justify-center",children:s.jsx(Yf,{className:"h-8 w-8 text-gray-400"})}),s.jsx("p",{className:"text-xs text-gray-600",children:"Sample Facebook Story"})]})]})]})]})]})})]})})]})})]})}const gs={mainTitle:{fontFamily:"Playfair Display, serif",fontWeight:"900",letterSpacing:"-0.015em",lineHeight:"1.1",color:"#000000"},sectionHeading:{fontFamily:"Playfair Display, serif",fontWeight:"800",letterSpacing:"-0.02em",lineHeight:"1.2",color:"#000000"},subsectionTitle:{fontFamily:"Inter, sans-serif",fontWeight:"700",letterSpacing:"-0.005em",lineHeight:"1.3",color:"#000000"}};function GB(){var Pt;const[t,e]=b.useState(null),[n,i]=b.useState(!0),[o,l]=b.useState("profile"),[u,h]=b.useState(!1),[m,p]=b.useState(null),[y,v]=b.useState({interests:"",location:"",story:""}),[w,A]=b.useState({name:"",storeName:""}),[T,j]=b.useState(!1),[I,M]=b.useState(null),[L,V]=b.useState(!1),[F,H]=b.useState(!1),[$,N]=b.useState(!1),[E,P]=b.useState(""),[U,B]=b.useState(""),[R,k]=b.useState([]),[se,pe]=b.useState(null),[K,ae]=b.useState(0),Q=dr(),he=b.useRef(null),z=b.useRef(null),re=b.useRef(null),me=b.useRef(null),le=["👤","👨‍💼","👩‍💼","👨‍🔬","👩‍🔬","👨‍⚕️","👩‍⚕️","🧑‍🌾","👨‍🍳","👩‍🍳","🌱","🥬","🥕","🍎","🥑","🌿","🌾","🍯","🧘‍♀️","🧘‍♂️"],ye=[{id:"nature-made",name:"Nature Made",description:"Get your code from your Nature Made brand representative"},{id:"garden-of-life",name:"Garden of Life",description:"Request code from Garden of Life regional manager"},{id:"new-chapter",name:"New Chapter",description:"Contact New Chapter sales team for verification code"},{id:"rainbow-light",name:"Rainbow Light",description:"Get code from Rainbow Light territory manager"},{id:"nordic-naturals",name:"Nordic Naturals",description:"Request from Nordic Naturals brand ambassador"},{id:"store-manager",name:"Store Manager",description:"Get verification code from your store manager"}],Ve=[{id:"whats-good",name:"What's Good",description:"Check out What's Good for the latest product drops and industry buzz!",members:2500,active:!0,isPublic:!0,requiresVerification:!1,hasEasterEggs:!0,badge:"🌟 Open to All"},{id:"supplement-scoop",name:"Supplement Scoop",description:"Stop guessing what supplements actually work and start getting insider intel from the pros who sell $10M+ in products every year.",members:850,active:!1,isPublic:!1,requiresVerification:!0,hasEasterEggs:!1,badge:"🔒 Verification Required"},{id:"fresh-finds",name:"Fresh Finds",description:"Quit losing customers to competitors who know which natural/organic products are trending before you do.",members:1200,active:!1,isPublic:!1,requiresVerification:!0,hasEasterEggs:!1,badge:"🔒 Verification Required"},{id:"good-vibes",name:"Good Vibes",description:"Stop struggling alone with difficult customers and impossible sales targets while feeling burnt out and disconnected from your purpose. Connect with positive, high-performing natural health retailers.",members:1800,active:!1,isPublic:!1,requiresVerification:!0,hasEasterEggs:!1,badge:"🔒 Verification Required"}],Te=[{id:"nature-made-quiz",brand:"Nature Made",title:"Vitamin D Knowledge Challenge",description:"Test your knowledge about Vitamin D benefits and dosing recommendations",points:150,difficulty:"Intermediate",timeLimit:"10 minutes",questions:15,badge:"🏆 Vitamin D Expert",requiresVerification:!0},{id:"garden-of-life-product",brand:"Garden of Life",title:"Probiotic Product Training",description:"Learn about the latest probiotic formulations and customer recommendations",points:200,difficulty:"Advanced",timeLimit:"15 minutes",questions:20,badge:"🌱 Probiotic Pro",requiresVerification:!0},{id:"nordic-naturals-omega",brand:"Nordic Naturals",title:"Omega-3 Sales Mastery",description:"Master the art of selling omega-3 supplements with confidence",points:175,difficulty:"Intermediate",timeLimit:"12 minutes",questions:18,badge:"🐟 Omega Expert",requiresVerification:!0},{id:"new-chapter-herbs",brand:"New Chapter",title:"Herbal Supplement Specialist",description:"Become an expert in herbal supplements and their traditional uses",points:225,difficulty:"Advanced",timeLimit:"20 minutes",questions:25,badge:"🌿 Herb Master",requiresVerification:!0}],ge=async J=>{try{const _e=Um(Ia(xt,"user_easter_eggs"),U5("userId","==",J)),ze=await xT(_e),tt=[];ze.forEach(Ot=>{tt.push(Ot.data().easterEggId)}),k(tt),ae(tt.length)}catch(_e){console.error("Error loading easter egg progress:",_e)}},Pe=async J=>{if(J==="whats-good"&&(t!=null&&t.uid)&&Math.random()<.15){const ze=[{id:"insider-discount",title:"🎉 Hidden Gem Alert!",content:"You found a secret! Use code INSIDER20 for 20% off your next supplement purchase at participating stores!",code:"INSIDER20",type:"discount"},{id:"free-sample",title:"🌟 Lucky Find!",content:"Congratulations! You've unlocked a free product sample. Show this to your store manager!",code:"FREESAMPLE",type:"sample"},{id:"bonus-points",title:"💎 Treasure Discovered!",content:"Amazing! You found 100 bonus points for your account!",code:"BONUS100",type:"points"}].filter(tt=>!R.includes(tt.id));if(ze.length>0){const tt=ze[Math.floor(Math.random()*ze.length)];try{await Bm(Ia(xt,"user_easter_eggs"),{userId:t.uid,easterEggId:tt.id,foundAt:new Date,communityId:"whats-good"}),k(Ot=>[...Ot,tt.id]),ae(Ot=>Ot+1),pe(tt)}catch(Ot){console.error("Error recording easter egg find:",Ot)}}}},Qe=J=>{navigator.clipboard.writeText(J),alert("Code copied to clipboard!")},Ye=async J=>{if(Ve.find(ze=>ze.id===J).requiresVerification&&(t==null?void 0:t.verificationStatus)!=="approved"){alert("This community requires verification. Please complete your verification first!"),l("verification");return}try{const ze=t.joinedCommunities||[];if(ze.includes(J)){Q(`/community/${J}`);return}const tt=[...ze,J];await xs(Vt(xt,"users",t.uid),{joinedCommunities:tt}),e(Ot=>({...Ot,joinedCommunities:tt})),await Pe(J),Q(`/community/${J}`)}catch(ze){console.error("Error joining community:",ze),alert("Error joining community. Please try again.")}};b.useEffect(()=>{const J=rs.onAuthStateChanged(async _e=>{if(_e)try{const ze=await rh(Vt(xt,"users",_e.uid));if(ze.exists()){const tt=ze.data();e({uid:_e.uid,email:_e.email,...tt}),v({interests:tt.interests||"",location:tt.location||"",story:tt.story||""}),A({name:tt.name||_e.displayName||"New User",storeName:tt.storeName||"Unknown Store"}),p(tt.profileImage||null),await ge(_e.uid)}else{const tt={uid:_e.uid,email:_e.email,name:_e.displayName||"New User",storeName:"Unknown Store",verified:!1,verificationStatus:"not_submitted",points:0,level:1,profileImage:null,interests:"",location:"",story:"",joinedCommunities:[]};await kd(Vt(xt,"users",_e.uid),tt),e(tt),A({name:tt.name,storeName:tt.storeName})}}catch(ze){console.error("Error fetching user data:",ze)}else Q("/login");i(!1)});return()=>J()},[Q]);const Ze=async()=>{try{await e0(rs),Q("/")}catch(J){console.error("Error signing out:",J)}},et=async()=>{try{const J=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480}});he.current&&(he.current.srcObject=J,h(!0))}catch(J){console.error("Error accessing camera:",J),alert("Unable to access camera. Please check permissions or use file upload instead.")}},$t=()=>{if(he.current&&z.current){const J=z.current,_e=he.current;J.width=_e.videoWidth,J.height=_e.videoHeight,J.getContext("2d").drawImage(_e,0,0),J.toBlob(tt=>{M(tt),Zt()},"image/jpeg",.8)}},Zt=()=>{he.current&&he.current.srcObject&&(he.current.srcObject.getTracks().forEach(_e=>_e.stop()),he.current.srcObject=null),h(!1)},os=J=>{const _e=J.target.files[0];_e&&M(_e)},js=async J=>{const _e=J.target.files[0];if(_e){j(!0);try{if(!cd)throw new Error("Firebase Storage not initialized");const ze=mv(cd,`profile_images/${t.uid}/${Date.now()}_${_e.name}`);console.log("Uploading to:",ze.fullPath);const tt=await hv(ze,_e);console.log("Upload successful:",tt);const Ot=await fv(tt.ref);console.log("Download URL:",Ot),await xs(Vt(xt,"users",t.uid),{profileImage:Ot}),p(Ot),e(Yr=>({...Yr,profileImage:Ot})),V(!1),alert("Profile photo uploaded successfully!")}catch(ze){console.error("Error uploading avatar:",ze),alert(`Error uploading photo: ${ze.message}. Please check Firebase Storage setup.`)}finally{j(!1)}}},an=async()=>{if(!I&&!E){alert("Please take a photo/upload an image OR enter a verification code.");return}j(!0);try{let J=null;if(I){if(!cd)throw new Error("Firebase Storage not initialized");const Ot=mv(cd,`verification/${t.uid}/${Date.now()}.jpg`);await hv(Ot,I),J=await fv(Ot)}const _e=new Date,ze=`ENG-${String(_e.getDate()).padStart(2,"0")}${String(_e.getMonth()+1).padStart(2,"0")}`,tt={userId:t.uid,userEmail:t.email,userName:t.name,storeName:t.storeName,photoURL:J,verificationCode:ze,brandCode:E,selectedBrand:U,submittedAt:new Date,status:"pending",adminNotes:""};await Bm(Ia(xt,"verification_requests"),tt),await xs(Vt(xt,"users",t.uid),{verificationStatus:"pending",lastVerificationSubmission:new Date}),e(Ot=>({...Ot,verificationStatus:"pending"})),M(null),P(""),B(""),alert("Verification submitted successfully! We'll review your submission within 1-2 business days.")}catch(J){console.error("Error submitting verification:",J),alert(`Error submitting verification: ${J.message}`)}finally{j(!1)}},no=async J=>{try{await xs(Vt(xt,"users",t.uid),{profileImage:J}),p(J),e(_e=>({..._e,profileImage:J})),V(!1)}catch(_e){console.error("Error selecting avatar:",_e)}},Ns=async()=>{try{await xs(Vt(xt,"users",t.uid),{interests:y.interests,location:y.location,story:y.story}),e(J=>({...J,...y})),H(!1),alert("About Me section updated successfully!")}catch(J){console.error("Error updating about me:",J),alert("Error updating information. Please try again.")}},Fi=async()=>{try{await xs(Vt(xt,"users",t.uid),{name:w.name,storeName:w.storeName}),e(J=>({...J,name:w.name,storeName:w.storeName})),N(!1),alert("Profile information updated successfully!")}catch(J){console.error("Error updating user info:",J),alert("Error updating information. Please try again.")}},Wr=()=>{const J="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium";switch(t==null?void 0:t.verificationStatus){case"approved":return s.jsx("span",{className:`${J} bg-green-100 text-green-800`,children:"✓ Verified"});case"pending":return s.jsx("span",{className:`${J} bg-yellow-100 text-yellow-800`,children:"⏳ Under Review"});case"rejected":return s.jsx("span",{className:`${J} bg-red-100 text-red-800`,children:"⚠ Rejected"});default:return s.jsx("span",{className:`${J} bg-gray-100 text-gray-800`,children:"🔒 Not Verified"})}},$c=()=>{const J=(t==null?void 0:t.verificationStatus)==="approved";return s.jsxs("div",{className:"bg-gradient-to-r from-brand-primary/10 to-brand-secondary/10 rounded-lg p-6 border border-brand-primary/20",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",style:gs.sectionHeading,children:J?"🎉 Verified Benefits":"🔒 Verification Benefits"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:`flex items-center space-x-3 ${J?"text-green-700":"text-gray-600"}`,children:[s.jsx("span",{children:J?"✅":"🔒"}),s.jsx("span",{children:"Access to premium communities (Supplement Scoop, Fresh Finds, Good Vibes)"})]}),s.jsxs("div",{className:`flex items-center space-x-3 ${J?"text-green-700":"text-gray-600"}`,children:[s.jsx("span",{children:J?"✅":"🔒"}),s.jsx("span",{children:"Exclusive brand challenges and training content"})]}),s.jsxs("div",{className:`flex items-center space-x-3 ${J?"text-green-700":"text-gray-600"}`,children:[s.jsx("span",{children:J?"✅":"🔒"}),s.jsx("span",{children:"Earn points to stand out to brands and become a super user"})]}),s.jsxs("div",{className:`flex items-center space-x-3 ${J?"text-green-700":"text-gray-600"}`,children:[s.jsx("span",{children:J?"✅":"🔒"}),s.jsx("span",{children:"Special access to prizes and exclusive product launches"})]}),s.jsxs("div",{className:`flex items-center space-x-3 ${J?"text-green-700":"text-gray-600"}`,children:[s.jsx("span",{children:J?"✅":"🔒"}),s.jsx("span",{children:"Career advancement - status follows you to help get jobs and negotiate raises"})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-green-700",children:[s.jsx("span",{children:"✅"}),s.jsx("span",{children:`Access to "What's Good" community (available to all!)`})]})]}),!J&&s.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:s.jsxs("p",{className:"text-yellow-800 text-sm",children:[s.jsx("strong",{children:"Current Status:"}),` You have access to "What's Good" community. Get verified to unlock premium communities and advance your career!`]})})]})};if(n)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-brand-primary"})});const qs=({id:J,label:_e,icon:ze,isActive:tt,onClick:Ot})=>s.jsxs("button",{onClick:()=>Ot(J),className:`flex items-center px-6 py-3 text-sm font-medium rounded-lg transition-colors ${tt?"bg-brand-primary text-white":"text-gray-600 hover:text-brand-primary hover:bg-gray-50"}`,children:[s.jsx("span",{className:"mr-2",children:ze}),_e]}),so=({community:J})=>{var tt;const _e=(tt=t==null?void 0:t.joinedCommunities)==null?void 0:tt.includes(J.id),ze=J.isPublic||J.requiresVerification&&(t==null?void 0:t.verificationStatus)==="approved";return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"flex justify-between items-start mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",style:gs.subsectionTitle,children:J.name}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${J.isPublic?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:J.badge})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:J.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("span",{children:["👥 ",J.members.toLocaleString()," members"]}),J.hasEasterEggs&&s.jsx("span",{className:"text-purple-600",children:"🥚 Hidden treasures inside!"})]})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{children:!ze&&s.jsx("p",{className:"text-sm text-orange-600 mb-2",children:"🔒 Verification required for access"})}),s.jsx("button",{onClick:()=>ze?Ye(J.id):l("verification"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${_e?"bg-gray-100 text-gray-700 hover:bg-gray-200":ze?"bg-brand-primary text-white hover:bg-brand-primary/90":"bg-orange-100 text-orange-700 hover:bg-orange-200"}`,children:_e?"View Community":ze?"Join Community":"Get Verified"})]})]})},ll=({challenge:J})=>{const _e=(t==null?void 0:t.verificationStatus)==="approved";return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"flex justify-between items-start mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",style:gs.subsectionTitle,children:J.title}),s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:J.brand})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:J.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[s.jsxs("span",{children:["🏆 ",J.points," points"]}),s.jsxs("span",{children:["⏱️ ",J.timeLimit]}),s.jsxs("span",{children:["❓ ",J.questions," questions"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${J.difficulty==="Advanced"?"bg-red-100 text-red-800":J.difficulty==="Intermediate"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:J.difficulty}),s.jsx("span",{className:"text-xs text-gray-500",children:J.badge})]})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{children:!_e&&s.jsx("p",{className:"text-sm text-orange-600 mb-2",children:"🔒 Verification required to access brand challenges"})}),s.jsx("button",{onClick:()=>_e?alert("Challenge feature coming soon!"):l("verification"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${_e?"bg-brand-primary text-white hover:bg-brand-primary/90":"bg-orange-100 text-orange-700 hover:bg-orange-200"}`,children:_e?"Start Challenge":"Get Verified"})]})]})};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>Q("/"),className:"text-brand-primary hover:text-brand-primary/80 font-medium",children:"← Back to Home"}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl text-gray-900",style:gs.mainTitle,children:["Welcome back, ",t==null?void 0:t.name,"!"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:t==null?void 0:t.storeName})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-brand-primary",children:[(t==null?void 0:t.points)||0," pts"]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Level ",(t==null?void 0:t.level)||1]}),K>0&&s.jsxs("div",{className:"text-xs text-purple-600",children:["🥚 ",K," eggs found"]})]}),s.jsx("button",{onClick:Ze,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"Sign Out"})]})]})})}),s.jsx("div",{className:"bg-white border-b",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex space-x-1 overflow-x-auto",children:[s.jsx(qs,{id:"profile",label:"Profile",icon:"👤",isActive:o==="profile",onClick:l}),s.jsx(qs,{id:"verification",label:"Verification",icon:"🔐",isActive:o==="verification",onClick:l}),s.jsx(qs,{id:"communities",label:"Communities",icon:"👥",isActive:o==="communities",onClick:l}),s.jsx(qs,{id:"challenges",label:"Challenges",icon:"🎯",isActive:o==="challenges",onClick:l})]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o==="profile"&&s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsx("div",{className:"md:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-xl mb-4",style:gs.sectionHeading,children:"Profile Information"}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center text-4xl mx-auto mb-4",children:m?typeof m=="string"&&m.startsWith("http")?s.jsx("img",{src:m,alt:"Profile",className:"w-24 h-24 rounded-full object-cover"}):s.jsx("span",{children:m}):"👤"}),s.jsx("button",{onClick:()=>V(!L),className:"absolute bottom-0 right-0 bg-brand-primary text-white rounded-full p-2 hover:bg-brand-primary/90",children:"📷"})]}),L&&s.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium mb-3",children:"Choose Avatar or Upload Photo"}),s.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:le.map((J,_e)=>s.jsx("button",{onClick:()=>no(J),className:"text-2xl p-2 hover:bg-gray-200 rounded",children:J},_e))}),s.jsx("input",{type:"file",accept:"image/*",onChange:js,ref:me,className:"hidden"}),s.jsx("button",{onClick:()=>{var J;return(J=me.current)==null?void 0:J.click()},disabled:T,className:"w-full bg-brand-primary text-white py-2 px-4 rounded-lg hover:bg-brand-primary/90 mb-2 disabled:opacity-50",children:T?"⏳ Uploading...":"📁 Upload Custom Photo"}),s.jsx("button",{onClick:()=>V(!1),className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200",children:"Cancel"})]}),$?s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",value:w.name,onChange:J=>A(_e=>({..._e,name:J.target.value})),className:"w-full p-2 border border-gray-300 rounded text-center font-medium",placeholder:"Your Name"}),s.jsx("input",{type:"text",value:w.storeName,onChange:J=>A(_e=>({..._e,storeName:J.target.value})),className:"w-full p-2 border border-gray-300 rounded text-center text-gray-600",placeholder:"Store Name"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:Fi,className:"flex-1 bg-brand-primary text-white py-1 px-3 rounded text-sm hover:bg-brand-primary/90",children:"💾 Save"}),s.jsx("button",{onClick:()=>N(!1),className:"flex-1 bg-gray-100 text-gray-700 py-1 px-3 rounded text-sm hover:bg-gray-200",children:"Cancel"})]})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("h2",{className:"text-xl text-gray-900",style:gs.subsectionTitle,children:t==null?void 0:t.name}),s.jsx("button",{onClick:()=>N(!0),className:"text-brand-primary hover:text-brand-primary/80 text-sm",children:"✏️"})]}),s.jsx("p",{className:"text-gray-600",children:t==null?void 0:t.storeName}),s.jsx("div",{className:"mt-2",children:Wr()})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg",style:gs.subsectionTitle,children:"About Me"}),s.jsx("button",{onClick:()=>H(!F),className:"text-brand-primary hover:text-brand-primary/80 text-sm",children:F?"Cancel":"Edit"})]}),F?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interests"}),s.jsx("textarea",{value:y.interests,onChange:J=>v(_e=>({..._e,interests:J.target.value})),placeholder:"What products are you passionate about?",className:"w-full p-2 border border-gray-300 rounded text-sm",rows:2})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),s.jsx("input",{type:"text",value:y.location,onChange:J=>v(_e=>({..._e,location:J.target.value})),placeholder:"City, State",className:"w-full p-2 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Story"}),s.jsx("textarea",{value:y.story,onChange:J=>v(_e=>({..._e,story:J.target.value})),placeholder:"Tell us about your journey...",className:"w-full p-2 border border-gray-300 rounded text-sm",rows:3})]}),s.jsx("button",{onClick:Ns,className:"w-full bg-brand-primary text-white py-2 px-4 rounded-lg hover:bg-brand-primary/90 text-sm",children:"💾 Save Changes"})]}):s.jsxs("div",{className:"space-y-3 text-sm",children:[y.interests&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Interests:"}),s.jsx("p",{className:"text-gray-600 mt-1",children:y.interests})]}),y.location&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Location:"}),s.jsx("p",{className:"text-gray-600 mt-1",children:y.location})]}),y.story&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Story:"}),s.jsx("p",{className:"text-gray-600 mt-1",children:y.story})]}),!y.interests&&!y.location&&!y.story&&s.jsx("p",{className:"text-gray-500 italic",children:'Click "Edit" to add your information'})]})]})]})}),s.jsx("div",{className:"md:col-span-2",children:$c()})]}),o==="verification"&&s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[s.jsx("h2",{className:"text-2xl mb-4",style:gs.sectionHeading,children:"Verification Options"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg mb-3",style:gs.subsectionTitle,children:"📸 Photo Verification"}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:s.jsxs("p",{className:"text-blue-800 text-sm",children:["Take a photo of yourself ",s.jsx("strong",{children:"in-store with your name tag or apron visible"}),". Include today's verification code ",s.jsxs("strong",{children:["ENG-",String(new Date().getDate()).padStart(2,"0"),String(new Date().getMonth()+1).padStart(2,"0")]}),"written on a piece of paper in the photo."]})}),!u&&!I&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{onClick:et,className:"w-full bg-brand-primary text-white py-3 px-4 rounded-lg hover:bg-brand-primary/90 transition-colors",children:"📷 Take Photo with Camera"}),s.jsx("div",{className:"text-center text-gray-500",children:"or"}),s.jsxs("label",{className:"block",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:os,className:"hidden",ref:re}),s.jsx("button",{onClick:()=>{var J;return(J=re.current)==null?void 0:J.click()},className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"📁 Upload from Computer"})]})]}),u&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("video",{ref:he,autoPlay:!0,playsInline:!0,className:"w-full rounded-lg"}),s.jsx("canvas",{ref:z,className:"hidden"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:$t,className:"flex-1 bg-brand-primary text-white py-2 px-4 rounded-lg hover:bg-brand-primary/90",children:"📸 Capture Photo"}),s.jsx("button",{onClick:Zt,className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200",children:"❌ Cancel"})]})]}),I&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-green-600 font-medium mb-2",children:"✅ Photo ready for submission"}),I instanceof File&&s.jsx("img",{src:URL.createObjectURL(I),alt:"Verification preview",className:"max-w-full h-48 object-cover rounded-lg mx-auto"})]})})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg mb-3",style:gs.subsectionTitle,children:"🔑 Brand/Manager Code Verification"}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Get a verification code from your store manager or brand representative."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Brand/Source"}),s.jsxs("select",{value:U,onChange:J=>B(J.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-primary focus:border-transparent",children:[s.jsx("option",{value:"",children:"Choose brand or source..."}),ye.map(J=>s.jsx("option",{value:J.id,children:J.name},J.id))]})]}),U&&s.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-700",children:(Pt=ye.find(J=>J.id===U))==null?void 0:Pt.description})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),s.jsx("input",{type:"text",value:E,onChange:J=>P(J.target.value),placeholder:"Enter your verification code",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-primary focus:border-transparent"})]})]})]}),s.jsx("button",{onClick:an,disabled:T||!I&&!E,className:"w-full bg-brand-primary text-white py-3 px-4 rounded-lg hover:bg-brand-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:T?"⏳ Submitting...":"✅ Submit Verification"}),I&&s.jsx("button",{onClick:()=>M(null),className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200",children:"🔄 Clear Photo"})]})]})}),o==="communities"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl text-gray-900 mb-2",style:gs.sectionHeading,children:"Communities"}),s.jsx("p",{className:"text-gray-600",children:"Join communities to connect with fellow retail professionals and access exclusive content!"}),K>0&&s.jsx("div",{className:"mt-2 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:s.jsxs("p",{className:"text-purple-800 text-sm",children:["🎉 You've found ",K," easter egg",K!==1?"s":"",`! Keep exploring "What's Good" for more hidden treasures.`]})})]}),s.jsx("div",{className:"grid md:grid-cols-1 lg:grid-cols-2 gap-6",children:Ve.map(J=>s.jsx(so,{community:J},J.id))})]}),o==="challenges"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl text-gray-900 mb-2",style:gs.sectionHeading,children:"Brand Challenges"}),s.jsx("p",{className:"text-gray-600",children:"Complete brand challenges to earn points, badges, and advance your career in natural health retail!"}),(t==null?void 0:t.verificationStatus)!=="approved"&&s.jsx("div",{className:"mt-2 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:s.jsx("p",{className:"text-orange-800 text-sm",children:"🔒 Get verified to unlock exclusive brand challenges and training content!"})})]}),s.jsx("div",{className:"grid md:grid-cols-1 lg:grid-cols-2 gap-6",children:Te.map(J=>s.jsx(ll,{challenge:J},J.id))})]})]}),se&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),s.jsx("h3",{className:"text-xl mb-4",style:gs.subsectionTitle,children:se.title}),s.jsx("p",{className:"text-gray-700 mb-6",children:se.content}),se.code&&s.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 mb-6",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your Code:"}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("code",{className:"bg-white px-3 py-2 rounded border font-mono text-lg",children:se.code}),s.jsx("button",{onClick:()=>Qe(se.code),className:"bg-brand-primary text-white px-3 py-2 rounded hover:bg-brand-primary/90",children:"📋 Copy"})]})]}),s.jsx("button",{onClick:()=>pe(null),className:"bg-brand-primary text-white px-6 py-2 rounded-lg hover:bg-brand-primary/90",children:"Awesome!"})]})})]})}const va={mainTitle:{fontFamily:"Playfair Display, serif",fontWeight:"800",letterSpacing:"-0.015em",lineHeight:"1.1"},sectionHeading:{fontFamily:"Playfair Display, serif",fontWeight:"700",letterSpacing:"-0.02em",lineHeight:"1.2"},subsectionTitle:{fontFamily:"Playfair Display, serif",fontWeight:"600",letterSpacing:"-0.01em",lineHeight:"1.3"},logo:{fontFamily:"Playfair Display, serif",fontWeight:"700",letterSpacing:"-0.01em",lineHeight:"1.2"}};function KB(){var P,U,B;const[t,e]=b.useState(null),[n,i]=b.useState(null),[o,l]=b.useState([]),[u,h]=b.useState(!0),[m,p]=b.useState(""),[y,v]=b.useState(!1),w=dr(),{communityId:A}=kc(),T=R=>R&&R.profileImage&&(R.profileImage.startsWith("http")||R.profileImage.startsWith("data:"))?s.jsx("img",{src:R.profileImage,alt:"Profile",className:"w-full h-full object-cover rounded-full",onError:k=>{k.target.style.display="none",k.target.nextSibling.style.display="flex"}}):null,j=()=>{console.log("Navigating to profile..."),w(t?"/retailer/profile":"/login")},I=[{id:"post-1",author:"Sarah M.",authorRole:"Supplement Specialist",authorAvatar:null,verified:!0,timestamp:new Date(Date.now()-2*60*60*1e3),content:"JUST IN: New Nordic Naturals Omega-3 formula just dropped! The bioavailability is incredible - customers are already asking for it by name. Anyone else seeing the buzz?",likes:23,comments:8,shares:5,tags:["ProductDrop","Omega3","NordicNaturals"],type:"product-drop"},{id:"post-2",author:"Mike R.",authorRole:"Store Manager",authorAvatar:null,verified:!0,timestamp:new Date(Date.now()-4*60*60*1e3),content:"Industry insider tip: Adaptogenic herbs are about to EXPLODE this quarter. Stock up on ashwagandha, rhodiola, and holy basil now. Trust me on this one!",likes:45,comments:12,shares:18,tags:["IndustryBuzz","Adaptogens","StockTip"],type:"industry-buzz"},{id:"post-3",author:"Jessica L.",authorRole:"Natural Health Advisor",authorAvatar:null,verified:!0,timestamp:new Date(Date.now()-6*60*60*1e3),content:"EASTER EGG ALERT! Found a hidden discount code in the new Garden of Life display - SPRING25 for 25% off! Shh... don't tell everyone.",likes:67,comments:24,shares:31,tags:["EasterEgg","DiscountCode","GardenOfLife"],type:"easter-egg",isEasterEgg:!0},{id:"post-4",author:"David K.",authorRole:"Vitamin Specialist",authorAvatar:null,verified:!0,timestamp:new Date(Date.now()-8*60*60*1e3),content:"Breaking: FDA just approved new health claims for Vitamin D3. This is HUGE for our sales pitch! Customers can now legally hear about immune support benefits. Game changer!",likes:89,comments:34,shares:42,tags:["FDA","VitaminD3","HealthClaims","GameChanger"],type:"industry-buzz"},{id:"post-5",author:"Amanda T.",authorRole:"Organic Produce Expert",authorAvatar:null,verified:!0,timestamp:new Date(Date.now()-12*60*60*1e3),content:"NEW PRODUCT SPOTLIGHT: Just tried the new collagen peptides from Vital Proteins. The vanilla flavor is incredible and mixes perfectly in coffee. Customers are going to love this!",likes:34,comments:15,shares:9,tags:["ProductSpotlight","Collagen","VitalProteins"],type:"product-drop"}],M={"whats-good":{id:"whats-good",name:"What's Good",description:"Check out What's Good for the latest product drops and industry buzz!",members:2500,isPublic:!0,requiresVerification:!1,hasEasterEggs:!0,badge:"Open to All",coverImage:null,viewOnlyForUnverified:!0,allowedPostTypes:["product-drop","industry-buzz","community-shoutout","affirmation"],adminOnly:!1,rules:["Share the latest product drops and industry news","Community shout-outs and affirmations welcome","Verified users and brands can post about products","Be respectful and professional","No spam or self-promotion","Keep posts relevant to natural health retail"]},"daily-stack":{id:"daily-stack",name:"The Daily Stack",description:"Stop guessing what supplements actually work and start getting insider intel from the pros.",members:850,isPublic:!1,requiresVerification:!0,hasEasterEggs:!1,badge:"Verification Required",viewOnlyForUnverified:!1,allowedPostTypes:["all"],adminOnly:!1}};b.useEffect(()=>{if(A){const R=M[A];R&&(i(R),A==="whats-good"&&l(I))}},[A]),b.useEffect(()=>{const R=rs.onAuthStateChanged(async k=>{if(k)try{const se=await rh(Vt(xt,"users",k.uid));se.exists()&&e({uid:k.uid,email:k.email,...se.data()})}catch(se){console.error("Error fetching user data:",se)}else n&&n.requiresVerification?(console.log("Community requires verification, redirecting to login"),w("/login")):(console.log("Public community access allowed"),e(null));h(!1)});return()=>R()},[w,n]);const L=()=>!t||!n?!1:t.role==="admin"?!0:n.adminOnly?!1:n.id==="whats-good"?n.viewOnlyForUnverified&&!t.verified?!1:!!(t.verified||t.role==="brand"):!(n.requiresVerification&&!t.verified),V=()=>{if(!n)return"";if(!t)return"Sign in to join the conversation and share your insights!";if(n.id==="whats-good"){if(!t.verified&&t.role!=="brand")return"This community is view-only for unverified users. Get verified to share product drops and industry buzz!";if(n.adminOnly)return"Only admins can post in this community."}return n.requiresVerification&&!t.verified?"Verification required to post in this community.":""},F=async R=>{l(k=>k.map(se=>se.id===R?{...se,likes:se.likes+1}:se))},H=async R=>{l(k=>k.map(se=>se.id===R?{...se,shares:se.shares+1}:se)),alert("Post shared! (Feature coming soon)")},$=async()=>{if(!m.trim())return;const R={id:`post-${Date.now()}`,author:t.name,authorRole:t.role||"Community Member",authorAvatar:t.profileImage||null,verified:t.verified||!1,timestamp:new Date,content:m,likes:0,comments:0,shares:0,tags:[],type:"user-post"};l(k=>[R,...k]),p(""),v(!1)},N=R=>{const se=new Date-R,pe=Math.floor(se/(1e3*60*60)),K=Math.floor(se/(1e3*60));return pe>0?`${pe}h ago`:K>0?`${K}m ago`:"Just now"},E=R=>{switch(R){case"product-drop":return"Product Drop";case"industry-buzz":return"Industry Buzz";case"easter-egg":return"Easter Egg";case"community-shoutout":return"Community Shoutout";case"affirmation":return"Affirmation";case"user-post":return"Community Post";default:return"Post"}};return u?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-brand-primary"})}):n?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsxs("div",{className:"container mx-auto px-4 py-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl text-brand-primary",style:va.logo,children:"EngageNatural"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Natural Health Retail Community"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-brand-primary",children:[(t==null?void 0:t.points)||0," pts"]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Level ",(t==null?void 0:t.level)||1]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-brand-primary to-brand-primary/80 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xl",style:va.subsectionTitle,children:n.name.charAt(0)})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-3xl text-gray-900",style:va.mainTitle,children:n.name}),s.jsx("p",{className:"text-gray-600 mt-1",children:n.description}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:[n.members.toLocaleString()," members"]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${n.isPublic?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:n.badge}),n.viewOnlyForUnverified&&s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"View-Only for Unverified"}),t&&!t.verified&&s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Get Verified for Full Access"})]})]})]}),s.jsx("div",{className:"flex items-center pt-4 border-t border-gray-100",children:s.jsxs("button",{onClick:j,className:"text-brand-primary hover:text-brand-primary/80 font-medium transition-colors",children:["← ",t?"Back to Profile":"Sign In"]})})]})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"lg:col-span-3",children:[t&&L()&&s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200 mb-6",children:y?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:T(t)||s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-300 to-gray-400 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:((U=t.name)==null?void 0:U.charAt(0))||"U"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:t.name}),s.jsx("div",{className:"text-sm text-gray-500",children:t.role||"Community Member"})]})]}),s.jsx("textarea",{value:m,onChange:R=>p(R.target.value),placeholder:n.id==="whats-good"?"Share the latest product drops, industry buzz, community shout-outs, or affirmations...":"Share the latest product drops, industry buzz, or what's working in your store...",className:"w-full p-4 border border-gray-300 rounded-lg resize-none",rows:4}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{v(!1),p("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),s.jsx("button",{onClick:$,disabled:!m.trim(),className:"bg-brand-primary text-white px-6 py-2 rounded-lg hover:bg-brand-primary/90 disabled:opacity-50",children:"Post"})]})]}):s.jsx("button",{onClick:()=>v(!0),className:"w-full text-left p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:T(t)||s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-300 to-gray-400 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:((P=t.name)==null?void 0:P.charAt(0))||"U"})})}),s.jsx("span",{className:"text-gray-500",children:n.id==="whats-good"?"Share product drops, industry buzz, or community shout-outs...":"What's good in your store today?"})]})})}),V()&&s.jsx("div",{className:`border rounded-lg p-4 mb-6 ${t?"bg-orange-50 border-orange-200":"bg-blue-50 border-blue-200"}`,children:s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("p",{className:`text-sm ${t?"text-orange-800":"text-blue-800"}`,children:V()})})}),s.jsx("div",{className:"space-y-6",children:o.map(R=>s.jsxs("div",{className:`bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden ${R.isEasterEgg?"ring-2 ring-purple-200 bg-gradient-to-r from-purple-50 to-pink-50":""}`,children:[s.jsx("div",{className:"p-6 pb-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-xl overflow-hidden",children:R.authorAvatar&&(R.authorAvatar.startsWith("http")||R.authorAvatar.startsWith("data:"))?s.jsx("img",{src:R.authorAvatar,alt:"Profile",className:"w-full h-full object-cover rounded-full",onError:k=>{k.target.style.display="none",k.target.nextSibling.style.display="flex"}}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-300 to-gray-400 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium",children:R.author.charAt(0)})})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium text-gray-900",children:R.author}),R.verified&&s.jsx("span",{className:"text-green-600 text-sm",children:"✓ Verified"})]}),s.jsx("div",{className:"text-sm text-gray-500",children:R.authorRole}),s.jsx("div",{className:"text-xs text-gray-400",children:N(R.timestamp)})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-medium",children:E(R.type)})})]})}),s.jsxs("div",{className:"px-6 pb-4",children:[s.jsx("p",{className:"text-gray-800 leading-relaxed",children:R.content}),R.tags&&R.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:R.tags.map((k,se)=>s.jsxs("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full",children:["#",k]},se))})]}),s.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("button",{onClick:()=>F(R.id),className:"flex items-center space-x-2 text-gray-600 hover:text-red-600 transition-colors",children:[s.jsx("span",{className:"text-sm",children:"Like"}),s.jsx("span",{className:"text-sm font-medium",children:R.likes})]}),s.jsxs("button",{className:"flex items-center space-x-2 text-gray-600 hover:text-blue-600 transition-colors",children:[s.jsx("span",{className:"text-sm",children:"Comment"}),s.jsx("span",{className:"text-sm font-medium",children:R.comments})]}),s.jsxs("button",{onClick:()=>H(R.id),className:"flex items-center space-x-2 text-gray-600 hover:text-green-600 transition-colors",children:[s.jsx("span",{className:"text-sm",children:"Share"}),s.jsx("span",{className:"text-sm font-medium",children:R.shares})]})]}),R.isEasterEgg&&s.jsx("div",{className:"text-xs text-purple-600 font-medium",children:"Special Offer Found!"})]})})]},R.id))})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg mb-4",style:va.subsectionTitle,children:"Community Guidelines"}),s.jsx("ul",{className:"space-y-2 text-sm text-gray-600",children:(B=n.rules)==null?void 0:B.map((R,k)=>s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-brand-primary mt-1 font-bold",children:"•"}),s.jsx("span",{children:R})]},k))})]}),t&&!t.verified&&s.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg shadow-md p-6 border border-yellow-200",children:[s.jsx("h3",{className:"text-lg mb-3",style:va.subsectionTitle,children:"Get Verified"}),s.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Unlock your full potential! Verified users get access to exclusive communities, advanced features, and priority support."}),s.jsx("button",{onClick:()=>w("/"),className:"w-full bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors text-sm font-medium",children:"Start Verification Process"})]}),n.hasEasterEggs&&s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg shadow-md p-6 border border-purple-200",children:[s.jsx("h3",{className:"text-lg mb-4",style:va.subsectionTitle,children:"Special Offers Hunt"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Hidden treasures are scattered throughout this community! Keep an eye out for special posts and discount codes."}),s.jsxs("div",{className:"text-xs text-purple-600",children:["Found: ",o.filter(R=>R.isEasterEgg).length," special offers in this community"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg mb-4",style:va.subsectionTitle,children:"Community Stats"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Posts"}),s.jsx("span",{className:"font-medium",children:o.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Active Today"}),s.jsx("span",{className:"font-medium",children:Math.floor(n.members*.15)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Product Drops"}),s.jsx("span",{className:"font-medium",children:o.filter(R=>R.type==="product-drop").length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Industry Buzz"}),s.jsx("span",{className:"font-medium",children:o.filter(R=>R.type==="industry-buzz").length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Community Shoutouts"}),s.jsx("span",{className:"font-medium",children:o.filter(R=>R.type==="community-shoutout").length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Affirmations"}),s.jsx("span",{className:"font-medium",children:o.filter(R=>R.type==="affirmation").length})]})]})]})]})})]})})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl text-gray-900 mb-4",style:va.sectionHeading,children:"Community Not Found"}),s.jsx("button",{onClick:()=>w("/"),className:"bg-brand-primary text-white px-6 py-2 rounded-lg hover:bg-brand-primary/90",children:"Back to Home"})]})})}const WB=()=>{const{userProfile:t,role:e,brandId:n,loading:i}=Qa(),o=dr(),l=Fs();return b.useEffect(()=>{if(!(i||!t)&&e==="brand_manager"&&n){const u=l.pathname.includes("/brand/"),h=l.pathname.includes("/admin"),m=l.pathname.includes("/login")||l.pathname.includes("/signup")||l.pathname.includes("/forgot-password");!u&&!h&&!m&&(console.log(`Redirecting brand manager to /brand/${n}`),o(`/brand/${n}`))}},[t,e,n,i,o,l]),null};function YB(){const[t,e]=b.useState(""),[n,i]=b.useState(""),[o,l]=b.useState(!1),[u,h]=b.useState(!1),[m,p]=b.useState(""),y=dr(),v=async w=>{w.preventDefault(),h(!0),p("");try{await Jv(rs,t,n),y("/admin")}catch(A){switch(console.error("Login error:",A),A.code){case"auth/user-not-found":p("No account found with this email address.");break;case"auth/wrong-password":p("Incorrect password. Please try again.");break;case"auth/invalid-email":p("Please enter a valid email address.");break;case"auth/too-many-requests":p("Too many failed attempts. Please try again later.");break;default:p("Login failed. Please check your credentials and try again.")}}finally{h(!1)}};return s.jsx("div",{className:"w-full max-w-md mx-auto",children:s.jsxs(ve,{children:[s.jsxs(Ee,{className:"space-y-1",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"EN"})})}),s.jsx(Se,{className:"text-2xl font-bold text-center",children:"Admin Login"}),s.jsx(Rt,{className:"text-center",children:"Sign in to access the EngageNatural admin panel"})]}),s.jsxs("form",{onSubmit:v,children:[s.jsxs(be,{className:"space-y-4",children:[m&&s.jsxs(Sc,{variant:"destructive",children:[s.jsx(Oi,{className:"h-4 w-4"}),s.jsx(Tc,{children:m})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ja,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(De,{id:"email",type:"email",placeholder:"admin@engagenatural.com",value:t,onChange:w=>e(w.target.value),className:"pl-10",required:!0,disabled:u})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hm,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(De,{id:"password",type:o?"text":"password",placeholder:"Enter your password",value:n,onChange:w=>i(w.target.value),className:"pl-10 pr-10",required:!0,disabled:u}),s.jsx(Ae,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!o),disabled:u,children:o?s.jsx(qm,{className:"h-4 w-4 text-gray-400"}):s.jsx(Vs,{className:"h-4 w-4 text-gray-400"})})]})]})]}),s.jsxs(zm,{className:"flex flex-col space-y-4",children:[s.jsx(Ae,{type:"submit",className:"w-full",disabled:u||!t||!n,children:u?"Signing in...":"Sign In"}),s.jsxs("div",{className:"flex flex-col space-y-2 text-sm text-center",children:[s.jsx(tr,{to:"/admin/forgot-password",className:"text-blue-600 hover:text-blue-500 hover:underline",children:"Forgot your password?"}),s.jsx(tr,{to:"/admin/signup",className:"text-gray-600 hover:text-gray-500 hover:underline",children:"Need an admin account? Sign up"})]})]})]})]})})}function XB(){const[t,e]=b.useState(""),[n,i]=b.useState(!1),[o,l]=b.useState(""),[u,h]=b.useState(!1),m=async p=>{p.preventDefault(),i(!0),l("");try{await xO(rs,t),h(!0)}catch(y){switch(console.error("Password reset error:",y),y.code){case"auth/user-not-found":l("No account found with this email address.");break;case"auth/invalid-email":l("Please enter a valid email address.");break;case"auth/too-many-requests":l("Too many requests. Please try again later.");break;default:l("Failed to send reset email. Please try again.")}}finally{i(!1)}};return u?s.jsx("div",{className:"w-full max-w-md mx-auto",children:s.jsxs(ve,{children:[s.jsxs(Ee,{className:"space-y-1",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-600 flex items-center justify-center",children:s.jsx(Ft,{className:"h-6 w-6 text-white"})})}),s.jsx(Se,{className:"text-2xl font-bold text-center",children:"Check Your Email"}),s.jsxs(Rt,{className:"text-center",children:["We've sent a password reset link to ",t]})]}),s.jsx(be,{className:"space-y-4",children:s.jsxs(Sc,{children:[s.jsx(Ft,{className:"h-4 w-4"}),s.jsx(Tc,{children:"If an account with that email exists, you'll receive a password reset link shortly. Check your spam folder if you don't see it in your inbox."})]})}),s.jsxs(zm,{className:"flex flex-col space-y-4",children:[s.jsx(tr,{to:"/admin/login",className:"w-full",children:s.jsxs(Ae,{variant:"outline",className:"w-full",children:[s.jsx(X1,{className:"mr-2 h-4 w-4"}),"Back to Login"]})}),s.jsx(Ae,{variant:"ghost",onClick:()=>{h(!1),e("")},className:"text-sm",children:"Try a different email"})]})]})}):s.jsx("div",{className:"w-full max-w-md mx-auto",children:s.jsxs(ve,{children:[s.jsxs(Ee,{className:"space-y-1",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"EN"})})}),s.jsx(Se,{className:"text-2xl font-bold text-center",children:"Reset Password"}),s.jsx(Rt,{className:"text-center",children:"Enter your email address and we'll send you a link to reset your password"})]}),s.jsxs("form",{onSubmit:m,children:[s.jsxs(be,{className:"space-y-4",children:[o&&s.jsxs(Sc,{variant:"destructive",children:[s.jsx(Oi,{className:"h-4 w-4"}),s.jsx(Tc,{children:o})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ja,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(De,{id:"email",type:"email",placeholder:"admin@engagenatural.com",value:t,onChange:p=>e(p.target.value),className:"pl-10",required:!0,disabled:n})]})]})]}),s.jsxs(zm,{className:"flex flex-col space-y-4",children:[s.jsx(Ae,{type:"submit",className:"w-full",disabled:n||!t,children:n?"Sending...":"Send Reset Link"}),s.jsx(tr,{to:"/admin/login",className:"w-full",children:s.jsxs(Ae,{variant:"outline",className:"w-full",children:[s.jsx(X1,{className:"mr-2 h-4 w-4"}),"Back to Login"]})})]})]})]})})}function gE(t,[e,n]){return Math.min(n,Math.max(e,t))}const QB=["top","right","bottom","left"],qa=Math.min,ys=Math.max,Ym=Math.round,nm=Math.floor,zr=t=>({x:t,y:t}),ZB={left:"right",right:"left",bottom:"top",top:"bottom"},JB={start:"end",end:"start"};function Ev(t,e,n){return ys(t,qa(e,n))}function Li(t,e){return typeof t=="function"?t(e):t}function Vi(t){return t.split("-")[0]}function Fc(t){return t.split("-")[1]}function cb(t){return t==="x"?"y":"x"}function ub(t){return t==="y"?"height":"width"}function Mr(t){return["top","bottom"].includes(Vi(t))?"y":"x"}function db(t){return cb(Mr(t))}function ez(t,e,n){n===void 0&&(n=!1);const i=Fc(t),o=db(t),l=ub(o);let u=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=Xm(u)),[u,Xm(u)]}function tz(t){const e=Xm(t);return[Sv(t),e,Sv(e)]}function Sv(t){return t.replace(/start|end/g,e=>JB[e])}function nz(t,e,n){const i=["left","right"],o=["right","left"],l=["top","bottom"],u=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:i:e?i:o;case"left":case"right":return e?l:u;default:return[]}}function sz(t,e,n,i){const o=Fc(t);let l=nz(Vi(t),n==="start",i);return o&&(l=l.map(u=>u+"-"+o),e&&(l=l.concat(l.map(Sv)))),l}function Xm(t){return t.replace(/left|right|bottom|top/g,e=>ZB[e])}function rz(t){return{top:0,right:0,bottom:0,left:0,...t}}function jC(t){return typeof t!="number"?rz(t):{top:t,right:t,bottom:t,left:t}}function Qm(t){const{x:e,y:n,width:i,height:o}=t;return{width:i,height:o,top:n,left:e,right:e+i,bottom:n+o,x:e,y:n}}function xE(t,e,n){let{reference:i,floating:o}=t;const l=Mr(e),u=db(e),h=ub(u),m=Vi(e),p=l==="y",y=i.x+i.width/2-o.width/2,v=i.y+i.height/2-o.height/2,w=i[h]/2-o[h]/2;let A;switch(m){case"top":A={x:y,y:i.y-o.height};break;case"bottom":A={x:y,y:i.y+i.height};break;case"right":A={x:i.x+i.width,y:v};break;case"left":A={x:i.x-o.width,y:v};break;default:A={x:i.x,y:i.y}}switch(Fc(e)){case"start":A[u]-=w*(n&&p?-1:1);break;case"end":A[u]+=w*(n&&p?-1:1);break}return A}const iz=async(t,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:l=[],platform:u}=n,h=l.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:o}),{x:y,y:v}=xE(p,i,m),w=i,A={},T=0;for(let j=0;j<h.length;j++){const{name:I,fn:M}=h[j],{x:L,y:V,data:F,reset:H}=await M({x:y,y:v,initialPlacement:i,placement:w,strategy:o,middlewareData:A,rects:p,platform:u,elements:{reference:t,floating:e}});y=L??y,v=V??v,A={...A,[I]:{...A[I],...F}},H&&T<=50&&(T++,typeof H=="object"&&(H.placement&&(w=H.placement),H.rects&&(p=H.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:o}):H.rects),{x:y,y:v}=xE(p,w,m)),j=-1)}return{x:y,y:v,placement:w,strategy:o,middlewareData:A}};async function Ud(t,e){var n;e===void 0&&(e={});const{x:i,y:o,platform:l,rects:u,elements:h,strategy:m}=t,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:w=!1,padding:A=0}=Li(e,t),T=jC(A),I=h[w?v==="floating"?"reference":"floating":v],M=Qm(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(I)))==null||n?I:I.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:p,rootBoundary:y,strategy:m})),L=v==="floating"?{x:i,y:o,width:u.floating.width,height:u.floating.height}:u.reference,V=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),F=await(l.isElement==null?void 0:l.isElement(V))?await(l.getScale==null?void 0:l.getScale(V))||{x:1,y:1}:{x:1,y:1},H=Qm(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:L,offsetParent:V,strategy:m}):L);return{top:(M.top-H.top+T.top)/F.y,bottom:(H.bottom-M.bottom+T.bottom)/F.y,left:(M.left-H.left+T.left)/F.x,right:(H.right-M.right+T.right)/F.x}}const az=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:o,rects:l,platform:u,elements:h,middlewareData:m}=e,{element:p,padding:y=0}=Li(t,e)||{};if(p==null)return{};const v=jC(y),w={x:n,y:i},A=db(o),T=ub(A),j=await u.getDimensions(p),I=A==="y",M=I?"top":"left",L=I?"bottom":"right",V=I?"clientHeight":"clientWidth",F=l.reference[T]+l.reference[A]-w[A]-l.floating[T],H=w[A]-l.reference[A],$=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let N=$?$[V]:0;(!N||!await(u.isElement==null?void 0:u.isElement($)))&&(N=h.floating[V]||l.floating[T]);const E=F/2-H/2,P=N/2-j[T]/2-1,U=qa(v[M],P),B=qa(v[L],P),R=U,k=N-j[T]-B,se=N/2-j[T]/2+E,pe=Ev(R,se,k),K=!m.arrow&&Fc(o)!=null&&se!==pe&&l.reference[T]/2-(se<R?U:B)-j[T]/2<0,ae=K?se<R?se-R:se-k:0;return{[A]:w[A]+ae,data:{[A]:pe,centerOffset:se-pe-ae,...K&&{alignmentOffset:ae}},reset:K}}}),oz=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:o,middlewareData:l,rects:u,initialPlacement:h,platform:m,elements:p}=e,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:w,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:j=!0,...I}=Li(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const M=Vi(o),L=Mr(h),V=Vi(h)===h,F=await(m.isRTL==null?void 0:m.isRTL(p.floating)),H=w||(V||!j?[Xm(h)]:tz(h)),$=T!=="none";!w&&$&&H.push(...sz(h,j,T,F));const N=[h,...H],E=await Ud(e,I),P=[];let U=((i=l.flip)==null?void 0:i.overflows)||[];if(y&&P.push(E[M]),v){const se=ez(o,u,F);P.push(E[se[0]],E[se[1]])}if(U=[...U,{placement:o,overflows:P}],!P.every(se=>se<=0)){var B,R;const se=(((B=l.flip)==null?void 0:B.index)||0)+1,pe=N[se];if(pe&&(!(v==="alignment"?L!==Mr(pe):!1)||U.every(Q=>Q.overflows[0]>0&&Mr(Q.placement)===L)))return{data:{index:se,overflows:U},reset:{placement:pe}};let K=(R=U.filter(ae=>ae.overflows[0]<=0).sort((ae,Q)=>ae.overflows[1]-Q.overflows[1])[0])==null?void 0:R.placement;if(!K)switch(A){case"bestFit":{var k;const ae=(k=U.filter(Q=>{if($){const he=Mr(Q.placement);return he===L||he==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(he=>he>0).reduce((he,z)=>he+z,0)]).sort((Q,he)=>Q[1]-he[1])[0])==null?void 0:k[0];ae&&(K=ae);break}case"initialPlacement":K=h;break}if(o!==K)return{reset:{placement:K}}}return{}}}};function yE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function vE(t){return QB.some(e=>t[e]>=0)}const lz=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...o}=Li(t,e);switch(i){case"referenceHidden":{const l=await Ud(e,{...o,elementContext:"reference"}),u=yE(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:vE(u)}}}case"escaped":{const l=await Ud(e,{...o,altBoundary:!0}),u=yE(l,n.floating);return{data:{escapedOffsets:u,escaped:vE(u)}}}default:return{}}}}};async function cz(t,e){const{placement:n,platform:i,elements:o}=t,l=await(i.isRTL==null?void 0:i.isRTL(o.floating)),u=Vi(n),h=Fc(n),m=Mr(n)==="y",p=["left","top"].includes(u)?-1:1,y=l&&m?-1:1,v=Li(e,t);let{mainAxis:w,crossAxis:A,alignmentAxis:T}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return h&&typeof T=="number"&&(A=h==="end"?T*-1:T),m?{x:A*y,y:w*p}:{x:w*p,y:A*y}}const uz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:o,y:l,placement:u,middlewareData:h}=e,m=await cz(e,t);return u===((n=h.offset)==null?void 0:n.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:o+m.x,y:l+m.y,data:{...m,placement:u}}}}},dz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:o}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:h={fn:I=>{let{x:M,y:L}=I;return{x:M,y:L}}},...m}=Li(t,e),p={x:n,y:i},y=await Ud(e,m),v=Mr(Vi(o)),w=cb(v);let A=p[w],T=p[v];if(l){const I=w==="y"?"top":"left",M=w==="y"?"bottom":"right",L=A+y[I],V=A-y[M];A=Ev(L,A,V)}if(u){const I=v==="y"?"top":"left",M=v==="y"?"bottom":"right",L=T+y[I],V=T-y[M];T=Ev(L,T,V)}const j=h.fn({...e,[w]:A,[v]:T});return{...j,data:{x:j.x-n,y:j.y-i,enabled:{[w]:l,[v]:u}}}}}},hz=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:o,rects:l,middlewareData:u}=e,{offset:h=0,mainAxis:m=!0,crossAxis:p=!0}=Li(t,e),y={x:n,y:i},v=Mr(o),w=cb(v);let A=y[w],T=y[v];const j=Li(h,e),I=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(m){const V=w==="y"?"height":"width",F=l.reference[w]-l.floating[V]+I.mainAxis,H=l.reference[w]+l.reference[V]-I.mainAxis;A<F?A=F:A>H&&(A=H)}if(p){var M,L;const V=w==="y"?"width":"height",F=["top","left"].includes(Vi(o)),H=l.reference[v]-l.floating[V]+(F&&((M=u.offset)==null?void 0:M[v])||0)+(F?0:I.crossAxis),$=l.reference[v]+l.reference[V]+(F?0:((L=u.offset)==null?void 0:L[v])||0)-(F?I.crossAxis:0);T<H?T=H:T>$&&(T=$)}return{[w]:A,[v]:T}}}},fz=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:o,rects:l,platform:u,elements:h}=e,{apply:m=()=>{},...p}=Li(t,e),y=await Ud(e,p),v=Vi(o),w=Fc(o),A=Mr(o)==="y",{width:T,height:j}=l.floating;let I,M;v==="top"||v==="bottom"?(I=v,M=w===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(M=v,I=w==="end"?"top":"bottom");const L=j-y.top-y.bottom,V=T-y.left-y.right,F=qa(j-y[I],L),H=qa(T-y[M],V),$=!e.middlewareData.shift;let N=F,E=H;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=V),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(N=L),$&&!w){const U=ys(y.left,0),B=ys(y.right,0),R=ys(y.top,0),k=ys(y.bottom,0);A?E=T-2*(U!==0||B!==0?U+B:ys(y.left,y.right)):N=j-2*(R!==0||k!==0?R+k:ys(y.top,y.bottom))}await m({...e,availableWidth:E,availableHeight:N});const P=await u.getDimensions(h.floating);return T!==P.width||j!==P.height?{reset:{rects:!0}}:{}}}};function Kp(){return typeof window<"u"}function qc(t){return NC(t)?(t.nodeName||"").toLowerCase():"#document"}function _s(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Gr(t){var e;return(e=(NC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NC(t){return Kp()?t instanceof Node||t instanceof _s(t).Node:!1}function or(t){return Kp()?t instanceof Element||t instanceof _s(t).Element:!1}function qr(t){return Kp()?t instanceof HTMLElement||t instanceof _s(t).HTMLElement:!1}function bE(t){return!Kp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _s(t).ShadowRoot}function uh(t){const{overflow:e,overflowX:n,overflowY:i,display:o}=lr(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(o)}function mz(t){return["table","td","th"].includes(qc(t))}function Wp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function hb(t){const e=fb(),n=or(t)?lr(t):t;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function pz(t){let e=Ha(t);for(;qr(e)&&!Ac(e);){if(hb(e))return e;if(Wp(e))return null;e=Ha(e)}return null}function fb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ac(t){return["html","body","#document"].includes(qc(t))}function lr(t){return _s(t).getComputedStyle(t)}function Yp(t){return or(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ha(t){if(qc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||bE(t)&&t.host||Gr(t);return bE(e)?e.host:e}function EC(t){const e=Ha(t);return Ac(e)?t.ownerDocument?t.ownerDocument.body:t.body:qr(e)&&uh(e)?e:EC(e)}function Bd(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=EC(t),l=o===((i=t.ownerDocument)==null?void 0:i.body),u=_s(o);if(l){const h=Tv(u);return e.concat(u,u.visualViewport||[],uh(o)?o:[],h&&n?Bd(h):[])}return e.concat(o,Bd(o,[],n))}function Tv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function SC(t){const e=lr(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=qr(t),l=o?t.offsetWidth:n,u=o?t.offsetHeight:i,h=Ym(n)!==l||Ym(i)!==u;return h&&(n=l,i=u),{width:n,height:i,$:h}}function mb(t){return or(t)?t:t.contextElement}function pc(t){const e=mb(t);if(!qr(e))return zr(1);const n=e.getBoundingClientRect(),{width:i,height:o,$:l}=SC(e);let u=(l?Ym(n.width):n.width)/i,h=(l?Ym(n.height):n.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const gz=zr(0);function TC(t){const e=_s(t);return!fb()||!e.visualViewport?gz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_s(t)?!1:e}function el(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),l=mb(t);let u=zr(1);e&&(i?or(i)&&(u=pc(i)):u=pc(t));const h=xz(l,n,i)?TC(l):zr(0);let m=(o.left+h.x)/u.x,p=(o.top+h.y)/u.y,y=o.width/u.x,v=o.height/u.y;if(l){const w=_s(l),A=i&&or(i)?_s(i):i;let T=w,j=Tv(T);for(;j&&i&&A!==T;){const I=pc(j),M=j.getBoundingClientRect(),L=lr(j),V=M.left+(j.clientLeft+parseFloat(L.paddingLeft))*I.x,F=M.top+(j.clientTop+parseFloat(L.paddingTop))*I.y;m*=I.x,p*=I.y,y*=I.x,v*=I.y,m+=V,p+=F,T=_s(j),j=Tv(T)}}return Qm({width:y,height:v,x:m,y:p})}function pb(t,e){const n=Yp(t).scrollLeft;return e?e.left+n:el(Gr(t)).left+n}function AC(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=i.left+e.scrollLeft-(n?0:pb(t,i)),l=i.top+e.scrollTop;return{x:o,y:l}}function yz(t){let{elements:e,rect:n,offsetParent:i,strategy:o}=t;const l=o==="fixed",u=Gr(i),h=e?Wp(e.floating):!1;if(i===u||h&&l)return n;let m={scrollLeft:0,scrollTop:0},p=zr(1);const y=zr(0),v=qr(i);if((v||!v&&!l)&&((qc(i)!=="body"||uh(u))&&(m=Yp(i)),qr(i))){const A=el(i);p=pc(i),y.x=A.x+i.clientLeft,y.y=A.y+i.clientTop}const w=u&&!v&&!l?AC(u,m,!0):zr(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-m.scrollLeft*p.x+y.x+w.x,y:n.y*p.y-m.scrollTop*p.y+y.y+w.y}}function vz(t){return Array.from(t.getClientRects())}function bz(t){const e=Gr(t),n=Yp(t),i=t.ownerDocument.body,o=ys(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=ys(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+pb(t);const h=-n.scrollTop;return lr(i).direction==="rtl"&&(u+=ys(e.clientWidth,i.clientWidth)-o),{width:o,height:l,x:u,y:h}}function wz(t,e){const n=_s(t),i=Gr(t),o=n.visualViewport;let l=i.clientWidth,u=i.clientHeight,h=0,m=0;if(o){l=o.width,u=o.height;const p=fb();(!p||p&&e==="fixed")&&(h=o.offsetLeft,m=o.offsetTop)}return{width:l,height:u,x:h,y:m}}function _z(t,e){const n=el(t,!0,e==="fixed"),i=n.top+t.clientTop,o=n.left+t.clientLeft,l=qr(t)?pc(t):zr(1),u=t.clientWidth*l.x,h=t.clientHeight*l.y,m=o*l.x,p=i*l.y;return{width:u,height:h,x:m,y:p}}function wE(t,e,n){let i;if(e==="viewport")i=wz(t,n);else if(e==="document")i=bz(Gr(t));else if(or(e))i=_z(e,n);else{const o=TC(t);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Qm(i)}function CC(t,e){const n=Ha(t);return n===e||!or(n)||Ac(n)?!1:lr(n).position==="fixed"||CC(n,e)}function jz(t,e){const n=e.get(t);if(n)return n;let i=Bd(t,[],!1).filter(h=>or(h)&&qc(h)!=="body"),o=null;const l=lr(t).position==="fixed";let u=l?Ha(t):t;for(;or(u)&&!Ac(u);){const h=lr(u),m=hb(u);!m&&h.position==="fixed"&&(o=null),(l?!m&&!o:!m&&h.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||uh(u)&&!m&&CC(t,u))?i=i.filter(y=>y!==u):o=h,u=Ha(u)}return e.set(t,i),i}function Nz(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t;const u=[...n==="clippingAncestors"?Wp(e)?[]:jz(e,this._c):[].concat(n),i],h=u[0],m=u.reduce((p,y)=>{const v=wE(e,y,o);return p.top=ys(v.top,p.top),p.right=qa(v.right,p.right),p.bottom=qa(v.bottom,p.bottom),p.left=ys(v.left,p.left),p},wE(e,h,o));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function Ez(t){const{width:e,height:n}=SC(t);return{width:e,height:n}}function Sz(t,e,n){const i=qr(e),o=Gr(e),l=n==="fixed",u=el(t,!0,l,e);let h={scrollLeft:0,scrollTop:0};const m=zr(0);function p(){m.x=pb(o)}if(i||!i&&!l)if((qc(e)!=="body"||uh(o))&&(h=Yp(e)),i){const A=el(e,!0,l,e);m.x=A.x+e.clientLeft,m.y=A.y+e.clientTop}else o&&p();l&&!i&&o&&p();const y=o&&!i&&!l?AC(o,h):zr(0),v=u.left+h.scrollLeft-m.x-y.x,w=u.top+h.scrollTop-m.y-y.y;return{x:v,y:w,width:u.width,height:u.height}}function My(t){return lr(t).position==="static"}function _E(t,e){if(!qr(t)||lr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Gr(t)===n&&(n=n.ownerDocument.body),n}function RC(t,e){const n=_s(t);if(Wp(t))return n;if(!qr(t)){let o=Ha(t);for(;o&&!Ac(o);){if(or(o)&&!My(o))return o;o=Ha(o)}return n}let i=_E(t,e);for(;i&&mz(i)&&My(i);)i=_E(i,e);return i&&Ac(i)&&My(i)&&!hb(i)?n:i||pz(t)||n}const Tz=async function(t){const e=this.getOffsetParent||RC,n=this.getDimensions,i=await n(t.floating);return{reference:Sz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Az(t){return lr(t).direction==="rtl"}const Cz={convertOffsetParentRelativeRectToViewportRelativeRect:yz,getDocumentElement:Gr,getClippingRect:Nz,getOffsetParent:RC,getElementRects:Tz,getClientRects:vz,getDimensions:Ez,getScale:pc,isElement:or,isRTL:Az};function IC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Rz(t,e){let n=null,i;const o=Gr(t);function l(){var h;clearTimeout(i),(h=n)==null||h.disconnect(),n=null}function u(h,m){h===void 0&&(h=!1),m===void 0&&(m=1),l();const p=t.getBoundingClientRect(),{left:y,top:v,width:w,height:A}=p;if(h||e(),!w||!A)return;const T=nm(v),j=nm(o.clientWidth-(y+w)),I=nm(o.clientHeight-(v+A)),M=nm(y),V={rootMargin:-T+"px "+-j+"px "+-I+"px "+-M+"px",threshold:ys(0,qa(1,m))||1};let F=!0;function H($){const N=$[0].intersectionRatio;if(N!==m){if(!F)return u();N?u(!1,N):i=setTimeout(()=>{u(!1,1e-7)},1e3)}N===1&&!IC(p,t.getBoundingClientRect())&&u(),F=!1}try{n=new IntersectionObserver(H,{...V,root:o.ownerDocument})}catch{n=new IntersectionObserver(H,V)}n.observe(t)}return u(!0),l}function Iz(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:m=!1}=i,p=mb(t),y=o||l?[...p?Bd(p):[],...Bd(e)]:[];y.forEach(M=>{o&&M.addEventListener("scroll",n,{passive:!0}),l&&M.addEventListener("resize",n)});const v=p&&h?Rz(p,n):null;let w=-1,A=null;u&&(A=new ResizeObserver(M=>{let[L]=M;L&&L.target===p&&A&&(A.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var V;(V=A)==null||V.observe(e)})),n()}),p&&!m&&A.observe(p),A.observe(e));let T,j=m?el(t):null;m&&I();function I(){const M=el(t);j&&!IC(j,M)&&n(),j=M,T=requestAnimationFrame(I)}return n(),()=>{var M;y.forEach(L=>{o&&L.removeEventListener("scroll",n),l&&L.removeEventListener("resize",n)}),v==null||v(),(M=A)==null||M.disconnect(),A=null,m&&cancelAnimationFrame(T)}}const kz=uz,Dz=dz,Mz=oz,Pz=fz,Oz=lz,jE=az,Lz=hz,Vz=(t,e,n)=>{const i=new Map,o={platform:Cz,...n},l={...o.platform,_c:i};return iz(t,e,{...o,platform:l})};var Uz=typeof document<"u",Bz=function(){},xm=Uz?b.useLayoutEffect:Bz;function Zm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!Zm(t[i],e[i]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,o[i]))return!1;for(i=n;i--!==0;){const l=o[i];if(!(l==="_owner"&&t.$$typeof)&&!Zm(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function kC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function NE(t,e){const n=kC(t);return Math.round(e*n)/n}function Py(t){const e=b.useRef(t);return xm(()=>{e.current=t}),e}function zz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:l,floating:u}={},transform:h=!0,whileElementsMounted:m,open:p}=t,[y,v]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,A]=b.useState(i);Zm(w,i)||A(i);const[T,j]=b.useState(null),[I,M]=b.useState(null),L=b.useCallback(Q=>{Q!==$.current&&($.current=Q,j(Q))},[]),V=b.useCallback(Q=>{Q!==N.current&&(N.current=Q,M(Q))},[]),F=l||T,H=u||I,$=b.useRef(null),N=b.useRef(null),E=b.useRef(y),P=m!=null,U=Py(m),B=Py(o),R=Py(p),k=b.useCallback(()=>{if(!$.current||!N.current)return;const Q={placement:e,strategy:n,middleware:w};B.current&&(Q.platform=B.current),Vz($.current,N.current,Q).then(he=>{const z={...he,isPositioned:R.current!==!1};se.current&&!Zm(E.current,z)&&(E.current=z,$d.flushSync(()=>{v(z)}))})},[w,e,n,B,R]);xm(()=>{p===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,v(Q=>({...Q,isPositioned:!1})))},[p]);const se=b.useRef(!1);xm(()=>(se.current=!0,()=>{se.current=!1}),[]),xm(()=>{if(F&&($.current=F),H&&(N.current=H),F&&H){if(U.current)return U.current(F,H,k);k()}},[F,H,k,U,P]);const pe=b.useMemo(()=>({reference:$,floating:N,setReference:L,setFloating:V}),[L,V]),K=b.useMemo(()=>({reference:F,floating:H}),[F,H]),ae=b.useMemo(()=>{const Q={position:n,left:0,top:0};if(!K.floating)return Q;const he=NE(K.floating,y.x),z=NE(K.floating,y.y);return h?{...Q,transform:"translate("+he+"px, "+z+"px)",...kC(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:he,top:z}},[n,h,K.floating,y.x,y.y]);return b.useMemo(()=>({...y,update:k,refs:pe,elements:K,floatingStyles:ae}),[y,k,pe,K,ae])}const Fz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:o}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?jE({element:i.current,padding:o}).fn(n):{}:i?jE({element:i,padding:o}).fn(n):{}}}},qz=(t,e)=>({...kz(t),options:[t,e]}),Hz=(t,e)=>({...Dz(t),options:[t,e]}),$z=(t,e)=>({...Lz(t),options:[t,e]}),Gz=(t,e)=>({...Mz(t),options:[t,e]}),Kz=(t,e)=>({...Pz(t),options:[t,e]}),Wz=(t,e)=>({...Oz(t),options:[t,e]}),Yz=(t,e)=>({...Fz(t),options:[t,e]});var Xz="Arrow",DC=b.forwardRef((t,e)=>{const{children:n,width:i=10,height:o=5,...l}=t;return s.jsx(We.svg,{...l,ref:e,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});DC.displayName=Xz;var Qz=DC,gb="Popper",[MC,Xp]=hr(gb),[Zz,PC]=MC(gb),OC=t=>{const{__scopePopper:e,children:n}=t,[i,o]=b.useState(null);return s.jsx(Zz,{scope:e,anchor:i,onAnchorChange:o,children:n})};OC.displayName=gb;var LC="PopperAnchor",VC=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...o}=t,l=PC(LC,n),u=b.useRef(null),h=Nt(e,u);return b.useEffect(()=>{l.onAnchorChange((i==null?void 0:i.current)||u.current)}),i?null:s.jsx(We.div,{...o,ref:h})});VC.displayName=LC;var xb="PopperContent",[Jz,eF]=MC(xb),UC=b.forwardRef((t,e)=>{var ge,Pe,Qe,Ye,Ze,et;const{__scopePopper:n,side:i="bottom",sideOffset:o=0,align:l="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:w=!1,updatePositionStrategy:A="optimized",onPlaced:T,...j}=t,I=PC(xb,n),[M,L]=b.useState(null),V=Nt(e,$t=>L($t)),[F,H]=b.useState(null),$=tA(F),N=($==null?void 0:$.width)??0,E=($==null?void 0:$.height)??0,P=i+(l!=="center"?"-"+l:""),U=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},B=Array.isArray(p)?p:[p],R=B.length>0,k={padding:U,boundary:B.filter(nF),altBoundary:R},{refs:se,floatingStyles:pe,placement:K,isPositioned:ae,middlewareData:Q}=zz({strategy:"fixed",placement:P,whileElementsMounted:(...$t)=>Iz(...$t,{animationFrame:A==="always"}),elements:{reference:I.anchor},middleware:[qz({mainAxis:o+E,alignmentAxis:u}),m&&Hz({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?$z():void 0,...k}),m&&Gz({...k}),Kz({...k,apply:({elements:$t,rects:Zt,availableWidth:os,availableHeight:js})=>{const{width:an,height:no}=Zt.reference,Ns=$t.floating.style;Ns.setProperty("--radix-popper-available-width",`${os}px`),Ns.setProperty("--radix-popper-available-height",`${js}px`),Ns.setProperty("--radix-popper-anchor-width",`${an}px`),Ns.setProperty("--radix-popper-anchor-height",`${no}px`)}}),F&&Yz({element:F,padding:h}),sF({arrowWidth:N,arrowHeight:E}),w&&Wz({strategy:"referenceHidden",...k})]}),[he,z]=FC(K),re=ar(T);jn(()=>{ae&&(re==null||re())},[ae,re]);const me=(ge=Q.arrow)==null?void 0:ge.x,le=(Pe=Q.arrow)==null?void 0:Pe.y,ye=((Qe=Q.arrow)==null?void 0:Qe.centerOffset)!==0,[Ve,Te]=b.useState();return jn(()=>{M&&Te(window.getComputedStyle(M).zIndex)},[M]),s.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...pe,transform:ae?pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(Ye=Q.transformOrigin)==null?void 0:Ye.x,(Ze=Q.transformOrigin)==null?void 0:Ze.y].join(" "),...((et=Q.hide)==null?void 0:et.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(Jz,{scope:n,placedSide:he,onArrowChange:H,arrowX:me,arrowY:le,shouldHideArrow:ye,children:s.jsx(We.div,{"data-side":he,"data-align":z,...j,ref:V,style:{...j.style,animation:ae?void 0:"none"}})})})});UC.displayName=xb;var BC="PopperArrow",tF={top:"bottom",right:"left",bottom:"top",left:"right"},zC=b.forwardRef(function(e,n){const{__scopePopper:i,...o}=e,l=eF(BC,i),u=tF[l.placedSide];return s.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:s.jsx(Qz,{...o,ref:n,style:{...o.style,display:"block"}})})});zC.displayName=BC;function nF(t){return t!==null}var sF=t=>({name:"transformOrigin",options:t,fn(e){var I,M,L;const{placement:n,rects:i,middlewareData:o}=e,u=((I=o.arrow)==null?void 0:I.centerOffset)!==0,h=u?0:t.arrowWidth,m=u?0:t.arrowHeight,[p,y]=FC(n),v={start:"0%",center:"50%",end:"100%"}[y],w=(((M=o.arrow)==null?void 0:M.x)??0)+h/2,A=(((L=o.arrow)==null?void 0:L.y)??0)+m/2;let T="",j="";return p==="bottom"?(T=u?v:`${w}px`,j=`${-m}px`):p==="top"?(T=u?v:`${w}px`,j=`${i.floating.height+m}px`):p==="right"?(T=`${-m}px`,j=u?v:`${A}px`):p==="left"&&(T=`${i.floating.width+m}px`,j=u?v:`${A}px`),{data:{x:T,y:j}}}});function FC(t){const[e,n="center"]=t.split("-");return[e,n]}var qC=OC,HC=VC,$C=UC,GC=zC,KC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rF="VisuallyHidden",iF=b.forwardRef((t,e)=>s.jsx(We.span,{...t,ref:e,style:{...KC,...t.style}}));iF.displayName=rF;var aF=[" ","Enter","ArrowUp","ArrowDown"],oF=[" ","Enter"],tl="Select",[Qp,Zp,lF]=ab(tl),[Hc,PH]=hr(tl,[lF,Xp]),Jp=Xp(),[cF,eo]=Hc(tl),[uF,dF]=Hc(tl),WC=t=>{const{__scopeSelect:e,children:n,open:i,defaultOpen:o,onOpenChange:l,value:u,defaultValue:h,onValueChange:m,dir:p,name:y,autoComplete:v,disabled:w,required:A,form:T}=t,j=Jp(e),[I,M]=b.useState(null),[L,V]=b.useState(null),[F,H]=b.useState(!1),$=Hp(p),[N,E]=Xo({prop:i,defaultProp:o??!1,onChange:l,caller:tl}),[P,U]=Xo({prop:u,defaultProp:h,onChange:m,caller:tl}),B=b.useRef(null),R=I?T||!!I.closest("form"):!0,[k,se]=b.useState(new Set),pe=Array.from(k).map(K=>K.props.value).join(";");return s.jsx(qC,{...j,children:s.jsxs(cF,{required:A,scope:e,trigger:I,onTriggerChange:M,valueNode:L,onValueNodeChange:V,valueNodeHasChildren:F,onValueNodeHasChildrenChange:H,contentId:Br(),value:P,onValueChange:U,open:N,onOpenChange:E,dir:$,triggerPointerDownPosRef:B,disabled:w,children:[s.jsx(Qp.Provider,{scope:e,children:s.jsx(uF,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(K=>{se(ae=>new Set(ae).add(K))},[]),onNativeOptionRemove:b.useCallback(K=>{se(ae=>{const Q=new Set(ae);return Q.delete(K),Q})},[]),children:n})}),R?s.jsxs(yR,{"aria-hidden":!0,required:A,tabIndex:-1,name:y,autoComplete:v,value:P,onChange:K=>U(K.target.value),disabled:w,form:T,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(k)]},pe):null]})})};WC.displayName=tl;var YC="SelectTrigger",XC=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:i=!1,...o}=t,l=Jp(n),u=eo(YC,n),h=u.disabled||i,m=Nt(e,u.onTriggerChange),p=Zp(n),y=b.useRef("touch"),[v,w,A]=bR(j=>{const I=p().filter(V=>!V.disabled),M=I.find(V=>V.value===u.value),L=wR(I,j,M);L!==void 0&&u.onValueChange(L.value)}),T=j=>{h||(u.onOpenChange(!0),A()),j&&(u.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return s.jsx(HC,{asChild:!0,...l,children:s.jsx(We.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":vR(u.value)?"":void 0,...o,ref:m,onClick:Oe(o.onClick,j=>{j.currentTarget.focus(),y.current!=="mouse"&&T(j)}),onPointerDown:Oe(o.onPointerDown,j=>{y.current=j.pointerType;const I=j.target;I.hasPointerCapture(j.pointerId)&&I.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(T(j),j.preventDefault())}),onKeyDown:Oe(o.onKeyDown,j=>{const I=v.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&w(j.key),!(I&&j.key===" ")&&aF.includes(j.key)&&(T(),j.preventDefault())})})})});XC.displayName=YC;var QC="SelectValue",ZC=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:i,style:o,children:l,placeholder:u="",...h}=t,m=eo(QC,n),{onValueNodeHasChildrenChange:p}=m,y=l!==void 0,v=Nt(e,m.onValueNodeChange);return jn(()=>{p(y)},[p,y]),s.jsx(We.span,{...h,ref:v,style:{pointerEvents:"none"},children:vR(m.value)?s.jsx(s.Fragment,{children:u}):l})});ZC.displayName=QC;var hF="SelectIcon",JC=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:i,...o}=t;return s.jsx(We.span,{"aria-hidden":!0,...o,ref:e,children:i||"▼"})});JC.displayName=hF;var fF="SelectPortal",eR=t=>s.jsx(Up,{asChild:!0,...t});eR.displayName=fF;var nl="SelectContent",tR=b.forwardRef((t,e)=>{const n=eo(nl,t.__scopeSelect),[i,o]=b.useState();if(jn(()=>{o(new DocumentFragment)},[]),!n.open){const l=i;return l?$d.createPortal(s.jsx(nR,{scope:t.__scopeSelect,children:s.jsx(Qp.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),l):null}return s.jsx(sR,{...t,ref:e})});tR.displayName=nl;var Xs=10,[nR,to]=Hc(nl),mF="SelectContentImpl",pF=Yo("SelectContent.RemoveScroll"),sR=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:u,side:h,sideOffset:m,align:p,alignOffset:y,arrowPadding:v,collisionBoundary:w,collisionPadding:A,sticky:T,hideWhenDetached:j,avoidCollisions:I,...M}=t,L=eo(nl,n),[V,F]=b.useState(null),[H,$]=b.useState(null),N=Nt(e,ge=>F(ge)),[E,P]=b.useState(null),[U,B]=b.useState(null),R=Zp(n),[k,se]=b.useState(!1),pe=b.useRef(!1);b.useEffect(()=>{if(V)return J0(V)},[V]),Z0();const K=b.useCallback(ge=>{const[Pe,...Qe]=R().map(et=>et.ref.current),[Ye]=Qe.slice(-1),Ze=document.activeElement;for(const et of ge)if(et===Ze||(et==null||et.scrollIntoView({block:"nearest"}),et===Pe&&H&&(H.scrollTop=0),et===Ye&&H&&(H.scrollTop=H.scrollHeight),et==null||et.focus(),document.activeElement!==Ze))return},[R,H]),ae=b.useCallback(()=>K([E,V]),[K,E,V]);b.useEffect(()=>{k&&ae()},[k,ae]);const{onOpenChange:Q,triggerPointerDownPosRef:he}=L;b.useEffect(()=>{if(V){let ge={x:0,y:0};const Pe=Ye=>{var Ze,et;ge={x:Math.abs(Math.round(Ye.pageX)-(((Ze=he.current)==null?void 0:Ze.x)??0)),y:Math.abs(Math.round(Ye.pageY)-(((et=he.current)==null?void 0:et.y)??0))}},Qe=Ye=>{ge.x<=10&&ge.y<=10?Ye.preventDefault():V.contains(Ye.target)||Q(!1),document.removeEventListener("pointermove",Pe),he.current=null};return he.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",Qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",Qe,{capture:!0})}}},[V,Q,he]),b.useEffect(()=>{const ge=()=>Q(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[Q]);const[z,re]=bR(ge=>{const Pe=R().filter(Ze=>!Ze.disabled),Qe=Pe.find(Ze=>Ze.ref.current===document.activeElement),Ye=wR(Pe,ge,Qe);Ye&&setTimeout(()=>Ye.ref.current.focus())}),me=b.useCallback((ge,Pe,Qe)=>{const Ye=!pe.current&&!Qe;(L.value!==void 0&&L.value===Pe||Ye)&&(P(ge),Ye&&(pe.current=!0))},[L.value]),le=b.useCallback(()=>V==null?void 0:V.focus(),[V]),ye=b.useCallback((ge,Pe,Qe)=>{const Ye=!pe.current&&!Qe;(L.value!==void 0&&L.value===Pe||Ye)&&B(ge)},[L.value]),Ve=i==="popper"?Av:rR,Te=Ve===Av?{side:h,sideOffset:m,align:p,alignOffset:y,arrowPadding:v,collisionBoundary:w,collisionPadding:A,sticky:T,hideWhenDetached:j,avoidCollisions:I}:{};return s.jsx(nR,{scope:n,content:V,viewport:H,onViewportChange:$,itemRefCallback:me,selectedItem:E,onItemLeave:le,itemTextRefCallback:ye,focusSelectedItem:ae,selectedItemText:U,position:i,isPositioned:k,searchRef:z,children:s.jsx(zp,{as:pF,allowPinchZoom:!0,children:s.jsx(Vp,{asChild:!0,trapped:L.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:Oe(o,ge=>{var Pe;(Pe=L.trigger)==null||Pe.focus({preventScroll:!0}),ge.preventDefault()}),children:s.jsx(Lp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>L.onOpenChange(!1),children:s.jsx(Ve,{role:"listbox",id:L.contentId,"data-state":L.open?"open":"closed",dir:L.dir,onContextMenu:ge=>ge.preventDefault(),...M,...Te,onPlaced:()=>se(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:Oe(M.onKeyDown,ge=>{const Pe=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!Pe&&ge.key.length===1&&re(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let Ye=R().filter(Ze=>!Ze.disabled).map(Ze=>Ze.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(Ye=Ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const Ze=ge.target,et=Ye.indexOf(Ze);Ye=Ye.slice(et+1)}setTimeout(()=>K(Ye)),ge.preventDefault()}})})})})})})});sR.displayName=mF;var gF="SelectItemAlignedPosition",rR=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:i,...o}=t,l=eo(nl,n),u=to(nl,n),[h,m]=b.useState(null),[p,y]=b.useState(null),v=Nt(e,N=>y(N)),w=Zp(n),A=b.useRef(!1),T=b.useRef(!0),{viewport:j,selectedItem:I,selectedItemText:M,focusSelectedItem:L}=u,V=b.useCallback(()=>{if(l.trigger&&l.valueNode&&h&&p&&j&&I&&M){const N=l.trigger.getBoundingClientRect(),E=p.getBoundingClientRect(),P=l.valueNode.getBoundingClientRect(),U=M.getBoundingClientRect();if(l.dir!=="rtl"){const Ze=U.left-E.left,et=P.left-Ze,$t=N.left-et,Zt=N.width+$t,os=Math.max(Zt,E.width),js=window.innerWidth-Xs,an=gE(et,[Xs,Math.max(Xs,js-os)]);h.style.minWidth=Zt+"px",h.style.left=an+"px"}else{const Ze=E.right-U.right,et=window.innerWidth-P.right-Ze,$t=window.innerWidth-N.right-et,Zt=N.width+$t,os=Math.max(Zt,E.width),js=window.innerWidth-Xs,an=gE(et,[Xs,Math.max(Xs,js-os)]);h.style.minWidth=Zt+"px",h.style.right=an+"px"}const B=w(),R=window.innerHeight-Xs*2,k=j.scrollHeight,se=window.getComputedStyle(p),pe=parseInt(se.borderTopWidth,10),K=parseInt(se.paddingTop,10),ae=parseInt(se.borderBottomWidth,10),Q=parseInt(se.paddingBottom,10),he=pe+K+k+Q+ae,z=Math.min(I.offsetHeight*5,he),re=window.getComputedStyle(j),me=parseInt(re.paddingTop,10),le=parseInt(re.paddingBottom,10),ye=N.top+N.height/2-Xs,Ve=R-ye,Te=I.offsetHeight/2,ge=I.offsetTop+Te,Pe=pe+K+ge,Qe=he-Pe;if(Pe<=ye){const Ze=B.length>0&&I===B[B.length-1].ref.current;h.style.bottom="0px";const et=p.clientHeight-j.offsetTop-j.offsetHeight,$t=Math.max(Ve,Te+(Ze?le:0)+et+ae),Zt=Pe+$t;h.style.height=Zt+"px"}else{const Ze=B.length>0&&I===B[0].ref.current;h.style.top="0px";const $t=Math.max(ye,pe+j.offsetTop+(Ze?me:0)+Te)+Qe;h.style.height=$t+"px",j.scrollTop=Pe-ye+j.offsetTop}h.style.margin=`${Xs}px 0`,h.style.minHeight=z+"px",h.style.maxHeight=R+"px",i==null||i(),requestAnimationFrame(()=>A.current=!0)}},[w,l.trigger,l.valueNode,h,p,j,I,M,l.dir,i]);jn(()=>V(),[V]);const[F,H]=b.useState();jn(()=>{p&&H(window.getComputedStyle(p).zIndex)},[p]);const $=b.useCallback(N=>{N&&T.current===!0&&(V(),L==null||L(),T.current=!1)},[V,L]);return s.jsx(yF,{scope:n,contentWrapper:h,shouldExpandOnScrollRef:A,onScrollButtonChange:$,children:s.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:s.jsx(We.div,{...o,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});rR.displayName=gF;var xF="SelectPopperPosition",Av=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:i="start",collisionPadding:o=Xs,...l}=t,u=Jp(n);return s.jsx($C,{...u,...l,ref:e,align:i,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Av.displayName=xF;var[yF,yb]=Hc(nl,{}),Cv="SelectViewport",iR=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:i,...o}=t,l=to(Cv,n),u=yb(Cv,n),h=Nt(e,l.onViewportChange),m=b.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(Qp.Slot,{scope:n,children:s.jsx(We.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Oe(o.onScroll,p=>{const y=p.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:w}=u;if(w!=null&&w.current&&v){const A=Math.abs(m.current-y.scrollTop);if(A>0){const T=window.innerHeight-Xs*2,j=parseFloat(v.style.minHeight),I=parseFloat(v.style.height),M=Math.max(j,I);if(M<T){const L=M+A,V=Math.min(T,L),F=L-V;v.style.height=V+"px",v.style.bottom==="0px"&&(y.scrollTop=F>0?F:0,v.style.justifyContent="flex-end")}}}m.current=y.scrollTop})})})]})});iR.displayName=Cv;var aR="SelectGroup",[vF,bF]=Hc(aR),wF=b.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,o=Br();return s.jsx(vF,{scope:n,id:o,children:s.jsx(We.div,{role:"group","aria-labelledby":o,...i,ref:e})})});wF.displayName=aR;var oR="SelectLabel",lR=b.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,o=bF(oR,n);return s.jsx(We.div,{id:o.id,...i,ref:e})});lR.displayName=oR;var Jm="SelectItem",[_F,cR]=Hc(Jm),uR=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:i,disabled:o=!1,textValue:l,...u}=t,h=eo(Jm,n),m=to(Jm,n),p=h.value===i,[y,v]=b.useState(l??""),[w,A]=b.useState(!1),T=Nt(e,L=>{var V;return(V=m.itemRefCallback)==null?void 0:V.call(m,L,i,o)}),j=Br(),I=b.useRef("touch"),M=()=>{o||(h.onValueChange(i),h.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(_F,{scope:n,value:i,disabled:o,textId:j,isSelected:p,onItemTextChange:b.useCallback(L=>{v(V=>V||((L==null?void 0:L.textContent)??"").trim())},[]),children:s.jsx(Qp.ItemSlot,{scope:n,value:i,disabled:o,textValue:y,children:s.jsx(We.div,{role:"option","aria-labelledby":j,"data-highlighted":w?"":void 0,"aria-selected":p&&w,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:T,onFocus:Oe(u.onFocus,()=>A(!0)),onBlur:Oe(u.onBlur,()=>A(!1)),onClick:Oe(u.onClick,()=>{I.current!=="mouse"&&M()}),onPointerUp:Oe(u.onPointerUp,()=>{I.current==="mouse"&&M()}),onPointerDown:Oe(u.onPointerDown,L=>{I.current=L.pointerType}),onPointerMove:Oe(u.onPointerMove,L=>{var V;I.current=L.pointerType,o?(V=m.onItemLeave)==null||V.call(m):I.current==="mouse"&&L.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Oe(u.onPointerLeave,L=>{var V;L.currentTarget===document.activeElement&&((V=m.onItemLeave)==null||V.call(m))}),onKeyDown:Oe(u.onKeyDown,L=>{var F;((F=m.searchRef)==null?void 0:F.current)!==""&&L.key===" "||(oF.includes(L.key)&&M(),L.key===" "&&L.preventDefault())})})})})});uR.displayName=Jm;var ud="SelectItemText",dR=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:i,style:o,...l}=t,u=eo(ud,n),h=to(ud,n),m=cR(ud,n),p=dF(ud,n),[y,v]=b.useState(null),w=Nt(e,M=>v(M),m.onItemTextChange,M=>{var L;return(L=h.itemTextRefCallback)==null?void 0:L.call(h,M,m.value,m.disabled)}),A=y==null?void 0:y.textContent,T=b.useMemo(()=>s.jsx("option",{value:m.value,disabled:m.disabled,children:A},m.value),[m.disabled,m.value,A]),{onNativeOptionAdd:j,onNativeOptionRemove:I}=p;return jn(()=>(j(T),()=>I(T)),[j,I,T]),s.jsxs(s.Fragment,{children:[s.jsx(We.span,{id:m.textId,...l,ref:w}),m.isSelected&&u.valueNode&&!u.valueNodeHasChildren?$d.createPortal(l.children,u.valueNode):null]})});dR.displayName=ud;var hR="SelectItemIndicator",fR=b.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t;return cR(hR,n).isSelected?s.jsx(We.span,{"aria-hidden":!0,...i,ref:e}):null});fR.displayName=hR;var Rv="SelectScrollUpButton",mR=b.forwardRef((t,e)=>{const n=to(Rv,t.__scopeSelect),i=yb(Rv,t.__scopeSelect),[o,l]=b.useState(!1),u=Nt(e,i.onScrollButtonChange);return jn(()=>{if(n.viewport&&n.isPositioned){let h=function(){const p=m.scrollTop>0;l(p)};const m=n.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),o?s.jsx(gR,{...t,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=n;h&&m&&(h.scrollTop=h.scrollTop-m.offsetHeight)}}):null});mR.displayName=Rv;var Iv="SelectScrollDownButton",pR=b.forwardRef((t,e)=>{const n=to(Iv,t.__scopeSelect),i=yb(Iv,t.__scopeSelect),[o,l]=b.useState(!1),u=Nt(e,i.onScrollButtonChange);return jn(()=>{if(n.viewport&&n.isPositioned){let h=function(){const p=m.scrollHeight-m.clientHeight,y=Math.ceil(m.scrollTop)<p;l(y)};const m=n.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),o?s.jsx(gR,{...t,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=n;h&&m&&(h.scrollTop=h.scrollTop+m.offsetHeight)}}):null});pR.displayName=Iv;var gR=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:i,...o}=t,l=to("SelectScrollButton",n),u=b.useRef(null),h=Zp(n),m=b.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return b.useEffect(()=>()=>m(),[m]),jn(()=>{var y;const p=h().find(v=>v.ref.current===document.activeElement);(y=p==null?void 0:p.ref.current)==null||y.scrollIntoView({block:"nearest"})},[h]),s.jsx(We.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Oe(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:Oe(o.onPointerMove,()=>{var p;(p=l.onItemLeave)==null||p.call(l),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:Oe(o.onPointerLeave,()=>{m()})})}),jF="SelectSeparator",xR=b.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t;return s.jsx(We.div,{"aria-hidden":!0,...i,ref:e})});xR.displayName=jF;var kv="SelectArrow",NF=b.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,o=Jp(n),l=eo(kv,n),u=to(kv,n);return l.open&&u.position==="popper"?s.jsx(GC,{...o,...i,ref:e}):null});NF.displayName=kv;var EF="SelectBubbleInput",yR=b.forwardRef(({__scopeSelect:t,value:e,...n},i)=>{const o=b.useRef(null),l=Nt(i,o),u=eA(e);return b.useEffect(()=>{const h=o.current;if(!h)return;const m=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(m,"value").set;if(u!==e&&y){const v=new Event("change",{bubbles:!0});y.call(h,e),h.dispatchEvent(v)}},[u,e]),s.jsx(We.select,{...n,style:{...KC,...n.style},ref:l,defaultValue:e})});yR.displayName=EF;function vR(t){return t===""||t===void 0}function bR(t){const e=ar(t),n=b.useRef(""),i=b.useRef(0),o=b.useCallback(u=>{const h=n.current+u;e(h),function m(p){n.current=p,window.clearTimeout(i.current),p!==""&&(i.current=window.setTimeout(()=>m(""),1e3))}(h)},[e]),l=b.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,o,l]}function wR(t,e,n){const o=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let u=SF(t,Math.max(l,0));o.length===1&&(u=u.filter(p=>p!==n));const m=u.find(p=>p.textValue.toLowerCase().startsWith(o.toLowerCase()));return m!==n?m:void 0}function SF(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var TF=WC,_R=XC,AF=ZC,CF=JC,RF=eR,jR=tR,IF=iR,NR=lR,ER=uR,kF=dR,DF=fR,SR=mR,TR=pR,AR=xR;const hn=TF,fn=AF,sn=b.forwardRef(({className:t,children:e,...n},i)=>s.jsxs(_R,{ref:i,className:Me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,s.jsx(CF,{asChild:!0,children:s.jsx(dA,{className:"h-4 w-4 opacity-50"})})]}));sn.displayName=_R.displayName;const CR=b.forwardRef(({className:t,...e},n)=>s.jsx(SR,{ref:n,className:Me("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(L9,{className:"h-4 w-4"})}));CR.displayName=SR.displayName;const RR=b.forwardRef(({className:t,...e},n)=>s.jsx(TR,{ref:n,className:Me("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(dA,{className:"h-4 w-4"})}));RR.displayName=TR.displayName;const rn=b.forwardRef(({className:t,children:e,position:n="popper",...i},o)=>s.jsx(RF,{children:s.jsxs(jR,{ref:o,className:Me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[s.jsx(CR,{}),s.jsx(IF,{className:Me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(RR,{})]})}));rn.displayName=jR.displayName;const MF=b.forwardRef(({className:t,...e},n)=>s.jsx(NR,{ref:n,className:Me("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));MF.displayName=NR.displayName;const we=b.forwardRef(({className:t,children:e,...n},i)=>s.jsxs(ER,{ref:i,className:Me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(DF,{children:s.jsx(uA,{className:"h-4 w-4"})})}),s.jsx(kF,{children:e})]}));we.displayName=ER.displayName;const PF=b.forwardRef(({className:t,...e},n)=>s.jsx(AR,{ref:n,className:Me("-mx-1 my-1 h-px bg-muted",t),...e}));PF.displayName=AR.displayName;function OF(){const[t,e]=b.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:Lt.RETAIL_ADMIN,brandId:"",invitationCode:""}),[n,i]=b.useState(!1),[o,l]=b.useState(!1),[u,h]=b.useState(!1),[m,p]=b.useState(""),[y]=TD(),v=dr();b.useEffect(()=>{const j=y.get("invite"),I=y.get("email"),M=y.get("role");j&&e(L=>({...L,invitationCode:j})),I&&e(L=>({...L,email:I})),M&&Object.values(Lt).includes(M)&&e(L=>({...L,role:M}))},[y]);const w=(j,I)=>{e(M=>({...M,[j]:I}))},A=()=>t.firstName.trim()?t.lastName.trim()?t.email.trim()?t.password.length<6?"Password must be at least 6 characters":t.password!==t.confirmPassword?"Passwords do not match":t.role===Lt.BRAND_ADMIN&&!t.brandId.trim()?"Brand ID is required for Brand Admin role":null:"Email is required":"Last name is required":"First name is required",T=async j=>{j.preventDefault(),h(!0),p("");const I=A();if(I){p(I),h(!1);return}try{const L=(await Zv(rs,t.email,t.password)).user;await vO(L,{displayName:`${t.firstName} ${t.lastName}`}),await kd(Vt(xt,"users",L.uid),{firstName:t.firstName,lastName:t.lastName,email:t.email,role:t.role,brandId:t.brandId||null,invitationCode:t.invitationCode||null,status:"pending_verification",createdAt:new Date,lastLoginAt:null,profileComplete:!1}),v("/admin")}catch(M){switch(console.error("Signup error:",M),M.code){case"auth/email-already-in-use":p("An account with this email already exists.");break;case"auth/invalid-email":p("Please enter a valid email address.");break;case"auth/weak-password":p("Password is too weak. Please choose a stronger password.");break;default:p("Failed to create account. Please try again.")}}finally{h(!1)}};return s.jsx("div",{className:"w-full max-w-md mx-auto",children:s.jsxs(ve,{children:[s.jsxs(Ee,{className:"space-y-1",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"EN"})})}),s.jsx(Se,{className:"text-2xl font-bold text-center",children:"Create Admin Account"}),s.jsx(Rt,{className:"text-center",children:"Set up your EngageNatural admin account"})]}),s.jsxs("form",{onSubmit:T,children:[s.jsxs(be,{className:"space-y-4",children:[m&&s.jsxs(Sc,{variant:"destructive",children:[s.jsx(Oi,{className:"h-4 w-4"}),s.jsx(Tc,{children:m})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"firstName",children:"First Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ld,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(De,{id:"firstName",type:"text",placeholder:"John",value:t.firstName,onChange:j=>w("firstName",j.target.value),className:"pl-10",required:!0,disabled:u})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"lastName",children:"Last Name"}),s.jsx(De,{id:"lastName",type:"text",placeholder:"Doe",value:t.lastName,onChange:j=>w("lastName",j.target.value),required:!0,disabled:u})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ja,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(De,{id:"email",type:"email",placeholder:"admin@engagenatural.com",value:t.email,onChange:j=>w("email",j.target.value),className:"pl-10",required:!0,disabled:u})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"role",children:"Admin Role"}),s.jsxs(hn,{value:t.role,onValueChange:j=>w("role",j),disabled:u,children:[s.jsx(sn,{children:s.jsx(fn,{placeholder:"Select admin role"})}),s.jsxs(rn,{children:[s.jsx(we,{value:Lt.SUPER_ADMIN,children:"Super Admin"}),s.jsx(we,{value:Lt.BRAND_ADMIN,children:"Brand Admin"}),s.jsx(we,{value:Lt.RETAIL_ADMIN,children:"Retail Admin"})]})]})]}),t.role===Lt.BRAND_ADMIN&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"brandId",children:"Brand ID"}),s.jsxs("div",{className:"relative",children:[s.jsx(as,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(De,{id:"brandId",type:"text",placeholder:"Enter brand identifier",value:t.brandId,onChange:j=>w("brandId",j.target.value),className:"pl-10",required:!0,disabled:u})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hm,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(De,{id:"password",type:n?"text":"password",placeholder:"Create a password",value:t.password,onChange:j=>w("password",j.target.value),className:"pl-10 pr-10",required:!0,disabled:u}),s.jsx(Ae,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>i(!n),disabled:u,children:n?s.jsx(qm,{className:"h-4 w-4 text-gray-400"}):s.jsx(Vs,{className:"h-4 w-4 text-gray-400"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hm,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(De,{id:"confirmPassword",type:o?"text":"password",placeholder:"Confirm your password",value:t.confirmPassword,onChange:j=>w("confirmPassword",j.target.value),className:"pl-10 pr-10",required:!0,disabled:u}),s.jsx(Ae,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!o),disabled:u,children:o?s.jsx(qm,{className:"h-4 w-4 text-gray-400"}):s.jsx(Vs,{className:"h-4 w-4 text-gray-400"})})]})]}),t.invitationCode&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"invitationCode",children:"Invitation Code"}),s.jsx(De,{id:"invitationCode",type:"text",placeholder:"Invitation code",value:t.invitationCode,onChange:j=>w("invitationCode",j.target.value),disabled:u})]})]}),s.jsxs(zm,{className:"flex flex-col space-y-4",children:[s.jsx(Ae,{type:"submit",className:"w-full",disabled:u,children:u?"Creating Account...":"Create Admin Account"}),s.jsx("div",{className:"text-sm text-center",children:s.jsx(tr,{to:"/admin/login",className:"text-blue-600 hover:text-blue-500 hover:underline",children:"Already have an account? Sign in"})})]})]})]})})}var Dv=["Enter"," "],LF=["ArrowDown","PageUp","Home"],IR=["ArrowUp","PageDown","End"],VF=[...LF,...IR],UF={ltr:[...Dv,"ArrowRight"],rtl:[...Dv,"ArrowLeft"]},BF={ltr:["ArrowLeft"],rtl:["ArrowRight"]},dh="Menu",[zd,zF,FF]=ab(dh),[al,kR]=hr(dh,[FF,Xp,$p]),eg=Xp(),DR=$p(),[qF,ol]=al(dh),[HF,hh]=al(dh),MR=t=>{const{__scopeMenu:e,open:n=!1,children:i,dir:o,onOpenChange:l,modal:u=!0}=t,h=eg(e),[m,p]=b.useState(null),y=b.useRef(!1),v=ar(l),w=Hp(o);return b.useEffect(()=>{const A=()=>{y.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>y.current=!1;return document.addEventListener("keydown",A,{capture:!0}),()=>{document.removeEventListener("keydown",A,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),s.jsx(qC,{...h,children:s.jsx(qF,{scope:e,open:n,onOpenChange:v,content:m,onContentChange:p,children:s.jsx(HF,{scope:e,onClose:b.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:y,dir:w,modal:u,children:i})})})};MR.displayName=dh;var $F="MenuAnchor",vb=b.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,o=eg(n);return s.jsx(HC,{...o,...i,ref:e})});vb.displayName=$F;var bb="MenuPortal",[GF,PR]=al(bb,{forceMount:void 0}),OR=t=>{const{__scopeMenu:e,forceMount:n,children:i,container:o}=t,l=ol(bb,e);return s.jsx(GF,{scope:e,forceMount:n,children:s.jsx(zi,{present:n||l.open,children:s.jsx(Up,{asChild:!0,container:o,children:i})})})};OR.displayName=bb;var Us="MenuContent",[KF,wb]=al(Us),LR=b.forwardRef((t,e)=>{const n=PR(Us,t.__scopeMenu),{forceMount:i=n.forceMount,...o}=t,l=ol(Us,t.__scopeMenu),u=hh(Us,t.__scopeMenu);return s.jsx(zd.Provider,{scope:t.__scopeMenu,children:s.jsx(zi,{present:i||l.open,children:s.jsx(zd.Slot,{scope:t.__scopeMenu,children:u.modal?s.jsx(WF,{...o,ref:e}):s.jsx(YF,{...o,ref:e})})})})}),WF=b.forwardRef((t,e)=>{const n=ol(Us,t.__scopeMenu),i=b.useRef(null),o=Nt(e,i);return b.useEffect(()=>{const l=i.current;if(l)return J0(l)},[]),s.jsx(_b,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Oe(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),YF=b.forwardRef((t,e)=>{const n=ol(Us,t.__scopeMenu);return s.jsx(_b,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),XF=Yo("MenuContent.ScrollLock"),_b=b.forwardRef((t,e)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:h,onEntryFocus:m,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:v,onInteractOutside:w,onDismiss:A,disableOutsideScroll:T,...j}=t,I=ol(Us,n),M=hh(Us,n),L=eg(n),V=DR(n),F=zF(n),[H,$]=b.useState(null),N=b.useRef(null),E=Nt(e,N,I.onContentChange),P=b.useRef(0),U=b.useRef(""),B=b.useRef(0),R=b.useRef(null),k=b.useRef("right"),se=b.useRef(0),pe=T?zp:b.Fragment,K=T?{as:XF,allowPinchZoom:!0}:void 0,ae=he=>{var ge,Pe;const z=U.current+he,re=F().filter(Qe=>!Qe.disabled),me=document.activeElement,le=(ge=re.find(Qe=>Qe.ref.current===me))==null?void 0:ge.textValue,ye=re.map(Qe=>Qe.textValue),Ve=lq(ye,z,le),Te=(Pe=re.find(Qe=>Qe.textValue===Ve))==null?void 0:Pe.ref.current;(function Qe(Ye){U.current=Ye,window.clearTimeout(P.current),Ye!==""&&(P.current=window.setTimeout(()=>Qe(""),1e3))})(z),Te&&setTimeout(()=>Te.focus())};b.useEffect(()=>()=>window.clearTimeout(P.current),[]),Z0();const Q=b.useCallback(he=>{var re,me;return k.current===((re=R.current)==null?void 0:re.side)&&uq(he,(me=R.current)==null?void 0:me.area)},[]);return s.jsx(KF,{scope:n,searchRef:U,onItemEnter:b.useCallback(he=>{Q(he)&&he.preventDefault()},[Q]),onItemLeave:b.useCallback(he=>{var z;Q(he)||((z=N.current)==null||z.focus(),$(null))},[Q]),onTriggerLeave:b.useCallback(he=>{Q(he)&&he.preventDefault()},[Q]),pointerGraceTimerRef:B,onPointerGraceIntentChange:b.useCallback(he=>{R.current=he},[]),children:s.jsx(pe,{...K,children:s.jsx(Vp,{asChild:!0,trapped:o,onMountAutoFocus:Oe(l,he=>{var z;he.preventDefault(),(z=N.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:s.jsx(Lp,{asChild:!0,disableOutsidePointerEvents:h,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:v,onInteractOutside:w,onDismiss:A,children:s.jsx(nC,{asChild:!0,...V,dir:M.dir,orientation:"vertical",loop:i,currentTabStopId:H,onCurrentTabStopIdChange:$,onEntryFocus:Oe(m,he=>{M.isUsingKeyboardRef.current||he.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx($C,{role:"menu","aria-orientation":"vertical","data-state":JR(I.open),"data-radix-menu-content":"",dir:M.dir,...L,...j,ref:E,style:{outline:"none",...j.style},onKeyDown:Oe(j.onKeyDown,he=>{const re=he.target.closest("[data-radix-menu-content]")===he.currentTarget,me=he.ctrlKey||he.altKey||he.metaKey,le=he.key.length===1;re&&(he.key==="Tab"&&he.preventDefault(),!me&&le&&ae(he.key));const ye=N.current;if(he.target!==ye||!VF.includes(he.key))return;he.preventDefault();const Te=F().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);IR.includes(he.key)&&Te.reverse(),aq(Te)}),onBlur:Oe(t.onBlur,he=>{he.currentTarget.contains(he.target)||(window.clearTimeout(P.current),U.current="")}),onPointerMove:Oe(t.onPointerMove,Fd(he=>{const z=he.target,re=se.current!==he.clientX;if(he.currentTarget.contains(z)&&re){const me=he.clientX>se.current?"right":"left";k.current=me,se.current=he.clientX}}))})})})})})})});LR.displayName=Us;var QF="MenuGroup",jb=b.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return s.jsx(We.div,{role:"group",...i,ref:e})});jb.displayName=QF;var ZF="MenuLabel",VR=b.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return s.jsx(We.div,{...i,ref:e})});VR.displayName=ZF;var ep="MenuItem",EE="menu.itemSelect",tg=b.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:i,...o}=t,l=b.useRef(null),u=hh(ep,t.__scopeMenu),h=wb(ep,t.__scopeMenu),m=Nt(e,l),p=b.useRef(!1),y=()=>{const v=l.current;if(!n&&v){const w=new CustomEvent(EE,{bubbles:!0,cancelable:!0});v.addEventListener(EE,A=>i==null?void 0:i(A),{once:!0}),ZT(v,w),w.defaultPrevented?p.current=!1:u.onClose()}};return s.jsx(UR,{...o,ref:m,disabled:n,onClick:Oe(t.onClick,y),onPointerDown:v=>{var w;(w=t.onPointerDown)==null||w.call(t,v),p.current=!0},onPointerUp:Oe(t.onPointerUp,v=>{var w;p.current||(w=v.currentTarget)==null||w.click()}),onKeyDown:Oe(t.onKeyDown,v=>{const w=h.searchRef.current!=="";n||w&&v.key===" "||Dv.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});tg.displayName=ep;var UR=b.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:i=!1,textValue:o,...l}=t,u=wb(ep,n),h=DR(n),m=b.useRef(null),p=Nt(e,m),[y,v]=b.useState(!1),[w,A]=b.useState("");return b.useEffect(()=>{const T=m.current;T&&A((T.textContent??"").trim())},[l.children]),s.jsx(zd.ItemSlot,{scope:n,disabled:i,textValue:o??w,children:s.jsx(sC,{asChild:!0,...h,focusable:!i,children:s.jsx(We.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...l,ref:p,onPointerMove:Oe(t.onPointerMove,Fd(T=>{i?u.onItemLeave(T):(u.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Oe(t.onPointerLeave,Fd(T=>u.onItemLeave(T))),onFocus:Oe(t.onFocus,()=>v(!0)),onBlur:Oe(t.onBlur,()=>v(!1))})})})}),JF="MenuCheckboxItem",BR=b.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:i,...o}=t;return s.jsx($R,{scope:t.__scopeMenu,checked:n,children:s.jsx(tg,{role:"menuitemcheckbox","aria-checked":tp(n)?"mixed":n,...o,ref:e,"data-state":Eb(n),onSelect:Oe(o.onSelect,()=>i==null?void 0:i(tp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});BR.displayName=JF;var zR="MenuRadioGroup",[eq,tq]=al(zR,{value:void 0,onValueChange:()=>{}}),FR=b.forwardRef((t,e)=>{const{value:n,onValueChange:i,...o}=t,l=ar(i);return s.jsx(eq,{scope:t.__scopeMenu,value:n,onValueChange:l,children:s.jsx(jb,{...o,ref:e})})});FR.displayName=zR;var qR="MenuRadioItem",HR=b.forwardRef((t,e)=>{const{value:n,...i}=t,o=tq(qR,t.__scopeMenu),l=n===o.value;return s.jsx($R,{scope:t.__scopeMenu,checked:l,children:s.jsx(tg,{role:"menuitemradio","aria-checked":l,...i,ref:e,"data-state":Eb(l),onSelect:Oe(i.onSelect,()=>{var u;return(u=o.onValueChange)==null?void 0:u.call(o,n)},{checkForDefaultPrevented:!1})})})});HR.displayName=qR;var Nb="MenuItemIndicator",[$R,nq]=al(Nb,{checked:!1}),GR=b.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:i,...o}=t,l=nq(Nb,n);return s.jsx(zi,{present:i||tp(l.checked)||l.checked===!0,children:s.jsx(We.span,{...o,ref:e,"data-state":Eb(l.checked)})})});GR.displayName=Nb;var sq="MenuSeparator",KR=b.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return s.jsx(We.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});KR.displayName=sq;var rq="MenuArrow",WR=b.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,o=eg(n);return s.jsx(GC,{...o,...i,ref:e})});WR.displayName=rq;var iq="MenuSub",[OH,YR]=al(iq),dd="MenuSubTrigger",XR=b.forwardRef((t,e)=>{const n=ol(dd,t.__scopeMenu),i=hh(dd,t.__scopeMenu),o=YR(dd,t.__scopeMenu),l=wb(dd,t.__scopeMenu),u=b.useRef(null),{pointerGraceTimerRef:h,onPointerGraceIntentChange:m}=l,p={__scopeMenu:t.__scopeMenu},y=b.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return b.useEffect(()=>y,[y]),b.useEffect(()=>{const v=h.current;return()=>{window.clearTimeout(v),m(null)}},[h,m]),s.jsx(vb,{asChild:!0,...p,children:s.jsx(UR,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":JR(n.open),...t,ref:Dp(e,o.onTriggerChange),onClick:v=>{var w;(w=t.onClick)==null||w.call(t,v),!(t.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Oe(t.onPointerMove,Fd(v=>{l.onItemEnter(v),!v.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),y()},100))})),onPointerLeave:Oe(t.onPointerLeave,Fd(v=>{var A,T;y();const w=(A=n.content)==null?void 0:A.getBoundingClientRect();if(w){const j=(T=n.content)==null?void 0:T.dataset.side,I=j==="right",M=I?-5:5,L=w[I?"left":"right"],V=w[I?"right":"left"];l.onPointerGraceIntentChange({area:[{x:v.clientX+M,y:v.clientY},{x:L,y:w.top},{x:V,y:w.top},{x:V,y:w.bottom},{x:L,y:w.bottom}],side:j}),window.clearTimeout(h.current),h.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(v),v.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Oe(t.onKeyDown,v=>{var A;const w=l.searchRef.current!=="";t.disabled||w&&v.key===" "||UF[i.dir].includes(v.key)&&(n.onOpenChange(!0),(A=n.content)==null||A.focus(),v.preventDefault())})})})});XR.displayName=dd;var QR="MenuSubContent",ZR=b.forwardRef((t,e)=>{const n=PR(Us,t.__scopeMenu),{forceMount:i=n.forceMount,...o}=t,l=ol(Us,t.__scopeMenu),u=hh(Us,t.__scopeMenu),h=YR(QR,t.__scopeMenu),m=b.useRef(null),p=Nt(e,m);return s.jsx(zd.Provider,{scope:t.__scopeMenu,children:s.jsx(zi,{present:i||l.open,children:s.jsx(zd.Slot,{scope:t.__scopeMenu,children:s.jsx(_b,{id:h.contentId,"aria-labelledby":h.triggerId,...o,ref:p,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var v;u.isUsingKeyboardRef.current&&((v=m.current)==null||v.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Oe(t.onFocusOutside,y=>{y.target!==h.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Oe(t.onEscapeKeyDown,y=>{u.onClose(),y.preventDefault()}),onKeyDown:Oe(t.onKeyDown,y=>{var A;const v=y.currentTarget.contains(y.target),w=BF[u.dir].includes(y.key);v&&w&&(l.onOpenChange(!1),(A=h.trigger)==null||A.focus(),y.preventDefault())})})})})})});ZR.displayName=QR;function JR(t){return t?"open":"closed"}function tp(t){return t==="indeterminate"}function Eb(t){return tp(t)?"indeterminate":t?"checked":"unchecked"}function aq(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function oq(t,e){return t.map((n,i)=>t[(e+i)%t.length])}function lq(t,e,n){const o=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let u=oq(t,Math.max(l,0));o.length===1&&(u=u.filter(p=>p!==n));const m=u.find(p=>p.toLowerCase().startsWith(o.toLowerCase()));return m!==n?m:void 0}function cq(t,e){const{x:n,y:i}=t;let o=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const h=e[l],m=e[u],p=h.x,y=h.y,v=m.x,w=m.y;y>i!=w>i&&n<(v-p)*(i-y)/(w-y)+p&&(o=!o)}return o}function uq(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return cq(n,e)}function Fd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var dq=MR,hq=vb,fq=OR,mq=LR,pq=jb,gq=VR,xq=tg,yq=BR,vq=FR,bq=HR,wq=GR,_q=KR,jq=WR,Nq=XR,Eq=ZR,ng="DropdownMenu",[Sq,LH]=hr(ng,[kR]),Zn=kR(),[Tq,eI]=Sq(ng),tI=t=>{const{__scopeDropdownMenu:e,children:n,dir:i,open:o,defaultOpen:l,onOpenChange:u,modal:h=!0}=t,m=Zn(e),p=b.useRef(null),[y,v]=Xo({prop:o,defaultProp:l??!1,onChange:u,caller:ng});return s.jsx(Tq,{scope:e,triggerId:Br(),triggerRef:p,contentId:Br(),open:y,onOpenChange:v,onOpenToggle:b.useCallback(()=>v(w=>!w),[v]),modal:h,children:s.jsx(dq,{...m,open:y,onOpenChange:v,dir:i,modal:h,children:n})})};tI.displayName=ng;var nI="DropdownMenuTrigger",sI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...o}=t,l=eI(nI,n),u=Zn(n);return s.jsx(hq,{asChild:!0,...u,children:s.jsx(We.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...o,ref:Dp(e,l.triggerRef),onPointerDown:Oe(t.onPointerDown,h=>{!i&&h.button===0&&h.ctrlKey===!1&&(l.onOpenToggle(),l.open||h.preventDefault())}),onKeyDown:Oe(t.onKeyDown,h=>{i||(["Enter"," "].includes(h.key)&&l.onOpenToggle(),h.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(h.key)&&h.preventDefault())})})})});sI.displayName=nI;var Aq="DropdownMenuPortal",rI=t=>{const{__scopeDropdownMenu:e,...n}=t,i=Zn(e);return s.jsx(fq,{...i,...n})};rI.displayName=Aq;var iI="DropdownMenuContent",aI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=eI(iI,n),l=Zn(n),u=b.useRef(!1);return s.jsx(mq,{id:o.contentId,"aria-labelledby":o.triggerId,...l,...i,ref:e,onCloseAutoFocus:Oe(t.onCloseAutoFocus,h=>{var m;u.current||(m=o.triggerRef.current)==null||m.focus(),u.current=!1,h.preventDefault()}),onInteractOutside:Oe(t.onInteractOutside,h=>{const m=h.detail.originalEvent,p=m.button===0&&m.ctrlKey===!0,y=m.button===2||p;(!o.modal||y)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aI.displayName=iI;var Cq="DropdownMenuGroup",Rq=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=Zn(n);return s.jsx(pq,{...o,...i,ref:e})});Rq.displayName=Cq;var Iq="DropdownMenuLabel",oI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=Zn(n);return s.jsx(gq,{...o,...i,ref:e})});oI.displayName=Iq;var kq="DropdownMenuItem",lI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=Zn(n);return s.jsx(xq,{...o,...i,ref:e})});lI.displayName=kq;var Dq="DropdownMenuCheckboxItem",cI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=Zn(n);return s.jsx(yq,{...o,...i,ref:e})});cI.displayName=Dq;var Mq="DropdownMenuRadioGroup",Pq=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=Zn(n);return s.jsx(vq,{...o,...i,ref:e})});Pq.displayName=Mq;var Oq="DropdownMenuRadioItem",uI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=Zn(n);return s.jsx(bq,{...o,...i,ref:e})});uI.displayName=Oq;var Lq="DropdownMenuItemIndicator",dI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=Zn(n);return s.jsx(wq,{...o,...i,ref:e})});dI.displayName=Lq;var Vq="DropdownMenuSeparator",hI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=Zn(n);return s.jsx(_q,{...o,...i,ref:e})});hI.displayName=Vq;var Uq="DropdownMenuArrow",Bq=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=Zn(n);return s.jsx(jq,{...o,...i,ref:e})});Bq.displayName=Uq;var zq="DropdownMenuSubTrigger",fI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=Zn(n);return s.jsx(Nq,{...o,...i,ref:e})});fI.displayName=zq;var Fq="DropdownMenuSubContent",mI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=Zn(n);return s.jsx(Eq,{...o,...i,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mI.displayName=Fq;var qq=tI,Hq=sI,$q=rI,pI=aI,gI=oI,xI=lI,yI=cI,vI=uI,bI=dI,wI=hI,_I=fI,jI=mI;const Js=qq,er=Hq,Gq=b.forwardRef(({className:t,inset:e,children:n,...i},o)=>s.jsxs(_I,{ref:o,className:Me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...i,children:[n,s.jsx(P9,{className:"ml-auto h-4 w-4"})]}));Gq.displayName=_I.displayName;const Kq=b.forwardRef(({className:t,...e},n)=>s.jsx(jI,{ref:n,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Kq.displayName=jI.displayName;const Bs=b.forwardRef(({className:t,sideOffset:e=4,...n},i)=>s.jsx($q,{children:s.jsx(pI,{ref:i,sideOffset:e,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Bs.displayName=pI.displayName;const Ke=b.forwardRef(({className:t,inset:e,...n},i)=>s.jsx(xI,{ref:i,className:Me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Ke.displayName=xI.displayName;const Wq=b.forwardRef(({className:t,children:e,checked:n,...i},o)=>s.jsxs(yI,{ref:o,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...i,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(bI,{children:s.jsx(uA,{className:"h-4 w-4"})})}),e]}));Wq.displayName=yI.displayName;const Yq=b.forwardRef(({className:t,children:e,...n},i)=>s.jsxs(vI,{ref:i,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(bI,{children:s.jsx(F9,{className:"h-2 w-2 fill-current"})})}),e]}));Yq.displayName=vI.displayName;const $a=b.forwardRef(({className:t,inset:e,...n},i)=>s.jsx(gI,{ref:i,className:Me("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));$a.displayName=gI.displayName;const Ci=b.forwardRef(({className:t,...e},n)=>s.jsx(wI,{ref:n,className:Me("-mx-1 my-1 h-px bg-muted",t),...e}));Ci.displayName=wI.displayName;function Xq({setSidebarOpen:t}){const{user:e,userProfile:n,role:i,logout:o}=Qa(),[l]=b.useState([{id:1,message:"New verification request",unread:!0},{id:2,message:"Brand partnership approved",unread:!0},{id:3,message:"System maintenance scheduled",unread:!1}]),u=l.filter(m=>m.unread).length,h=m=>{switch(m){case"super_admin":return"Super Admin";case"brand_admin":return"Brand Admin";case"retail_admin":return"Retail Admin";default:return"User"}};return s.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[s.jsxs(Ae,{variant:"ghost",size:"sm",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>t(!0),children:[s.jsx("span",{className:"sr-only",children:"Open sidebar"}),s.jsx(h8,{className:"h-6 w-6","aria-hidden":"true"})]}),s.jsx("div",{className:"h-6 w-px bg-gray-200 lg:hidden","aria-hidden":"true"}),s.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[s.jsxs("div",{className:"relative flex flex-1 items-center",children:[s.jsx(Ai,{className:"pointer-events-none absolute inset-y-0 left-0 h-full w-5 text-gray-400 pl-3"}),s.jsx(De,{className:"block h-full w-full border-0 py-0 pl-10 pr-0 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm",placeholder:"Search users, brands, verifications...",type:"search"})]}),s.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[s.jsxs(Js,{children:[s.jsx(er,{asChild:!0,children:s.jsxs(Ae,{variant:"ghost",size:"sm",className:"relative",children:[s.jsx("span",{className:"sr-only",children:"View notifications"}),s.jsx(Pp,{className:"h-6 w-6"}),u>0&&s.jsx(Ge,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs flex items-center justify-center",children:u})]})}),s.jsxs(Bs,{align:"end",className:"w-80",children:[s.jsx($a,{children:"Notifications"}),s.jsx(Ci,{}),l.map(m=>s.jsxs(Ke,{className:"flex items-start gap-2 p-3",children:[s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:`text-sm ${m.unread?"font-medium":"text-gray-600"}`,children:m.message})}),m.unread&&s.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-600"})]},m.id))]})]}),s.jsx("div",{className:"hidden lg:block lg:h-6 lg:w-px lg:bg-gray-200","aria-hidden":"true"}),s.jsxs(Js,{children:[s.jsx(er,{asChild:!0,children:s.jsxs(Ae,{variant:"ghost",className:"flex items-center gap-x-2 text-sm font-semibold leading-6 text-gray-900",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx(Ld,{className:"h-5 w-5 text-gray-600"})}),s.jsx("span",{className:"hidden lg:flex lg:items-center",children:s.jsx("span",{className:"ml-2","aria-hidden":"true",children:(e==null?void 0:e.displayName)||(e==null?void 0:e.email)})})]})}),s.jsxs(Bs,{align:"end",children:[s.jsx($a,{children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:(e==null?void 0:e.displayName)||(e==null?void 0:e.email)}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:h(i)})]})}),s.jsx(Ci,{}),s.jsxs(Ke,{children:[s.jsx(Ld,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Profile"})]}),s.jsxs(Ke,{children:[s.jsx(oh,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Settings"})]}),s.jsx(Ci,{}),s.jsxs(Ke,{onClick:o,children:[s.jsx(fA,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Log out"})]})]})]})]})]})]})}function Kr(){const{user:t,userProfile:e,role:n,permissions:i,hasPermission:o,hasRole:l,isAdmin:u,loading:h}=Qa(),m=j=>!t||h?!1:Array.isArray(j)?j.some(I=>o(I)):o(j);return{user:t,userProfile:e,role:n,permissions:i,loading:h,isAdmin:u,hasPermission:o,hasRole:l,canAccess:m,canAccessAll:j=>!t||h?!1:j.every(I=>o(I)),hasAnyRole:j=>!t||h?!1:Array.isArray(j)?j.some(I=>l(I)):l(j),canManageUser:j=>!t||h?!1:l("super_admin")?!0:l("brand_admin")?["retail_admin","user"].includes(j):l("retail_admin")?j==="user":!1,canViewAnalytics:j=>{if(!t||h)return!1;switch(j){case"all":return o("view_all_analytics");case"brand":return o("view_brand_analytics")||o("view_all_analytics");case"retail":return o("view_retail_analytics")||o("view_all_analytics");default:return!1}},getDashboardRoute:()=>t?"/admin":"/admin/login",getNavigationItems:()=>{const j=[{name:"Overview",href:"/admin",icon:"Home",permission:null}],I=[{name:"Users",href:"/admin/users",icon:"Users",permission:["manage_all_users","manage_brand_users","manage_retail_users"]},{name:"Verifications",href:"/admin/verifications",icon:"UserCheck",permission:["approve_verifications"]},{name:"Brands",href:"/admin/brands",icon:"Building",permission:["manage_all_brands","manage_brand_content","manage_brand_products"]},{name:"Analytics",href:"/admin/analytics",icon:"TrendingUp",permission:["view_all_analytics","view_brand_analytics","view_retail_analytics"]},{name:"Content",href:"/admin/content",icon:"FileText",permission:["manage_content","manage_brand_content"]},{name:"Products",href:"/admin/products",icon:"Package",permission:["manage_brand_products"]},{name:"Activity",href:"/admin/activity",icon:"Activity",permission:["view_all_analytics"]},{name:"Settings",href:"/admin/settings",icon:"Settings",permission:["manage_system_settings"]}];return[...j,...I.filter(M=>!M.permission||m(M.permission))]}}}const Qq=[{name:"Overview",href:"/admin",icon:hA,current:!1},{name:"Users",href:"/admin/users",icon:ir,current:!1,permission:["manage_all_users","manage_brand_users","manage_retail_users"]},{name:"Verifications",href:"/admin/verifications",icon:Od,current:!1,permission:["approve_verifications"]},{name:"Brands",href:"/admin/brands",icon:as,current:!1,permission:["manage_all_brands","manage_brand_content","manage_brand_products"]},{name:"Analytics",href:"/admin/analytics",icon:rr,current:!1,permission:["view_all_analytics","view_brand_analytics","view_retail_analytics"]},{name:"Content",href:"/admin/content",icon:zo,current:!1,permission:["manage_content","manage_brand_content"]},{name:"Products",href:"/admin/products",icon:mA,current:!1,permission:["manage_brand_products"]},{name:"Activity",href:"/admin/activity",icon:Dr,current:!1},{name:"Settings",href:"/admin/settings",icon:oh,current:!1,permission:["manage_system_settings"]}];function Zq(){const t=Fs(),{canAccess:e,role:n}=Kr(),i=l=>{switch(l){case"super_admin":return"Super Admin";case"brand_admin":return"Brand Admin";case"retail_admin":return"Retail Admin";default:return"User"}},o=Qq.filter(l=>l.permission?e(l.permission):!0);return s.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-64 lg:flex-col",children:s.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white px-6 pb-4 border-r border-gray-200",children:[s.jsx("div",{className:"flex h-16 shrink-0 items-center",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-blue-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"EN"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"EngageNatural"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]})}),s.jsxs("div",{className:"px-3 py-2 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:i(n)}),s.jsx("p",{className:"text-xs text-blue-600",children:"Access Level"})]}),s.jsx("nav",{className:"flex flex-1 flex-col",children:s.jsxs("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[s.jsx("li",{children:s.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:o.map(l=>{const u=t.pathname===l.href||l.href!=="/admin"&&t.pathname.startsWith(l.href);return s.jsx("li",{children:s.jsxs(tr,{to:l.href,className:Me(u?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-700 hover:text-blue-700 hover:bg-gray-50","group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold transition-colors"),children:[s.jsx(l.icon,{className:Me(u?"text-blue-700":"text-gray-400 group-hover:text-blue-700","h-6 w-6 shrink-0"),"aria-hidden":"true"}),l.name]})},l.name)})})}),s.jsx("li",{className:"mt-auto",children:s.jsx("div",{className:"px-2 py-2 border-t border-gray-200",children:s.jsxs(tr,{to:"/admin/legacy",className:"group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold text-gray-500 hover:text-gray-700 hover:bg-gray-50 transition-colors",children:[s.jsx(zc,{className:"h-5 w-5 shrink-0","aria-hidden":"true"}),"Legacy Dashboard"]})})})]})})]})})}function Jq({...t}){return s.jsx($A,{"data-slot":"sheet",...t})}function eH({...t}){return s.jsx(GA,{"data-slot":"sheet-portal",...t})}function tH({className:t,...e}){return s.jsx(sb,{"data-slot":"sheet-overlay",className:Me("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function nH({className:t,children:e,side:n="right",...i}){return s.jsxs(eH,{children:[s.jsx(tH,{}),s.jsxs(rb,{"data-slot":"sheet-content",className:Me("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...i,children:[e,s.jsxs(WA,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[s.jsx(xA,{className:"size-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function sH({className:t,...e}){return s.jsx("div",{"data-slot":"sheet-header",className:Me("flex flex-col gap-1.5 p-4",t),...e})}function rH({className:t,...e}){return s.jsx(ib,{"data-slot":"sheet-title",className:Me("text-foreground font-semibold",t),...e})}const iH=[{name:"Overview",href:"/admin",icon:hA,current:!1},{name:"Users",href:"/admin/users",icon:ir,current:!1,permission:["manage_all_users","manage_brand_users","manage_retail_users"]},{name:"Verifications",href:"/admin/verifications",icon:Od,current:!1,permission:["approve_verifications"]},{name:"Brands",href:"/admin/brands",icon:as,current:!1,permission:["manage_all_brands","manage_brand_content","manage_brand_products"]},{name:"Analytics",href:"/admin/analytics",icon:rr,current:!1,permission:["view_all_analytics","view_brand_analytics","view_retail_analytics"]},{name:"Content",href:"/admin/content",icon:zo,current:!1,permission:["manage_content","manage_brand_content"]},{name:"Products",href:"/admin/products",icon:mA,current:!1,permission:["manage_brand_products"]},{name:"Activity",href:"/admin/activity",icon:Dr,current:!1},{name:"Settings",href:"/admin/settings",icon:oh,current:!1,permission:["manage_system_settings"]}];function aH({sidebarOpen:t,setSidebarOpen:e}){const n=Fs(),{canAccess:i,role:o}=Kr(),l=h=>{switch(h){case"super_admin":return"Super Admin";case"brand_admin":return"Brand Admin";case"retail_admin":return"Retail Admin";default:return"User"}},u=iH.filter(h=>h.permission?i(h.permission):!0);return s.jsx(Jq,{open:t,onOpenChange:e,children:s.jsx(nH,{side:"left",className:"w-64 p-0",children:s.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white px-6 pb-4",children:[s.jsx(sH,{className:"flex h-16 shrink-0 items-center justify-between",children:s.jsxs(rH,{className:"flex items-center",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-blue-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"EN"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"EngageNatural"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]})}),s.jsxs("div",{className:"px-3 py-2 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:l(o)}),s.jsx("p",{className:"text-xs text-blue-600",children:"Access Level"})]}),s.jsx("nav",{className:"flex flex-1 flex-col",children:s.jsxs("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[s.jsx("li",{children:s.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:u.map(h=>{const m=n.pathname===h.href||h.href!=="/admin"&&n.pathname.startsWith(h.href);return s.jsx("li",{children:s.jsxs(tr,{to:h.href,onClick:()=>e(!1),className:Me(m?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-700 hover:text-blue-700 hover:bg-gray-50","group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold transition-colors"),children:[s.jsx(h.icon,{className:Me(m?"text-blue-700":"text-gray-400 group-hover:text-blue-700","h-6 w-6 shrink-0"),"aria-hidden":"true"}),h.name]})},h.name)})})}),s.jsx("li",{className:"mt-auto",children:s.jsx("div",{className:"px-2 py-2 border-t border-gray-200",children:s.jsxs(tr,{to:"/admin/legacy",onClick:()=>e(!1),className:"group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold text-gray-500 hover:text-gray-700 hover:bg-gray-50 transition-colors",children:[s.jsx(rr,{className:"h-5 w-5 shrink-0","aria-hidden":"true"}),"Legacy Dashboard"]})})})]})})]})})})}function oH({children:t}){const{user:e,loading:n,isAdmin:i}=Qa(),[o,l]=b.useState(!1);return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading admin panel..."})]})}):!e||!i?s.jsx(rc,{to:"/admin/login",replace:!0}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(aH,{sidebarOpen:o,setSidebarOpen:l}),s.jsx(Zq,{}),s.jsxs("div",{className:"lg:pl-64",children:[s.jsx(Xq,{setSidebarOpen:l}),s.jsx("main",{className:"py-6",children:s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t})})]})]})}var Sb="Progress",Tb=100,[lH,VH]=hr(Sb),[cH,uH]=lH(Sb),NI=b.forwardRef((t,e)=>{const{__scopeProgress:n,value:i=null,max:o,getValueLabel:l=dH,...u}=t;(o||o===0)&&!SE(o)&&console.error(hH(`${o}`,"Progress"));const h=SE(o)?o:Tb;i!==null&&!TE(i,h)&&console.error(fH(`${i}`,"Progress"));const m=TE(i,h)?i:null,p=np(m)?l(m,h):void 0;return s.jsx(cH,{scope:n,value:m,max:h,children:s.jsx(We.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":np(m)?m:void 0,"aria-valuetext":p,role:"progressbar","data-state":TI(m,h),"data-value":m??void 0,"data-max":h,...u,ref:e})})});NI.displayName=Sb;var EI="ProgressIndicator",SI=b.forwardRef((t,e)=>{const{__scopeProgress:n,...i}=t,o=uH(EI,n);return s.jsx(We.div,{"data-state":TI(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...i,ref:e})});SI.displayName=EI;function dH(t,e){return`${Math.round(t/e*100)}%`}function TI(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function np(t){return typeof t=="number"}function SE(t){return np(t)&&!isNaN(t)&&t>0}function TE(t,e){return np(t)&&!isNaN(t)&&t<=e&&t>=0}function hH(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Tb}\`.`}function fH(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Tb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var mH=NI,pH=SI;function Qs({className:t,value:e,...n}){return s.jsx(mH,{"data-slot":"progress",className:Me("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:s.jsx(pH,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function gH(){const{userProfile:t,role:e}=Qa(),{canAccess:n,canViewAnalytics:i}=Kr(),[o,l]=b.useState({totalUsers:1247,activeUsers:892,pendingVerifications:23,totalBrands:45,activeBrands:38,monthlyRevenue:125e3,conversionRate:3.2,avgOrderValue:89.5}),[u,h]=b.useState([{id:1,type:"verification",message:"New verification request from Sarah Johnson",time:"2 minutes ago",status:"pending"},{id:2,type:"brand",message:"GreenLeaf Co. partnership approved",time:"15 minutes ago",status:"approved"},{id:3,type:"user",message:"Mike Chen completed profile verification",time:"1 hour ago",status:"completed"},{id:4,type:"system",message:"Monthly analytics report generated",time:"2 hours ago",status:"info"}]),m=(w,A,T,j,I="up")=>{const M=j,L=I==="up";return s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:w}),s.jsx(M,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:A}),s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center",children:[L?s.jsx(cA,{className:"h-3 w-3 text-green-500 mr-1"}):s.jsx(v9,{className:"h-3 w-3 text-red-500 mr-1"}),s.jsx("span",{className:L?"text-green-500":"text-red-500",children:T}),s.jsx("span",{className:"ml-1",children:"from last month"})]})]})]})},p=()=>{const w=[];return n(["manage_all_users","manage_brand_users","manage_retail_users"])&&w.push({title:"Add New User",description:"Create a new user account",icon:ah,action:()=>console.log("Add user"),variant:"default"}),n(["approve_verifications"])&&w.push({title:"Review Verifications",description:`${o.pendingVerifications} pending`,icon:Od,action:()=>console.log("Review verifications"),variant:"secondary"}),n(["manage_all_brands","manage_brand_content"])&&w.push({title:"Manage Brands",description:"View brand partnerships",icon:as,action:()=>console.log("Manage brands"),variant:"outline"}),(i("all")||i("brand")||i("retail"))&&w.push({title:"View Analytics",description:"Detailed insights",icon:rr,action:()=>console.log("View analytics"),variant:"outline"}),w},y=(w,A)=>{switch(w){case"verification":return A==="pending"?ka:A==="approved"?Ft:Nc;case"brand":return as;case"user":return ir;case"system":return Dr;default:return Dr}},v=w=>{switch(w){case"pending":return"text-yellow-500";case"approved":case"completed":return"text-green-500";case"rejected":return"text-red-500";default:return"text-blue-500"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",(t==null?void 0:t.firstName)||"Admin","! Here's what's happening today."]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(Ge,{variant:"secondary",className:"text-sm",children:e==="super_admin"?"Super Admin":e==="brand_admin"?"Brand Admin":e==="retail_admin"?"Retail Admin":"User"})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n(["manage_all_users","manage_brand_users","manage_retail_users"])&&m("Total Users",o.totalUsers.toLocaleString(),"+12%",ir),n(["manage_all_users","manage_brand_users","manage_retail_users"])&&m("Active Users",o.activeUsers.toLocaleString(),"+8%",Dr),n(["approve_verifications"])&&m("Pending Verifications",o.pendingVerifications,"+3",Od,"down"),n(["manage_all_brands","manage_brand_content"])&&m("Active Brands",o.activeBrands,"+5%",as),i("all")&&m("Monthly Revenue",`$${o.monthlyRevenue.toLocaleString()}`,"+15%",Ba),i("all")&&m("Conversion Rate",`${o.conversionRate}%`,"+0.3%",rr)]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs(ve,{className:"lg:col-span-1",children:[s.jsxs(Ee,{children:[s.jsx(Se,{children:"Quick Actions"}),s.jsx(Rt,{children:"Common administrative tasks"})]}),s.jsx(be,{className:"space-y-3",children:p().map((w,A)=>{const T=w.icon;return s.jsx(Ae,{variant:w.variant,className:"w-full justify-start h-auto p-4",onClick:w.action,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(T,{className:"h-5 w-5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:w.title}),s.jsx("div",{className:"text-sm text-muted-foreground",children:w.description})]})]})},A)})})]}),s.jsxs(ve,{className:"lg:col-span-2",children:[s.jsxs(Ee,{children:[s.jsx(Se,{children:"Recent Activity"}),s.jsx(Rt,{children:"Latest updates and notifications"})]}),s.jsx(be,{children:s.jsx("div",{className:"space-y-4",children:u.map(w=>{const A=y(w.type,w.status);return s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(A,{className:`h-5 w-5 mt-0.5 ${v(w.status)}`}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:w.message}),s.jsx("p",{className:"text-sm text-muted-foreground",children:w.time})]})]},w.id)})})})]})]}),i("all")&&s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsx(Se,{children:"Performance Overview"}),s.jsx(Rt,{children:"Key performance indicators for this month"})]}),s.jsx(be,{children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"User Growth"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"85%"})]}),s.jsx(Qs,{value:85,className:"h-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Brand Partnerships"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"92%"})]}),s.jsx(Qs,{value:92,className:"h-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Verification Rate"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"78%"})]}),s.jsx(Qs,{value:78,className:"h-2"})]})]})})]})]})}const fh=b.forwardRef(({className:t,...e},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:Me("w-full caption-bottom text-sm",t),...e})}));fh.displayName="Table";const mh=b.forwardRef(({className:t,...e},n)=>s.jsx("thead",{ref:n,className:Me("[&_tr]:border-b",t),...e}));mh.displayName="TableHeader";const ph=b.forwardRef(({className:t,...e},n)=>s.jsx("tbody",{ref:n,className:Me("[&_tr:last-child]:border-0",t),...e}));ph.displayName="TableBody";const xH=b.forwardRef(({className:t,...e},n)=>s.jsx("tfoot",{ref:n,className:Me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));xH.displayName="TableFooter";const Ui=b.forwardRef(({className:t,...e},n)=>s.jsx("tr",{ref:n,className:Me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ui.displayName="TableRow";const It=b.forwardRef(({className:t,...e},n)=>s.jsx("th",{ref:n,className:Me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));It.displayName="TableHead";const kt=b.forwardRef(({className:t,...e},n)=>s.jsx("td",{ref:n,className:Me("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));kt.displayName="TableCell";const yH=b.forwardRef(({className:t,...e},n)=>s.jsx("caption",{ref:n,className:Me("mt-4 text-sm text-muted-foreground",t),...e}));yH.displayName="TableCaption";function vH(){const{canAccess:t}=Kr(),[e,n]=b.useState([{id:"1",userId:"user_123",userName:"Sarah Johnson",userEmail:"sarah.johnson@email.com",method:"photo_badge",status:"pending",submittedAt:"2024-01-15T10:30:00Z",reviewedAt:null,reviewedBy:null,documents:[{type:"employee_badge",url:"/api/documents/badge_123.jpg"},{type:"store_photo",url:"/api/documents/store_123.jpg"}],retailLocation:"Target - Downtown Seattle",notes:"Employee badge clearly visible, store location confirmed",reviewNotes:""},{id:"2",userId:"user_456",userName:"Mike Chen",userEmail:"mike.chen@email.com",method:"manager_code",status:"approved",submittedAt:"2024-01-14T15:45:00Z",reviewedAt:"2024-01-14T16:20:00Z",reviewedBy:"admin_789",documents:[],retailLocation:"Walmart - San Francisco Bay Area",notes:"Manager verification code confirmed",reviewNotes:"Code verified with store manager. Approved."},{id:"3",userId:"user_789",userName:"Emily Rodriguez",userEmail:"emily.r@email.com",method:"store_verification",status:"rejected",submittedAt:"2024-01-13T09:15:00Z",reviewedAt:"2024-01-13T14:30:00Z",reviewedBy:"admin_456",documents:[{type:"store_receipt",url:"/api/documents/receipt_789.jpg"}],retailLocation:"Best Buy - Austin Central",notes:"Recent purchase receipt provided",reviewNotes:"Receipt does not clearly show employment relationship. Please provide employee badge or manager verification."}]),[i,o]=b.useState(""),[l,u]=b.useState("all"),[h,m]=b.useState("all"),[p,y]=b.useState(null),[v,w]=b.useState(!1),[A,T]=b.useState(""),j=e.filter($=>{const N=$.userName.toLowerCase().includes(i.toLowerCase())||$.userEmail.toLowerCase().includes(i.toLowerCase())||$.retailLocation.toLowerCase().includes(i.toLowerCase()),E=l==="all"||$.status===l,P=h==="all"||$.method===h;return N&&E&&P}),I=$=>{switch($){case"pending":return s.jsx(Ge,{variant:"outline",className:"border-yellow-500 text-yellow-700",children:"Pending"});case"approved":return s.jsx(Ge,{variant:"default",className:"bg-green-100 text-green-800",children:"Approved"});case"rejected":return s.jsx(Ge,{variant:"destructive",children:"Rejected"});default:return s.jsx(Ge,{variant:"secondary",children:$})}},M=$=>{switch($){case"photo_badge":return"Photo Badge";case"manager_code":return"Manager Code";case"store_verification":return"Store Verification";case"invitation":return"Invitation";default:return $}},L=$=>{switch($){case"photo_badge":return Fm;case"manager_code":return Ld;case"store_verification":return as;case"invitation":return Ja;default:return ka}},V=($,N)=>{if(!t(["approve_verifications"])){console.log("Insufficient permissions");return}y($),T($.reviewNotes||""),w(!0)},F=$=>{if(!p)return;const N=e.map(E=>E.id===p.id?{...E,status:$,reviewedAt:new Date().toISOString(),reviewedBy:"current_admin",reviewNotes:A}:E);n(N),w(!1),y(null),T("")},H=$=>new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Verification Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Review and approve user verification requests"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(Ge,{variant:"outline",className:"border-yellow-500 text-yellow-700",children:[e.filter($=>$.status==="pending").length," Pending"]})})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsx(Se,{children:"Verification Requests"}),s.jsx(Rt,{children:"Review user verification submissions and supporting documents"})]}),s.jsxs(be,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ai,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(De,{placeholder:"Search by user name, email, or location...",value:i,onChange:$=>o($.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Js,{children:[s.jsx(er,{asChild:!0,children:s.jsxs(Ae,{variant:"outline",children:[s.jsx(Md,{className:"mr-2 h-4 w-4"}),"Status: ",l==="all"?"All":l]})}),s.jsxs(Bs,{children:[s.jsx(Ke,{onClick:()=>u("all"),children:"All Statuses"}),s.jsx(Ke,{onClick:()=>u("pending"),children:"Pending"}),s.jsx(Ke,{onClick:()=>u("approved"),children:"Approved"}),s.jsx(Ke,{onClick:()=>u("rejected"),children:"Rejected"})]})]}),s.jsxs(Js,{children:[s.jsx(er,{asChild:!0,children:s.jsxs(Ae,{variant:"outline",children:[s.jsx(Md,{className:"mr-2 h-4 w-4"}),"Method: ",h==="all"?"All":M(h)]})}),s.jsxs(Bs,{children:[s.jsx(Ke,{onClick:()=>m("all"),children:"All Methods"}),s.jsx(Ke,{onClick:()=>m("photo_badge"),children:"Photo Badge"}),s.jsx(Ke,{onClick:()=>m("manager_code"),children:"Manager Code"}),s.jsx(Ke,{onClick:()=>m("store_verification"),children:"Store Verification"}),s.jsx(Ke,{onClick:()=>m("invitation"),children:"Invitation"})]})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(fh,{children:[s.jsx(mh,{children:s.jsxs(Ui,{children:[s.jsx(It,{children:"User"}),s.jsx(It,{children:"Method"}),s.jsx(It,{children:"Location"}),s.jsx(It,{children:"Status"}),s.jsx(It,{children:"Submitted"}),s.jsx(It,{className:"text-right",children:"Actions"})]})}),s.jsx(ph,{children:j.map($=>{const N=L($.method);return s.jsxs(Ui,{children:[s.jsx(kt,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"font-medium",children:$.userName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:$.userEmail})]})}),s.jsx(kt,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(N,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:M($.method)})]})}),s.jsx(kt,{className:"text-sm",children:$.retailLocation}),s.jsx(kt,{children:I($.status)}),s.jsx(kt,{className:"text-sm text-muted-foreground",children:H($.submittedAt)}),s.jsx(kt,{className:"text-right",children:s.jsxs(Js,{children:[s.jsx(er,{asChild:!0,children:s.jsxs(Ae,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(ih,{className:"h-4 w-4"})]})}),s.jsxs(Bs,{align:"end",children:[s.jsx($a,{children:"Actions"}),s.jsxs(Ke,{onClick:()=>V($),children:[s.jsx(Vs,{className:"mr-2 h-4 w-4"}),"View Details"]}),t(["approve_verifications"])&&$.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx(Ci,{}),s.jsxs(Ke,{onClick:()=>V($),className:"text-green-600",children:[s.jsx(Ft,{className:"mr-2 h-4 w-4"}),"Approve"]}),s.jsxs(Ke,{onClick:()=>V($),className:"text-red-600",children:[s.jsx(Nc,{className:"mr-2 h-4 w-4"}),"Reject"]})]})]})]})})]},$.id)})})]})}),j.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No verification requests found matching your criteria."})})]})]}),s.jsx(Zo,{open:v,onOpenChange:w,children:s.jsxs(za,{className:"max-w-2xl",children:[s.jsxs(Jo,{children:[s.jsx(Fa,{children:"Review Verification Request"}),s.jsx(Ec,{children:"Review the verification details and provide feedback"})]}),p&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"User"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.userName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Method"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:M(p.method)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Location"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.retailLocation})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Submitted"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:H(p.submittedAt)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"User Notes"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:p.notes})]}),p.documents.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Documents"}),s.jsx("div",{className:"mt-2 space-y-2",children:p.documents.map(($,N)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fm,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:$.type.replace("_"," ")}),s.jsx(Ae,{variant:"outline",size:"sm",children:"View"})]},N))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Review Notes"}),s.jsx(Za,{placeholder:"Add your review notes here...",value:A,onChange:$=>T($.target.value),className:"mt-1"})]})]}),s.jsxs(qp,{children:[s.jsx(Ae,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),(p==null?void 0:p.status)==="pending"&&t(["approve_verifications"])&&s.jsxs(s.Fragment,{children:[s.jsxs(Ae,{variant:"destructive",onClick:()=>F("rejected"),children:[s.jsx(Nc,{className:"mr-2 h-4 w-4"}),"Reject"]}),s.jsxs(Ae,{onClick:()=>F("approved"),children:[s.jsx(Ft,{className:"mr-2 h-4 w-4"}),"Approve"]})]})]})]})})]})}function bH(){const{canAccess:t}=Kr(),[e,n]=b.useState([{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",role:"retail_admin",status:"active",verificationStatus:"verified",lastLogin:"2024-01-15",joinDate:"2023-12-01",location:"New York, NY"},{id:"2",name:"Mike Chen",email:"mike.chen@brandco.com",role:"brand_admin",status:"active",verificationStatus:"verified",lastLogin:"2024-01-14",joinDate:"2023-11-15",location:"San Francisco, CA"},{id:"3",name:"Emily Rodriguez",email:"emily.r@email.com",role:"user",status:"pending_verification",verificationStatus:"pending",lastLogin:"2024-01-13",joinDate:"2024-01-10",location:"Austin, TX"},{id:"4",name:"David Kim",email:"david.kim@retailstore.com",role:"retail_admin",status:"inactive",verificationStatus:"verified",lastLogin:"2024-01-05",joinDate:"2023-10-20",location:"Seattle, WA"}]),[i,o]=b.useState(""),[l,u]=b.useState("all"),[h,m]=b.useState("all"),p=e.filter(T=>{const j=T.name.toLowerCase().includes(i.toLowerCase())||T.email.toLowerCase().includes(i.toLowerCase()),I=l==="all"||T.status===l,M=h==="all"||T.role===h;return j&&I&&M}),y=T=>{switch(T){case"super_admin":return"Super Admin";case"brand_admin":return"Brand Admin";case"retail_admin":return"Retail Admin";case"user":return"User";default:return T}},v=T=>{switch(T){case"active":return s.jsx(Ge,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"});case"inactive":return s.jsx(Ge,{variant:"secondary",children:"Inactive"});case"pending_verification":return s.jsx(Ge,{variant:"outline",className:"border-yellow-500 text-yellow-700",children:"Pending"});case"suspended":return s.jsx(Ge,{variant:"destructive",children:"Suspended"});default:return s.jsx(Ge,{variant:"secondary",children:T})}},w=T=>{switch(T){case"verified":return s.jsx(Ge,{variant:"default",className:"bg-blue-100 text-blue-800",children:"Verified"});case"pending":return s.jsx(Ge,{variant:"outline",className:"border-orange-500 text-orange-700",children:"Pending"});case"rejected":return s.jsx(Ge,{variant:"destructive",children:"Rejected"});default:return s.jsx(Ge,{variant:"secondary",children:T})}},A=(T,j)=>{console.log(`${T} user:`,j)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"User Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage user accounts, roles, and permissions"})]}),t(["manage_all_users","manage_brand_users"])&&s.jsxs(Ae,{onClick:()=>A("create",null),children:[s.jsx(ah,{className:"mr-2 h-4 w-4"}),"Add User"]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsx(Se,{children:"User Directory"}),s.jsx(Rt,{children:"Search and filter users by status, role, or other criteria"})]}),s.jsxs(be,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ai,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(De,{placeholder:"Search users by name or email...",value:i,onChange:T=>o(T.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Js,{children:[s.jsx(er,{asChild:!0,children:s.jsxs(Ae,{variant:"outline",children:[s.jsx(Md,{className:"mr-2 h-4 w-4"}),"Status: ",l==="all"?"All":l]})}),s.jsxs(Bs,{children:[s.jsx(Ke,{onClick:()=>u("all"),children:"All Statuses"}),s.jsx(Ke,{onClick:()=>u("active"),children:"Active"}),s.jsx(Ke,{onClick:()=>u("inactive"),children:"Inactive"}),s.jsx(Ke,{onClick:()=>u("pending_verification"),children:"Pending Verification"}),s.jsx(Ke,{onClick:()=>u("suspended"),children:"Suspended"})]})]}),s.jsxs(Js,{children:[s.jsx(er,{asChild:!0,children:s.jsxs(Ae,{variant:"outline",children:[s.jsx(Md,{className:"mr-2 h-4 w-4"}),"Role: ",h==="all"?"All":y(h)]})}),s.jsxs(Bs,{children:[s.jsx(Ke,{onClick:()=>m("all"),children:"All Roles"}),s.jsx(Ke,{onClick:()=>m("super_admin"),children:"Super Admin"}),s.jsx(Ke,{onClick:()=>m("brand_admin"),children:"Brand Admin"}),s.jsx(Ke,{onClick:()=>m("retail_admin"),children:"Retail Admin"}),s.jsx(Ke,{onClick:()=>m("user"),children:"User"})]})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(fh,{children:[s.jsx(mh,{children:s.jsxs(Ui,{children:[s.jsx(It,{children:"User"}),s.jsx(It,{children:"Role"}),s.jsx(It,{children:"Status"}),s.jsx(It,{children:"Verification"}),s.jsx(It,{children:"Last Login"}),s.jsx(It,{children:"Location"}),s.jsx(It,{className:"text-right",children:"Actions"})]})}),s.jsx(ph,{children:p.map(T=>s.jsxs(Ui,{children:[s.jsx(kt,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"font-medium",children:T.name}),s.jsxs("div",{className:"text-sm text-muted-foreground flex items-center",children:[s.jsx(Ja,{className:"mr-1 h-3 w-3"}),T.email]})]})}),s.jsx(kt,{children:s.jsx(Ge,{variant:"outline",children:y(T.role)})}),s.jsx(kt,{children:v(T.status)}),s.jsx(kt,{children:w(T.verificationStatus)}),s.jsx(kt,{className:"text-sm text-muted-foreground",children:new Date(T.lastLogin).toLocaleDateString()}),s.jsx(kt,{className:"text-sm text-muted-foreground",children:T.location}),s.jsx(kt,{className:"text-right",children:s.jsxs(Js,{children:[s.jsx(er,{asChild:!0,children:s.jsxs(Ae,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(ih,{className:"h-4 w-4"})]})}),s.jsxs(Bs,{align:"end",children:[s.jsx($a,{children:"Actions"}),s.jsxs(Ke,{onClick:()=>A("view",T.id),children:[s.jsx(Vs,{className:"mr-2 h-4 w-4"}),"View Details"]}),t(["manage_all_users","manage_brand_users"])&&s.jsxs(s.Fragment,{children:[s.jsxs(Ke,{onClick:()=>A("edit",T.id),children:[s.jsx(Km,{className:"mr-2 h-4 w-4"}),"Edit User"]}),s.jsx(Ci,{}),T.status==="active"?s.jsxs(Ke,{onClick:()=>A("suspend",T.id),children:[s.jsx(B8,{className:"mr-2 h-4 w-4"}),"Suspend User"]}):s.jsxs(Ke,{onClick:()=>A("activate",T.id),children:[s.jsx(Od,{className:"mr-2 h-4 w-4"}),"Activate User"]}),s.jsxs(Ke,{onClick:()=>A("delete",T.id),className:"text-red-600",children:[s.jsx(Op,{className:"mr-2 h-4 w-4"}),"Delete User"]})]})]})]})})]},T.id))})]})}),p.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No users found matching your criteria."})})]})]})]})}function wH(){const{canViewAnalytics:t}=Kr(),[e,n]=b.useState("30d"),[i,o]=b.useState("overview"),[l,u]=b.useState({overview:{totalUsers:12847,activeUsers:8923,newUsers:1247,userGrowth:12.3,totalBrands:45,activeBrands:38,brandGrowth:8.7,totalRevenue:425e3,revenueGrowth:15.2,conversionRate:3.4,conversionGrowth:.8},userMetrics:{dailyActiveUsers:2847,weeklyActiveUsers:6234,monthlyActiveUsers:8923,userRetention:78.5,avgSessionDuration:"4m 32s",bounceRate:23.4},brandMetrics:{topPerformingBrands:[{name:"GreenLeaf Organics",revenue:125e3,growth:18.5},{name:"EcoTech Solutions",revenue:98e3,growth:22.1},{name:"Pure Beauty Co",revenue:87e3,growth:15.3},{name:"Sustainable Living",revenue:65e3,growth:-5.2}],categoryPerformance:[{category:"Organic Foods",revenue:185e3,share:43.5},{category:"Technology",revenue:125e3,share:29.4},{category:"Beauty & Wellness",revenue:87e3,share:20.5},{category:"Home & Garden",revenue:28e3,share:6.6}]},verificationMetrics:{totalVerifications:1847,pendingVerifications:23,approvedVerifications:1756,rejectedVerifications:68,approvalRate:96.3,avgProcessingTime:"2.4 hours"}}),h=(p,y,v,w,A)=>{const T=A;return s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:p}),s.jsx(T,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:y}),s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center",children:[s.jsx(cA,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-green-500",children:v}),s.jsx("span",{className:"ml-1",children:"from last period"})]})]})]})},m=p=>{switch(p){case"7d":return"Last 7 days";case"30d":return"Last 30 days";case"90d":return"Last 90 days";case"1y":return"Last year";default:return"Last 30 days"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Comprehensive insights and performance metrics"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(hn,{value:e,onValueChange:n,children:[s.jsx(sn,{className:"w-40",children:s.jsx(fn,{placeholder:"Select time range"})}),s.jsxs(rn,{children:[s.jsx(we,{value:"7d",children:"Last 7 days"}),s.jsx(we,{value:"30d",children:"Last 30 days"}),s.jsx(we,{value:"90d",children:"Last 90 days"}),s.jsx(we,{value:"1y",children:"Last year"})]})]}),s.jsxs(Ae,{variant:"outline",children:[s.jsx(Y0,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),t("all")&&s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[h("Total Users",l.overview.totalUsers.toLocaleString(),`+${l.overview.userGrowth}%`,"up",ir),h("Active Brands",l.overview.activeBrands,`+${l.overview.brandGrowth}%`,"up",as),h("Total Revenue",`$${l.overview.totalRevenue.toLocaleString()}`,`+${l.overview.revenueGrowth}%`,"up",Ba),h("Conversion Rate",`${l.overview.conversionRate}%`,`+${l.overview.conversionGrowth}%`,"up",rr)]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[t("all")||t("retail")&&s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsx(Se,{children:"User Analytics"}),s.jsxs(Rt,{children:["User engagement and activity metrics for ",m(e)]})]}),s.jsxs(be,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Daily Active"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:l.userMetrics.dailyActiveUsers.toLocaleString()})]}),s.jsx(Qs,{value:65,className:"h-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Weekly Active"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:l.userMetrics.weeklyActiveUsers.toLocaleString()})]}),s.jsx(Qs,{value:78,className:"h-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Monthly Active"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:l.userMetrics.monthlyActiveUsers.toLocaleString()})]}),s.jsx(Qs,{value:92,className:"h-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Retention Rate"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.userMetrics.userRetention,"%"]})]}),s.jsx(Qs,{value:l.userMetrics.userRetention,className:"h-2"})]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg Session Duration"}),s.jsx("div",{className:"font-medium",children:l.userMetrics.avgSessionDuration})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Bounce Rate"}),s.jsxs("div",{className:"font-medium",children:[l.userMetrics.bounceRate,"%"]})]})]})})]})]}),(t("all")||t("brand"))&&s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsx(Se,{children:"Brand Performance"}),s.jsx(Rt,{children:"Top performing brands and category breakdown"})]}),s.jsx(be,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Top Performing Brands"}),s.jsx("div",{className:"space-y-3",children:l.brandMetrics.topPerformingBrands.map((p,y)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-600"}),s.jsx("span",{className:"text-sm font-medium",children:p.name})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["$",p.revenue.toLocaleString()]}),s.jsxs("div",{className:`flex items-center ${p.growth>0?"text-green-600":"text-red-600"}`,children:[p.growth>0?s.jsx(rr,{className:"h-3 w-3 mr-1"}):s.jsx(k8,{className:"h-3 w-3 mr-1"}),s.jsxs("span",{className:"text-xs",children:[Math.abs(p.growth),"%"]})]})]})]},y))})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Category Performance"}),s.jsx("div",{className:"space-y-3",children:l.brandMetrics.categoryPerformance.map((p,y)=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:p.category}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[p.share,"%"]})]}),s.jsx(Qs,{value:p.share,className:"h-2"})]},y))})]})]})})]})]}),t("all")&&s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsx(Se,{children:"Verification Analytics"}),s.jsx(Rt,{children:"User verification processing and approval metrics"})]}),s.jsx(be,{children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[l.verificationMetrics.approvalRate,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Approval Rate"})]}),s.jsx(Qs,{value:l.verificationMetrics.approvalRate,className:"h-3"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:l.verificationMetrics.avgProcessingTime}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Processing Time"})]}),s.jsx("div",{className:"text-center",children:s.jsxs(Ge,{variant:"outline",className:"border-yellow-500 text-yellow-700",children:[l.verificationMetrics.pendingVerifications," Pending"]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Total Processed"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:l.verificationMetrics.totalVerifications})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Approved"}),s.jsx("span",{className:"text-sm text-green-600",children:l.verificationMetrics.approvedVerifications})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Rejected"}),s.jsx("span",{className:"text-sm text-red-600",children:l.verificationMetrics.rejectedVerifications})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Pending"}),s.jsx("span",{className:"text-sm text-yellow-600",children:l.verificationMetrics.pendingVerifications})]})]})]})})]}),!t("all")&&!t("brand")&&!t("retail")&&s.jsx(ve,{children:s.jsxs(be,{className:"text-center py-8",children:[s.jsx(zc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Analytics Access Required"}),s.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to view analytics data. Contact your administrator for access."})]})})]})}function _H(){const{canAccess:t}=Kr(),[e,n]=b.useState([{id:"1",name:"GreenLeaf Organics",logo:"/api/brands/greenleaf-logo.png",contactEmail:"partnerships@greenleaf.com",contactPhone:"+1 (555) 123-4567",website:"https://greenleaf.com",description:"Premium organic food products sourced from sustainable farms",pipelineStatus:"paid",contractType:"monthly",contractStartDate:"2023-06-15",contractEndDate:"2024-06-15",daysInCurrentStage:180,basePlan:{type:"monthly",price:2500,includedLessons:1},additionalLessons:3,additionalLessonPrice:1e3,totalMonthlyValue:5500,totalYearlyValue:66e3,contentStorage:{used:2.3,limit:10,lessons:4,challenges:2},metrics:{totalUsers:1247,activeUsers:892,completionRate:78.5,avgROI:3.2,monthlyRevenue:45e3,userGrowth:15.3}},{id:"2",name:"EcoTech Solutions",logo:"/api/brands/ecotech-logo.png",contactEmail:"hello@ecotech.com",contactPhone:"+1 (555 ) 987-6543",website:"https://ecotech.com",description:"Sustainable technology solutions for modern living",pipelineStatus:"sales_funnel",contractType:"yearly",contractStartDate:null,contractEndDate:null,daysInCurrentStage:23,basePlan:{type:"yearly",price:4e3,includedLessons:1},additionalLessons:2,additionalLessonPrice:500,totalMonthlyValue:0,totalYearlyValue:5e3,contentStorage:{used:0,limit:0,lessons:0,challenges:0},metrics:{totalUsers:0,activeUsers:0,completionRate:0,avgROI:0,monthlyRevenue:0,userGrowth:0}},{id:"3",name:"Pure Beauty Co",logo:"/api/brands/purebeauty-logo.png",contactEmail:"partnerships@purebeauty.com",contactPhone:"+1 (555 ) 456-7890",website:"https://purebeauty.com",description:"Natural beauty products with zero harmful chemicals",pipelineStatus:"negotiations",contractType:"monthly",contractStartDate:null,contractEndDate:null,daysInCurrentStage:45,basePlan:{type:"monthly",price:2500,includedLessons:1},additionalLessons:1,additionalLessonPrice:1e3,totalMonthlyValue:0,totalYearlyValue:0,contentStorage:{used:0,limit:0,lessons:0,challenges:0},metrics:{totalUsers:0,activeUsers:0,completionRate:0,avgROI:0,monthlyRevenue:0,userGrowth:0}}]),[i,o]=b.useState(""),[l,u]=b.useState("all"),[h,m]=b.useState("all"),[p,y]=b.useState(null),[v,w]=b.useState(!1),[A,T]=b.useState(!1),j={totalBrands:e.length,paidBrands:e.filter(N=>N.pipelineStatus==="paid").length,totalMRR:e.filter(N=>N.pipelineStatus==="paid"&&N.contractType==="monthly").reduce((N,E)=>N+E.totalMonthlyValue,0),totalARR:e.filter(N=>N.pipelineStatus==="paid").reduce((N,E)=>N+(E.contractType==="yearly"?E.totalYearlyValue:E.totalMonthlyValue*12),0),pipelineValue:e.filter(N=>N.pipelineStatus!=="paid").reduce((N,E)=>N+(E.contractType==="yearly"?E.totalYearlyValue:E.totalMonthlyValue*12),0)},I=e.filter(N=>{const E=N.name.toLowerCase().includes(i.toLowerCase())||N.description.toLowerCase().includes(i.toLowerCase()),P=l==="all"||N.pipelineStatus===l,U=h==="all"||N.contractType===h;return E&&P&&U}),M=N=>{switch(N){case"paid":return s.jsxs(Ge,{className:"bg-green-100 text-green-800 border-green-200",children:[s.jsx(Ft,{className:"w-3 h-3 mr-1"}),"Paid"]});case"sales_funnel":return s.jsxs(Ge,{className:"bg-blue-100 text-blue-800 border-blue-200",children:[s.jsx(Pd,{className:"w-3 h-3 mr-1"}),"Sales Funnel"]});case"negotiations":return s.jsxs(Ge,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[s.jsx(Oi,{className:"w-3 h-3 mr-1"}),"Negotiations"]});default:return s.jsx(Ge,{variant:"secondary",children:N})}},L=N=>N==="yearly"?s.jsxs(Ge,{className:"bg-purple-100 text-purple-800 border-purple-200",children:[s.jsx(Z1,{className:"w-3 h-3 mr-1"}),"Yearly"]}):s.jsxs(Ge,{className:"bg-orange-100 text-orange-800 border-orange-200",children:[s.jsx(Z1,{className:"w-3 h-3 mr-1"}),"Monthly"]}),V=N=>{if(N.pipelineStatus!=="paid")return 0;const E=N.basePlan.price,P=N.additionalLessons*N.additionalLessonPrice;return E+P},F=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(N),H=N=>N?new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set",$=(N,E)=>{console.log(`${N} brand:`,E)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Brand Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage brand partnerships, pricing, and revenue pipeline"})]}),t(["manage_all_brands"])&&s.jsxs(Ae,{onClick:()=>T(!0),children:[s.jsx(ah,{className:"mr-2 h-4 w-4"}),"Add Brand"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Total Brands"}),s.jsx(as,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:j.totalBrands}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.paidBrands," paying customers"]})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Monthly Revenue"}),s.jsx(Ba,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:F(j.totalMRR)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"MRR from monthly plans"})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Annual Revenue"}),s.jsx(rr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:F(j.totalARR)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total ARR from all plans"})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Pipeline Value"}),s.jsx(Pd,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:F(j.pipelineValue)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Potential annual revenue"})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Conversion Rate"}),s.jsx(zc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[j.totalBrands>0?Math.round(j.paidBrands/j.totalBrands*100):0,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pipeline to paid conversion"})]})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsx(Se,{children:"Brand Pipeline"}),s.jsx(Rt,{children:"Track brand partnerships through negotiations, sales funnel, and paid contracts"})]}),s.jsxs(be,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ai,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(De,{placeholder:"Search brands by name or description...",value:i,onChange:N=>o(N.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(hn,{value:l,onValueChange:u,children:[s.jsx(sn,{className:"w-40",children:s.jsx(fn,{placeholder:"Pipeline Status"})}),s.jsxs(rn,{children:[s.jsx(we,{value:"all",children:"All Statuses"}),s.jsx(we,{value:"negotiations",children:"Negotiations"}),s.jsx(we,{value:"sales_funnel",children:"Sales Funnel"}),s.jsx(we,{value:"paid",children:"Paid"})]})]}),s.jsxs(hn,{value:h,onValueChange:m,children:[s.jsx(sn,{className:"w-32",children:s.jsx(fn,{placeholder:"Plan Type"})}),s.jsxs(rn,{children:[s.jsx(we,{value:"all",children:"All Plans"}),s.jsx(we,{value:"monthly",children:"Monthly"}),s.jsx(we,{value:"yearly",children:"Yearly"})]})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(fh,{children:[s.jsx(mh,{children:s.jsxs(Ui,{children:[s.jsx(It,{children:"Brand"}),s.jsx(It,{children:"Pipeline Status"}),s.jsx(It,{children:"Plan Type"}),s.jsx(It,{children:"Revenue"}),s.jsx(It,{children:"Content Usage"}),s.jsx(It,{children:"Days in Stage"}),s.jsx(It,{className:"text-right",children:"Actions"})]})}),s.jsx(ph,{children:I.map(N=>s.jsxs(Ui,{children:[s.jsx(kt,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-100 flex items-center justify-center",children:s.jsx(as,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:N.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[N.contentStorage.lessons+N.contentStorage.challenges," content items"]})]})]})}),s.jsx(kt,{children:M(N.pipelineStatus)}),s.jsx(kt,{children:L(N.contractType)}),s.jsx(kt,{children:s.jsx("div",{className:"font-medium",children:N.pipelineStatus==="paid"?s.jsxs(s.Fragment,{children:[s.jsx("div",{children:F(V(N))}),s.jsx("div",{className:"text-sm text-muted-foreground",children:N.contractType==="yearly"?"per year":"per month"})]}):s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Potential: ",F(N.basePlan.price+N.additionalLessons*N.additionalLessonPrice)]})})}),s.jsx(kt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-sm",children:[N.contentStorage.used,"GB / ",N.contentStorage.limit,"GB"]}),s.jsx(Qs,{value:N.contentStorage.limit>0?N.contentStorage.used/N.contentStorage.limit*100:0,className:"h-1"})]})}),s.jsx(kt,{children:s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(ka,{className:"h-3 w-3 mr-1 text-muted-foreground"}),N.daysInCurrentStage," days"]})}),s.jsx(kt,{className:"text-right",children:s.jsxs(Js,{children:[s.jsx(er,{asChild:!0,children:s.jsxs(Ae,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(ih,{className:"h-4 w-4"})]})}),s.jsxs(Bs,{align:"end",children:[s.jsx($a,{children:"Actions"}),s.jsxs(Ke,{onClick:()=>{y(N),w(!0)},children:[s.jsx(Vs,{className:"mr-2 h-4 w-4"}),"View Details"]}),s.jsxs(Ke,{onClick:()=>window.open(N.website,"_blank"),children:[s.jsx(X0,{className:"mr-2 h-4 w-4"}),"Visit Website"]}),t(["manage_all_brands"])&&s.jsxs(s.Fragment,{children:[s.jsx(Ci,{}),s.jsxs(Ke,{onClick:()=>$("edit",N.id),children:[s.jsx(Km,{className:"mr-2 h-4 w-4"}),"Edit Contract"]}),s.jsxs(Ke,{onClick:()=>$("contact",N.id),children:[s.jsx(Ja,{className:"mr-2 h-4 w-4"}),"Contact Brand"]}),s.jsxs(Ke,{onClick:()=>$("delete",N.id),className:"text-red-600",children:[s.jsx(Op,{className:"mr-2 h-4 w-4"}),"Remove Brand"]})]})]})]})})]},N.id))})]})}),I.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No brands found matching your criteria."})})]})]}),s.jsx(Zo,{open:v,onOpenChange:w,children:s.jsxs(za,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Jo,{children:[s.jsxs(Fa,{children:["Brand Details: ",p==null?void 0:p.name]}),s.jsx(Ec,{children:"Complete brand information, contract details, and performance metrics"})]}),p&&s.jsxs("div",{className:"grid gap-6 py-4",children:[s.jsxs("div",{className:"grid gap-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Contract Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Pipeline Status"}),s.jsx("div",{className:"mt-1",children:M(p.pipelineStatus)})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Plan Type"}),s.jsx("div",{className:"mt-1",children:L(p.contractType)})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Contract Start"}),s.jsx("div",{className:"mt-1 text-sm",children:H(p.contractStartDate)})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Contract End"}),s.jsx("div",{className:"mt-1 text-sm",children:H(p.contractEndDate)})]})]})]}),s.jsxs("div",{className:"grid gap-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Pricing & Revenue"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Base Plan"}),s.jsxs("div",{className:"mt-1 text-sm",children:[F(p.basePlan.price)," / ",p.contractType,s.jsx("br",{}),s.jsxs("span",{className:"text-muted-foreground",children:["Includes ",p.basePlan.includedLessons," lesson/challenge"]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Additional Content"}),s.jsxs("div",{className:"mt-1 text-sm",children:[p.additionalLessons," × ",F(p.additionalLessonPrice),s.jsx("br",{}),s.jsxs("span",{className:"text-muted-foreground",children:["= ",F(p.additionalLessons*p.additionalLessonPrice)]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Total Revenue"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-green-600",children:p.pipelineStatus==="paid"?F(V(p)):`Potential: ${F(p.basePlan.price+p.additionalLessons*p.additionalLessonPrice)}`})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Annual Value"}),s.jsx("div",{className:"mt-1 text-lg font-semibold",children:p.contractType==="yearly"?F(V(p)):F(V(p)*12)})]})]})]}),s.jsxs("div",{className:"grid gap-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Content & Usage"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Storage Used"}),s.jsxs("div",{className:"mt-1",children:[s.jsxs("div",{className:"text-sm",children:[p.contentStorage.used,"GB / ",p.contentStorage.limit,"GB"]}),s.jsx(Qs,{value:p.contentStorage.limit>0?p.contentStorage.used/p.contentStorage.limit*100:0,className:"h-2 mt-1"})]})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Lessons"}),s.jsx("div",{className:"mt-1 text-2xl font-bold",children:p.contentStorage.lessons})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Challenges"}),s.jsx("div",{className:"mt-1 text-2xl font-bold",children:p.contentStorage.challenges})]})]})]}),p.pipelineStatus==="paid"&&s.jsxs("div",{className:"grid gap-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Performance Metrics"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Total Users"}),s.jsx("div",{className:"mt-1 text-2xl font-bold",children:p.metrics.totalUsers.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Active Users"}),s.jsx("div",{className:"mt-1 text-2xl font-bold",children:p.metrics.activeUsers.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Completion Rate"}),s.jsxs("div",{className:"mt-1 text-2xl font-bold",children:[p.metrics.completionRate,"%"]})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Avg ROI Multiplier"}),s.jsxs("div",{className:"mt-1 text-2xl font-bold text-green-600",children:[p.metrics.avgROI,"x"]})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Monthly Revenue"}),s.jsx("div",{className:"mt-1 text-2xl font-bold",children:F(p.metrics.monthlyRevenue)})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"User Growth"}),s.jsxs("div",{className:"mt-1 text-2xl font-bold text-green-600",children:["+",p.metrics.userGrowth,"%"]})]})]})]})]}),s.jsxs(qp,{children:[s.jsx(Ae,{variant:"outline",onClick:()=>w(!1),children:"Close"}),t(["manage_all_brands"])&&s.jsx(Ae,{onClick:()=>{w(!1)},children:"Edit Contract"})]})]})})]})}function jH(){const{canAccess:t}=Kr(),[e,n]=b.useState([{id:"1",title:"Sustainable Living Basics",type:"lesson",brandId:"1",brandName:"GreenLeaf Organics",description:"Introduction to sustainable living practices and eco-friendly choices",status:"published",createdDate:"2024-01-15",publishedDate:"2024-01-20",lastModified:"2024-01-18",duration:25,fileSize:45.2,fileType:"video/mp4",thumbnailUrl:"/content/thumbnails/sustainable-living.jpg",contentUrl:"/content/videos/sustainable-living-basics.mp4",metrics:{totalViews:1247,completions:973,completionRate:78.1,avgRating:4.6,totalRevenue:3500,userEngagement:85.3},pricing:{isAdditional:!0,priceCharged:1e3,billingCycle:"monthly"},tags:["sustainability","beginner","lifestyle"],category:"Environmental",targetAudience:"General Public"},{id:"2",title:"Zero Waste Challenge",type:"challenge",brandId:"1",brandName:"GreenLeaf Organics",description:"30-day challenge to reduce household waste to zero",status:"published",createdDate:"2024-01-10",publishedDate:"2024-01-15",lastModified:"2024-01-12",duration:30,fileSize:12.8,fileType:"application/pdf",thumbnailUrl:"/content/thumbnails/zero-waste.jpg",contentUrl:"/content/challenges/zero-waste-30day.pdf",metrics:{totalViews:892,completions:234,completionRate:26.2,avgRating:4.8,totalRevenue:7020,userEngagement:92.1},pricing:{isAdditional:!0,priceCharged:1e3,billingCycle:"monthly"},tags:["challenge","waste-reduction","advanced"],category:"Environmental",targetAudience:"Eco Enthusiasts"},{id:"3",title:"Organic Nutrition Guide",type:"lesson",brandId:"1",brandName:"GreenLeaf Organics",description:"Complete guide to organic nutrition and healthy eating",status:"draft",createdDate:"2024-01-25",publishedDate:null,lastModified:"2024-01-26",duration:35,fileSize:67.4,fileType:"video/mp4",thumbnailUrl:"/content/thumbnails/nutrition-guide.jpg",contentUrl:"/content/videos/organic-nutrition-guide.mp4",metrics:{totalViews:0,completions:0,completionRate:0,avgRating:0,totalRevenue:0,userEngagement:0},pricing:{isAdditional:!0,priceCharged:1e3,billingCycle:"monthly"},tags:["nutrition","health","organic"],category:"Health & Wellness",targetAudience:"Health Conscious"},{id:"4",title:"Eco-Tech Innovation Workshop",type:"lesson",brandId:"2",brandName:"EcoTech Solutions",description:"Interactive workshop on sustainable technology solutions",status:"pending_approval",createdDate:"2024-01-20",publishedDate:null,lastModified:"2024-01-22",duration:45,fileSize:89.1,fileType:"video/mp4",thumbnailUrl:"/content/thumbnails/ecotech-workshop.jpg",contentUrl:"/content/videos/ecotech-innovation.mp4",metrics:{totalViews:0,completions:0,completionRate:0,avgRating:0,totalRevenue:0,userEngagement:0},pricing:{isAdditional:!1,priceCharged:0,billingCycle:"yearly"},tags:["technology","innovation","workshop"],category:"Technology",targetAudience:"Tech Professionals"}]),[i,o]=b.useState(""),[l,u]=b.useState("all"),[h,m]=b.useState("all"),[p,y]=b.useState("all"),[v,w]=b.useState(null),[A,T]=b.useState(!1),[j,I]=b.useState(!1),M=[...new Set(e.map(R=>({id:R.brandId,name:R.brandName})))],L={totalContent:e.length,publishedContent:e.filter(R=>R.status==="published").length,totalViews:e.reduce((R,k)=>R+k.metrics.totalViews,0),totalRevenue:e.reduce((R,k)=>R+k.metrics.totalRevenue,0),avgCompletionRate:e.filter(R=>R.metrics.totalViews>0).reduce((R,k,se,pe)=>R+k.metrics.completionRate/pe.length,0),additionalContentRevenue:e.filter(R=>R.pricing.isAdditional&&R.status==="published").reduce((R,k)=>R+k.pricing.priceCharged,0)},V=e.filter(R=>{const k=R.title.toLowerCase().includes(i.toLowerCase())||R.description.toLowerCase().includes(i.toLowerCase())||R.tags.some(ae=>ae.toLowerCase().includes(i.toLowerCase())),se=l==="all"||R.type===l,pe=h==="all"||R.status===h,K=p==="all"||R.brandId===p;return k&&se&&pe&&K}),F=R=>{switch(R){case"published":return s.jsxs(Ge,{className:"bg-green-100 text-green-800 border-green-200",children:[s.jsx(Ft,{className:"w-3 h-3 mr-1"}),"Published"]});case"draft":return s.jsxs(Ge,{className:"bg-gray-100 text-gray-800 border-gray-200",children:[s.jsx(Km,{className:"w-3 h-3 mr-1"}),"Draft"]});case"pending_approval":return s.jsxs(Ge,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[s.jsx(ka,{className:"w-3 h-3 mr-1"}),"Pending Approval"]});case"rejected":return s.jsxs(Ge,{className:"bg-red-100 text-red-800 border-red-200",children:[s.jsx(Nc,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return s.jsx(Ge,{variant:"secondary",children:R})}},H=R=>{switch(R){case"lesson":return s.jsx(E9,{className:"h-4 w-4"});case"challenge":return s.jsx(Pd,{className:"h-4 w-4"});default:return s.jsx(zo,{className:"h-4 w-4"})}},$=R=>R<1?`${(R*1024).toFixed(0)} KB`:`${R.toFixed(1)} MB`,N=R=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(R),E=R=>R?new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set",P=(R,k)=>{console.log(`${R} content:`,k)},U=R=>{n(k=>k.map(se=>se.id===R?{...se,status:"published",publishedDate:new Date().toISOString().split("T")[0]}:se))},B=R=>{n(k=>k.map(se=>se.id===R?{...se,status:"rejected"}:se))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Content Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage lessons, challenges, and educational content for all brands"})]}),t(["manage_content","manage_brand_content"])&&s.jsxs(Ae,{onClick:()=>I(!0),children:[s.jsx(bv,{className:"mr-2 h-4 w-4"}),"Upload Content"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-6",children:[s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Total Content"}),s.jsx(zo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:L.totalContent}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[L.publishedContent," published"]})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Total Views"}),s.jsx(Vs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:L.totalViews.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all content"})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Content Revenue"}),s.jsx(Ba,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:N(L.totalRevenue)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total attributed revenue"})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Avg Completion"}),s.jsx(rr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[L.avgCompletionRate.toFixed(1),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Average completion rate"})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Additional Revenue"}),s.jsx(ah,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:N(L.additionalContentRevenue)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"From additional content"})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Brands"}),s.jsx(as,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:M.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"With content"})]})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsx(Se,{children:"Content Library"}),s.jsx(Rt,{children:"Manage all lessons and challenges across your brand partnerships"})]}),s.jsxs(be,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ai,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(De,{placeholder:"Search content by title, description, or tags...",value:i,onChange:R=>o(R.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(hn,{value:l,onValueChange:u,children:[s.jsx(sn,{className:"w-32",children:s.jsx(fn,{placeholder:"Type"})}),s.jsxs(rn,{children:[s.jsx(we,{value:"all",children:"All Types"}),s.jsx(we,{value:"lesson",children:"Lessons"}),s.jsx(we,{value:"challenge",children:"Challenges"})]})]}),s.jsxs(hn,{value:h,onValueChange:m,children:[s.jsx(sn,{className:"w-40",children:s.jsx(fn,{placeholder:"Status"})}),s.jsxs(rn,{children:[s.jsx(we,{value:"all",children:"All Status"}),s.jsx(we,{value:"published",children:"Published"}),s.jsx(we,{value:"draft",children:"Draft"}),s.jsx(we,{value:"pending_approval",children:"Pending"}),s.jsx(we,{value:"rejected",children:"Rejected"})]})]}),s.jsxs(hn,{value:p,onValueChange:y,children:[s.jsx(sn,{className:"w-40",children:s.jsx(fn,{placeholder:"Brand"})}),s.jsxs(rn,{children:[s.jsx(we,{value:"all",children:"All Brands"}),M.map(R=>s.jsx(we,{value:R.id,children:R.name},R.id))]})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(fh,{children:[s.jsx(mh,{children:s.jsxs(Ui,{children:[s.jsx(It,{children:"Content"}),s.jsx(It,{children:"Brand"}),s.jsx(It,{children:"Status"}),s.jsx(It,{children:"Performance"}),s.jsx(It,{children:"Revenue Impact"}),s.jsx(It,{children:"Last Modified"}),s.jsx(It,{className:"text-right",children:"Actions"})]})}),s.jsx(ph,{children:V.map(R=>s.jsxs(Ui,{children:[s.jsx(kt,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-100 flex items-center justify-center",children:H(R.type)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:R.title}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[R.type," • ",R.duration," ",R.type==="challenge"?"days":"min"," • ",$(R.fileSize)]})]})]})}),s.jsxs(kt,{children:[s.jsx("div",{className:"font-medium",children:R.brandName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:R.pricing.isAdditional?"Additional Content":"Base Plan"})]}),s.jsx(kt,{children:F(R.status)}),s.jsx(kt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-sm",children:[R.metrics.totalViews.toLocaleString()," views"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[R.metrics.completionRate.toFixed(1),"% completion"]})]})}),s.jsx(kt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium text-green-600",children:N(R.metrics.totalRevenue)}),s.jsx("div",{className:"text-sm text-muted-foreground",children:R.pricing.isAdditional?`+${N(R.pricing.priceCharged)}`:"Base plan"})]})}),s.jsx(kt,{children:s.jsx("div",{className:"text-sm",children:E(R.lastModified)})}),s.jsx(kt,{className:"text-right",children:s.jsxs(Js,{children:[s.jsx(er,{asChild:!0,children:s.jsxs(Ae,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(ih,{className:"h-4 w-4"})]})}),s.jsxs(Bs,{align:"end",children:[s.jsx($a,{children:"Actions"}),s.jsxs(Ke,{onClick:()=>{w(R),T(!0)},children:[s.jsx(Vs,{className:"mr-2 h-4 w-4"}),"View Details"]}),s.jsxs(Ke,{onClick:()=>window.open(R.contentUrl,"_blank"),children:[s.jsx(pA,{className:"mr-2 h-4 w-4"}),"Preview Content"]}),t(["manage_content","approve_verifications"])&&s.jsxs(s.Fragment,{children:[s.jsx(Ci,{}),R.status==="pending_approval"&&s.jsxs(s.Fragment,{children:[s.jsxs(Ke,{onClick:()=>U(R.id),className:"text-green-600",children:[s.jsx(Ft,{className:"mr-2 h-4 w-4"}),"Approve"]}),s.jsxs(Ke,{onClick:()=>B(R.id),className:"text-red-600",children:[s.jsx(Nc,{className:"mr-2 h-4 w-4"}),"Reject"]})]}),s.jsxs(Ke,{onClick:()=>P("edit",R.id),children:[s.jsx(Km,{className:"mr-2 h-4 w-4"}),"Edit Content"]}),s.jsxs(Ke,{onClick:()=>P("download",R.id),children:[s.jsx(Y0,{className:"mr-2 h-4 w-4"}),"Download"]}),s.jsxs(Ke,{onClick:()=>P("delete",R.id),className:"text-red-600",children:[s.jsx(Op,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},R.id))})]})}),V.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(zo,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No content found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]})]})]}),s.jsx(Zo,{open:A,onOpenChange:T,children:s.jsxs(za,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Jo,{children:[s.jsxs(Fa,{className:"flex items-center gap-2",children:[v&&H(v.type),v==null?void 0:v.title]}),s.jsx(Ec,{children:"Detailed content information and performance metrics"})]}),v&&s.jsxs(Vd,{defaultValue:"overview",className:"w-full",children:[s.jsxs(ch,{className:"grid w-full grid-cols-4",children:[s.jsx(Rn,{value:"overview",children:"Overview"}),s.jsx(Rn,{value:"metrics",children:"Metrics"}),s.jsx(Rn,{value:"pricing",children:"Pricing"}),s.jsx(Rn,{value:"settings",children:"Settings"})]}),s.jsx(In,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(ve,{children:[s.jsx(Ee,{children:s.jsx(Se,{className:"text-lg",children:"Content Information"})}),s.jsxs(be,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"Title"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v.title})]}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v.description})]}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"Brand"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v.brandName})]}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"Category"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v.category})]}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"Target Audience"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v.targetAudience})]}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:v.tags.map(R=>s.jsx(Ge,{variant:"secondary",className:"text-xs",children:R},R))})]})]})]}),s.jsxs(ve,{children:[s.jsx(Ee,{children:s.jsx(Se,{className:"text-lg",children:"Technical Details"})}),s.jsxs(be,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"Type"}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:v.type})]}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"Duration"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.duration," ",v.type==="challenge"?"days":"minutes"]})]}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"File Size"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:$(v.fileSize)})]}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"File Type"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v.fileType})]}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"Status"}),s.jsx("div",{className:"mt-1",children:F(v.status)})]}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"Created"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E(v.createdDate)})]}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"Published"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E(v.publishedDate)})]})]})]})]})}),s.jsxs(In,{value:"metrics",className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Total Views"}),s.jsx(Vs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(be,{children:s.jsx("div",{className:"text-2xl font-bold",children:v.metrics.totalViews.toLocaleString()})})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Completions"}),s.jsx(Ft,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(be,{children:s.jsx("div",{className:"text-2xl font-bold",children:v.metrics.completions.toLocaleString()})})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Completion Rate"}),s.jsx(zc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(be,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[v.metrics.completionRate.toFixed(1),"%"]})})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Avg Rating"}),s.jsx(A8,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(be,{children:s.jsx("div",{className:"text-2xl font-bold",children:v.metrics.avgRating.toFixed(1)})})]})]}),s.jsxs(ve,{children:[s.jsx(Ee,{children:s.jsx(Se,{children:"Revenue Impact"})}),s.jsxs(be,{children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:N(v.metrics.totalRevenue)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total revenue attributed to this content piece"})]})]})]}),s.jsx(In,{value:"pricing",className:"space-y-4",children:s.jsxs(ve,{children:[s.jsx(Ee,{children:s.jsx(Se,{children:"Pricing Information"})}),s.jsxs(be,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"Content Type"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v.pricing.isAdditional?"Additional Content (Beyond Base Plan)":"Base Plan Content"})]}),v.pricing.isAdditional&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"Price Charged"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[N(v.pricing.priceCharged)," per ",v.pricing.billingCycle]})]}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"Billing Cycle"}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:v.pricing.billingCycle})]})]}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"Revenue Performance"}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Direct Revenue:"}),s.jsx("span",{className:"text-sm font-medium",children:N(v.metrics.totalRevenue)})]}),v.pricing.isAdditional&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Monthly Charge:"}),s.jsx("span",{className:"text-sm font-medium",children:N(v.pricing.priceCharged)})]})]})]})]})]})}),s.jsx(In,{value:"settings",className:"space-y-4",children:s.jsxs(ve,{children:[s.jsx(Ee,{children:s.jsx(Se,{children:"Content Settings"})}),s.jsxs(be,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"Visibility"}),s.jsxs(hn,{defaultValue:"published",children:[s.jsx(sn,{className:"w-full",children:s.jsx(fn,{})}),s.jsxs(rn,{children:[s.jsx(we,{value:"published",children:"Published"}),s.jsx(we,{value:"draft",children:"Draft"}),s.jsx(we,{value:"private",children:"Private"})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm font-medium",children:"Access Level"}),s.jsxs(hn,{defaultValue:"brand_users",children:[s.jsx(sn,{className:"w-full",children:s.jsx(fn,{})}),s.jsxs(rn,{children:[s.jsx(we,{value:"all_users",children:"All Users"}),s.jsx(we,{value:"brand_users",children:"Brand Users Only"}),s.jsx(we,{value:"premium_users",children:"Premium Users"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"featured",className:"rounded"}),s.jsx(ie,{htmlFor:"featured",className:"text-sm font-medium",children:"Featured Content"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"notifications",className:"rounded"}),s.jsx(ie,{htmlFor:"notifications",className:"text-sm font-medium",children:"Send Notifications on Publish"})]})]})]})})]})]})}),s.jsx(Zo,{open:j,onOpenChange:I,children:s.jsxs(za,{className:"max-w-2xl",children:[s.jsxs(Jo,{children:[s.jsx(Fa,{children:"Upload New Content"}),s.jsx(Ec,{children:"Add a new lesson or challenge to the content library"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"content-title",children:"Title"}),s.jsx(De,{id:"content-title",placeholder:"Enter content title"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"content-type",children:"Type"}),s.jsxs(hn,{children:[s.jsx(sn,{children:s.jsx(fn,{placeholder:"Select content type"})}),s.jsxs(rn,{children:[s.jsx(we,{value:"lesson",children:"Lesson"}),s.jsx(we,{value:"challenge",children:"Challenge"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"content-description",children:"Description"}),s.jsx(Za,{id:"content-description",placeholder:"Describe the content and learning objectives",rows:3})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"content-brand",children:"Brand"}),s.jsxs(hn,{children:[s.jsx(sn,{children:s.jsx(fn,{placeholder:"Select brand"})}),s.jsx(rn,{children:M.map(R=>s.jsx(we,{value:R.id,children:R.name},R.id))})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"content-category",children:"Category"}),s.jsxs(hn,{children:[s.jsx(sn,{children:s.jsx(fn,{placeholder:"Select category"})}),s.jsxs(rn,{children:[s.jsx(we,{value:"environmental",children:"Environmental"}),s.jsx(we,{value:"health",children:"Health & Wellness"}),s.jsx(we,{value:"technology",children:"Technology"}),s.jsx(we,{value:"lifestyle",children:"Lifestyle"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"content-file",children:"Content File"}),s.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx(bv,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("div",{className:"mt-2",children:s.jsx(Ae,{variant:"outline",children:"Choose File"})}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Upload video, PDF, or other content files"})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"content-tags",children:"Tags"}),s.jsx(De,{id:"content-tags",placeholder:"Enter tags separated by commas"})]})]}),s.jsxs(qp,{children:[s.jsx(Ae,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),s.jsx(Ae,{onClick:()=>I(!1),children:"Upload Content"})]})]})})]})}function NH(){const{canAccess:t}=Kr(),[e,n]=b.useState([{id:"1",type:"user_registration",title:"New User Registration",description:"Sarah Johnson registered as a new user",actor:{id:"user_123",name:"Sarah Johnson",email:"sarah.johnson@email.com",avatar:"/avatars/sarah.jpg",role:"user"},target:{type:"user",id:"user_123",name:"Sarah Johnson"},metadata:{userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",ipAddress:"192.168.1.100",location:"New York, NY"},timestamp:"2024-01-26T14:30:00Z",severity:"info",category:"user_management",status:"completed"},{id:"2",type:"content_upload",title:"Content Upload",description:'GreenLeaf Organics uploaded new lesson "Sustainable Living Basics"',actor:{id:"brand_1",name:"GreenLeaf Organics",email:"admin@greenleaf.com",avatar:"/avatars/greenleaf.jpg",role:"brand_admin"},target:{type:"content",id:"content_1",name:"Sustainable Living Basics"},metadata:{fileSize:"45.2 MB",fileType:"video/mp4",duration:"25 minutes",category:"Environmental"},timestamp:"2024-01-26T13:15:00Z",severity:"info",category:"content_management",status:"pending_approval"},{id:"3",type:"verification_submitted",title:"Verification Request",description:"EcoTech Solutions submitted verification documents",actor:{id:"brand_2",name:"EcoTech Solutions",email:"verify@ecotech.com",avatar:"/avatars/ecotech.jpg",role:"brand_admin"},target:{type:"verification",id:"verify_456",name:"Business License Verification"},metadata:{documentCount:3,documentTypes:["business_license","tax_id","insurance"],submissionMethod:"web_upload"},timestamp:"2024-01-26T12:45:00Z",severity:"warning",category:"verification",status:"pending_review"},{id:"4",type:"payment_received",title:"Payment Received",description:"Monthly payment received from GreenLeaf Organics",actor:{id:"system",name:"Payment System",email:"payments@engagenatural.com",avatar:"/avatars/system.jpg",role:"system"},target:{type:"payment",id:"payment_789",name:"Monthly Subscription - January 2024"},metadata:{amount:"$5,500.00",paymentMethod:"Credit Card",transactionId:"txn_abc123",brandId:"brand_1"},timestamp:"2024-01-26T11:30:00Z",severity:"success",category:"financial",status:"completed"},{id:"5",type:"security_alert",title:"Security Alert",description:"Multiple failed login attempts detected",actor:{id:"security_system",name:"Security Monitor",email:"security@engagenatural.com",avatar:"/avatars/security.jpg",role:"system"},target:{type:"security",id:"alert_001",name:"Failed Login Attempts"},metadata:{attemptCount:5,ipAddress:"203.0.113.42",targetAccount:"admin@greenleaf.com",timeWindow:"10 minutes"},timestamp:"2024-01-26T10:15:00Z",severity:"critical",category:"security",status:"investigating"},{id:"6",type:"brand_contract_signed",title:"Contract Signed",description:"Pure Beauty Co signed annual partnership contract",actor:{id:"brand_3",name:"Pure Beauty Co",email:"contracts@purebeauty.com",avatar:"/avatars/purebeauty.jpg",role:"brand_admin"},target:{type:"contract",id:"contract_456",name:"Annual Partnership Agreement 2024"},metadata:{contractValue:"$60,000",contractType:"yearly",startDate:"2024-02-01",endDate:"2025-01-31"},timestamp:"2024-01-26T09:45:00Z",severity:"success",category:"business",status:"completed"},{id:"7",type:"system_maintenance",title:"System Maintenance",description:"Scheduled database optimization completed",actor:{id:"system",name:"System Administrator",email:"admin@engagenatural.com",avatar:"/avatars/admin.jpg",role:"super_admin"},target:{type:"system",id:"maintenance_001",name:"Database Optimization"},metadata:{duration:"45 minutes",affectedServices:["content_delivery","user_analytics"],performanceImprovement:"15%"},timestamp:"2024-01-26T08:00:00Z",severity:"info",category:"system",status:"completed"},{id:"8",type:"content_approved",title:"Content Approved",description:'Lesson "Eco-Tech Innovation Workshop" approved for publication',actor:{id:"admin_1",name:"Admin User",email:"admin@engagenatural.com",avatar:"/avatars/admin.jpg",role:"super_admin"},target:{type:"content",id:"content_4",name:"Eco-Tech Innovation Workshop"},metadata:{reviewTime:"2 hours",approvalNotes:"High quality content, approved for immediate publication",brandId:"brand_2"},timestamp:"2024-01-26T07:30:00Z",severity:"success",category:"content_management",status:"completed"}]),[i,o]=b.useState(""),[l,u]=b.useState("all"),[h,m]=b.useState("all"),[p,y]=b.useState("24h"),[v,w]=b.useState(null),[A,T]=b.useState(!1),j={totalActivities:e.length,criticalAlerts:e.filter(N=>N.severity==="critical").length,pendingActions:e.filter(N=>N.status==="pending_review"||N.status==="pending_approval").length,recentUsers:e.filter(N=>N.type==="user_registration"&&I(N.timestamp,"24h")).length,revenueEvents:e.filter(N=>N.category==="financial").length,securityEvents:e.filter(N=>N.category==="security").length};function I(N,E){const P=new Date,U=new Date(N),B=(P-U)/(1e3*60*60);switch(E){case"1h":return B<=1;case"24h":return B<=24;case"7d":return B<=168;case"30d":return B<=720;default:return!0}}const M=e.filter(N=>{const E=N.title.toLowerCase().includes(i.toLowerCase())||N.description.toLowerCase().includes(i.toLowerCase())||N.actor.name.toLowerCase().includes(i.toLowerCase()),P=l==="all"||N.category===l,U=h==="all"||N.severity===h,B=p==="all"||I(N.timestamp,p);return E&&P&&U&&B}),L=N=>{switch(N){case"critical":return s.jsxs(Ge,{className:"bg-red-100 text-red-800 border-red-200",children:[s.jsx(Xf,{className:"w-3 h-3 mr-1"}),"Critical"]});case"warning":return s.jsxs(Ge,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[s.jsx(Xf,{className:"w-3 h-3 mr-1"}),"Warning"]});case"success":return s.jsxs(Ge,{className:"bg-green-100 text-green-800 border-green-200",children:[s.jsx(Ft,{className:"w-3 h-3 mr-1"}),"Success"]});case"info":return s.jsxs(Ge,{className:"bg-blue-100 text-blue-800 border-blue-200",children:[s.jsx(Dr,{className:"w-3 h-3 mr-1"}),"Info"]});default:return s.jsx(Ge,{variant:"secondary",children:N})}},V=N=>{switch(N){case"completed":return s.jsxs(Ge,{className:"bg-green-100 text-green-800 border-green-200",children:[s.jsx(Ft,{className:"w-3 h-3 mr-1"}),"Completed"]});case"pending_review":return s.jsxs(Ge,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[s.jsx(ka,{className:"w-3 h-3 mr-1"}),"Pending Review"]});case"pending_approval":return s.jsxs(Ge,{className:"bg-orange-100 text-orange-800 border-orange-200",children:[s.jsx(ka,{className:"w-3 h-3 mr-1"}),"Pending Approval"]});case"investigating":return s.jsxs(Ge,{className:"bg-red-100 text-red-800 border-red-200",children:[s.jsx(Ai,{className:"w-3 h-3 mr-1"}),"Investigating"]});default:return s.jsx(Ge,{variant:"secondary",children:N})}},F=N=>{switch(N){case"user_registration":return s.jsx(Ld,{className:"h-4 w-4"});case"content_upload":return s.jsx(bv,{className:"h-4 w-4"});case"verification_submitted":return s.jsx(Gm,{className:"h-4 w-4"});case"payment_received":return s.jsx(Ba,{className:"h-4 w-4"});case"security_alert":return s.jsx(Xf,{className:"h-4 w-4"});case"brand_contract_signed":return s.jsx(as,{className:"h-4 w-4"});case"system_maintenance":return s.jsx(oh,{className:"h-4 w-4"});case"content_approved":return s.jsx(Ft,{className:"h-4 w-4"});default:return s.jsx(Dr,{className:"h-4 w-4"})}},H=N=>{const E=new Date(N),U=Math.floor((new Date-E)/(1e3*60));return U<1?"Just now":U<60?`${U}m ago`:U<1440?`${Math.floor(U/60)}h ago`:E.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},$=(N,E)=>{console.log(`${N} activity:`,E)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Activity Feed"}),s.jsx("p",{className:"text-muted-foreground",children:"Real-time monitoring of system activities, user actions, and business events"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ae,{variant:"outline",children:[s.jsx(Pp,{className:"mr-2 h-4 w-4"}),"Notifications"]}),s.jsxs(Ae,{variant:"outline",children:[s.jsx(Y0,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-6",children:[s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Total Activities"}),s.jsx(Dr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:j.totalActivities}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 24 hours"})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Critical Alerts"}),s.jsx(Xf,{className:"h-4 w-4 text-red-500"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:j.criticalAlerts}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Require immediate attention"})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Pending Actions"}),s.jsx(ka,{className:"h-4 w-4 text-yellow-500"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:j.pendingActions}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting review/approval"})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"New Users"}),s.jsx(ir,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:j.recentUsers}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered today"})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Revenue Events"}),s.jsx(Ba,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:j.revenueEvents}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Payment activities"})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Se,{className:"text-sm font-medium",children:"Security Events"}),s.jsx(Gm,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:j.securityEvents}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Security-related activities"})]})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsx(Se,{children:"Recent Activities"}),s.jsx(Rt,{children:"Monitor all system activities, user actions, and business events in real-time"})]}),s.jsxs(be,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ai,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(De,{placeholder:"Search activities by title, description, or actor...",value:i,onChange:N=>o(N.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(hn,{value:l,onValueChange:u,children:[s.jsx(sn,{className:"w-40",children:s.jsx(fn,{placeholder:"Category"})}),s.jsxs(rn,{children:[s.jsx(we,{value:"all",children:"All Categories"}),s.jsx(we,{value:"user_management",children:"User Management"}),s.jsx(we,{value:"content_management",children:"Content"}),s.jsx(we,{value:"verification",children:"Verification"}),s.jsx(we,{value:"financial",children:"Financial"}),s.jsx(we,{value:"security",children:"Security"}),s.jsx(we,{value:"business",children:"Business"}),s.jsx(we,{value:"system",children:"System"})]})]}),s.jsxs(hn,{value:h,onValueChange:m,children:[s.jsx(sn,{className:"w-32",children:s.jsx(fn,{placeholder:"Severity"})}),s.jsxs(rn,{children:[s.jsx(we,{value:"all",children:"All Levels"}),s.jsx(we,{value:"critical",children:"Critical"}),s.jsx(we,{value:"warning",children:"Warning"}),s.jsx(we,{value:"success",children:"Success"}),s.jsx(we,{value:"info",children:"Info"})]})]}),s.jsxs(hn,{value:p,onValueChange:y,children:[s.jsx(sn,{className:"w-32",children:s.jsx(fn,{placeholder:"Time Range"})}),s.jsxs(rn,{children:[s.jsx(we,{value:"1h",children:"Last Hour"}),s.jsx(we,{value:"24h",children:"Last 24h"}),s.jsx(we,{value:"7d",children:"Last 7 Days"}),s.jsx(we,{value:"30d",children:"Last 30 Days"}),s.jsx(we,{value:"all",children:"All Time"})]})]})]})]}),s.jsx("div",{className:"space-y-4",children:M.map(N=>s.jsxs("div",{className:"flex items-start space-x-4 p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-100 flex items-center justify-center",children:F(N.type)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:N.title}),L(N.severity),V(N.status)]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:H(N.timestamp)}),s.jsxs(Js,{children:[s.jsx(er,{asChild:!0,children:s.jsxs(Ae,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(ih,{className:"h-4 w-4"})]})}),s.jsxs(Bs,{align:"end",children:[s.jsx($a,{children:"Actions"}),s.jsxs(Ke,{onClick:()=>{w(N),T(!0)},children:[s.jsx(Vs,{className:"mr-2 h-4 w-4"}),"View Details"]}),t(["manage_all_users","approve_verifications"])&&s.jsxs(s.Fragment,{children:[s.jsx(Ci,{}),s.jsxs(Ke,{onClick:()=>$("investigate",N.id),children:[s.jsx(Ai,{className:"mr-2 h-4 w-4"}),"Investigate"]}),s.jsxs(Ke,{onClick:()=>$("resolve",N.id),children:[s.jsx(Ft,{className:"mr-2 h-4 w-4"}),"Mark Resolved"]})]})]})]})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.description}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(vd,{className:"h-6 w-6",children:[s.jsx(Nv,{src:N.actor.avatar,alt:N.actor.name}),s.jsx(bd,{children:N.actor.name.charAt(0)})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:N.actor.name})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:N.category.replace("_"," ").toUpperCase()}),N.target&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["→ ",N.target.name]})]})]})]},N.id))}),M.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Dr,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No activities found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]})]})]}),s.jsx(Zo,{open:A,onOpenChange:T,children:s.jsxs(za,{className:"max-w-2xl",children:[s.jsxs(Jo,{children:[s.jsxs(Fa,{className:"flex items-center gap-2",children:[v&&F(v.type),v==null?void 0:v.title]}),s.jsx(Ec,{children:"Detailed information about this activity"})]}),v&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Activity Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Type:"})," ",v.type.replace("_"," ")]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Category:"})," ",v.category.replace("_"," ")]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Timestamp:"})," ",new Date(v.timestamp).toLocaleString()]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Severity:"})," ",L(v.severity)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Status:"})," ",V(v.status)]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Actor Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(vd,{className:"h-8 w-8",children:[s.jsx(Nv,{src:v.actor.avatar,alt:v.actor.name}),s.jsx(bd,{children:v.actor.name.charAt(0)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:v.actor.name}),s.jsx("div",{className:"text-muted-foreground",children:v.actor.email})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Role:"})," ",v.actor.role.replace("_"," ")]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v.description})]}),v.target&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Target"}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Type:"})," ",v.target.type]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Name:"})," ",v.target.name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"ID:"})," ",v.target.id]})]})]}),v.metadata&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Additional Details"}),s.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:s.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:JSON.stringify(v.metadata,null,2)})})]})]})]})})]})}function EH(){const{canAccess:t}=Kr(),[e,n]=b.useState({general:{siteName:"EngageNatural",siteDescription:"Connecting brands with engaged communities through authentic partnerships",siteUrl:"https://engagenatural.com",adminEmail:"admin@engagenatural.com",supportEmail:"support@engagenatural.com",timezone:"America/New_York",language:"en",maintenanceMode:!1,registrationEnabled:!0,emailVerificationRequired:!0},security:{passwordMinLength:8,passwordRequireSpecialChars:!0,passwordRequireNumbers:!0,passwordRequireUppercase:!0,sessionTimeout:24,maxLoginAttempts:5,lockoutDuration:30,twoFactorRequired:!1,ipWhitelist:[],allowedDomains:["engagenatural.com"],encryptionEnabled:!0,auditLogging:!0},notifications:{emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,adminAlerts:!0,userWelcomeEmails:!0,paymentNotifications:!0,securityAlerts:!0,maintenanceNotifications:!0,marketingEmails:!1,weeklyReports:!0},payments:{currency:"USD",taxRate:8.5,processingFee:2.9,monthlyPlanPrice:5e3,yearlyPlanPrice:5e4,additionalLessonPrice:1e5,trialPeriodDays:14,gracePeriodDays:7,autoRenewal:!0,prorationEnabled:!0,refundPolicy:"partial"},content:{maxFileSize:100,allowedFileTypes:["mp4","pdf","jpg","png","docx"],autoApproval:!1,contentModeration:!0,backupFrequency:"daily",storageLimit:1e3,cdnEnabled:!0,compressionEnabled:!0,watermarkEnabled:!1},integrations:{googleAnalytics:{enabled:!0,trackingId:"GA-XXXXXXXXX",enhancedEcommerce:!0},stripe:{enabled:!0,publicKey:"pk_test_...",webhookSecret:"whsec_..."},sendgrid:{enabled:!0,apiKey:"SG.XXXXXXXXX",fromEmail:"noreply@engagenatural.com"},firebase:{enabled:!0,projectId:"engagenatural-prod",authDomain:"engagenatural-prod.firebaseapp.com"},slack:{enabled:!1,webhookUrl:"",channel:"#admin-alerts"}}}),[i,o]=b.useState("general"),[l,u]=b.useState(!1),[h,m]=b.useState(!1),[p,y]=b.useState(!1),v=(j,I,M)=>{n(L=>({...L,[j]:{...L[j],[I]:M}})),u(!0)},w=(j,I,M,L)=>{n(V=>({...V,[j]:{...V[j],[I]:{...V[j][I],[M]:L}}})),u(!0)},A=async()=>{m(!0);try{await new Promise(j=>setTimeout(j,1e3)),u(!1),console.log("Settings saved:",e)}catch(j){console.error("Error saving settings:",j)}finally{m(!1)}},T=()=>{u(!1),console.log("Settings reset to defaults")};return t(["manage_system_settings"])?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"System Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure platform settings, security, integrations, and system preferences"})]}),s.jsxs("div",{className:"flex gap-2",children:[l&&s.jsx(Ge,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Unsaved Changes"}),s.jsxs(Ae,{variant:"outline",onClick:T,children:[s.jsx(b8,{className:"mr-2 h-4 w-4"}),"Reset"]}),s.jsxs(Ae,{onClick:A,disabled:h||!l,children:[s.jsx(gA,{className:"mr-2 h-4 w-4"}),h?"Saving...":"Save Changes"]})]})]}),s.jsxs(Vd,{value:i,onValueChange:o,className:"space-y-4",children:[s.jsxs(ch,{className:"grid w-full grid-cols-6",children:[s.jsx(Rn,{value:"general",children:"General"}),s.jsx(Rn,{value:"security",children:"Security"}),s.jsx(Rn,{value:"notifications",children:"Notifications"}),s.jsx(Rn,{value:"payments",children:"Payments"}),s.jsx(Rn,{value:"content",children:"Content"}),s.jsx(Rn,{value:"integrations",children:"Integrations"})]}),s.jsx(In,{value:"general",className:"space-y-4",children:s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(X0,{className:"h-5 w-5"}),"Site Configuration"]}),s.jsx(Rt,{children:"Basic site information and global settings"})]}),s.jsxs(be,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"siteName",children:"Site Name"}),s.jsx(De,{id:"siteName",value:e.general.siteName,onChange:j=>v("general","siteName",j.target.value)})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"siteUrl",children:"Site URL"}),s.jsx(De,{id:"siteUrl",value:e.general.siteUrl,onChange:j=>v("general","siteUrl",j.target.value)})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"siteDescription",children:"Site Description"}),s.jsx(Za,{id:"siteDescription",value:e.general.siteDescription,onChange:j=>v("general","siteDescription",j.target.value),rows:3})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"adminEmail",children:"Admin Email"}),s.jsx(De,{id:"adminEmail",type:"email",value:e.general.adminEmail,onChange:j=>v("general","adminEmail",j.target.value)})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"supportEmail",children:"Support Email"}),s.jsx(De,{id:"supportEmail",type:"email",value:e.general.supportEmail,onChange:j=>v("general","supportEmail",j.target.value)})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"timezone",children:"Timezone"}),s.jsxs(hn,{value:e.general.timezone,onValueChange:j=>v("general","timezone",j),children:[s.jsx(sn,{children:s.jsx(fn,{})}),s.jsxs(rn,{children:[s.jsx(we,{value:"America/New_York",children:"Eastern Time"}),s.jsx(we,{value:"America/Chicago",children:"Central Time"}),s.jsx(we,{value:"America/Denver",children:"Mountain Time"}),s.jsx(we,{value:"America/Los_Angeles",children:"Pacific Time"}),s.jsx(we,{value:"UTC",children:"UTC"})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"language",children:"Default Language"}),s.jsxs(hn,{value:e.general.language,onValueChange:j=>v("general","language",j),children:[s.jsx(sn,{children:s.jsx(fn,{})}),s.jsxs(rn,{children:[s.jsx(we,{value:"en",children:"English"}),s.jsx(we,{value:"es",children:"Spanish"}),s.jsx(we,{value:"fr",children:"French"}),s.jsx(we,{value:"de",children:"German"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"maintenanceMode",children:"Maintenance Mode"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Temporarily disable public access to the site"})]}),s.jsx(pt,{id:"maintenanceMode",checked:e.general.maintenanceMode,onCheckedChange:j=>v("general","maintenanceMode",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"registrationEnabled",children:"User Registration"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow new users to register accounts"})]}),s.jsx(pt,{id:"registrationEnabled",checked:e.general.registrationEnabled,onCheckedChange:j=>v("general","registrationEnabled",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"emailVerificationRequired",children:"Email Verification"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Require email verification for new accounts"})]}),s.jsx(pt,{id:"emailVerificationRequired",checked:e.general.emailVerificationRequired,onCheckedChange:j=>v("general","emailVerificationRequired",j)})]})]})]})]})}),s.jsx(In,{value:"security",className:"space-y-4",children:s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(Gm,{className:"h-5 w-5"}),"Security Configuration"]}),s.jsx(Rt,{children:"Password policies, session management, and security features"})]}),s.jsxs(be,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"passwordMinLength",children:"Minimum Password Length"}),s.jsx(De,{id:"passwordMinLength",type:"number",min:"6",max:"32",value:e.security.passwordMinLength,onChange:j=>v("security","passwordMinLength",parseInt(j.target.value))})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"sessionTimeout",children:"Session Timeout (hours)"}),s.jsx(De,{id:"sessionTimeout",type:"number",min:"1",max:"168",value:e.security.sessionTimeout,onChange:j=>v("security","sessionTimeout",parseInt(j.target.value))})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"maxLoginAttempts",children:"Max Login Attempts"}),s.jsx(De,{id:"maxLoginAttempts",type:"number",min:"3",max:"10",value:e.security.maxLoginAttempts,onChange:j=>v("security","maxLoginAttempts",parseInt(j.target.value))})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"lockoutDuration",children:"Lockout Duration (minutes)"}),s.jsx(De,{id:"lockoutDuration",type:"number",min:"5",max:"1440",value:e.security.lockoutDuration,onChange:j=>v("security","lockoutDuration",parseInt(j.target.value))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"passwordRequireSpecialChars",children:"Require Special Characters"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Passwords must contain special characters"})]}),s.jsx(pt,{id:"passwordRequireSpecialChars",checked:e.security.passwordRequireSpecialChars,onCheckedChange:j=>v("security","passwordRequireSpecialChars",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"passwordRequireNumbers",children:"Require Numbers"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Passwords must contain numbers"})]}),s.jsx(pt,{id:"passwordRequireNumbers",checked:e.security.passwordRequireNumbers,onCheckedChange:j=>v("security","passwordRequireNumbers",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"passwordRequireUppercase",children:"Require Uppercase"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Passwords must contain uppercase letters"})]}),s.jsx(pt,{id:"passwordRequireUppercase",checked:e.security.passwordRequireUppercase,onCheckedChange:j=>v("security","passwordRequireUppercase",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"twoFactorRequired",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Require 2FA for all admin accounts"})]}),s.jsx(pt,{id:"twoFactorRequired",checked:e.security.twoFactorRequired,onCheckedChange:j=>v("security","twoFactorRequired",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"auditLogging",children:"Audit Logging"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Log all admin actions and security events"})]}),s.jsx(pt,{id:"auditLogging",checked:e.security.auditLogging,onCheckedChange:j=>v("security","auditLogging",j)})]})]})]})]})}),s.jsx(In,{value:"notifications",className:"space-y-4",children:s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(Pp,{className:"h-5 w-5"}),"Notification Preferences"]}),s.jsx(Rt,{children:"Configure email, SMS, and push notification settings"})]}),s.jsx(be,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"emailNotifications",children:"Email Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications via email"})]}),s.jsx(pt,{id:"emailNotifications",checked:e.notifications.emailNotifications,onCheckedChange:j=>v("notifications","emailNotifications",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"smsNotifications",children:"SMS Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications via SMS"})]}),s.jsx(pt,{id:"smsNotifications",checked:e.notifications.smsNotifications,onCheckedChange:j=>v("notifications","smsNotifications",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"pushNotifications",children:"Push Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Send browser push notifications"})]}),s.jsx(pt,{id:"pushNotifications",checked:e.notifications.pushNotifications,onCheckedChange:j=>v("notifications","pushNotifications",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"adminAlerts",children:"Admin Alerts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Critical system alerts for administrators"})]}),s.jsx(pt,{id:"adminAlerts",checked:e.notifications.adminAlerts,onCheckedChange:j=>v("notifications","adminAlerts",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"userWelcomeEmails",children:"Welcome Emails"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Send welcome emails to new users"})]}),s.jsx(pt,{id:"userWelcomeEmails",checked:e.notifications.userWelcomeEmails,onCheckedChange:j=>v("notifications","userWelcomeEmails",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"paymentNotifications",children:"Payment Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notify about payment events"})]}),s.jsx(pt,{id:"paymentNotifications",checked:e.notifications.paymentNotifications,onCheckedChange:j=>v("notifications","paymentNotifications",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"securityAlerts",children:"Security Alerts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notify about security events"})]}),s.jsx(pt,{id:"securityAlerts",checked:e.notifications.securityAlerts,onCheckedChange:j=>v("notifications","securityAlerts",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"weeklyReports",children:"Weekly Reports"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Send weekly analytics reports"})]}),s.jsx(pt,{id:"weeklyReports",checked:e.notifications.weeklyReports,onCheckedChange:j=>v("notifications","weeklyReports",j)})]})]})})]})}),s.jsx(In,{value:"payments",className:"space-y-4",children:s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(Ba,{className:"h-5 w-5"}),"Payment Configuration"]}),s.jsx(Rt,{children:"Pricing, billing, and payment processing settings"})]}),s.jsxs(be,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"currency",children:"Currency"}),s.jsxs(hn,{value:e.payments.currency,onValueChange:j=>v("payments","currency",j),children:[s.jsx(sn,{children:s.jsx(fn,{})}),s.jsxs(rn,{children:[s.jsx(we,{value:"USD",children:"USD - US Dollar"}),s.jsx(we,{value:"EUR",children:"EUR - Euro"}),s.jsx(we,{value:"GBP",children:"GBP - British Pound"}),s.jsx(we,{value:"CAD",children:"CAD - Canadian Dollar"})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"taxRate",children:"Tax Rate (%)"}),s.jsx(De,{id:"taxRate",type:"number",step:"0.1",min:"0",max:"50",value:e.payments.taxRate,onChange:j=>v("payments","taxRate",parseFloat(j.target.value))})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"monthlyPlanPrice",children:"Monthly Plan Price ($)"}),s.jsx(De,{id:"monthlyPlanPrice",type:"number",min:"0",value:e.payments.monthlyPlanPrice/100,onChange:j=>v("payments","monthlyPlanPrice",parseInt(j.target.value)*100)})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"yearlyPlanPrice",children:"Yearly Plan Price ($)"}),s.jsx(De,{id:"yearlyPlanPrice",type:"number",min:"0",value:e.payments.yearlyPlanPrice/100,onChange:j=>v("payments","yearlyPlanPrice",parseInt(j.target.value)*100)})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"additionalLessonPrice",children:"Additional Lesson Price ($)"}),s.jsx(De,{id:"additionalLessonPrice",type:"number",min:"0",value:e.payments.additionalLessonPrice/100,onChange:j=>v("payments","additionalLessonPrice",parseInt(j.target.value)*100)})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"trialPeriodDays",children:"Trial Period (days)"}),s.jsx(De,{id:"trialPeriodDays",type:"number",min:"0",max:"90",value:e.payments.trialPeriodDays,onChange:j=>v("payments","trialPeriodDays",parseInt(j.target.value))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"autoRenewal",children:"Auto Renewal"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically renew subscriptions"})]}),s.jsx(pt,{id:"autoRenewal",checked:e.payments.autoRenewal,onCheckedChange:j=>v("payments","autoRenewal",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"prorationEnabled",children:"Proration"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Prorate charges for plan changes"})]}),s.jsx(pt,{id:"prorationEnabled",checked:e.payments.prorationEnabled,onCheckedChange:j=>v("payments","prorationEnabled",j)})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"refundPolicy",children:"Refund Policy"}),s.jsxs(hn,{value:e.payments.refundPolicy,onValueChange:j=>v("payments","refundPolicy",j),children:[s.jsx(sn,{children:s.jsx(fn,{})}),s.jsxs(rn,{children:[s.jsx(we,{value:"full",children:"Full Refund"}),s.jsx(we,{value:"partial",children:"Partial Refund"}),s.jsx(we,{value:"none",children:"No Refunds"})]})]})]})]})]})}),s.jsx(In,{value:"content",className:"space-y-4",children:s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(zo,{className:"h-5 w-5"}),"Content Management"]}),s.jsx(Rt,{children:"File upload limits, content moderation, and storage settings"})]}),s.jsxs(be,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"maxFileSize",children:"Max File Size (MB)"}),s.jsx(De,{id:"maxFileSize",type:"number",min:"1",max:"1000",value:e.content.maxFileSize,onChange:j=>v("content","maxFileSize",parseInt(j.target.value))})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"storageLimit",children:"Storage Limit (GB)"}),s.jsx(De,{id:"storageLimit",type:"number",min:"10",max:"10000",value:e.content.storageLimit,onChange:j=>v("content","storageLimit",parseInt(j.target.value))})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"allowedFileTypes",children:"Allowed File Types"}),s.jsx(De,{id:"allowedFileTypes",value:e.content.allowedFileTypes.join(", "),onChange:j=>v("content","allowedFileTypes",j.target.value.split(", ")),placeholder:"mp4, pdf, jpg, png, docx"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Separate file extensions with commas"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"backupFrequency",children:"Backup Frequency"}),s.jsxs(hn,{value:e.content.backupFrequency,onValueChange:j=>v("content","backupFrequency",j),children:[s.jsx(sn,{children:s.jsx(fn,{})}),s.jsxs(rn,{children:[s.jsx(we,{value:"hourly",children:"Hourly"}),s.jsx(we,{value:"daily",children:"Daily"}),s.jsx(we,{value:"weekly",children:"Weekly"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"autoApproval",children:"Auto Approval"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically approve uploaded content"})]}),s.jsx(pt,{id:"autoApproval",checked:e.content.autoApproval,onCheckedChange:j=>v("content","autoApproval",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"contentModeration",children:"Content Moderation"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable automated content moderation"})]}),s.jsx(pt,{id:"contentModeration",checked:e.content.contentModeration,onCheckedChange:j=>v("content","contentModeration",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"cdnEnabled",children:"CDN Enabled"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Use content delivery network for faster loading"})]}),s.jsx(pt,{id:"cdnEnabled",checked:e.content.cdnEnabled,onCheckedChange:j=>v("content","cdnEnabled",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"compressionEnabled",children:"Compression"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically compress uploaded files"})]}),s.jsx(pt,{id:"compressionEnabled",checked:e.content.compressionEnabled,onCheckedChange:j=>v("content","compressionEnabled",j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"watermarkEnabled",children:"Watermark"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add watermark to uploaded images"})]}),s.jsx(pt,{id:"watermarkEnabled",checked:e.content.watermarkEnabled,onCheckedChange:j=>v("content","watermarkEnabled",j)})]})]})]})]})}),s.jsx(In,{value:"integrations",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(zc,{className:"h-5 w-5"}),"Google Analytics"]}),s.jsx(Rt,{children:"Configure Google Analytics tracking"})]}),s.jsxs(be,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"gaEnabled",children:"Enable Google Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Track website analytics"})]}),s.jsx(pt,{id:"gaEnabled",checked:e.integrations.googleAnalytics.enabled,onCheckedChange:j=>w("integrations","googleAnalytics","enabled",j)})]}),e.integrations.googleAnalytics.enabled&&s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"gaTrackingId",children:"Tracking ID"}),s.jsx(De,{id:"gaTrackingId",value:e.integrations.googleAnalytics.trackingId,onChange:j=>w("integrations","googleAnalytics","trackingId",j.target.value),placeholder:"GA-XXXXXXXXX"})]})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(Ba,{className:"h-5 w-5"}),"Stripe Payment Processing"]}),s.jsx(Rt,{children:"Configure Stripe for payment processing"})]}),s.jsxs(be,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"stripeEnabled",children:"Enable Stripe"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Process payments through Stripe"})]}),s.jsx(pt,{id:"stripeEnabled",checked:e.integrations.stripe.enabled,onCheckedChange:j=>w("integrations","stripe","enabled",j)})]}),e.integrations.stripe.enabled&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"stripePublicKey",children:"Public Key"}),s.jsxs("div",{className:"relative",children:[s.jsx(De,{id:"stripePublicKey",type:p?"text":"password",value:e.integrations.stripe.publicKey,onChange:j=>w("integrations","stripe","publicKey",j.target.value),placeholder:"pk_test_..."}),s.jsx(Ae,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>y(!p),children:p?s.jsx(qm,{className:"h-4 w-4"}):s.jsx(Vs,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"stripeWebhookSecret",children:"Webhook Secret"}),s.jsx(De,{id:"stripeWebhookSecret",type:p?"text":"password",value:e.integrations.stripe.webhookSecret,onChange:j=>w("integrations","stripe","webhookSecret",j.target.value),placeholder:"whsec_..."})]})]})]})]}),s.jsxs(ve,{children:[s.jsxs(Ee,{children:[s.jsxs(Se,{className:"flex items-center gap-2",children:[s.jsx(Ja,{className:"h-5 w-5"}),"SendGrid Email Service"]}),s.jsx(Rt,{children:"Configure SendGrid for email delivery"})]}),s.jsxs(be,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"sendgridEnabled",children:"Enable SendGrid"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Send emails through SendGrid"})]}),s.jsx(pt,{id:"sendgridEnabled",checked:e.integrations.sendgrid.enabled,onCheckedChange:j=>w("integrations","sendgrid","enabled",j)})]}),e.integrations.sendgrid.enabled&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"sendgridApiKey",children:"API Key"}),s.jsx(De,{id:"sendgridApiKey",type:p?"text":"password",value:e.integrations.sendgrid.apiKey,onChange:j=>w("integrations","sendgrid","apiKey",j.target.value),placeholder:"SG.XXXXXXXXX"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"sendgridFromEmail",children:"From Email"}),s.jsx(De,{id:"sendgridFromEmail",type:"email",value:e.integrations.sendgrid.fromEmail,onChange:j=>w("integrations","sendgrid","fromEmail",j.target.value),placeholder:"noreply@engagenatural.com"})]})]})]})]})]})})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Hm,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"Access Restricted"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You don't have permission to access system settings."})]})})}function SH(){const[t,e]=b.useState(null),[n,i]=b.useState(!0),[o,l]=b.useState(!1);return b.useEffect(()=>{const u=A2(rs,async h=>{e(h),l(h?["admin@engagenatural.com","liza@engagenatural.com"].includes(h.email):!1),i(!1)});return()=>u()},[]),n?s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-body",children:"Loading EngageNatural..."})]})}):s.jsx(nU,{children:s.jsxs(_D,{children:[s.jsx(WB,{})," ",s.jsx("div",{className:"min-h-screen bg-white",children:s.jsxs(Jj,{children:[s.jsx(Ct,{path:"/",element:s.jsx(kB,{})}),s.jsx(Ct,{path:"/community/:communityId",element:s.jsx(KB,{})}),s.jsx(Ct,{path:"/brands",element:s.jsx(DB,{})}),s.jsx(Ct,{path:"/retailer/profile",element:t?s.jsx(GB,{}):s.jsx(rc,{to:"/",replace:!0})}),s.jsx(Ct,{path:"/admin/login",element:t&&o?s.jsx(rc,{to:"/admin",replace:!0}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsx(YB,{})})}),s.jsx(Ct,{path:"/admin/forgot-password",element:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsx(XB,{})})}),s.jsx(Ct,{path:"/admin/signup",element:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsx(OF,{})})}),s.jsx(Ct,{path:"/admin/dashboard",element:s.jsx(rc,{to:"/admin",replace:!0})}),s.jsx(Ct,{path:"/brand/:brandId",element:s.jsx(G8,{})}),s.jsx(Ct,{path:"/brand/:brandId/menu",element:s.jsx(K8,{})}),s.jsx(Ct,{path:"/brand/:brandId/upload",element:s.jsx(OT,{})}),s.jsx(Ct,{path:"/brand/:brandId/dashboard",element:s.jsx(pv,{})}),s.jsx(Ct,{path:"/brand/:brandId/challenges",element:s.jsx(VT,{})}),s.jsx(Ct,{path:"/brand/:brandId/configuration",element:s.jsx(yA,{})}),s.jsx(Ct,{path:"/admin/*",element:s.jsx(oH,{children:s.jsxs(Jj,{children:[s.jsx(Ct,{index:!0,element:s.jsx(gH,{})}),s.jsx(Ct,{path:"legacy",element:s.jsx($B,{})}),s.jsx(Ct,{path:"users",element:s.jsx(bH,{})}),s.jsx(Ct,{path:"verifications",element:s.jsx(vH,{})}),s.jsx(Ct,{path:"brands",element:s.jsx(_H,{})}),s.jsx(Ct,{path:"analytics",element:s.jsx(wH,{})}),s.jsx(Ct,{path:"content",element:s.jsx(jH,{})}),s.jsx(Ct,{path:"products",element:s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Product Distribution"}),s.jsx("p",{className:"text-muted-foreground",children:"Coming soon..."})]})}),s.jsx(Ct,{path:"activity",element:s.jsx(NH,{})}),s.jsx(Ct,{path:"settings",element:s.jsx(EH,{})}),s.jsx(Ct,{path:"*",element:s.jsx(rc,{to:"/admin",replace:!0})})]})})}),s.jsx(Ct,{path:"*",element:s.jsx(rc,{to:"/",replace:!0})})]})})]})})}ok.createRoot(document.getElementById("root")).render(s.jsx(b.StrictMode,{children:s.jsx(SH,{})}));
