/* Community Desktop Shell Styles (scoped) */

:root {
  --en-header-h: 64px; /* header height */
  --en-left-w: 280px; /* left nav width */
  --en-right-w: 300px; /* right rail width */
}

.en-cd-shell {
  position: relative;
  background: var(--en-bg, #f5f7f9);
}

/* Fixed header */
.en-cd-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--en-header-h);
  background: #fff;
  border-bottom: 1px solid #e5e7eb;
  z-index: 100; /* ensure above feed */
}
.en-cd-header-inner {
  height: 100%;
  display: flex;
  align-items: center;
  padding: 0 16px;
}
.en-cd-header-title {
  font-size: 18px;
  font-weight: 600;
  color: #1f2937;
}

/* Fixed left nav */
.en-cd-left {
  position: fixed;
  top: var(--en-header-h);
  left: 0;
  width: var(--en-left-w);
  height: calc(100vh - var(--en-header-h));
  overflow-y: auto;
  overscroll-behavior: contain; /* prevent scroll chaining */
  background: #fff;
  border-right: 1px solid #e5e7eb;
  z-index: 40;
}
.en-cd-left-inner {
  padding: 12px 12px 16px;
}
.en-cd-left-title {
  font-size: 12px;
  color: #6b7280;
  margin-bottom: 8px;
  text-transform: uppercase;
}
.en-cd-left-menu {
  list-style: none;
  padding: 0;
  margin: 0;
}
.en-cd-left-menu li {
  color: #374151;
}

/* Left nav links – 44px targets, sticky focus styles, active highlight */
.en-cd-left-link {
  display: flex;
  align-items: center;
  min-height: 44px;
  padding: 0 10px;
  border-radius: 8px;
  color: inherit;
  text-decoration: none;
}
.en-cd-left-link:hover {
  background: #f3f4f6;
}
.en-cd-left-link:focus-visible {
  outline: 2px solid #14532d; /* deep moss */
  outline-offset: 2px;
  background: #f3f4f6; /* sticky/visible focus */
}
.en-cd-left-link.is-active,
.en-cd-left-link[aria-current="page"] {
  background: #eef2ff;
  color: #111827;
  font-weight: 600;
}

/* Center scroller */
.en-cd-center {
  position: fixed;
  top: var(--en-header-h);
  left: var(--en-left-w);
  right: 0;
  height: calc(100vh - var(--en-header-h));
  overflow-y: auto; /* only center scrolls */
  overscroll-behavior: contain; /* prevent body scroll on wheel */
}

/* Center width – fluid between 680px and 760px, centered */
.en-cd-center-inner {
  width: clamp(680px, 58vw, 760px);
  margin: 0 auto;
  padding: 16px;
}

/* Right rail placeholder (only shows when >=1280px) */
.en-cd-right {
  position: fixed;
  top: var(--en-header-h);
  right: 0;
  width: var(--en-right-w);
  height: calc(100vh - var(--en-header-h));
  overflow: hidden;
  background: #fff;
  border-left: 1px solid #e5e7eb;
}
.en-cd-right-inner {
  padding: 12px 12px 16px;
}
.en-cd-right-title {
  font-size: 12px;
  color: #6b7280;
  margin-bottom: 8px;
  text-transform: uppercase;
}
.en-cd-right-placeholder {
  font-size: 13px;
  color: #9ca3af;
}

/* When viewport is >=1280px, center should not underlap right rail
   We keep center width constrained, so just add padding to avoid overlap */
@media (min-width: 1280px) {
  .en-cd-center {
    right: var(--en-right-w);
  }
}

/* Below 1280px collapse the right rail automatically by not rendering it */

/* --- Desktop shell overrides for inner community layout --- */
/* Force single-column cards inside the desktop shell center, regardless of community.css breakpoints */
.en-cd-center-inner .community-cards {
  grid-template-columns: 1fr !important;
}

/* Prevent the inner page from creating its own two-column grid */
.en-cd-center-inner .community-grid {
  display: block !important;
}

/* Hide inner desktop-only sidebar; the shell provides left rail navigation */
.en-cd-center-inner .only-desktop {
  display: none !important;
}
